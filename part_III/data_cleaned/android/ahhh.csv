,Comment
0,video tegra set border color to black on nid  erik gil
1,arm add generic fiq serial debuggernid  iliyan malchev  arve hjønnevåg
2,arm fiq debugger add tty to fiq debuggernid  colin cross
3,arm tegra cpuidle fix fiqs during idlenid  colin cross
4,fs partitions add partition name to ueventnid  colin cross
5,fix section mismatch warningnnnedoffby dmitry shmidt
6,systemcore dsds start two ril daemonsnid
7,video tegra force blend update on enabledisable not suspendresumenid  erik gil
8,remove unnecessary java version  is enforced by the build system nownid
9,merge commit  of  into timercleanupn
10,permanent fix for workaround of timer issue commit  compiler generated incorrect instructions when loading timersnbecause  was used before it was declared this causednthe compiler to assume that a normal  bit int would be returnednrather than a  bit one just including the hwhwh header isnsufficient to correct thisnnthe makefile for the project has recently been changed to build withnwall which should prevent this from going unnoticed againnid
11,fix an issue where src files can be deleted in adtnnolder projects generated the java class r aidl intonthe main src foldernnthere is code in adt to migrate them to the new modelnwhere generated classes go in gen by removing derivednresources from the source folder this is also usednby the clean feature of the precompiler buildernto clean the content of gennnto make it better in adt  we added something tondelete the folder containing the derived resourcesnexcept this  check if the folder is not emptynafter the derived resources have been deleted ornnot if it contained nonderived resourcesnnthis means importing older projects or possiblynteam projects see  delete the whole content of the source foldernnthis change makes sure that only folders for whichnall members have been deleted are deletednid
12,enforce  build environmentnnwe will only support  build environment beyond  nid
13,refresh the layoutlibcreate docnid
14,indication of mobile network information  technical descriptionnnwhen viewing available plmns public land mobile network the currentnimplementation does not display the network technology  nor doesnit allow selecting a specific plmn in automatic modennthis contribution willnn display  network informationnn separate search mode automatic manual from network searchnn allow selecting a specific network in automatic mode which mightnbe later on unselected by the network in order to reselect a highernpriority  architecturenntelephony framework supports new interfaces to select a network innautomatic mode as well selecting a plmn for a specific rat radio accessntechnologynntelephony application shows the new network information allows the usernto select a network in automatic mode as well as selecting searchnnetworksnid
15,improvement of mobile network  technical descriptionnnwhen viewing available plmns public land mobile network the currentnimplementation does not display the network technology  nor doesnit allow selecting a specific plmn in automatic modennthis contribution willnn display  network informationnn separate search mode automatic manual from network searchnn allow selecting a specific network in automatic mode which mightnbe later on unselected by the network in order to reselect a highernpriority  architecturenntelephony framework supports new interfaces to select a network innautomatic mode as well selecting a plmn for a specific rat radio accessntechnologynntelephony application shows the new network information allows the usernto select a network in automatic mode as well as selecting “searchnnetworks� independently from the search modenid
16,end usersupplied infdeflaters on closing streamnncalling close on the following compression stream classesnshould not invoke end on the underlying inflaterdeflater if itnwas supplied in the stream class constructornn inflaterinputstreamn inflateroutputstreamn deflaterinputstreamn deflateroutputstreamnnthis fix updates the behaviour of the close method on those classesnto match the ri allowing reuse of inflater  deflaters supplied tonstream class constructorsnnthis issue was ially observed using jgit on android jgit uses anninflatercache to recycle inflaters but in the cases where that inflaternwas used on a stream it would be returned to the cache in an invalidatednstate seeminglyrandom exceptions would occur as the invalid inflatersnwere reused in other context
17,remove compiler warnings when building the emulatornnthis forces wall during the build note that this patch  all warnings but most of the remaining ones are from upstream anywaynid
18,mm add a mightsleepif in dmapoolallocnnbuggy drivers eg fsludc could call dmapoolalloc from atomicncontext with gfpkernel in most instances the first poolallocpagencall would succeed and the sleeping functions would never be callednthis allowed the buggy drivers to slip through the cracksnnadd a mightsleepif checking for gfpwait in flagsnid  dima zavin
19,add polling mechanism to battery servicennvirtualbox acpi implementation  send acpi events on batterynlevel changes and on charger  why i propose to implement a polling mechanism which checksnbattery informations every x secondsnthis patch uses  system properties statusbatterypolling andnstatusbatterypollingfreq to enable polling and set polling  not sure i chose the right properties name please let me knownid  daniel fag
20,external bt gps support for icsnnallows user to change internal gps to external gpsnimplements request  httpilokinl for more informationnnnedoffby cuong
21,fixed error in apkbuildertask for jar files with resourcesnnjar files specified with  are searched twicenfor resources the build fails when resources are foundnthe second timenid
22,video tegra allow setting output mode without changing fb geometrynid  erik gil
23,arm twd fix updating control register in setmodenid  colin cross
24,fixes the size of texts in the power dialognid
25,video tegra transmute hdmi modes into supported onesnid  erik gil
26,video tegra flesh out edid supportnn read blocks in a single command instead of byte at a timen allow reading past segment  edid   bytesn handle mutiple extention blocksn add debugfs file for reading edidnid  erik gil
27,make dexzipextractentrytofile do crc checking after extracting the entry to cached filennif crc mismatch happens extract and check data againnid
28,adt exclude  tag from the gle palettenid
29,eclair cts version increment to
30,fix dependent vmtest jar pathnnpush file to datalocaltmpjar not datalocaltmpjarnnbug
31,do not merge froyo cts version increment to
32,allow os x emulator to open host dev devicesnnonly  does not allow this so simplify the tests in the source coden remove compiler warningnid
33,arm twd fix prescaler getting cleared by setmodenid  colin cross
34,video tegra add ioctl for querying modesnid  erik gil
35,adt fixes to make proguard work under windowsnn the proguardbat can only pass  args but we have  son  use a temporary proguard config file for windowsnn proguardhome needs to be defined properly since the defaultn proguardbat cannot infer it properly we need other fixesn to that batch file so eventually  not going to ship then default one and we can fix the bat file but properly definingn this env var is probably a good idea anywaynid
36,sdk fixed proguardbat  connthese are similar to the externalproguardbinbatnexcept they use $sdktoolslibfindjavabat to locate thenjava location and use it if available findjava will printna proeminent error if java cannot be foundnid
37,tegra  recover from spurious interrupt stormnnre the  controller when an irq arrives with  bits set to indicate why the interrupt was sentnstorms of such mystery interrupts are infrequently seennndump some more status when these interrupts arrive set an errornfor the current request and wake up the requester rather thanntiming out the request or possibly silently ignoring the interruptsnnif the  block is inside the dvc also ack the dvc  transferndone interrupt in the isr error return path as is done for thennormal return pathnid  todd poynor
38,media player fix for pause after system suspendresumenndescription during system wide suspendresume call the state machine fornstagefright player  awesome player are reset and the flags are updatednaccordingly but the state variables inside media player class are leftnat the playpaused state depending on the current state while suspend callnis issuednbecause of this mismatch in the states between media player and the awesomenplayer the subsequent calls to isplaying query inside media player isnsetting the state to paused as a error correction mechanism since thenmedia player state is incorrectly set as paused even though it was in startednstate during suspend all the subsequent calls to pause will return withoutnany actionnninorder to correct this the suspend state is introduced in the media playernthe current state is saved during suspend and is properly restored on resumencallnnvalidation tested av playback pauseresume several times along with multiplensystem wide suspendresume transitionsnid  sunita nadamp
39,arm tegra powergate the mpe and  cores at bootnid  dima zavin
40,support showing cold battery healthnnthe linux kernel supports reporting cold battery health to sysfsnandroid framework has not implemented this and it defaults to unknownnthis adds handling the cold battery healthnid
41,audiotrackcblktstepserver changed to call cvbroadcast instead of cvsignal which will correctly signal all pending threads that new audio data is availablenid
42,add ethernet settings to androidnid
43,remove duplicate rules for generated source filenid
44,setvibratesetting for notifications in soundsettingsnnsome applications on the market change ringer and notification vibration settings independently if a user removes this application changing vibration settings only fixes their ringer setting this patch keeps notification and ringer vibrate settings in sync otherwise there is no way to fix notification vibration settings users expect vibration settings to carry over fixes issu
45,support showing cold battery healthnnthe linux kernel supports reporting cold battery health to sysfsnandroid framework has not implemented this and it defaults to unknownnthis adds handling the cold battery healthnid
46,fix makefile by adding mandatory user tagsnnthe build system now requires a localmoduletags defion in each androidmknid
47,phone support for multisimnid
48,put the traceview plugin ui in an editor instead of a viewnnthe editor is associated with the atv extension android traceviewnid
49,arm tegra remove debugging from tegramoveframebuffernid  colin cross
50,there is no note javadoc tagnid
51,goldfishfb add missing semicolonnid
52,arm tegra cpuidle define powerspecifiednnturn on the cpuidledevice powerspecified fieldnto enable usage of the defined cpuidlestatepowerusage fieldsnfor each statennnedoffby james wylder   todd poynor
53,tegrafb add forwarddecls for structs used in function prototypesnid  gary k
54,improvements to renderscript supportnn change dependency file location to be in the gen foldern in the same package as the source file this prevents collisionsn if there are two classes named the same in different packagesn or source foldersnn now that the dependency files are visible track their deletionn and force recompilation if this happensnn missing dependency files during generator ialization forcen a recompilation of the source filenn prevent packaging from taking rs rsh and d files from then source folders this also impacts the ant build systemnid
55,more cts test runner fixesnnchanging the ial status of tests now to fail andnmaking instrumentationctstestrunner explicitly reportnwhen it has omitted a test due to profile or featurenrequirements onlynnmore background on whynninitially the starting test status was set to passnthis seemed like a bug because tests that did notnget a result back from the test runner would automaticallynpassnni noticed this when adding the profilefeature annotationsnso i changed the test status to notexecuted howeverni discovered that batch test runner would rerun any testsnthat were not executed so any tests that were discardednby the annotations would be rerun infelynnso theni changed the test status to start off as omittednso that discarded tests which  produce any output wouldnget flagged as omitted and not cause infe retryingnnhowever this uncovered a whole class of tests that werenbeing omitted due to test errors previously marked pass evennthough they were failing this is because the tests wouldnfail to execute as a batch and then cts as part of its algorithmnwould run them individually again however due to an errornof being unable to load the test class they would be markednas pass before the omitted change because there would benoutput from the runnernnby setting the default status to fail there  be any testsnthat get away as pass due to getting no output from the runnernunfortunately this means any tests that  executed ornthrown out by annotations will be flagged there seems to bena couple of tests marked with suppress that will need to benchanged to brokentest there is probably a more involved fixnto fix these things but its probably not worth it at this timennthe default status also cannot be error because cts sees bothnerrors and failures as the samenid
56,tegrafb fix section mismatch in host driver skeletonnid  gary k
57,generate temporary hardwareini from configuration settingsnnthis patch generates a temporary hardwareini from the hardwarenconfiguration the idea is to move as much hw config info as possiblento a single file that the core can readnnother patches will change how various config info is passed to thencore from commandline options to the generated hardwareinin
58,arm tegra clock fix warningnid
59,improve froyo armeabi testnnunlike the eclair port of the test there  anythingnwrong with the froyo version because the  buildunknown when the property is not set howevernthe test  make a distinction between the propertynnot being set and a property being set with the value unknownnntherefore port the same enhancements done for the eclair testnand improve the messagingnid
60,fix scrolling bug upon pinchzoomnnwhen the user is using two fingers to pinchzoom a photo the screennwill keep scrolling to the upperleft direction even when the twonfingers are stationary nid  madan ankapura
61,arm tegra irq add debugfs file to show wake irqsnid  colin cross
62,arm tegra change smp startup to use readallocate cachennmirror the change to  common startup in the  and hotplug statup routinesnid  gary k
63,calendar fix npe from unialized handlerthreadnncommit  in aosp master removednthe call to  private constructor which ializednthe static handlerthread this causes an npe when loading contact photosnin appointmentsnnreadded the static ializer to restore this functionalitynid
64,arm tegra timer remove  clocksourcennthe  clocksource is never used because it is always registerednat the same time as the us clocksource which has a higher ratingnusing the  clocksource would cause a race condition with thentegrartc driver on the rtc shadow registers remove the  add a replacement tegrareadrtcms function for thensuspend code to track suspend time and add a comment onnreadpersistentclock that it should never be called while thentegrartc driver is running it is currently only called fromntimekeeping suspend and resumenid  colin cross
65,arm tegra mirror innercacheable change in tegra startupnid  gary k
66,added build instructions for nexus one on froyonid
67,arm tegra timer fix us timer time after resume from   suspend or during a failed  suspend the core power isnnot turned off and the timer register is not reset saving thentimer value during suspend and adding it to the offset after resumenwill cause the timer value to double for each suspend cyclennto fix when resuming subtract the current value of the timernregister from the offset also use the rtc registers to addnthe time that passed during suspendnid  colin cross
68,libstagefright fix live rtsp streaming on some  is also a valid range to describe an infe session  used by some popular rtsp servers in mobile environments  example assuming that infe is always  was causing sessionnsetups to fail and thus breaking the mobile tvtype servicesnnalso drop rtp video packets that are out of sequence trying tonreorder these was causing a very long time in starting the streamsnid
69,arm tegra suspend track the amount of time spent in suspendnid  colin cross
70,fix eclair armeabi testnnthe  property for  devices wasnincorrectly being checked for unknown the value of unknownncomes from the froyo version of this test which is what  constant was if the property was not set fix theneclair version by using getprop to make sure the property isnnot set at allnid
71,arm tegra cpuidle keep statistics on idle wake interruptsnid  colin cross
72,fix possible npe in traceviewnid
73,make up better class namesnnjavagenerator  sourceprocessorngeneratordeltavisitor  sourcechangehandlernnonjavafilebundle  sourcefiledatanid
74,fix oprofile compilation in pic modennthis patch modifies the inline  assembly fragments to properlynsave ebx when calling the cpuid instruction otherwise the compilernwill error complaining that the pic register ebx is clobberednid
75,frameworksbase dsds two ril instances for two rildnid
76,contacts close cursor object after usennin callorsmscontact function phonescursor is never closed whichncauses cursor leaks close the phonescursor after its usenid
77,net wireless  fix interrupt enabling in case of errornnnedoffby dmitry shmidt
78,arm tegra ventana register  interruptsnnconfigure the pmc interrupt polarity low and register irqnnumbers with the  core and rtcnid  gary k
79,sniffer increase  confidence levelnnadd logic to check if the video confidence level can benincreased if the confidence level  be increased thenlevel will be left as it was found before the attemptnthis change is useful when competing sniffers assign conflictingnvalues specifically  sniffer vs  sniffernid  carlos aceff
80,add a runname parameter to itestrunlistenertestrunstartednid
81,mediascanner crashed on japanese meta filennmediascanner crashed while scanning a file which has a japanesenfilename and has no metadata or too long metadata in this casenthe filename will be stored to db as the title and some japanesenfilename causes a crash while creating search keysnnwhen the data converted into the sorting key exceeds the size ofnthe buffer buffer over run is generated by a bug  ucolucolcalcsortkey the sorting key is set to the buffernwhile advancing the pointer by one byte when sorting key isntwobyte primary and compress data the pointer is advanced toonmuch and a buffer over run is generatednid
82,wait time introduced before sending first dtmf digitnnadded fix to wait for  sec interval before sendingnthe first dtmf digit to ril as per t
83,use proguard for release builds through antnnthis is only activated if defaultproperties containsna property proguardconfig with the name of a proguardnconfig filennsome cleanup in the ant tasks and in the namenof the properties used by the rules and the customntasks to make them clearernnadded a new test app with a project using a jar filenas well as a library using a jar filenid
84,minor changes to enable svgnnwith this patch set if enablesvg and enablesvganimation arendefined to be true eg   b externalwebkit while compiling webkitthe resultingnbrowser will handle svg if you run the  test it will passnthe  svg tests that is the  test result will change  to
85,show failures at top of reportnndisplays a separate section for failures as well as timeouts at thentop of the report this was faster in the browser than having anpulldown that dynamically filtered the results by showinghidingntable rows by their classnid
86,stagefright added the api setcallback to return the overlay buffers after renderingnnadded the api setcallback to the videorenderer interfacenthis callback may be used by the renderer modules to return the buffers after renderingnid  anu sundararajan
87,regulator  fix value range checking for valnnval is used as array index of  the valid value range should be     axel lin  mark brown  liam girdwood  gary k
88,libstagefrighthw added the setcallback apinnimplemented the setcallback api that was added to thenvideorenderer interface in   anu sundararajan
89,regulator  fix bitmask parameter for  third parameter of  is the bitmasknthus we should use    instead of   axel lin  mark brown  liam girdwood  gary k
90,tabwidget orientationnntabwidget orientation specified in tabcontentxml instead of tabwidgetjavangenerally the orientation of the tabwidget should be set in xmlfilesnand not in tabwidgetjava a sub class of tabactivity may call setcontentviewnusing a custom layout where the tabwidget orientation is verticalnthis is the case in the ui enablers bottom tab feature for landscapendisplay orientationnid
91,managed roaming supportnnif the network registration is denied with reject cause persistent locationnupdate reject in manual network selection mode managed roaming dialog isndisplayed user can selection an operator from the available networks listnid
92,arm tegra increase nrboardirqs to    interrupt patch uses the  exactninterrupt numbering increase nrboardirqs tonaccommodate the larger namespace needed by the pmunid  gary k
93,stagefright removed memcpy in playback datapathnnduring code review it was found that the overlay buffers were not shared with the video decoder and hencenthe decoded output was copied to the overlay buffers for rendering changes have been made to the frameworknto remove this memcpy the overlay buffers are shared with the video decodernnadded the api getbuffers to the following classesnnbpomxrendererniomxrenderernomxrenderernvideorenderernsharedvideorenderernsoftwarerenderernawesomerenderernawesomeremoterenderernawesomelocalrenderernnadded the api setbuffers to the following classesnnmediasourcenomxcodecns made to  modified the sequence in which the various components were ializednnow the renderer is ialized before the codec is  the overlay buffers are shared with the video decoderns made to omxcodecnmodified the component quirks use omxusebufferoverlay buffers for video decoder for output portnid  anu sundararajan
94,libstagefrighthw changes to remove memcpy in playback data pathnna new api has been added to share the overlay buffer addresses with the codecnfor that purpose memoryheapbase and memorybase object are created for each buffernnthis patch is dependant upon changes made to videorendererh in   anu sundararajan
95,minor optimization of elf header manipulatingnnthis patch applies the following changesn word alignment to the temporary space for holding elf headern instead of sequential character comparison of elf header usen precalculated valuenid
96,fixes broken image link in installing the sdk documentation pagenid
97,drmradeonkmsatom set sane defaults in atombiosgetencodermodenncommit  upstreamnnif there was no connector mapped to the encoder atombiosgetencodermodenreturned  which is the id for dp return something sane instead based onnthe encoder id this avoids hitting the dp paths on nondp encodersnnnedoffby alex deucher  dave airlie  greg kroahhartman
98,need enough time  sec to read amounts of packet from procstatuiduidtcpsndnid
99,support for setupeventlist proactive commandnnthese changes provide support for setupeventlist proactive commandnref etsi t
100,fix for phone app crash in icc cardnn check for active phone in icc handler before processing messagesnn boundary check for gsmcdma subscription app indexnwhile retrieving the icc card appnid
101,arm tegra cpuidle prevent  idle during suspendnid  colin cross
102,bio take care not overflow page count when mappingcopying user datanncommit  upstreamnnif the iovec is being set up in a way that causes uaddr pagesizento overflow we could end up attempting to map a huge number ofnpages check for this invalid input typennreportedby dan rosenberg  jens axboe  greg kroahhartman
103,add support for tty in gsm modenid
104,fix a race condition in nativedaemonconnectornnfixes a race between the ondaemonconnected callback and setting thenmoutputstream in nativedaemonconnectornnmountservice connects to vold using the nativedaemonconnectornthrows a “nativedaemonconnectorexception no output stream�nwhen the ondaemonconnected callback in mountservice calls the dolistcommandnid
105,fix layout editor not properly closed when dirtynnthe symptom was that once the layout editor had a modificationnand was in the dirty mode closing it would keep the modelnaround and reopening would show the previous state that wasna red herringnnthe actual issue is that the undo beginend wrapper methodsnwere calling getmodelforedit without doing a propernreleasefromedit call after the fact somewhere down in thenoverly complex code that disposes the editorpart there isna test that would not purge the model if it is still lockednnthe fix is thus in the beginendundorecording of the basenandroidxmleditornnthis cl also cleans up some ifile usage when fixing thencode above i noticed we can now get the model withoutnfirst getting an sse internal document instead we can usenthe  ifile however i doubt sse for  would haventhe api i need to check that in another cl later  a
106,drmradeonkms add workaround for  ddc line vbios bugnncommit   alex deucher  dave airlie  greg kroahhartman
107,fixes broken image link in tools  traceview documentation pagenid
108,need enough time  sec to read amounts of packet from procstatuiduidtcpsndnid
109,drmradeonkms fix typos in disabled vbios codenncommit   was hitting the wrong buscntl reg and bitsnnnedoffby alex deucher  dave airlie  greg kroahhartman
110,adt fixes to make proguard work under windowsnn the proguardbat can only pass  args but we have  son  use a temporary proguard config file for windowsnn proguardhome needs to be defined properly since the defaultn proguardbat cannot infer it properly we need other fixesn to that batch file so eventually  not going to ship then default one and we can fix the bat file but properly definingn this env var is probably a good idea anywaynid
111,feature for devices with a relative humidity sensornid
112,radixtree fix rcu bugnncommit  upstreamnnsalman qazi describes the following radixtree bugnnin the following case we get can get a  the radix tree contains two items one has the index  the reader in this case findgetpages takes the  the reader acquires slots for items including the index   the nonzero index item is deleted and as a consequence the other item isn moved to the root of the tree the place where it used to be is queued forn deletion after the readers  the zero item is deleted removing it from the direct slot it remains inn the rcudelayed indirect  the reader looks at the index  slot and finds that the page has  refn  the reader looks at it again hoping that the item will either be freed orn the ref count will increase this never happens as the slot it is lookingn at will never be updated also this slot can never be reclaimed becausen the reader is holding rcureadlock and is in an infe loopnnthe fix is to reuse the same indirect pointer case that requires a slotnlookup retry into a general retry the lookup bitnnnedoffby nick piggin  salman qazi  andrew morton  linus torvalds  greg kroahhartman
113,dont store video genre metadata as audio genre in mediascannernnmediascanner mistake videoid for auidoid when mediascannernregister genre of  video content that this content havengenre datannadd an explicit check for audionid
114,netfilter nfhookcond has wrong conditionalnncommit  upstreamnnthe nfhookcond returns  when it  due to what i believe to be annerror in the code as the order of operations is not what was intended c willnevalutate  before  which means ret is getting set to the bool resultnrather than the return value of the function call the code saysnnif ret  function   it meant to saynif ret  function   the compiler would warn but it  notice it because itsna actually complex conditional and so the wrong code is wrapped in an explictnset of exactly what the compiler wants you to do if this was intentionalnfixing this means that errors when netfilter denies a packet get propagatednback up the stack rather than lostnnproblem introduced by commit  netfilter get rid of the grossnessnin netfilterhnnnedoffby eric paris  patrick mchardy  greg kroahhartman
115,always set right authtype value in apnnnit fixes a bug that automatically sets authtype valuenof editing apn that has and should have that value setnto null   not yet set to authtype value of annapn previously displayed in the apn editor it isncaused by careless persisting and reading data fromnsharedpreferences fixed to keep and persist to benconsistent with other  preferences null valuenfor not yet set authtype propertynid
116,mmvfs revalidate  in dogenericfilereadnncommit   hours into some stress tests of a  enterprise kernel wenran into a null dereference in herenntint blockispartiallyuptodatestruct page page readdescriptort descnt unsigned long  inode inode   looks like  was the culprit xmon trace is belownafter closer examination i realized that dogenericfileread does anfindgetpage and eventually locks the page before callingnblockispartiallyuptodate however it  revalidate  after the page is locked so  a small windownbetween the findgetpage and  where the pagencould get truncated and  clearednnwe have a reference so it  get reclaimed but it certainlyncan be truncatednni think the correct thing is to check  after thentrylockpage and jump out if it got truncated this patch has beennrunning in the test environment for a month or so now and we have notnseen this bug pop up againnnxmon infonn  en cpu  vector  data access at  pc   lr   sp  msr  dar  dsisr  current   paca   pid   comm  bashn  rn                  ffffffffffffffffn                                                                               pc    lr    msr   cr   ctr   xer   trap   dar   dsisr    tn link register      unreliablen             exception  system call at  sp  is in userspacen  di    ld    beq     ld    clrldi    lis    lwz    li    subf    cmplw    slw    clrldi    bgt     cmpld    add    clrldi    blt   dave hansen  minchan kim  johannes weiner  rik van riel    christoph hellwig  al viro  minchan kim  andrew morton  linus torvalds  greg kroahhartman
117,regulator combine setvoltage requests from all consumersnid  colin cross
118,added support for customization of mobile data settingnnintroduced system property mobiledata which will benused for default behavior of the mobile data connectionneither onoffnnthis is analog to how the setting for dataroaming isnhandelednid
119,arm tegra  add support for downsampling to  iliyan malchev
120,latencytop fix per task accumulatornncommit  upstreamnnper task latencytop accumulator prematurely terminates due to erroneousnplacement of latencyrecordcount it should be incremented whenever annew record is allocated instead of increment on every latencytop eventnnalso fix search iterator to only search known record events instead ofnblindly searching all preallocated spacennnedoffby ken chen  arjan van de ven  andrew morton  linus torvalds  greg kroahhartman
121,devsystemimport add sysprocfsh fix location of fenvhnid  bruce bear
122,devsystemimport bump the toolchain revision to  for   bruce bear
123,devsystemimport add the option to specify the toolchainprefixnid  bruce bear
124,change image document root in mediaplayer referencenid
125,fixing possible race conditionnnthat return statement is effectively a reading of asynchronously modifiednfield the reading and writing is elsewhere protected by locking on threadninstance except this one occurence moving  statement intonsynchronized block ensures that it reads updated  be afraid of deadlock wait releases the lock and acquires itnback when notifiednid
126,make cts host capture junit errors toonnbug
127,package proguard with the sdknid
128,drmradeonkms fix thermal sensor reporting on   upstreamnntemperature is not shifted as on newer asicsnnnedoffby alex deucher  dave airlie  greg kroahhartman
129,fix external jar support when building with proguardnid
130,drmradeonkms fix retrying ttmbo after it failed oncenncommit  upstreamnnif ttmbo returns failure it already destroyed the bo so we need tonretry from scratchnnnedoffby michel dänzer  markus trippelsdorf  dave airlie  greg kroahhartman
131,localprebuiltjavalibraries for proguardnid
132,fix var path name generationnnthe hashcode can be a negative intnconvert it to an always positive long and convertnto hexadecimalnid
133,sdk fixed proguardbat  connthese are similar to the externalproguardbinbatnexcept they use $sdktoolslibfindjavabat to locate thenjava location and use it if available findjava will printna proeminent error if java cannot be foundnid
134,support xbootclasspatha and pnnmodifed versionnid
135,ial commit for the ethernet state tracker workn
136,prebuiltcommon update the platform and api target for   bruce bear
137,keypress wakes up modem if it is in power save modennwhen modem goes to sleep mode registration state  isnsent and boolean variable is set to keep track of modemnpower save status this variable is accessed to checknpower status when ui key is pressednndependenciesframeworkspoliciesbase packagesappsphoneid
138,always add a  delay to make sdvo tv detection reliablenncommit  upstreamnncommit  intended to add a  delay to give the add time tondetect any tvs connected however it used the  flag to do sonwhich is dependent upon the previous detection result and not whether thenoutput supports tvsnnnedoffby chris wilson  greg kroahhartman
139,add ethernet support to androidnid
140,packagerelease add the abi flagnid  bruce bear
141,keypress wakes up modem in power save modennwhen key is pressed it checks if modemnis in power save modenif yesthen the actionscreenon intent is broadcastnndependencies frameworksbase packagesappsphoneid
142,exec copyandpaste the fixes into compatdoexecve pathsnncommit  upstreamnnnote this patch targets  and tries to be as simple as possiblenthat is why it adds more copyandpaste horror into fscompatc andnuglifies fsexecc this will be cleanuped laternncompatcopystrings plays with  directly and thus hasntwo problems it lacks the rlimitstack check and argvenvp memorynis not visible to oom killernnexport acctargsize and getargpage change compatcopystringsnto use getargpage change compatdoexecve to do  doexecve doesnnadd the fatalsignalpendingcondresched checks into compatcount andncompatcopystrings this matches the code in fsexecc and certainlynmakes sensennnedoffby oleg nesterov  kosaki motohiro  linus torvalds  greg kroahhartman
143,changes addressing some problems reported innissue  nmealistener does not receive nmea sentencesnnthe nmea listener on emulator  report nmea messagesnadded proper callback to the gpsqemucnid
144,buildgcc tmplog  being setnid  bruce bear
145,keypress wakes up modem if in power save modennadded function to read mmodem power save statusnndependencies frameworksbase frameworkspoliciesbaseid
146,intelgtt fix gtttotalentries detectionnncommit  upstreamnnin commit  chris wilson added some code to clear the full gttnon  instead of just the mappable part the code looks likenit was copypasted from agpintelgttc at least an identical piecenof code is still there in  this lead tona regression in  which was supposedly fixed in commit  this commit makes absolutely no sense to me it seems to benslightly confused about chipset generations it references docs  gen but the regression concerns  gen  luckily the the  docs are available with the gmch graphics control pci confignregister defions the other bigger problem is that the newncheck in there uses the  stolen mem bits   or  of stolennmem they are different since the  most likely case is that it hits the  fallback which wasnprobably the right thing for the boxes this was tested onnnso the original approach by chris wilson seems to be wrong and thencurrent code is defely wrong there is a third approach by jessenbarnes from his rfc patch who wants a bigger gtt mapping rangenwhere he simply shoves  in the same clause like later  asked him and jesse confirmed that this should work so implementnitnnbugzilla $ntestedby anisse astier  anisse astier  daniel vetter  chris wilson  greg kroahhartman
147,buildgcc add the mpfrversion optionnid  bruce bear
148,arm tegra cpufreq fix compile issues with   colin cross
149,reprogram power monitoring registers on resumenncommit  upstreamnnfixes issue where  was reporting values severalnorders of magnitude higher than physically possible withoutnleaving scorch marks on my thighs at leastnnnedoffby kyle mcmartin  jesse barnes  chris wilson  greg kroahhartman
150,buildgcc add the finiarray configure flagnid  bruce bear
151,sdk windows package customized proguardbat scriptsnnrequires change  platformsdknid
152,drmradeonkms fix regression in   setupnncommit  upstreamnntypo in my last   alex deucher  dave airlie  greg kroahhartman
153,arm tegra clock remove dependency between set and debugfsnid
154,support xbootclasspatha and p for dvmprocessoptions in dalvikvminitcnid
155,devsystemimport platformroot was being incorrectly specifiednid  bruce bear
156,drmradeonkms fix resume regression for some  laptopsnncommit  upstreamnni had removed this when i switched the atom indirect io methodsnto use the io bar rather than the mmio bar but it appears  needednnreportedby mark lord  alex deucher  dave airlie  greg kroahhartman
157,make vmtests push jars to a writable directorynnwith this change jars are pushed to datalocaltmp as opposed to datannbug
158,exec make argvenvp memory visible to oomkillernncommit  upstreamnnbrad spengler published a local memoryallocation dos thatnevades the oomkiller though not the virtual memory  can allocate a lot of memory butnthis is not visible to oomkiller nobody can see the  and take it into accountnnwith this patch getargpage increments  mmanonpagesncounter every time we allocate the new page for argvenvp whenndoexecve succeds or fails we change this counter backnntechnically this is not  correct we  know if the newnpage is swapped out and turn mmanonpages into mmswapents butni  think this really matters and everything becomes correctnonce exec changes  or failsnnreportedby brad spengler  kosaki motohiro  oleg nesterov  linus torvalds  greg kroahhartman
159,close cursor to avoid excessive jni referencesnn add fix to avoid cursor leak which caused excessiven jni global referencesnid
160,support  party layout rule loading and rip out groovy supportnnadd support for loading  party jars providing additional layoutnrules this can be configured by adding a property referencing thenjars to be loaded as part of your buildproperties like  will create a class loader referencing chartrulesjar andngraphrulesjar as well as the visual  plugin class loader asna fallback and this class loader is used to load iviewrulenimplementationsnnin addition this plugin rips out the various remaining groovy hooksnand references that were earlier used to load groovy scripts as layoutnrules and removes groovy from the load path and build symlinkingnscriptsnid
161,close cursor to avoid excessive jni referencesnn add fix to avoid cursor leak which caused excessivenjni global referencesnid
162,drmradeonkms fix interlaced and doublescan handlingnncommit  upstreamnnnedoffby alex deucher  dave airlie  greg kroahhartman
163,drmradeonkms fix  pad masks on   upstreamnnthese got lost in the last  cleanup  alex deucher  dave airlie  greg kroahhartman
164,the mbionic flag is needed for ia buildsnid  bruce bear
165,add the  toolchainnid  bruce bear
166,rebuildallprebult add options for binutilsversion mpfrversion sysrootnid  bruce bear
167,prebuiltcommon allow versioning of gcc to be   bruce bear
168,getphonebookindex add letterlike symbol characters handlernnthis adds handling of japanese letterlike symbolsnon contacts app these symbols are appeared in japanese hiraganansection and breaks its displaynid  yutaro ogasawara
169,retrieve sipsipsettings label from string resourcesnid  shuhrat dehkanov
170,arm tegra cpuidle fix compile issues with   colin cross
171,enable make proguard for the windows sdknnthis requires change  from externalproguardgitnid
172,arm tegra suspend fix compile issues with  suspend pagetable creation to suspendcnalways compile   needed for  resumenid  colin cross
173,sched fix rcu lockdep splat from taskgroupnncommit  upstreamnnthis addresses the following rcu lockdep   amd qemu virtual cpu version  stepping  lockdep fixing up   info suspicious rcudereferencecheck usage    invoked rcudereferencecheck without  other info that might help us debug  rcuscheduleractive   debuglocks    locks held by   cpuaddremovelock at    cpuhotpluglock at     at   stack  pid  comm swapper not tainted   call                                  booting node  processors  fixing up   fixing up    brought up   total of  processors activated  bogomipsnnthe cgroupsubsysstate structures referenced by idle tasks are nevernfreed because the idle tasks should be part of the root cgroupnwhich is not removablennthe problem is that while we do infact hold  the newly spawnednidle  cpu is not yet set to the correct cpu so the lockdep checknin taskgroupnn  failnnbut this is a chicken and egg problem setting the  runqueue requiresnthat the  runqueue already be set nnso insert an rcu readside critical section to avoid the complaintnnnedoffby peter zijlstra  paul e mckenney  greg kroahhartman
174,arm tegra remove innerwriteback memory type from smp startupnnthe memory remapping nmrr registers were configured differentlynby the smp and  startup code from the standard kernelnntemporarily reverting the innerwriteback change for nownid  gary k
175,arm mm change to readallocate as default smp cache policynnthe streaming mode optimization which skips cacheline allocationnfor fullydirty lines is frequently defeated when coherent processorsnperfom stores simultaneouslynnthis results in cachelines being allocated in smp which are notnallocated when run in uniprocessor resulting in a significantnreduction in aggregate write bandwidth for example on tegra  with  ddr main memory running memset over a largenbuffer ie  miss on a single processor will achieve  write bandwidth but if the same operation is run in parallel onnboth cpus the aggregate write bandwidth is just  the cache allocation policy to readallocate reduces somenof this performance loss on smp systemsnid  gary k
176,bluetooth do not attempt to send dlci disconnect when in btconfignnthis fixes a bug where shutdown and close on a rfcomm socket during aclnconnection would not cause hci create connection cancelnnnedoffby nick pelli
177,merge branch  into  david  turn
178,arm mach htcpwrsink remove stub printknnnedoffby san mehat
179,omap pm fix overflow when doing powerdomain deps lookupsnnnedoffby mike chan
180,calculate specular lighting correctlynnsince the lighting calculations are done in object space the vectornfrom the object to the viewer also needs to be transformed to objectnspacen
181,arm tegra nand fix dma when highmem is enablednid  colin cross
182,arm tegra harmony add fixup function to set memory sizenid  colin cross
183,merge commit  into freebsdportnnconflictsntenvsetupshn
184,made host dependent and independent parts of envsetupsh more separatednnmoved host dependent declarations of functions to the begining of scriptd to use gmake on freebsd instead of maken
185,parser node should pass intent like other nodesn
186,some changes to perform ial building steps on  added applyfreebsdpatches and applyplatformpatches defionnin defionsmk to process paths to interpretators at file headersnfrom binbash to usrlocalbinbash that allows keep source treenunchanged and shared with main repositary updated shell variablento proper value if system is  added  with some tuning of variables for  added new hostos type  freebsd some related  findjdktoolsjar now can guess path to toolsjar on freebsdn
187,misc pmem  flush if file was opened with osyncnid  dima zavin
188,arm tegra harmony add highmem and framebuffer to defconfignid  colin cross
189,removed ldl when compiling for freesbdn
190,added note about purpose of first line commentingn
191,arm msm  call usbconnected function in platform data on configurennfixes usb charging events that broke during the move from function to gadgetnusb driversnnnedoffby mike lockwood
192,added intents for hangup hold and conferencen
193,updated comment about binbash vs usrlocalbinbash issuen
194,fix sendreceive mms while the  state  in idle and the network type can support voice and data calls concurrentlyid
195,added handling for hangup hold and conferencen
196,removed linking with libdl on freebsd cause needed functions are in libcn
197,msmnand add raw mode supportnnadd support for reading and writing a raw page data ecc bytes fromnthe flashnnackedby david brown  arve hjønnevåg
198,usb gadget composite  call setalt on functions that are hiddennnnedoffby mike lockwood
199,updated envsetupsh to use  instead of native  on freebsdn
200,msmnand add bad block markingchecking supportnnadd support to check if a block is bad by reading the bad blocknmarker for marking a block as bad write all  to the firstnpage of the block which results in the bad block marker being setnto  as wellnnackedby david brown  config option since some factory badblocks are marked in a waynthat does not prevent erasennedoffby arve hjønnevåg
201,usb gadget composite  increment interface number for alt settingsnnnedoffby mike lockwood
202,adds ability to choose jdk version on freebsd via commonjavacversion  added fallback to jdk  when building sdk make  updated findjdktoolsjarsh to be more solid scriptn added ability to find toolsjar for exact jdk versionn on  updated droiddocmk to specify jdk version beforen executing of droiddocn
203,freebsd had implemented  defined strnlen for freebsd since freebsd had defined itn
204,you can built android host programs on freebsdn path usrbinbash to usrbinenv bash usrbinenv is antrampoline for script interpreters it correpsonds for finding pathnbash in directories specified by $path environment variable bash isnnot always installed under usrbin directory some distros or ossnlike freebsd may install bash in usrlocalbin usrbinenv cannhandle it for usnnwithout this commit scripts of android project will complaint thatncan not found bash while the bash is installed as usrlocalbinbashn
205,you can built android host programs on freebsdn path usrbinbash to usrbinenv bash usrbinenv is antrampoline for script interpreters it correpsonds for finding pathnbash in directories specified by $path environment variable bash isnnot always installed under usrbin directory some distros or ossnlike freebsd may install bash in usrlocalbin usrbinenv cannhandle it for usnnwithout this commit scripts of android project will complaint thatncan not found bash while the bash is installed as usrlocalbinbashn
206,you can built android host programs on freebsdn path usrbinbash to usrbinenv bash usrbinenv is antrampoline for script interpreters it correpsonds for finding pathnbash in directories specified by $path environment variable bash isnnot always installed under usrbin directory some distros or ossnlike freebsd may install bash in usrlocalbin usrbinenv cannhandle it for usnnwithout this commit scripts of android project will complaint thatncan not found bash while the bash is installed as usrlocalbinbashnnbashtxt is also changed to ensure new scripts also with correctninterpreter linen
207,upgrade to mksh  releasen
208,you can built android host programs on freebsdn
209,remove fstackprotectorall from cflags it breaks at least on
210,you can built android host programs on freebsdn
211,usb gadget composite  call setalt on functions that are hiddennnnedoffby mike lockwood
212,you can built android host programs on freebsdnnthis is commit makes build system compatible with freebsdn
213,usb gadget composite  increment interface number for alt settingsnnnedoffby mike lockwood
214,add libca after libgcca for calling raisennlatest libgcca would call raise in libca for dispatching dividednby zero events without this change ld can not found raise  handlernid
215,add symlink systembinmksh  systembinshn
216,you can built android host programs on freebsdn
217,comment out the symlink stuff it does not work for me at the momentn
218,you can built android host programs on freebsdn
219,fix issue of closing a client before returning from the servicennsome service would close the client before returning  it causes qemudclientrecv fault while try to freenthe buffer attached to the clientnid
220,link with pthread for freebsdnnwithout this change it would be fault when linkn
221,add freebsd as one of supported osnnandroidconfiguresh specify flags according os name this commitnadds supports for freebsd this change make sdl following qemu ofnandroid can be compiled for freebsd hostn
222,add include path for freebsdnnfreebsd  install unwindh in its system header directory wenadd a path under the path of prebuild toolchain to be a search pathnfor unwindhn
223,fix issue of procfs and usb for freebsdnnthe format of linkmap exported by procfs of freebsd is different fromnwhat is exported by procfs of linux this changes fix the issue  implementation of freebsd is also different from linuxnthis changes provide a dummy implementation to make the system can benbuilt but usb is still not working on freebsdn
224,sms delivery reports fixncorrection of sms status codes see ts   intents will not be removed from list of pending intents forntemporary delivery failuresn
225,revert hack stay compatible with the emulated tls register hacknnthis reverts commit   colin cross
226,arm tegra add pinmux supportnnnedoffby erik gil
227,arm tegra add pimuxing to boardharmonynnnedoffby erik gil
228,arm tegra smp supportnid  colin cross
229,add muxing for gpios  and
230,arm tegra add abp misc address to iomapnnnedoffby erik gil
231,sms status report notificationsn
232,only  mode supportn
233,arm  add support for dualstate switches to omapkeypadn
234,production boards vs pilot boards diffnnif  high  pilot  board  lcdpanelresetgpio    low  production  board  lcdpanelresetgpio   vikram pandita
235,arm tegra harmony add framebuffer to board filennnedoffby colin cross
236,fix issue of closing a client before returning from the servicennsome service would close the client before returning  it causes qemudclientrecv fault while try to freenthe buffer attached to the clientn
237,you can built android host programs on freebsdn
238,arm tegra harmony enable pda power in defconfignnnedoffby colin cross
239,remove gitignoren
240,arm tegra add framebuffer drivernnnedoffby colin cross
241,you can built android host programs on freebsdn
242,you can built android host programs on freebsdn
243,arm tegra harmony enable smp in defconfignid  colin cross
244,arm tegra update iomapnnnedoffby colin cross
245,add systemliblibhtcacousticso to the list of needed proprietary files without it audiondoes not play in android
246,you can built android host programs on freebsdn
247,arm tegra reuse static mappings in ioremapnnnedoffby colin cross
248,you can built android host programs on freebsdn
249,arm tegra harmony add dummy powersupply devicenid  colin cross
250,use termiosh instead of termioh for linuxnnbionic defines only termiosh and android is a kind of linux so itnshould include termiosh and for new linux distros they alsonmigrated to termiosh termioh is now obsoleten
251,arm tegra harmony update usb addresses to match new iomapnnnedoffby colin cross
252,whoops fix file permission touched by editorn
253,you can built android host programs on freebsdn
254,arm tegra update clocksnnnedoffby colin cross
255,added more proprietary librariesnnadded all libraries missing from the opensource build per discussion  audio on android  dream build and comparison of directory contentsnnnote that some of these libraries are certainly needed but i  have includednunneeded libs this should be reviewed please by someone more familiar with the htcnfilesn
256,you can built android host programs on freebsdn
257,arm msm fix schedclock instabilitynnthe clocksource multiplier used to be constant when not using ntpnbut this is no longer the case fix the msm schedclock implementationnto use the stable multorig insteadnnnedoffby arve hjønnevåg
258,tmodified graphicsjavaandroidgraphicstypefacejavan
259,have been added to typefacejava and typefacecppnto read ttf font from external filenntypefacejavann public static typeface createfromfilestring path method addedn private static native int nativecreatefromfilestring path declaration addednntypefacecppnn static sktypeface typefacecreatefromfilejnienv env jobject jstring jpath method addedn jninativemethod item   example when the application like pdf viewer download fonts from its servernand then need to be loaded ttf from downloaded filen
260,tmodified corejniandroidgraphicstypefacecppntmodified graphicsjavaandroidgraphicstypefacejavan
261,net wireless  prevent sleeping for  sec after new packet arrivalnnnedoffby dmitry shmidt
262,arm msm smddebug add smem debug info for tcxo and network related statisticsnn sysmodulesmdparametersprintstatsonsuspend enables printing tcxon stats on every suspendresume and screen onoff eventn syskerneldebugsmdstat prints out these stats as wellnnnedoffby iliyan malchev
263,arm msm clock print stillrunning clocks before powercollapse suspendnnnedoffby iliyan malchev
264,enable   cache at kernel levelnnthis patch adds an option to disable  cache featurennnedoffby thara gopinath  vikram pandita
265,sync up  with autogenerated confignnno functionality added by this  is not in sync with the config auto generated filennnedoffby vikram pandita
266,msm sapphire add sharp panel noveteck  driver ic settingnn nedoffby san mehat
267,arm msm mmc fix irq  processing through suspendresumen
268,fix buildn
269,arm msm fix mmcplatformdata warningnnnedoffby dmitry shmidt
270,from choudhari akash  timer interrupts during audio playbacknnwe see timeouts when waiting for the condition innaudiotrackobtainbuffernnthis is a problem because it generates timer interrupts which wake upnthe cpu to service the isr associated with it we want to minimize thennumber of cpu wakeups to maximize the power savings during  playbacknnwe propose to define a new macro fornthese timeouts in audiotrackobtainbuffernnnedoffby choudhari akash
271,increase nand partition sizes for kernel and systemnnnand partition sizes have to match fastboot defined sizesnthe kernel parition values should now ben  xloadernandn  ubootnandn  boot envnandn  kernelnandn  systemn  userdatan  cachenncorrosponding ubootxloader are present  vikram pandita
272,arm configs mahimahidefconfig switch to cfq io scheduler by defaultnnnedoffby san mehat
273,pm  try to idle  if it is already idlennnedoffby kevin hilman
274,fix build add stub defions for newly declared functionsnid
275,arm msm htc update usb configuration for rndis ethernetnnums usb function is disabled when rndis is activenuse official usb product ids from htcnnnedoffby mike lockwood
276,arm msm msmdefconfig enable configusbandroidrndiswceisnid  mike lockwood
277,changes  have been added to typefacejava and typefacecpp to read ttf font from external  static createfromfilestring  method has been  sktypeface typefacecreatefromfilejnienv env jobject jstring jpath  method has been  necessity  example when the application like pdf viewer download the font from its server andnhas to read downloaded font from file then typefacecreatefromfile method is to be neededn
278,changes  have been added to typefacejava and typefacecpp to read ttf font from external  static createfromfilestring  method has been  sktypeface typefacecreatefromfilejnienv env jobject jstring jpath  method has been  necessity  example when the application like pdf viewer download the font from its server andnhas to read downloaded font from file then typefacecreatefromfile method is to be neededn
279,changes  have been added to typefacejava and typefacecpp to read ttf font from external  static createfromfilestring  method has been  sktypeface typefacecreatefromfilejnienv env jobject jstring jpath  method has been  necessity  example when the application like pdf viewer download the font from its server andnhas to read downloaded font from file then typefacecreatefromfile method is to be neededn
280,arm  mahimahidefconfig set configsmdoffsettcxostatnnnedoffby iliyan malchev
281,skia load hw codec if availablennmodified the factory method to load the hw codec if availablenelse it will return the android software codecnnnedoffby anu sundararajan
282,build ota package for aospemulatorusnnthis allows make dist to work on that configurationnna better fix would be to allow each product to specifynwhether  an emulator target or a device target andnto adapt to that but  be a lot more intrusivenid
283,add manifest for
284,populate proper sdrc paramsnnon latest commit  bootup hangsnon  somehow the sdrc params settings are missed resubmitting the patchnnnedoffby girish s g
285,merge branch  into  jack veenstra
286,add libca after libgcca for calling raisennlatest libgcca would call raise in libca for dispatching dividednby zero events without this change ld can not found raise  handlern
287,gro disable gro on legacy netifrx pathnnwhen i fixed the gro crash in the legacy receive path i usednnapicomplete to replace napicomplete unfortunately  the same when netpoll is enabled which may result in usnnot calling napicomplete at  more we really do need to keep the napicomplete callnwithin the irqoff section since in theory an irq can occur innbetween and fill up the backlog to the maximum causing us tonlock upnnsince we  seem to find a fix that works properly right nownthis patch reverts all the gro support from the netifrx pathnnnedoffby herbert xu  david s miller  jack veenstra
288,you can built android host programs on freebsdn
289,usb gadget android add dependency on switch drivernnnedoffby mike lockwood
290,remove gitignoren
291,drivers usb gadget call switchdevunregister in mass storage unbind callbacknnthis fixes a problem unloading the android gadget driver when built as a modulennnedoffby mike lockwood
292,you can built android host programs on freebsdn
293,for nontelephony devices which uses  network via gsm getphonetype should be phonetypegsm and getdeviceid should return nullnnalso hassystemfeaturepackagemanagerfeaturetelephony should be falsennin this test case when hassystemfeaturepackagemanagerfeaturetelephony is set to false designated test is not excutednnso i made modification so that if getphonetype is other than phonetypenone when hassystemfeaturepackagemanagerfeaturetelephony is false this test is going to be excutedn
294,kvm fix kvm build enable autodetectionnnthis patch fixes the build of kvm support in the  emulator byncopying official ubuntu lucid kvm headers into androidconfiglinuxnnthis removes the need to rely on the build  versions of thesenheaders which caused various issuesnnalso by default the emulator will now probe the system to see if itncan start in kvm mode automatically see androidkvmc for detailsnyou can see the result of the probing with the verbose optionnnimportant noten it looks like there is a bug in the kvm code when the emulatorn is built as a  binary running on a  kernel son we explicitely disable kvm when we detect this case  hardn to tell whether this is a bug in qemu or some versions of then kvm drivernn as such kvm only works when building the emulator as an  program for now this is only possible withn androidconfiguresh  not the android build systemnn add a new qemu option disablekvm to explicitely disable kvmn if needed this is an addition to enablekvm which already existsn and forces usage of kvmnid
295,add test on turning on and off the screennid
296,added gtv related keysnnadds the defions for keys present in googletvnstandard linux defions are used to sendnnotifications to emulated systemnid
297,added charsetpath option to avd configurationnnlets the avd specify kcm file to use by defaultngets overriden by explicit charmap command line optionnid
298,update changestxtnid
299,omap rpres skip the creation of already created devicesnnsome devices liken ivan dspn fdifnnare being created for pm purposes and create them againnis not recommended for these devices the pm framework isnexporting  to get themnnif a resource is already created use the api to get thendevice and add the platform data needed for rpres to controlnsuch devicenid  miguel vadillo
300,smc move tf enhanced dispatcher to  commonnnthis patch is to move smc secure dispatcher function and enhancencommon dispatcher function implementation for secure operationsnid  trusted logic  praneeth bajjuri  alexandre gonzalo
301,document the preferred branch for each devicenid
302,delete sysfs node when disconnct command failednnthe sysfs file  in  not deleted when disconnect command failed this change performsndeleting sysfs file  when disconnect command failednnhost send disconnect command to bluetooth controller forna acl connection if the acl connection has been disconnectednthe command will be failed and bluetooth sysfs file  not be deleted when a new acl connection is creatednbluez will add a file in path  file name  but it has a same handle vaulennin this casen  hci command disconnect  plen  handle  reason  reason remote user terminated  hci event command status  plen  disconnect  status  ncmd  error invalid hci command parametersnid  ming shi
303,first pass tying into perinterface dns cachenid
304,cpuset fix compile errornnfix wrong variable namenid  choi jonghwan
305,fail if voldfstab is emptynnthis test  fail if voldfstab is empty rather shortnterm just ignore this case at the expense that we may missnlegitimate security holesnnlong term this needs to be properly fixednid
306,scripts to package the crespo binary archivesnid
307,enable support for large files   has an  ifdef guard for the olargefile flag the reason for thisnis not traceable in the git history but  most likely due to some oldntoolchain or emulator problemnnbug id   dragos tatulea
308,drivers usb gadget handle null descriptors in composite configbufnnthis fixes a problem in enumeration after a gadget function is removednnsubmitted on behalf of ravikumar vembu  jared suttles  mike lockwood
309,you can built android host programs on freebsdn
310,drivers usb gadget add helper function for installing acm gadget functionnnsubmitted on behalf of james luan  joe swantek  mike lockwood
311,nand unlock feature for  patch is to port  nand unlock feature for  feature will help in unlocking nand with flash unlock utilitynthis is a workaround to overcome the write protect enabled issuenafter core off is hitnnreference  praneeth bajjuri  subramani venkatesh  vimal singh
312,remove gitignoren
313,add tesseractn
314,you can built android host programs on freebsdn
315,musb add context save and restore supportnnadd musb register save and restore functions call thesenfrom the driver suspend and resume pathsnnnedoffby anand gadiyar  vikram pandita
316,musb add support for linkcontext save and restorennadd apis called by the phy driver to inform the link thatna context saverestore operation is to be donennnedoffby anand gadiyar  vikram pandita
317,otgtransceiver add link context saveandrestore supportnnadd function pointers in struct otgtransceiver for the linkndriver to save and restore its contextnnalso use this in the suspendresume paths of the  usbnphy as an examplennnedoffby anand gadiyar  vikram pandita
318,musb restore context only if needednnrestore musb context only if we have lost it after the last savendue to an offmode transitionnnnedoffby vikram pandita  anand gadiyar
319,musb add contextlost counternnadd a contextloss counter to musb and a function pointernpopulated by platform data that can tell us if we lost contextnthis could be used to avoid an unnecessary restore if contextnwas not lostnnnedoffby vikram pandita  anand gadiyar
320,arm video msmfb  check if configandroidpmem is definednnthe header should now define stubs if pmem is not compiled innnnedoffby dima zavin
321,arm msm change the  driver to let appications directly map the gpunnif another user has control of the device open will attempt to revoke thengpu by releasing a blocked wait for revoke ioctl if anynif a grace period expires and the gpu is still not relased the applicationnis sigkilled on suspend the same approach is applied to make thenapplication release the gpu so that hw can be put into low power modennnedoffby dima zavin
322,add error handling to socketclientsenddatannreturn failure and set errno if msocket  validnid
323,remove expired dns cache entries before removing oldestnna suggestion how to make a smarter delete function when the cachenis full first look through the entire cache and remove all entriesnwhich have expired if none use the old solution and just removenthe last entry in the mru listnid
324,undecoded jobject leaking in through attachthreadnid
325,add a possible volume behaviornsome device will be silent mode after the first volume up from vibrate modenid
326,omap iommu fix pte attributes for super sectionnnthe pte programming causes a  entry to be interpretednas a  entry because of the bitwise check and therefore doesnnot set the attributes properly in the firstlevel descriptorntable the bitwise check has been replaced appropriatelynid  suman anna
327,fix broken buildnid
328,crypto add support for  hardware dmcryptnnadd the  crypto driver from trusted logic ported to  much code removed as we  intend to run with the protectednappnid  ken sumral
329,omap pm fix musb power domain associationnnmusb lies in core power domainncurrent code wrongly associates musb with usbhost domainnusbhost domain is for ehciohci controllernnnedoffby vikram pandita
330,arm video msmfb add support for using  fds for blitsnnnedoffby dima zavin
331,arm msm msmserialhs wait for rx fifo to empty before clocking offnnthis is needed if we clock off quickly after rxnnnedoffby nick pelli
332,battery service fix for power off at boot upn
333,packaging modifications to opencore extended featuresn
334,overlayh added new apisnnadded the api commitupdates to overlaycontroldevicet this api must be called after a setposition or setparameter call for the changes to takeneffect in this way we avoid multiple stream onoff calls and the transition is more smoothnnadded the api resizeinput to overlaydatadevicet there are cases where the camera hal will be receiving preview frames from the image pipe thatnare actually larger than the client requested size at the moment the overlay architecture does not allow the data side of overlay to dictate anpreview input frame size as an interim solution we have added a new overlay data side api that would allow the camera hal to resize the input framensizennadded the api setcrop to overlaydatadevicet this api can be used to set the crop parametersnnnedoffby anu sundararajan
335,arm msm sapphire update msmserialhs platform data for new wakeup irq apinnnedoffby nick pelli
336,wrote dalvik porting guiden
337,add test on the intent to start gallery and the intent to view the bookmark in browsernid
338,mmc omaphsmmc fix build breakagenn commit  author dmitry shmidt  mmc omaphsmmc skip mmc suspendresume ops for sdio devicenn breaks build withndriversmmchostomaphsmmcc in function  error dereferencing pointer to incomplete  error  undeclared first use in this  note each undeclared identifier is reported only once for each function it appears inndriversmmchostomaphsmmcc in function  error dereferencing pointer to incomplete  error  undeclared first use in this functionnninclude cardh to prevent the breakagennnedoffby nishanth menon
339,integrate unknown attributes in the normal uielementnode workflownnsomehow this should have been the  a few cases where this will allow us to simplify the codenand that will be for another clnnalso fix
340,add broadcast receiver ringmodereceiver to test the notification of ringer mode changes from audiomanagernnedoffby zhihong guo
341,build system info do not submit still a draftnid
342,opengl translator adding type eglnativesurfacetypennfor supporting  storing spesific os data of the surfacesnfor example on windows platform it is needed to save for each windowsurfacenthe hwndl  hdc of the native window this change caused changes in the eglosapininterfacen
343,add test case on broadcast notification of mediascanner when it start and finish scaning the external storagenid
344,add method to layoutlibrary to query layoutlib api level and revnid
345,mediaserver ensure uid and set capabilitiesnnensures that mediaserver is executed as media usernfor security reasons mediaserver should not be running as root usernin case has recommended some specific capabilities keep themnbefore dropping root uid to still be able to perform some privilegednoperationsnndependson   christian bejram
346,modifications to drm interfacesn
347,modifications to drm interfaces and testcasesn
348,refactor downloadmanager node as per the new node interface designn
349,content truncated while seeking youtube clipn
350,changes for enabling smartreflex autocompensation during bootingnnnedoffby lesly a m  vishwanath b
351,toplevel androidmk to include $pvtopexternlibsandroidextendedfeaturesandroidmkn
352,sync up android folder with korg whitespace change onlyn
353,frames may have different sampling rate or number of channels so in the omx  component logic has been added to ensure that only decoding of consistent frames is sent as output and silence will replace mismatched framesn
354,cameraservice recreate overlay only if height and width has changednnthis patch prevents unnecessary destruction and creation of overlaynnnedoffby anu sundararajan
355,refactor downloadmanager node as per the new node interface design reverting minor additional chang
356,add support for  to omx encoder components  and avcn
357,overlayh added a new api setattributes to data sidenncurrently the display driver allocates cacheable buffers alwaysncacheable buffers are needed mainly for video record use casenwith vstabvideo stablilization vstab runs on arm and hencenworks faster with cached buffers because of these cacheablenbuffers display driver has to flush the cache before renderingnbut for video playback use case we  need cached buffersnso this flush operation in driver is an overhead we can improvenpower and performance numbers by avoiding the flush operationnin driver therefore we want to make thiscacheable buffersna configurable option so we would like to add the followingndata api to the overlay modulennint overlaysetattributes struct overlaydatadevicet devn int param int valuennthis interface will have to be available as data side apinbecause camerahal or video mio node would know what the usencase is and can set required buffer attributes the attributesnwhich can be set would be cacheable or non cacheable buffersnphysically contiguous buffers etcnnnedoffby anu sundararajan
358,move inlined code from header to cpp file for pvmfeventhandlingn
359,port  to new node interfacen
360,smc move tf enhanced dispatcher to common implementationnnthis patch is to move smc secure dispatcher function and enhancencommon dispatcher function implementation for secure operationsnid  alexandre gonzalo  trusted logic  praneeth bajjuri
361,fix buildnid
362,render palette preview widgets conditionallynnsome widgets  render on all version of the layout library fornexample listview and expandablelistview will only render with  of the librarynnthis changeset changes the widget metadata render mode descriptionnfrom an enumerated type to one where it can specify a set of validnranges of layout lib api versions that it is compatible with it alsonadds metadata such that listview and expandablelist view show up usingnicontext in  and earliernid
363,smc  releasennpush version  from trusted  release to support  workspace phy addr is changed on  to  fix crash during execution of jca multiple operation stressntest on  synchronous aes cbc and aes ctr fixed issue of silent  fix linux driver incorrect usage of mutexntissue mutex object used to protect access des or sha hwantwas able to releaseby different task that aquired itntuse semaphores instead of   has new fw configured to protect external ramnid  trusted logic  praneeth bajjuri
364,update changestxtnid
365,revert  crypto add support for  hardware dmcryptnnintroduce new smc driver hence revert ial portnnthis reverts commit   vikram pandita
366,merge  from master do not mergennadd revision number to the layoutlibnid
367,merge  from master do not mergennadd method to layoutlibrary to query layoutlib api level and revnid
368,overlay rearranged destruction of overlay componentsnnit is better to delete objects in the reverse order of creation thus the data side of overlay must be closed first and then the control side must bendestroyed this results in a cleaner deialization of overlaynnnedoffby anu sundararajan
369,smc allocate required  mem for pannthis patch is to enable workspace allocation for smc panto be operational smc requires  memory sdram on hsemu devicesnfor sdp  demand   boundary alignmentnnout of this   is for smc workspacennthis is the reason the start physical addr is set   trusted logic  praneeth bajjuri
370,fix potential stackoverflow in theme detectionnid
371,add temp sensor hwmod datannadd temp sensor hwmod datannnedoffby dan murphi
372,add omap on die temp sensor supportnnadd the  ondie temperature sensor support tonthe thermal frameworknid  dan murphi
373,add temperature sensor idle calls to the idle pathnnadd prepare idle and resume idle to the idle pathnid  dan murphi
374,mmc omaphsmmc fix build breakagenn commit  author dmitry shmidt  mmc omaphsmmc skip mmc suspendresume ops for sdio devicenn breaks build withndriversmmchostomaphsmmcc in function  error dereferencing pointer to incomplete  error  undeclared first use in this  note each undeclared identifier is reported only once for each function it appears inndriversmmchostomaphsmmcc in function  error dereferencing pointer to incomplete  error  undeclared first use in this functionnninclude cardh to prevent the breakagenid  nishanth menon
375,add omap ondie governor to the thermal fwnnadd the omap ondie governor to the thermal frameworknthis component will impose the policy for the ondie tempnsensornid  dan murphi
376,port  to new node interface minor additional chang
377,version updates for sdkinfo header files and playerdriver documentation updatesn
378,deactivate   be built without proprietary filesn
379,modifying clip durations computation in  parsern
380,added support for new overlay apisnnoverlayh overlaycppnadded  new apis setcrop resizeinputnnlayerbuffercppncalled commitupdates after setting the position and rotation so that the updates take effectnnthis patch is dependant on patch  anu sundararajan
381,player engine should not fail playback if the source node does not support playback control interfacen
382,arm msm msmserialhs improve low power mode supportnnmove the requestclockoffon into the headernadd exitlpmcb callback to help exit low power modenclean up rts rfr handling deactivate rfr when clocking off the uartnunless rx wakeup lpm is being usednnnedoffby nick pelli
383,fix uncaught exception which caused cyclic reboot if too many widgets are creatednnthe bitmap facilities can throw an  exception if callednwhen there is insufficient vm heap available to fulfill the allocation requestnadd a trycatch handler to convert the uncaught exception into a caught onenthis prevents the normal crash it does rely on existing nullpointer trapsn
384,fix data type of rilunsolresponsenewbroadcastsms in rilnnfixing incorrect data type of rilunsolresponsenewbroadcastsmsnin android rilnnthe android ril specifies that the unsolicited response signalnrilunsolresponsenewbroadcastsms should contain a raw bytenarray rilh however in the implementation of the java ril andnthe c ril daemon the data is unpacked as a string this causesndata delivered from the network stack to be garblednnchanging so that both the c ril deamon in platformhardwarerilnand the java ril in frameworksbase follows the specificationnid
385,msm cpufreq do not call a cpu transition if selecting the same speednnnedoffby mike chan
386,arm msm kgsl clear the dummyspace region at ializationnnthe dummyspace area is being used to insert dummy operation for some ofnthe blocks when reprogramming the page tables nonzero data in thatnregion was causing the vgt to go off into the weedsnid  dima zavin
387,preserve  in phone numbers imported from simnncontacts with phonenumbers beginning with  lose the  in thenphonebook when imported from simnnthis was only noticable on adnrecords with unknown npivalues  very usualnid
388,arm msm trout update msmserialhs platform data for new wakeup irq apinnnedoffby nick pelli
389,add a virtual destructor to the ttsengine classn
390,opengl renderer create rendering subwindownnthe application provides the window handle to which thenopenglrenderer should render to however only a subregion ofnthis window needs to be rendered this change adds this functionalitynby creating a native child subwindow into which rendering will happenn
391,improve the choice of default configurationnnwhen you open a new layout the layout editor needs to pick an ialnconfiguration for the layout currently the choice of layout isnbased on the project api level such that it picks tablet screen andnlandscape orientation for api  and phone and portrait for lowernapisnnthis changeset adds another factor the currently used configurationnif you have another layout visible and you open a new layout then thenconfiguration for the current layout will be used for the new layoutnif it is a compatible matchnid
392,opengl renderer windows runtime fixnnneed to ialize networking by calling wsastartupnin the renderer processn
393,migrate render target settings to released versionsnnwhen loading the  render target setting which as of adt  per project rather than per layout check to see if it has a codenname and if so see if the user has the final version of the platformninstalled as well if so migrate the render target to the finalnversion instead since the user probably did not intentionally want tonstay with the prerelease version after installing the final versionnid
394,opengles renderer added checkglerror defie for gl debuggingnnthis commit add checkglerror define to decodersrenderer which enables variousnglgeterror calls also changed emugen to add glgeterror after every dispatch call based onndefintion of checkglerror also cleaned some annoy
395,move the image cleanup script with other scriptsnnthat way it  get picked by the build intonthe out directorynid
396,opengles translator sort conformant configs firstnnwhen sorting configs we want the conformant ones firstnthis also makes wave blazer lite work specifically by placing a nonnconformant config  at the end of the listn
397,images and asset
398,translator  fix glgetshadersourcennfix glgetshadersource to return the currect stringn
399,make sure  config is available to emulatornnthere are android applications notably bootanimation which requirenexactly an  configuration and are not satisfied by an  configuration this  make too much sense and i thinknsuch apps should be fixednhowever until that happens there is an issue when the host does notnhave an  fbconfig which is typical to many opengl implementationsnin such cases bootanimation  runnthe workaround is to add an  config to the list maintained by thentranslator which is basically an  config in disguisen
400,egl translatornnfix infe loop in egl translatorn
401,add gles includes to the translatornnthose are uptodate gles header files from khronos so thatnhost applications will be able to compile with the translatornwith no dependencies the translator now exports both eglglesnheaders and their implementation librariesn
402,opengl translator egl windows bug fixnnfixed bug caused the creation of contextnwithout setting  pixel formatnalso removing unnecessary printfsn
403,opengl translator fixing  windows egl issuesnn runtime segfaultsn pbuffer creationn
404,fix the highlight for the tech sectionnid
405,msm dma export symbols for loadable module usennnedoffby david brown  david brown
406,usb gadget android disable ums when rndis ethernet is activennnedoffby mike lockwood
407,fixes to allow  to build under ubuntu  commit contains fixes to allow the  branch to build under ubuntu   have not tested the build on other platforms  quite possible that this breaks the build on other platforms it therefore seems a bad idea to approve this change at codereview time unless you can convince yourself the other platforms will be finennbut even if it  get approved it is still worth uploading for the benefit of others who wish to get  to build under ubuntu  is the final of three commits in different packagesn
408,revert bluetooth fix removing of rfcomm dlc timer with defersetupnnthis reverts commit   nick pelli
409,add kernel params insert feature for the qemun
410,fix data type of rilunsolresponsenewbroadcastsmsnnfixing incorrect data type of rilunsolresponsenewbroadcastsmsnin android rilnnthe android ril specifies that the unsolicited response signalnrilunsolresponsenewbroadcastsms should contain a raw byte arraynrilh however in the implementation of the java ril and the cnril daemon the data is unpacked as a string this causes datandelivered from the network stack to be garblednnchanging so that both the c ril deamon in platformhardwareril andnthe java ril in frameworksbase follows the specificationnid
411,fixes to allow  to build under ubuntu  commit contains fixes to allow the  branch to build under ubuntu   have not tested the build on other platforms  quite possible that this breaks the build on other platforms it therefore seems a bad idea to approve this change at codereview time unless you can convince yourself the other platforms will be finennbut even if it  get approved it is still worth uploading for the benefit of others who wish to get  to build under ubuntu  is the first of three commits in different packagesn
412,revert usb host ehciomap remove unnecessary dpll programmingnnthis reverts commit  rebecca schultz zavin
413,fix problem with restarting an application process that recently has diednnthere exists a race condition when starting a process that recently has diednif the activitymanager receives the death notification for the died processnafter the new process has been started but before an application thread hasnbeen attached to the new process will the newly created process be removednduring the cleanup of the died process if this happens when sending a broadcastncould it result in an anrnnthis is solved by doing the clean up before starting a new process that usesnthe same process recordn
414,fixes to allow  to build under ubuntu  commit contains fixes to allow the  branch to build under ubuntu   have not tested the build on other platforms  quite possible that this breaks the build on other platforms it therefore seems a bad idea to approve this change at codereview time unless you can convince yourself the other platforms will be finennbut even if it  get approved it is still worth uploading for the benefit of others who wish to get  to build under ubuntu  is the second of three commits in different packagesn
415,add libaccso to prelink map for forwardcompatibilityn
416,remove a handful of preloaded classesn
417,this patch adds extuart into the serial inactivity frameworknnnedoffby madhusudhan chikkatur
418,revert bluetooth change rfcomm to use  for btdefersetupnnthis reverts commit   nick pelli
419,smartreflex remove vdd autocomp warning in srstopvddautocomapnnremove uneccesary warnings when smartreflex is enabled wo vdd autocompnnnedoffby mike chan
420,add blowfish support to opensslnnthis was contributed to cyanogenmod by friedrich schaeuffelhutnnblowfish support is needed in openssl to use software such as openvpnn
421,remove engines and clean up cflags formattingn
422,bluetooth allow scoesco packet type selection for outgoing sco  scopkttype is introduced to struct sockaddrsco it allows bitwisenselection of scoesco packet types currently those bits   may be   may be   may be   may be   may be   may be   may be   may be   may be   may be usednnthis is similar to the packet type parameter in the hci setup synchronousnconnection command except that we are not reversing the logic on the edr bitsnthis makes the use of scopkttpye forward portable for the use case ofnwhitelisting packet types which we expect will be the primary use casennif scopkttype is zero or userspace uses the old struct sockaddrsconthen the default behavior is to allow all packet typesnnpacket type selection is just a request made to the bluetooth chipset andnit is up to the link manager on the chipset to negiotiate and decide on thenactual packet types used furthermore when a scoesco connection is eventuallynmade there is no way for the host stack to determine which packet type was usednhowever it is possible to get the link type of sco or esconnscopkttype is ignored for incoming sco connections it is possiblento add this in the future as a parameter to the accept synchronous connectionncommand however its a little trickier because the kernel does notncurrently preserve sockaddrsco data between userspace calls to acceptnnthe most common use for scopkttype will be to whitelist only sco packetsnwhich can be done with the hcih constant scoescomasknnthis patch is motivated by broken bluetooth carkits such as the  it claims to support esco but will actually reject esco connectionsnafter  seconds and the  infi  fails to route audionif a  packet type is negiotiated with this patch userspace can maintainna list of compatible packet types to workaround remote devices such as thesennbased on a patch by marcel holtmannnid  nick pelli
423,translatornnthe dispatch loaded incorrect functions from gl for framebuffer extensionnthe functions used belong to  and  work with  contextnfixed this to use the ext functions from gln
424,system egl fix eglinitializennfix eglinitialize to accept null in majorminor parametersn
425,opengl renderer enable and fix renderer mac supportnnthe following enables the renderer build on darwinnmoved platform specific type declarations from renderapihnto renderapiplatformtypesh so it can be included from thenobjective c codenfixed subwindow to use emuglview which overrides nsview to preventnbackground drawing of the viewn
426,opengl translator mac fixes for unbind contextnnmac specific bug fix to support unbinding a contextnremoved nsopenglcontextcleardrawable call before bindingnan nsview to the context to avoid repaint of the view whichncauses flash effectn
427,opengl renderer handling subwindow messagesnnon windows we need to have a thread on the renderer processnwhich handles windows messages sent to the subwindownwe are creating during framebuffer ializationnwe run this message pump in the main renderer threadnand the server listener on a seperate threadn
428,fix typo
429,fixing bug of shadowing a variablen
430,egl translator fixes shared context on windowsnnon windows it is not possible to create a context whichnshares with another context if the other context is alreadyncurrent to some threadnthis change makes the global context be a dummy contextnon windows which we create during the first createcontextncall this dummy context will never bind to any thread sonit is safe to share with it at any timen
431,opengles emulator init eglerror to eglsuccessn
432,opengles translator omit precision macros from shadersnnthe shaders fail to compile if we  omit those changes cordy game for examplenanyways they have no semantic meaning in glsl quote for glsl  specnprecision qualifiers are added for code portability with opengl es not for functionality they have thensame syntax as in opengl es as described below but they have no semantic meaning which includes noneffect on the precision used to store or operate on variablesnalso removed an anoying print in the encodern
433,opengles host some order in host gl debuggingnnremoved some debug prints in translatornadded remarked options to enable gl debugging in decodesrenderern
434,arm msm kgsl move translation error dummy space  bytes upnnleave the bottom  of the dummy area zeroed out for other usesnlike vgt dummy cycles this is needed so that in case of a translationnerror garbage written into this area does not have adverse effectsnid  dima zavin
435,arm msm cpufreq kconfig cleanup less msm specific optionsnnnedoffby mike chan
436,arm msm mahimahi ums usb function is disabled when rndis is activennnedoffby mike lockwood
437,fix yaffs checkpoint out of space crashnan ealy return from checkpoint opening caused the writing flagnto be set incorrectly which caused the wrong execution path duringnthe closennalso clean up space left behind by aborted checkpointsnnalso jsut neaten up null handlingnnnedoffby charles man
438,translator  fix glgetpointernngetpointer is implemented both in glescmcontext and its parent glescontextnbut was not declared virtual amd hence  workn
439,fix segfault when destroying contextnnmtexcoords was not ialized in the glescontext constructor so whenndestructing it resulted in an illegal freen
440,android logger add new system log for frameworksystem log messagesnnnedoffby san mehat
441,arm mahimahi set rfkill hardware block to falsennwe do not have a hardware block for the bluetooth chip on mahimahi this was anmistake made switching from the  to  rfkill apinnnedoffby nick pelly  iliyan malchev
442,bypass pasp atom box in  parsernnnedoffby guoyinchen
443,typo in libcstdiowciohnnwhcariodata  wchariodatannedoffby nathan forb
444,validateing  arrays typen
445,opengl translator supporting glbyte typennsupport glbyte in glvertexpointer  gltexcoordpointerndesktop opengl does not support glbyte in those callsnso we convert the data into glshortn
446,opengl translator add vertex attrib index validationnnfixed conformance test issuen
447,opengl translator conformance fixesnnfix shader and program names in gldeleteshaderprogramnfix object name manager to accept objects with name  unbinding of buffersframebuffers and renderbuffersnseparate getpointer to have specific implementation for gles  and  number of supported texture images to match glnfix incorrect optimization that skips draw on false conditionsn
448,gldrawtex glinvalidvalue if widthheight
449,opengl translator extending conversionarrays classnninserting some of the logic which was scattered over some partsnof the glescontext class to be encpsulated inside the conversionarraysnso that the code will be more clea and organizedn
450,arm  add hwcap bits for  and   is a  cpu configuration where only  double registersnare present as the  configuration this patch adds thencorresponding hwcap bits so that applications or debuggers have moreninformation about the supported featuresnnnedoffby catalin marinas  russell king  picked from commit
451,move locationtracker test app from vendorgoogle to frameworksbasetestsnid  mike lockwood
452,change buffer fetch and return to mempool with first in and first outnpolicy which will benefit most of  buffer management policynnnedoffby guoyinchen
453,create a default calendar if  none from glsn
454,move locationtracker from comgoogleandroid to comandroid packagenid  mike lockwood
455,update sample rate based on upsampleing factory for aacplusnnnedoffby guoyinchen
456,without esd information still can be decodednnnedoffby guoyinchen
457,arm  kmalloc must return a cache line aligned buffernndefine archkmallocminalign in asmcachehnat the request of russell also move archslabminalign to this filennnedoffby martin fuzzey  russell king  picked from commit
458,arm  add ptrace vfp support on armnnthis patch adds ptrace support for setting and getting the vfp registersnusing ptracesetvfpregs and ptracegetvfpregs the uservfp structurendefined in asmuserh contains  double registers to cover  andnneon hardware and the fpscr registernncc paul brook  daniel jacobowitz  catalin marinas  russell king  picked from commit
459,fix a race condition that caused the launcher to be blank when triggeredn
460,programs  and  retention voltages as calculated by smartreflexnit also falls back to nonsr calculated retention voltage values when wendisable autocompensation tested on  romit dasgupta  rebecca schultz zavin
461,arm  arm introduce  to define cache line sizenncurrently kernel believes that all arm cpus have    not true at least for cpus based on  of cpus with cache line size   should be expanded laternnnedoffby kirill a shutemov  russell king  picked from commit
462,translator fix conversion of compressed texturesnnthere were several bugs in the code converting palleted textures intonrgbrgba fixedn
463,new mimetype addedapplicationvndwapconnectivitywbxmlndispatchwappdu method modified for content types with valuelength parametersnthis mimetype is used for wappush messages which sends wbxml data to the deviceconfiguration smsn
464,arm  fix vfp state corruption due to preemption during vfp  observed that arm vfp state can be corrupted during vfp exceptionnhandling when preempt is enabled the exact conditions are difficultnto reproduce but appear to occur during vfp exception handling when antask causes a vfp exception which is handled via vfpbounce and is thennpreempted by yet another task which in turn causes yet another vfpnexception since the vfpbounce code is not preempt safe vfp state thennbecomes corrupt in order to prevent preemption from occuring whilenhandling a vfp exception this patch disables preemption while handlingnvfp exceptionsnnnedoffby george g davis  catalin marinas  russell king  picked from commit
465,translator  conformance fix array related getsnnthere is a set of glgets which query the client state of thenbinded arrays the data exists in the translator context and is notnpassed to gl so the glgets should be handled internalynthis is done by implementing four glgetv methods in glescontext whichnreturn a boolean value indicating whether we have set the return valuenor not and are called by the glgetv functions in glescmimpntwo of the glgets are handled by glescontext and the other  bynglescmcontext since they are specific to gles  the same should bendone for  specific glgets in a later patchnalso buffername is now saved in glespointer in to allow thenglarraybufferbinding getn
466,translator fix eglgetprocaddress on linuxnnour implementation of eglgetprocaddress resolves the function addressesnin run time typically this is not an issue but when a gl function isnalso implemented by the calling app the address was resolved to the  version of the function rather than ours this is the case with thengldrawtexisfxoes functions in the  conformance testnthe solution is to add the bsymbolic switch when linking our librariesnso all symbol resolution is done internalynthe same fix should probably be done for macn
467,translator conformance fix texture issuesnnthis fixes three   should be handled by the translator rathernthan by  glistexture shoud return gltrue only if the texture was bound at somenpoint add a wasbound member to the texturedata and maintain  gltexparameterglgeneratemipmap did not work the first problem wasnthat it was not allowed by our validator fixed the next issue is thatnthis enum is not necessarily supported by the opengl implementation itnis in opengl  but was replaced by an extension in  so in case thenextension does not exist and glgeneratemipmap is required save this infonin a new requiresautomipmap member of texturedata and call glgeneratemipmapextnwhenever  is callednthere is a theoretical case where neither glgeneratemipmap nor glgeneratemipmapnis supported by the opengl implementation this is not likely to happen butnif we find such an implementation it might require implementing a mipmapngeneration software algorithm which is badn
468,opengl translator fixed glgetstringglextensions for  query of glextensions in  fixed egl surface desruction when there isnno current contextn
469,translator fix bug in gldeletetexturennwhen gldeletetexture is called for the currently bound texturenbinding should be reset to  calling gldeletetexture on  should do nothingn
470,translaotr handle glgetpointsizearraynnshould be handled internaly like all other array queriesn
471,translator fix conversion of compressed texturesnnthere were several bugs in the code converting palleted textures intonrgbrgba fixedn
472,translator fix drawing of glpointsizearraynnwhen translating point size arrays from gles to gl an optimizationnwas implemented where all points of the same size in an array or elementsnarray where drawn together this is wrong since it means pointsnare not drawn in the order the app has requested creating the wrongnresult when points in the array are overlapping in screen spacenso removed this mechanism and now just drawing the points in the rightnordernsome optimization is still there where if there are severalnconsecutive points of the same size they are drawn togethernnthe change in glescmimpcpp is only to make the condition more readable nthe functionality is identicaln
473,fix invalid free of stackallocated arrayn
474,translator  fix glgetpointernngetpointer is implemented both in glescmcontext and its parent glescontextnbut was not declared virtual amd hence  workn
475,fixing swedish translations of a few texts under phone infonn build numbern firmware versionnid
476,input evdev use unique wakelock namesnnwakelock names are now contain  and pidnnnedoffby mike chan
477,pmem remove  ioctlsnnnedoffby dima zavin
478,the adb dump command sometimes give a null pointer exceptionnnusing the adb dump command to get the string content from the current screennstate occationally fails with an exception in viewdebugnnthe tell tale sign of this issue isnnjavalangnullpointerexception     atnnnfixed by adding a null checkn
479,update track info in refresh in case the duration get by first time is not enough accuratennthere are some vbr files which need parser great time to calculate the duration timenso parser may calcultate a nonprecise duration at first for fast start up playing backnthen update the duration time to a more precise time at a later timennnedoffby guoyinchen
480,these changes add access to some status values in widgets listed belownnwidgetcheckedtextviewjava report if the item is checked or notnnwidgetcompoundbuttonjava report if the item is checked or notnnwidgetprogressbarjava isindeterminate getprogress getsecondaryprogress and getmax report whatnsliders and progress bars are showingnnwidgettextviewjava report the current selection getselectionstart and getselectionendn
481,pmem make the exposed functions be noops if configandroidpmem is not setnnnedoffby dima zavin
482,pmem expose ispmemfile to the inkernel usersnnnedoffby dima zavin
483,add blowfish support to opensslnnthis was contributed to cyanogenmod by friedrich schaeuffelhutnnblowfish support is needed in openssl to use software such as openvpnnid
484,this patch adds oswr support for mpucore domains in cpuidlentwo new c states are being added to the existing c statesnwhich makes the new states look like  mpu wfi core  mpu wfi core  mpu cswr core  mpu off core  mpu cswr core  mpu off core  mpu oswr core oswr new  mpu off core oswr new  mpu off core offnnnedoffby thara gopinath  vishwanath b
485,arm msm kgsl release the memory back into the free pool after unmapping itnid  dima zavin
486,arm msm msmserialhs rename wakeup to rxwakeupnnpreparation for a new low power wakeup modennnedoffby nick pelli
487,fix for vio leakage on  pulling the bten line high for  andnmaking low for  before reassertingnnnedoffby lesly a m  vishwanath b
488,arm msm msmserialhs rename wakeup to rxwakeupnnpreparation for a new low power wakeup modennnedoffby nick pelli
489,fixed problem with proxy server sometimes responds with  bad request when tryingnto connect to a site using httpsnnthe connect to the server lacks the  header which is mandatory according to thenspecification some proxy servers are strictly following the specification and sendsnback the  bad requst error coden
490,makeadd virtual destructors to classes with virtual functionsn
491,arm msm kgsl properly cleanup when pagetable creation failsnid  dima zavin
492,remove chartablesc as  already included indirectlyn
493,make soundrecorder launchablen
494,convert all build target tags to optionalnna typo in the build target tags was causing them all to benleft blank  is unused now sonchange all targets to optionalnid
495,arm tegra dma make checkpatch happynnnedoffby iliyan malchev
496,save nand disk state in snapshotsnnthis patch fixes saving and restoring the state of the emulated nandndisks by copying all contents of each disk into the snapshot filenduring restore the disks are then entirely overwritten with thensnapshot contentsnnthe main issue with this approach is that the size of the disknsnapshots is determined by the maximum capacity of the disk innquestion rather than the actual size of the underlying file whichnmay be considerably smaller the difference is filled with paddingnunfortunately obvious approaches to avoid this padding result innincorrect state after restoringnid
497,asoc remove volatility from   registernncommit  upstreamnnnot all bits can be read back from  so avoid corruption when usingna readmodifywrite cycle by marking it nonvolatile the only thing wenread back from it is the chip revision which has diagnostic value onlynwe can readd later but  a more invasive change than is suitablenfor a bugfixnnnedoffby mark brown  liam girdwood  greg kroahhartman
498,delete alarmmanagertesttestsettimezonennbug   think this can or will be fixed so delete this testnid
499,arm tegra dma expose tegradmamaxtransfersize fix typonnnvdmamaxtrasfersize  tegradmamaxtransfersizennnedoffby iliyan malchev
500,kvm vmx fix host userspace gsbase corruptionnncommit  upstreamnnwe now use loadgsindex to load gs safely unfortunately this alsonchanges msrkernelgsbase which we managed separately this resultednin confusion and breakage running  host userspace on a  kernelnnfix byn saving guest msrkernelgsbase before we we reload the  gsn doing the host saveload unconditionally instead of only when in guestn long modennthings can be cleaned up further but this is the minmal fix for nownnnedoffby avi kivity  marcelo tosatti  greg kroahhartman
501,fix broken contextwrappertesttestaccessthemennbug  annotation said needs investigation but the test works finenthere was a weird comment about settheme only working for the firstntime which is trueand looks like a bug in contextthemewrappernid
502,added a move flag for  mount command that maps to msmovenid
503,asoc  clear  bit for freq    upstreamnnmclkdiv bit of register   divide by  divide by  in the case of freq   we should clear mclkdiv bitnnnedoffby axel lin  liam girdwood  mark brown  greg kroahhartman
504,binder fix misleading log in binderdebugbufferalloc enabled buildnnthe page holding the deleted buffer  deallocated when the it isnshared with either the previous or next buffer and this is logged innbinderdebugbufferalloc enabled build however the current lognprints the address of the previous buffer when the page holding thendeleted buffer is actually shared with the next buffernnnedoffby vairavan srinivasan
505,asoc  clear  bit for normal modenncommit  upstreamnndacslope bit of register  adc and dac control   normal moden  sloping stopband modennthus in the case of normal mode we should clear dacslope bitnnnedoffby axel lin  liam girdwood  mark brown  greg kroahhartman
506,kvm correct ordering of ldt reload wrt fsgs reloadnncommit  upstreamnnif fs or gs refer to the ldt they must be reloaded after the ldt reordernthe code to that effectnnuserspace code that uses the ldt with kvm is nonexistent so this  fixna uservisible bugnnnedoffby avi kivity  marcelo tosatti  greg kroahhartman
507,remove phonenumberutilstest voicemail checknnbug  the phonenumberutilsgetnumberfromintent assertion thatnchanged from  to  that would not require a private apincall to checknid
508,kvm  fix information leak to userlandnncommit  upstreamnnstructures kvmvcpuevents kvmdebugregs  andnkvmclockdata are copied to userland with some padding and reservednfields unitialized it leads to leaking of contents of kernel stacknmemory we have to ialize them to zeronnin patch  jan kiszka suggested to fill reserved fields with zerosninstead of  the whole struct it makes sense as thesenfields are explicitly marked as padding no more fields need zeroingnnnedoffby vasiliy kulikov  marcelo tosatti  greg kroahhartman
509,arm etm  try to clear the buffer full status after reading the buffernnif the write address was at the end of the buffer toggling the tracencapture bit would set the ramfull status instead of clearing it andnif any of the stop bits in the formatter is set toggling the tracencapture bit may not do anythingnninstead use the read position to find out if the data has alreadynbeen returnednnthis also fixes the read function so it works when the trace buffer isnlarger than the buffer passed in from user space the old versionnwould reset the trace buffer pointers after every read so the secondncall to read would always return   arve hjønnevåg
510,arm etm  limit tracing to only nonsecure codennon some systems kernel code is considered secure and this codenalready limits tracing to the kernel text segment which resultsnin no trace datanid  arve hjønnevåg
511,arm etm  require clock controlnnif clkget fail assume the etb does not need a separate clocknid  arve hjønnevåg
512,arm  coresight move struct tracectx inside etm drivernnthis is done so as to be able to make use of the coresight  in assembler code like omap sleep code also there  any users of this structure outside the etm drivernid  linuxarmkernellistsinfradeadorgncc linuxkernelvgerkernelorgnnedoffby alexander shishkin  russell k
513,arm  coresight add etm management registersnnadd notion of etm os lock save and restore registersnid  linuxarmkernellistsinfradeadorgncc linuxkernelvgerkernelorgnnedoffby alexander shishkin  russell k
514,add renderscript support to the adt buildersnnthis uses the new javagenerator mechanism so that all  needednis to run llvmrscc on a given list and parsing the dependency  creatednid
515,support  content typenid  sangjun park
516,arm fiqdebugger print local timer irqs countnnprints the number of local timer irqs on each cpu whenn the irqs command is executednid  rebecca schultz zavin
517,fix ringertonemanagertestteststoppreviousringtonennbug  adjuststreamvolume to get the device out of vibrate modenso that isplaying will return true when its supposed tonid
518,firewire ohci fix race in ar split packet handlingnncommit  upstreamnnwhen handling an ar buffer that has been completely filled we assumednthat its descriptor will not be read by the controller and can benoverwritten however when the last received packet happens to end atnthe end of the buffer the controller might not yet have moved on to thennext buffer and might read the branch address later if we overwritenand free the page before that the dma context will either go deadnbecause of an invalid z value or go off into some random memorynnto fix this ensure that the descriptor does not get overwritten bynusing only the actual buffer instead of the entire page for reassemblingnthe split packet furthermore to avoid freeing the page too earlynmove on to the next buffer only when some data in it guarantees that thencontroller has moved onnnthis should eliminate the remaining firewirenet problemsnnnedoffby clemens ladisch  maxim levitsky  stefan richter  greg kroahhartman
519,world phone support in testtelephonyfeaturesnnbug  phones support both gsm and cdma butntelephonymanagergetphonetype can only report one at a given timenthus  assert that the other telephony features are not setnid
520,firewire ohci fix buffer overflow in ar split packet handlingnncommit  upstreamnnwhen the controller had to split a received asynchronous packet into twonbuffers the driver tries to reassemble it by copying both parts intonthe first page however if size rest  pagesize ie if the yetnunhandled packets before the split packet the split packet itself andnany received packets after the split packet are together larger than onenpage then the memory after the first page would get overwrittennnto fix this do not try to copy the data of all unhandled packets atnonce but copy the possibly needed data every time when handlingna packetnnthis gets rid of most of the infamous crashes and data corruptions whennusing firewirenetnnnedoffby clemens ladisch  maxim levitsky  stefan richter  greg kroahhartman
521,fix ping version reportingnnthe emulator version reported through ddms was incorrectnin the sdk  emulator binary due to a previous change in ournmakefilesnid
522,alsa  apply quirk for dell latitude  binding master and headphone controlsnncommit  upstreamnnbuglink  original reporter states the master mixer does not change thenvolume from the headphone output which is affected by the headphonenmixer instead it only seems to control the onboard speaker volumenthis confuses pulseaudio greatly as the master channel is merged intonthe volume mixnnfix this symptom by applying the hponly quirk for the  ssidnthe fix is applicable to all stable kernelsnnreportedandtestedby ben gamari  daniel t chen  takashi iwai  greg kroahhartman
523,validate telephony manager country codesnnbug  sure getnetworkcountryiso and getsimcountryiso returnniso country codes and not mcc country codes also prohibitnthe use of  iso codesnid
524,alsa hda fixed  ial errornncommit   is like  it can not be ialized as  kailang yang  takashi iwai  greg kroahhartman
525,comments general settingsnset never join lines to truenid
526,tools package was missing proguardbatnnsdk bug
527,alsa hda use alcinitdefault for really default ializationnncommit  upstreamnnwhen sku assid gives no valid bits for  the driver  takenany action so far this resulted in the missing ialization fornexternal amps etc thus the silent output in the endnnespecially users hit this problem on  newly since  the driver  force to use alcinitdefault any morennthis patch sets the default ialization scheme to usenalcinitdefault when no valid bits are set for sku  kyle mcmartin  takashi iwai  greg kroahhartman
528,blank lines within class declarationsnset before field declarations value to
529,arm tegra use dma to readwrite fuse  hangs if fuse registers are accessed during an apb dmanoperation war is to use apb dma to readwrite fuse registersninsteadnid  varun wadekar
530,alsa hda add samsung  ssid for subwoofer pin fixupnncommit  upstreamnnbuglink  original reporter states that the subwoofer does not mute whenninserting headphones we need an entry for his  ssid in thensubwoofer pin fixup list so add it there verified using hdaanalyzernnreportedandtestedby inodnnedoffby daniel t chen  takashi iwai  greg kroahhartman
531,cameratest experimentnnthis change started off as an experiment to see how usefulna requiredfeatures annotation would be to omit tests forndevices that may not have the camera feature alas it seemsnit may be important to check the noop behavior of an apinon such devices as a result most of the tests still makensense even without a camera because the callbacks should bencalled i think only parts of the test like actuallynreturning the jpeg data  work so wrap those aroundna feature checknid
532,merge commit  into freebsdportn
533,adt ability to run proguard as part of the buildersnnsdk bug  adds a global prefs that enable users to have the buildersnrun proguard on projects which are configured for it having anglobal pref is probably not optimal but is a good way to getnstarted ideally it should be a per project setting or evernbetter a launch configuration option but this is a bigger scopenwe can implement laternnthere are also a few fixes to make proguard work under windowsn the proguardbat can only pass  args but we have  son  use a temporary proguard config file for windowsn proguardhome needs to be defined properly since the defaultn proguardbat cannot infer it properly we need other fixesn to that batch file so eventually  not going to ship then default one and we can fix the bat file but properly definingn this env var is probably a good idea anywaynid
534,apanic move nonpanictime device io to userspacennallow apanic crashes to be read and cleared from sdhciemmcndevices shared with normal system activity without interferingnwith emmc stack io the dedicated apanic driver does not respectnlocks and reconfigures the sdhci controller and emmc card innincompatible or suboptimal ways readwrite activity on the nextnboot to save away the apanic dump is moved from the dedicated drivernto userspace mtd erase continues to be performed by the dedicatedndriver since this continues to not be harmful and the androidnuserspace does not currently provide an mtd erase utilitynnprocapanicconsole and procapanicthreads are replaced bynprocapanic and procapanicreset which can be read andnwritten by userspace to find how to access the the apanic dumpndevice the current interface is shell script friendly in ordernto avoid shared kerneluserspace header files and because nandreadnis useful to leverage for reading dumps on mtd the script writesnthe apanic header to the kernel driver which interprets the headernand tells the script at which offsets and lengths to read thenconsole and thread dump logsnid  todd poynor
535,arm etm configure data tracingnnthe old code enabled data tracing but did not configure thenrange we now configure it to trace all data addresses by defaultnand add a tracedatarange attribute to change the range or disablendata tracingnid  arve hjønnevåg
536,allows building of webkit libs on freebsdnnincludes declarations of afinet sockaddrin  etcn
537,alsa hda add an extra dac for realtek   upstreamnnthe patch enables  to use the dac at nid  makes it possible to use this dac for e g headphonenvolumennnedoffby david henningsson  takashi iwai  greg kroahhartman
538,arm etm allow range selectionnntrace kernel text segment by default as before allow tracing of othernranges by writing a range to sysdevicesetmtracerange or to traceneverything by writing    arve hjønnevåg
539,add layout unit testsnnadd layout unit tests and some infrastructure for testing also fixnsome formatting errors  column lines in the previous commitnid
540,alsa hda fix  captureplayback mixersnncommit  upstreamnnthe mixer nids passed to alcautocreateinputctls are wrong  isna pin and  is the adc on both  thus withncurrent code input playback volumeswitches and input source mixerncontrols are not created and recording  work select correctnmixers  input playback mixer and  capture source mixernnreference  herton ronaldo krzesinski  takashi iwai  greg kroahhartman
541,merge commit  into freebsdportn
542,alsa hda add fixup pins for ideapad   upstreamnnby adding the subwoofer as a speaker pin it is treated correctly when automutingnnbuglink  david henningsson  takashi iwai  greg kroahhartman
543,fix emulator buildnid
544,alsa hda add speaker pin to automute acer aspire   upstreamnnbuglink  clause for handling acer aspire  subwoofer as additionalnspeaker pin for automutingnnreportedby russianneuromancernnedoffby daniel t chen  david henningsson  takashi iwai  greg kroahhartman
545,fix relativelayout insert bad attributes sometimesnnwhen relativelayout drops new elements it filters thenattributes and the filter is supposed to return false tonindicate some attribute is not needed unfortunately thenfiltering code was assigning this to a string type andnthus the false value was autoconverted to false thusnfailing the test and ending up asis in the xmlnid
546,alsa hda added fixup for lenovo   upstreamnnnedoffby valentine ssyn  takashi iwai  greg kroahhartman
547,fix ant dexhelper to not pass in external libsjarnnbug
548,fix for supporting  digits mnc codenndefault android mnc value has a  digit but it should be supported a  digitnmnc in india should be supported both  and  digits mncnid  sangjun park
549,simple implementation of an unlink command for nnit is in the style of the symlink commandnid
550,two digit numbers are dialed normally not ussd if users dial  in croatia and serbianid
551,changes related to change  by josh  made freebsd version of findjdktoolsjarsh more  moved shell setting to configmk this will make makefiles usen bash when invoked while build process and when invoked from envsetupshn
552,make sure the background data checkbox is updatednnadd a receiver to get background data status fromnconnectivity manager to make sure the backgroundndata checkbox status is rightnid
553,line wrapping general settingsnset never join already wrapped lines to truenid
554,control statements   keep  statement on same line to truenid
555,temporarily solution for freebsd onlynnmanifest contains newer versions of swteclipse librariesnshould be same as on other systems outdated versions when prebuilts for it will be availablenuse only in freebsdport branchn
556,net wireless  update to version  watchdog time rescheduling fix first scan noreturnnnnedoffby dmitry shmidt
557,arm tegra fuse readwrite apis for fuse burningnnexpose fuse register read and write apis for fusenburningnid  varun wadekar
558,alsa hda use alienware model quirk for another ssidnncommit  upstreamnnbuglink  original reporter states that headphone jacks do not appear tonwork upon inspecting his codec dump and upon further testing it isnconfirmed that the alienware model quirk is correctnnreportedandtestedby cody thieraufnnedoffby daniel t chen  takashi iwai  greg kroahhartman
559,arm tegra support to burn device fusesnid  varun wadekar
560,alsa fix sndctldspreset ioctl for oss emulationnncommit  upstreamnnin oss emulation sndctldspreset ioctl needs the reset of the internalnbuffer state in addition to drop of the running streams otherwise thensucceeding access becomes inconsistentnntestedby amit nagal  takashi iwai  greg kroahhartman
561,arm tegra usbphy reset the ulpi phy on power offnnput the ulpi phy in reset on power off to save power in   benoit gobi
562,broadcast proxychangeaction when preferred proxy changesnna client should only need to subscribe for proxychangeactionnbroadcasts to get updates when the proxy changesnid
563,hiding browser edit text interface on incoming callnnopen browser in main menu tap address field to enternthe input field long tap the input field the “edit text�nlist pops up receive an incoming call the incoming callninterface cannot displayed only ringtone is heardnnadded changes to hide the edit text dialog when an incomingncall is received this will keep the incoming call ui innforegroundnid
564,usb host add poweroffonbussuspend optionnnif the device connected to a port has outofband wakeupnsignaling the phy and controller may be powered off on bus suspendnid  benoit gobi
565,netfilter nfconntrack allow nfctallochashtable to get highmem pagesnncommit  upstreamnncommit  use slabdestroybyrcu and get rid of callrcundid a mistake in vmalloc call in nfctallochashtablenni forgot to add gfphighmem so pages were taken from lowmem onlynnnedoffby eric dumazet  patrick mchardy  greg kroahhartman
566,support audio ogg type in multimedia messagenid  sangjun park
567,ecryptfs call vfssetxattr in ecryptfssetxattrnncommit  upstreamnnecryptfs is a stackable filesystem which relies on lower filesystems thenability of settinggetting extended attributesnnif there is a security module enabled on the system it updates  field of inodes according to the owned extended attribute setnwith the function vfssetxattr when this function is performed on anecryptfs filesystem the  field is not updated for the lowernfilesystem since the call securityinodepostsetxattr is missing fornthe lower inodenfurther the call securityinodesetxattr is missing for the lower inodenleading to policy violations in the security module because specificnchecks for this hook are not performed i e  permission on selinux is not checked for the lower filesystemnnthis patch replaces the call of the setxattr method of the lower inodenin the function ecryptfssetxattr with vfssetxattrnnnedoffby roberto sassu  dustin kirkland  james morris  tyler hicks  greg kroahhartman
568,arm tegra clock add new dvfsnnnew and improved dvfsnregistered dynamically during nexports dvfs functions to control clocks that are not visible ton the clock subsystemnsupports multiple regulators per clocknfix dvfs on disabled clocksnadds dclockdvfs to show current voltage requirementsnid  colin cross
569,ecryptfs clear lookupopen flag when creating lower filenncommit  upstreamnnecryptfs was passing the lookupopen flag through to the lower filensystem even though ecryptfscreate  support the flag a validnfilp for the lower filesystem could be returned in the nameidata if thenlower file  create function supported lookupopen possiblynresulting in unencrypted writes to the lower filennhowever this is only a potential problem in filesystems fuse nfsncifs ceph  that ecryptfs  known to support  kevin buhrnnedoffby tyler hicks  greg kroahhartman
570,arm tegra dvfs convert cpu to new dvfs add core dvfs tablesnid  colin cross
571,really fix recovery looping when single good device failsnncommit  upstreamnncommit  supposedly fixed anproblem where if a  with just one good device gets a readerrornduring recovery the recovery would abort and immediately restart innan infe loopnnhowever it depended on  removing the spare devicenfrom the array but that does not happen in this case so add a testnso that in the  case the device will be removednnthis suitable for any kernel since  which is whennrecoverydisabled was introducednnreportedby sebastian färber  neilbrown  greg kroahhartman
572,md fix regression with  arrays without persistent metadatanncommit  upstreamnna  which has no persistent metadata whether internal ornexternal will hang on the first writenthis is caused by commit  that case mdchangepending never gets clearednnso during mdupdatesb is neither persistent or externalnclear mdchangependingnnthis is suitable for  neilbrown  greg kroahhartman
573,arm tegra support to burn device fusesnnfuse api to support burning of device fusesnid  varun wadekar
574,partial build fixnid
575,refactor the framebuffer servicenid
576,fixed the implementaion of the seekbarchangelistener methods this fixes the incorrect behavior of seekbar  jump when it is dragged very fast now we ensure that  only one refresh message queued and after the drag is over the change is inline with the implementation in the mediacontroller class nedoffby ritu srivastava
577,api analysisnnthis change try to solve the issue  show warnings when using highlevel api and a lower minsdkversionnthan the targetsdkversionnnit work on the following waynn there is a compilation participant that compile an android project yetnanother but use androidjar from the minsdkversion sdk instead of fromntarget sdk if errors exist they are converted to warningerror withnmessage as api level minsdkversion compatibility   user can select to ignore these errors show warning default ornshow errornnthe compilation participant  be executed in the following casenn a project  android projectn there  minsdkversion declaration in the android manifestn minsdkversion  target versionn there  minsdkversion target within android sdkn there are errors in the projectnit  trivial to separate compatibility problems from other errorsnimo this check is important when the application work correctly onntarget platform however  possible change this behaviorn property page is set to ignorenid
578,add timetolive ttl support to resolver cachennuse the the ttl of the answer as the time a querynshall remain in the resolver cachennadded some debugging support as well ienparse answer and print a la dignid
579,fix the multipage sms sending error to several receipentsnid  sangjun park
580,fix delivery report error with pending status in  according to ts  tpstatus values is changed  when processing status report it should be checked whether tpstatus is pending or failednid
581,fix the delivery report errornnalthough tpstatus is pending or failed delivery report is displayednonly in case of success it should be displayed to usersnid  sangjun park
582,fix select all problem in the gallery appsnnwhen pressing a select all menu in the gallery several images  selcted correctlynid  sangjun park
583,adding goldfishdefconfig for   sheng yang  yunhong jiang  jun nakajima
584,draw events through a staticlayoutnnless code and supports bidi much better ie bidi is now supportednid
585,tty ldisc fix open flag handlingnncommit  upstreamnnwhen a concrete ldisc open fails in ttyldiscopen we forget to clearnttyldiscopen this causes a false warning on the next ldisc opennwarning at   name system product namenmodules linked in npid  comm aout tainted g w   tracen         clear the bit when failingnnintroduced in  tty rewrite the ldisc locking back  jiri slaby  alan cox  sergey lapin  sergey lapin  greg kroahhartman
586,initial commit for font engine manager this new approach proposed from bitstream inc will allow to plugin any font engine apart from freetype this will be very much valuable for the oems who may need the different engine than freetype or a set of engines to support the localization or new font formats this new proposal allows android to support more than one font engine dynamically at runtimenid
587,ttyldisc fix bug on hangupnncommit  upstreamnna kernel bug when bluetooth rfcomm connection drop while the associatednserial port is open is sometime triggerednnit seems that the line discipline can disappear between thenttyldiscput and ttyldiscget this patch fall back to the ntty linendiscipline if the previous discipline is not available anymorennnedoffby philippe retornaz  alan cox  greg kroahhartman
588,initial commit of freetype plugin based on font engine managernid
589,replacement of padding with ftruncatennalso stored some other parameters speculativelynnguard ftruncate and lseek against eintrnid
590,alsa hda use bios autoparsing instead of existing model quirk for medion   upstreamnnbuglink   ubuntu maverick user  reported a regressionnin audio playback was inaudible through both speakers and headphonesnin commit  of  a new model was added with  pci ssid fortunately it is now sufficient to use the autonmodel for bios autoparsing instead of the existing quirknnplayback capture and jack sense were verified working for  and the alsadriver snapshot from  when  isnusednnreportedandtestedby  daniel t chen  takashi iwai  greg kroahhartman
591,md fix return value of rdevsizechangenncommit  upstreamnnwhen trying to grow an array by enlarging component devicesnrdevsizestore expects the return value of rdevsizechange to benin sectors but the actual value is returned in kbsnnthis functionality was broken by commitn  this patch is suitable for any kernel since  justin maggard  neilbrown  greg kroahhartman
592,remove extraneous parameter storagenid
593,tty restore ttyldiscwaitidlenncommit  upstreamnnit was removed in  ttyldisc turn ldisc user count intona proper refcount but we need to wait for last user to quit thenldisc before we close it in ttysetldiscnnotherwise weird things start to happen there might be processesnwaiting in  on  for input to appearnand at that moment a change of ldisc is fatal nttyclose is callednit frees readbuf and the waiting process is still in the middle ofnreading and goes nuts after it is wokennnpreviously we prevented close to happen when others are in ldisc opsnby ttyldiscwaitidle in ttysetldisc but the commit above removednthat so revoke the change and test whether there is  user  andnallow the close thennnwe can do that without ldisctty locks because nobody else can opennthe device due to ttyldiscchanging bit set so we in fact wait forneverybody to leavenni  understand why ttyldisclock would be needed either when thencounter is an atomic variable so this is a locklessnttyldiscwaitidlennon the other hand if we fail to wait timeout or signal we have tonreenable the halted ldiscs so we take ldisc lock and reuse the setupnpath at the end of ttysetldiscnnnedoffby jiri slaby  linus torvalds  sebastian andrzej siewior    alan cox  greg kroahhartman
594,minimise changesnid
595,tty prevent dos in the flushtoldiscnncommit   a small window inside the flushtoldisc functionnwhere the tty is unlocked and calling  receivebufnfunction if in this window new buffer is added to the ttynthe processing might never leave the flushtoldisc functionnnthis scenario will hog the cpu causing other tty processingnstarving and making it impossible to interface the computernvia ttynni was able to exploit this via pty interface by sending onlyncontrol characters to the master input causing the flushtoldiscnto be scheduled but never actually generate any outputnnto reproduce please run multiple instances of following codenn snipndefine xopensourceninclude      mainint argc char argvnn int i slave master  getptn char  sprintfbuf s ptsnamemastern grantptmastern unlockptmasternn slave  openbuf ordwrn if slave   n perroropen slave failedn return  nn fori   i  sizeofbuf in bufi  rand   n writemaster buf sizeofbufn nn return  snipnnthe attached patch based on next tree fixes this by checking on thentty buffer tail once  reached the current work is reschedulednand another could runnnnedoffby jiri olsa  alan cox  greg kroahhartman
596,draw events through a staticlayoutnnless code and supports bidi much betternid
597,initial commit of freetype plugin based on font engine managernid
598,fix broken remoteviewstestnnthe bitmaps  being loaded using the same configuration andnoptions so these tests were failingnid
599,usbnet fix usbautopmgetinterface   upstreamnnsince usbnet already took usb runtime pm we have tonenable runtime pm for usb interface of usbnet otherwisenusbautopmgetinterface may return failure and    failed if usbsuspendruntimepm isnenablednncc david brownell  david s miller  ben hutchings  joe perches  oliver neukum  andy shevchenko  ming lei  david s miller  greg kroahhartman
600,initial commit for font engine manager this new approach proposed from bitstream inc will allow to plugin any font engine apart from freetype this will be very much valuable for the oems who may need the different engine than freetype or a set of engines to support the localization or new font formats this new proposal allows android to support more than one font engine dynamically at runtimenid
601,change the javagenerator to handle output and dependenciesnnpreviously the generator only handled a list of files to compilenand a list of files that were removednnnow the generator provides all that needed to do incrementalnbuilders with known state on top of providing a defaultndeltavisitor it handles file dependency and list of outputnfilesnnthe aidl generator was updated to use this and the renderscriptngenerator will use the same mechanismnnalso fixed the abortonbadsetup which through coreexception which didnnothing to stop later builders unlike my comments said andnpoluted the workspace log with worthless messagesnid
602,tty openhangup race fixupnncommit  upstreamnnlike in the tty  allow reopen when ldisc is changing patchnthis one fixes a tty warning as described in the option   ttyhangup from ttyldischangup to ttyldiscenable during thisnsection ttylock is held however ttylock is temporarily dropped innthe middle of the function by ttyldischangupnnthe fix is to introduce a new flag which we set during the unlockednwindow and check it in ttyreopen too the flag is ttyhupping and isncleared after ttyhupped is setnnwhile at it remove duplicate ttyhupped setbit the one afterncalling  seems to be more correct but anyway we holdnttylock so there should be no differencennalso document the function it does that kind of crapnnnicely reproducible with two forked childrennstatic void doworkconst char ttynntif signalsighup sigign  sigerr   nttint fd  opentty ordwronocttynttif fd   continuenttif ioctlfd tiocsctty continuenttif vhangup  jiri slaby   kyle mcmartin  alan cox  greg kroahhartman
603,port layout rules to javannwe had a number of layout implementations in the tool written inngroovy these were hard to deal with because of lack of good toolnsupport debugging  work refactoring  work codencompletion  always work go to declaration  worknsemantic checks like unused code  work etc etcnnsince these layout helpers are only getting larger replace them bynequivalent java code to make development easiernnthis checkin also moves the api classes formerly used by groovynscripts into a new package next to the java layout rules underncomandroididecommon api and layout since this code  eclipsenspecific and could be used by other ide vendorsnnthese interfaces were left identical only the package statements andndirectory location changed with two exceptions i added a new methodncalled in to iattributeinfojava andti addedta parameter  oninitialize methodnnthe groovy code was kept as close to the original as possible incopied in the groovy code and then replaced the groovyspecificnconstructs closureiteration on collections literal map syntax etcnwith equivalent java code the only tricky part was ensuring  handling of the  and  operators were translated intonequals callsnid
604,gspca main fix a regression with the  eye webcamnncommit  upstreamnnwhen audio is present some alternate settings were skippednthis prevented some webcams to work especially when bulk transfer was usednthis patch permits to use the last or only alternate settingnnreportedby antonio ospite  antonio ospite  jeanfrançois moine  mauro carvalho chehab  greg kroahhartman
605,updating the feature summary test to include a legend in the info dialog thisnrequired a minor change to the base classes to support adding a view to theninfo dialog instead of just text also added info strings for accelerometernand magnetometer testsnid
606,hid fix for problems with egalaxdwav multitouchscreennncommit  upstreamnnthis patch fixes three problems with the egalaxdwav multitouchnscreen found in the eee pc  while there is a dedicated multitouch driver for the screenn hidegalaxc the multiinput quirk is also applied preventingn the hidegalax driver from working this patch removes the quirkn so the hidegalax driver can handle the device  the x and y coordinates sent by the screen in multitouch mode aren shifted by three bits from the events sent in singletouch mode thusn the coordinates are out of range leading to the pointer being stuckn in the bottomright corner if no additional calibration is appliedn eg in the x evdev driver this patch shifts the coordinates backn this does not decrease accuracy as the last three bits of the wrongn coordinates are always  only multitouch pressure events are sent single touch emulation isn missing pressure information this patch adds singletouchn abspressure eventsnnnedoffby philipp merkel  stéphane chatty  jiri kosina  greg kroahhartman
607,tty  allow reopen when ldisc is changingnncommit  upstreamnnthere are many warnings like the following reported nowadaysnwarning at   name latitude  linked innpid  comm plymouthd not tainted   tracen         means ttyreopen is called without ttyldisc set for furthernconsiderations note ttylock is held in ttyopen ttyldisc is cleared  ttyhangup from ttyldischangup to ttyldiscenable during thisnsection ttylock is held however ttylock is temporarily dropped innthe middle of the function by  ttyrelease via ttyldiscrelease till the end of tty existence    ttylock is taken ttyclosing bit set and thennttyldiscrelease called ttyreopen checks ttyclosing before  ttysetldisc from ttyldischalt to ttyldiscenable wen take ttylock set ttyldiscchanging put ttylockn call ttyldischalt clear ttyldisc ttylock is not heldn do some other workn take ttylock call ttyldiscenable set ttyldisc putn ttylocknni cannot see how  can be a problem as there i see no race otoh   can happen without problems this patch the case  by checkingnttyldiscchanging along with ttyclosing in ttyreopen  will benfixed in the following patchnnnicely reproducible with two processesnwhile  ntfd   ordwrntif fd   nttwarnopennttcontinuentntclosefdnnnwhile  n fd   ordwrn       while  n ioctlfd tiocsetd  ioctlfd tiocsetd  n closefdnnnnedoffby jiri slaby   kyle mcmartin  alan cox  greg kroahhartman
608,fix compiling errors of missing tagsn  to
609,fix broken mediarecordertesttestsetcamerannbug  test needs to unlock the camera before passing it to thenmediarecorder this is apparently normal as seen innvideocamerajava in the camera projectnid
610,fix progressbartestnnbug  remove broken testaccessinterpolatorcontext because it was doing then same thing as the test above itn change references to comandroidinternal to androidnid
611,crash zygote if webcore fails to loadnid
612,refactor attachui servicenid
613,net add udp stats and pkt count to uidstatnnnedoffby ashish sharma
614,fix broken messagequeuetestsnnrewrite the addidlehandler and removeidlehandler tests to be morenclearnid
615,fix androidbat to support cwd with  characternnsdk bug
616,partial build fixnid
617,fix data corruption when writing to bluetooth socketnnwrites to bluetooth sockets are handled by writenative innandroidbluetoothbluetoothsocketcpp this calls asocketwritenwhich is implemented in abortsocketcnnthis latter function sleeps until poll indicates that the socket isnwriteable then calls write once returning the number of bytesnwritten however writenative just returns this byte count to thencaller  eventually ignored in bluetoothoutputstreamjava  match the semantics of a java outputstream which is requirednto block until all bytes have been writtennnthis fix adds a loop to writenative that repeatedly calls the lowernlevel write function until all the data has been written or an errornoccurred in which case we should exit the loop early with thisnchange it is possible to write large amounts of data to a bluetoothnsocket without experiencing data lossnid
618,remove temporary disabling of proguard during adt exportnid
619,kvm write protect memory after slot swapnncommit  upstreamnni have observed the following bug  userspace calls  kvmmmuslotremovewriteaccess is called and makes a page  page fault happens and makes the page writeablen fault is logged in the bitmap  kvmvmioctlgetdirtylog swaps slot pointersnna lot of time  guest writes into the  userspace calls getdirtylognnat point  bitmap is clean and page is writeablenthus guest modification of memory is not loggednand getdirtylog returns an empty bitmapnnthe rule is that all pages are either dirty in the current bitmapnor writeprotected which is violated herennit seems that just moving kvmmmuslotremovewriteaccess downnto after the slot pointer swap should fix this bugnnnedoffby michael s tsirkin  avi kivity  greg kroahhartman
620,net wireless  improve btcoex for esconnnedoffby dmitry shmidt
621,hdpvr add missing urbnotransferdmamap flagnncommit  upstreamnnnecessary on armnnnedoffby janne grunau  mauro carvalho chehab  greg kroahhartman
622,make a prebuilt for layoutlibapinnthis allows us to update the api in sdkgit using a differentnbranching strategy than frameworkbasegitnid
623,gspca sonixj fix a regression of sensors  and   upstreamnnthe bug was introduced by commit  values of sensor  to sensors  and  jeanfrançois moine  mauro carvalho chehab  greg kroahhartman
624,make layoutlib use the prebuilt of layoutlibapinid
625,nfs handle lock context allocation failures in nfscreaterequestnncommit  upstreamnnnfsgetlockcontext can return null on an allocation failurenregression introduced by commit  steve dickson  jeff layton  trond myklebust  greg kroahhartman
626,add use of volume rocker to navigate to nextprevious message whilenin message viewnid
627,fix   upstreamnnit was missing the   igor  andrew morton  mauro carvalho chehab  greg kroahhartman
628,oprofile fix the hang while taking the cpu offlinenncommit  upstreamnnthe kernel build with configoprofile and cpuhotplug enablednthe oprofile is ialised using system timer in absence of hardwarencounters supports oprofile  started from userlandnnin this setup while doing a cpu offline the kernel hangs in infenfor loop inside lockhrtimerbase functionnnthis happens because as part of oprofilecpunotify it tries tonstop an hrtimer which was never started these percpu hrtimersnare started when the oprfile is startedntecho  devoprofileenablennthis problem also existwhen the cpu is booted with maxcpus parameternset when bringing the remaining cpus online the timers are startedneven if oprofile is not yet enablednnthis patch fix this issue by adding a state variable so thatnthese hrtimer startstop is only attempted when oprofile isnstartednnfor stable kernels  and  jan sebastien  sricharan  santosh shilimkar  robert richter  greg kroahhartman
629,hwmon  fix  frequency tablenncommit  upstreamnnthe  uses the same frequency table as the  jean delvare  darrick j wong  guenter roeck  greg kroahhartman
630,fix a decoding problem on the email bodynnwhen decoding the email body email application used google default  but it caused problem so particular email did not sync any morenso we have changed decoding function as a decoder from apache in ordernnot to occur problemnid  sangjun park
631,add simple parsing steps to response from email server in order to check the information regarding idnnthere are two kind of phase when open the imap connection idphrase and loginphrasenbut when trying to login new zealand vodafone account our application always goes to idphraseneven though there is no id information from server response so we add simple parsing stepsnin order to check the information regarding id so in case that there is no id response from  changed code to directly go to loginphrase to setting up account works properlynnissue account of new zealand vodafone  set upnid  sangjun park
632,the problem is that attached filesex image movie on mms are not displayed among other devicesnn  attached movie image files are not  attached  file is not displayed nexuss to  attached  files  be played nexuss to  attached jpg file is not shown nexuss to  attached jpg file is not shown iphone to nexussnid  sangjun park
633,connection problem or invalid mmi code occrued when executing ussdnussdmaxis  celcom  umobile  digi  pressing touch key ussd request is occured twiceupdown respectivelyntso block a up key eventnid  sangjun park
634,fix dependency generation under cygwin by  splitting dependency filengeneration and compilation into separate steps so that failed compiles  in bogus depedency files  switching from a separate awk scriptnto an embedded sed script for simplicty and  using the proper makentarget using mt during dependency generation so that source files withnrelative paths are properly recompiled when their dependencies changenid
635,cpufreq prevent memory leak in cpufreqstats on hotplugnnensures that cpufreqstatsfreetable is called beforencpufreqremovedev on cpu hotplug which also occurs duringnsuspend on smp systems to make sure that sysfsremovegroupncan get called before the cpufreq kobj is freed otherwisenthe sysfs file structures are leakednid  colin cross
636,modifications to the existing files to add  supportnid
637,offer to install fragment compatibility librarynnthis changeset changes the popup displayed when you drop a fragmentntag in a  project instead of just displaying an errornmessage you now get a dialog which asks if you want to install thenproject and if you click the install button it invokes the sdknmanager to install the right package and then copies it into thenprojectnnin addition the fragment selector now has a create new action whichninvokes the new class wizard preconfigured with the right fragmentnclassnid
638,fix audio backend handlingnnthis patch fixes a small bug where the audio backend given withnthe audio  option was ignored the bug was introduced duringna previous integration of upstream audio changesnnthe old code always used the same default backend pulseaudionid
639,fix issue with resource repository when using librariesnid
640,move griddatalayoutbuilder to sdk ui lib do not mergenncherry picked from commit
641,sdk manager dialog to perform specific updates from adt do not mergennas a working case example this adds an adt projectncontext menu to add the android compatibility jarnto an android projectnid
642,new files are from the upstream qemu  and the code is based onnthe following commit dated  see changestxtnn  new file hwapiccn new file hwfdchn new file hwfwcfgcn new file hwfwcfghn new file  new file  new file hwioapiccn new file  new file  new file hwpccn new file hwpckbdcn new file hwpiixpcicn new file  new file  new file hwsmbioscn new file  new file  new file  new file  new file  new file  new file  new file  new file  new file  new file  new file  new fil
643,insert a break wraparoundnid
644,merge  from master do not mergenfix issue with resource repository when using librariesnid
645,crypto tegraaes add suspend and resume handlersnid  varun wadekar
646,stubsnid
647,fix warning at  in mmcwaitforcmdnncommit  upstreamnnon module removal the sdio version of  generates the following warningnn  cut here n  warning at    hardware name   modules linked in  ssb mmcblock binfmtmisc rfcomm sco bnep ppdev  iptmasquerade iptablenat nfnat   xtstate nfconntrack iptreject xttcpudp iptablefilter iptables xtables bridge stp kvmintel kvm  iwlagn sndhdacodecconexant sndhdaintel sndhdacodec iwlcore sndhwdep sndpcm thinkpadacpi  sndseqmidi sndrawmidi sndseqmidievent sndseq  joydev sndtimer smcommon pcmcia nand sndseqdevice  sdhcipci btusb psmouse tpmtis yentasocket nandids lp snd pcmciarsrc nandecc bluetooth sdhci tpm pcmciacore parport mtd sndpagealloc serioraw tpmbios soundcore nvram ledclass   aesgeneric dmcrypt  drmkmshelper drm ahci intelagp  intelgtt  libahci video agpgart outputn  pid  comm rmmod not tainted    call tracen                                                                          end trace  n  cut here nnthe warning is caused by  not claiming the device before callingnsdiodisablefuncnnnedoffby larry finger  arnd hannemann  arnd hannemann  john w linville  greg kroahhartman
648,agpintel also add  to list of supported devicesnncommit  upstreamnnthis was a missing piece from  that dropped recognition of thenagp module for the second  variantnnreportedby stefan bader  chris wilson  greg kroahhartman
649,ssb  add new vendor for   upstreamnnadd new vendor for broadcom  daniel klaffenbach  larry finger  john w linville  greg kroahhartman
650,wireless  fix error path in sdionncommit  upstreamnnfix unbalanced call to sdioreleasehost on the error pathnnnedoffby guennadi liakhovetski  larry finger  john w linville  greg kroahhartman
651,mm pageallocator do not check the state of a nonexistant buddy during freenncommit  upstreamnnthere is a bug in commit  page allocator reduce fragmentationnin buddy allocator by adding buddies that are merging to the tail of thenfree lists that means a buddy at order maxorder is checked for mergingn a page of this order never exists so at times an effectively randomnpiece of memory is being checkednnalan curry has reported that this is causing memory corruption innuserspace data on a  platform  is not clear why this is happening it could be a cache coherencynproblem where pages mapped in both user and kernel space are gettingndifferent cache lines due to the bad read from kernel  it could also be that there arensome special registers being ioremapped at the end of the memmap arraynand that a read has special meaning on them compiler bugs have beennruled out because the assembly before and after the patch looks relativelynharmlessnnthis patch fixes the problem by ensuring we are not reading a possiblyninvalid location of memory  not clear why the read causes corruptionnbut one way or the other it is a buggy readnnnedoffby mel gorman  corrado zoccolo  alan curry  kosaki motohiro  christoph lameter  rik van riel  andrew morton  linus torvalds  greg kroahhartman
652,mm fix return value of scanlrupages in memory unplugnncommit  upstreamnnscanlrupages returns pfn so  type should be unsigned longnnot intnnnote i guess this has been work until now because memory hotplug  machine has not very big memoryn physical address    pageshiftnnreportedby kosaki motohiro  kamezawa hiroyuki  kosaki motohiro  andrew morton  linus torvalds  greg kroahhartman
653,mmhugetlbc add missing spinlock to hugetlbcownncommit  upstreamnnadd missing spinlock of the pagetablelock before an error return innhugetlbcow callers of hugtelbcow expect it to be held upon returnnnnedoffby dean nelson  mel gorman  andrew morton  linus torvalds  greg kroahhartman
654,changeid
655,mm fix ismemsectionremovable pageorder bugon checknncommit  upstreamnnpageorder is called by memory  user interface to check thensection is removable or not ismemsectionremovablennit calls pageorder withoug holding  even if the caller doesnntif pagebuddypagenttret  pageorderpage nthe caller may hit bugonnnfor fixing this there are  choicesn  add   remove bugonnnismemsectionremovable is used for some advice and  need tonbe  accurate this isremovable can be called via user programnwe  want to take this important lock for long by  request sonthis patch removes bugonnnnedoffby kamezawa hiroyuki  wu fengguang  michal hocko  mel gorman  andrew morton  linus torvalds  greg kroahhartman
656,fix typo in spi  and  transfer countsnncommit  upstreamnnthis is a bug fix some spi connected devices using  bit accessesnpreviously failed now worknnthis typo slipped in after testing during some restructuringnnnedoffby michael hennerich  mike frysinger  chris verges  andrew morton  linus torvalds  greg kroahhartman
657,arm tegra cpufreq remove cansleep from clk apinid  colin cross
658,xen ensure that all event channels start off bound to vcpu   upstreamnnall event channels startbound to vcpu  so ensure that cpuevtchnmasknis ialised to reflect this otherwise there is a race after registering annevent channel but before the affy is explicitly set where the event channelncan be delivered if this happens then the event channel remains pending in  evtchnpending array but is cleared in  evtchnpendingsel this meansnthe event channel cannot be reraised until another event channel happens tontrigger the same  entry on that  long which is not correct andncauses only the first  or  event channels depending on architecture to benially bound to  use sizeofstruct cpuevtchns insteadnnnedoffby ian campbell  jeremy fitzhardinge  greg kroahhartman
659,arm tegra clock rearrange static clock tablesnid  colin cross
660,sgixpc xpc fails to discover partitions with all nasids above   upstreamnnuv hardware defines  memory protection regions versus the baseline  increasing size for the   this was overlooked when xpc wasnmodified to accomodate both uv and  this patch a user could reconfigure their existing system andnsuddenly disable crosspartition communications with no indication of whatnhas gone wrong it also prevents larger configurations from usingncrosspartition communicationnnnedoffby robin holt  andrew morton  linus torvalds  greg kroahhartman
661,support building gold from a separate directorynnbefore we built binutils and gold from  we configure android toolchain not for kernel  is still the default linker command line option  tell gcc driver to choose gnu ld linkernid
662,adding goldfish kernel support for   sheng yang  yunhong jiang  jun nakajima
663,upgrade  for android toolchainnn backport upstream patches to support arm hardfpn backport  patches to support  now it isnable to build atom toolchain with glibc from this branchn develop a bunch of optimizationsn fix a few arm dejagnu failuresnntodo listn support androidatomn fix  bootstrap failurenid
664,fix display error when reentering to gallery after deleting image filesnnthe problem was that deleted image files were showed again on the gallerynrepro  delete image files from  go back to  reenter to gallerynid  sangjun park
665,upgrade binutils and goldnnupgrade  to  gold to a relatively new version  both binutils and gold were built from  binutils will be built from  and gold willnbe built from
666,crypto tegraaes do not track ssk slotnnssk slot is writelocked so the driver should notntrack in its free slot poolnid  varun wadekar
667,move files to proper location in developmentndkplatformsnid  bruce bear
668,guard against possible npenid
669,eglchooseconfig should handle the case where configs is nullnid
670,fix version returned by eglinitialize from  to
671,threadinfo use explicit rather than void pointersnnreplace the void pointers with explicit pointers for eglcontext egldisplaynand glescontext use forward declarations this is to improve finding errorsnin compile time rather than on run timenid
672,fix a mess in contextssurfaces reference countnnthe main issue was that smartptr had an implicit cast to void returning itsninternal pointer this allowed writing unsafe code since the internal pointerncould be handled without increasing its ref countnso removed this cast and fixed the various places which relied on itnalso fix two calls to destroy ahich should have been markfordestructionnthe naming is not good should probably change it in a later patchnid
673,fix a bug where eglmakecurrentnull did not worknnthis happened because the validate macros terminated the function prematurallynalso clear the surface bindings from the previous contextnid
674,fix for issue  custom xml attributes in android librariesnnadded support for predefined namespace httpschemasandroidcomapkresautonthat aapt tool recognizes and treats as namespace with package namentaken from current  androidmanifestxml manifestpackage attributennnedoffby inazaruk
675,fix a dead code on ializing panel  menunid  douglas drumond
676,revamped customlocale for the sdknn revamped the list ui replaced the longpress actions bynsome stateful buttons uses the  single choice modenn added a broadcast receiver to be able to change the systemnlocale using an intent eg sent by adb shell am this isnconvenient for automated testing scriptsnn changed package namespace to  this makes it easier fornan automated testing script to figure that an emulator has thenold version and install the new one sidebysidenid
677,add condition to check whether nfc is supported or notnnin this test case it does not check that the hw has nfc functionality or not even if the hw does not support nfc it will still run this test and will return errornnwe modified the test case so that if packagemanagerfeaturenfc is not supported it does not run this test casen
678,changed the condition to consider negative value for pidnnin this test case inserted pid can be negative causing fileexist to become false and thus results in errornnwe modified the test case so that it considers negative value of pidn
679,refactor aidl handling in its own classnnit extends a new base class that will serve as a basenclass for the one handling renderscript filesnid
680,arm tegra clock  bug on changing an enabled pllnid  colin cross
681,viafb use proper register for colour when doing fill opsnncommit  upstreamnnthe colour was written to a wrong register for fillrect operationsnthis sometimes caused empty console space for example after  have a different colour than desired fix this by writing to thencorrect registernmany thanks to daniel drake and jon nettleton for pointing out thisnissue and pointing me in the right direction for the fixnnfixes  florian tobias schandinat  joseph chan  daniel drake  jon nettleton  greg kroahhartman
682,arm tegra clock drop debuggingnid  colin cross
683,driverscharvtioctlc fix vtopenqry error valuenncommit  upstreamnnwhen all  are in use vtopenqry casts  to unsigned char beforenreturning it to userspace as an int  is not the next availablenconsolennnedoffby graham gower  greg kh  andrew morton  linus torvalds  greg kroahhartman
684,arm tegra common enable clocks that should always be onnid  colin cross
685,arm tegra clock drop old cpu dvfsnid  colin cross
686,satavia apply magic fifo fix to  toonncommit   has the same fifo overflow problem as  when combined withncertain devices this patch applies the magic fix to  toonnnedoffby tejun heo  martin qvist  peter zijlstra  joseph chan  jeff garzik  greg kroahhartman
687,arm tegra clock move unshared clk struct members into unionnid  colin cross
688,ipc ialize structure memory to zero for compat functionsnncommit  upstreamnnthis takes care of leaking unialized kernel stack memory tonuserspace from nonzeroed fields in structs in compat ipc functionsnnnedoffby dan rosenberg  manfred spraul  arnd bergmann  andrew morton  linus torvalds  greg kroahhartman
689,arm tegra clock add shared bus clock typenid  colin cross
690,xen  bother to stop other cpus on shutdownrebootnncommit  upstreamnnxen will shoot all the vcpus when we do a shutdown hypercall so  need to do it manuallynnin any case it will fail because all the ipi irqs have been pulledndown by this point so the crosscpu calls will simply hang forevernnuntil change  the function callsnwere not synchronously waited for so this  apparent however afternthat change the calls became synchronous leading to a hang on shutdownnon multivcpu guestsnnnedoffby jeremy fitzhardinge  alok kataria  greg kroahhartman
691,list project themes if any before framework themesnnthis changeset moves the projectthemes in the combobox up above thenframework themes sincena  likely that the user wants to frequently choose these andnb the list of project themes is usually much smaller than then framework list so it brings these items up to the visible part ofn the combonid
692,arm tegra clock refcount periph clock enablesnnsome peripheral clocks share enable bits refcount the enables sonthat calling clkdisable on one clock will not turn off anothernclocknid  colin cross
693,net netiffhwcsum does not imply fcoe crc offloadnncommit  upstreamnnnetiffhwcsum indicates the ability to update an tcpipstyle  with the checksum of an arbitrary part of the packet datanwhereas the fcoe crc is something entirely differentnnnedoffby ben hutchings  david s miller  greg kroahhartman
694,npe safeguardnid
695,video tegra dc call dvfs functionsnid  colin cross
696,ipc shm fix information leak to userlandnncommit  upstreamnnthe shmidds structure is copied to userland with  unitialized it leads to leaking of contents of kernel stacknmemorynnnedoffby vasiliy kulikov  al viro  linus torvalds  greg kroahhartman
697,arm  part of the fix for errata  can be optimized by setting the wkup dep only when we are using any gpionfrom banks  without this glitch can be seen on gpio lines when coming backn from off mode with  scaled down to  romit dasgupta
698,specify preferred versions of bootloaderbasebandnnthis allows to have strict checks when exact versions are known to benavailable and loose checks when multiple versions are known to worknnbug
699,make fastboot skip prefer linesnnthis allows fastboot to follow the require lines when multiplenversions are known to work while other tools can use the prefernlines when they know that  possible to mandate an exact versionnnbug
700,obex fix privateoutputstream small write problemnnwhen data less than max packet size in length is sent into the writenmethod the data will only be added to the internal buffer if severalncalls to write is performed by the application continueoperation willnnot be called at all the solution to the problem is to always checknthe internal buffer size and to call continueoperation every timenmaxpacketsize bytes is in the internal buffernid
701,improvements in activitymanagernativeontransactnn when ontransact is called for nonuser transaction thatn huge switchcase lookup is skipped entirelyn repetitive first line from each switchcase branch is movedn before switchnid
702,skip gsm format test if phonetype is phonetypenonenid
703,staging  fix up some sysfs attribute permissionsnncommit   upstream merged together as itnhad to be backported by handnnthey should not be writable by any usernnreportedby linus torvalds  markus grabner  mariusz kozlowski  greg kroahhartman
704,add gmultilib in list of requirementsnid
705,alsa hda use hplaptop quirk to enable headphones automute for asus   upstreamnnbuglink  original reporter states that in  headphones do not appearnto work nor does inserting them mute the  onboard speakers uponninspecting the codec dump it appears that the newly committed hplaptopnquirk will suffice to enable this basic functionality testing was donenwith an alsadriver build from  joan creusnnedoffby daniel t chen  takashi iwai  greg kroahhartman
706,specify preferred versions of bootloaderbasebandnnthis allows to have strict checks when exact versions are known to benavailable and loose checks when multiple versions are known to worknnbug
707,linux kernel helpers support is provided to android for its tls implementation this fix addresses this by modifyingnthe tls access functions to use the kernel helpernthis fix is verified on st   platform and submitted on behalf of a thirdpartynsurinderpal singh from stmicroelectronicsn
708,staging  add new usb id for belkin    upstreamnnadd new usb id for  for belkin   larry finger  and testedby james long  greg kroahhartman
709,arm architecture reference manuals for    state that the use of  instruction is  onwards these architectures provide the loadlinked storeconditional pair of ldrexstrex whose usenis recommended in place of  also the description of the  instruction in the  referencenmanual states that the swap operation does not include any memory barrier guaranteesthis fix attempts tonaddress these issues by providing an atomic swap implementation using ldrexstrex under armhaveldrexstrexnmacro this fix is verified on st   platform and submitted on behalf of a thirdpartynsurinderpal singh from stmicroelectronicsn
710,reiserfs  acquire lock recursively in reiserfsaclchmodnncommit  upstreamnnreiserfsaclchmod can be called by reiserfssetattr and then takenthe reiserfs lock a second time thereafter it may call journalbeginnthat defely requires the lock not to be nested in order to releasenit before taking the journal mutex because the reiserfs lock depends onnthe journal mutex alreadynnso aviod nesting the lock in reiserfsaclchmodnnreportedby pawel zawora  frederic weisbecker  pawel zawora  jeff mahoney  andrew morton  linus torvalds  greg kroahhartman
711,staging asusoled fix up my fixup for some sysfs attribute permissionsnncommit  upstreamnnthey should be writable by root not readablendoh stupid me with the wrong flagsnnreportedby jonathan cameron  jakub schmidtke  greg kroahhartman
712,staging asusoled fix up some sysfs attribute permissionsnncommit  upstreamnnthey should not be writable by any usernnreportedby linus torvalds  jakub schmidtke  greg kroahhartman
713,pcnetcs add newidnncommit  upstreamnnpcnetcsn add newid corega ether cftd  pcmcia cardnnnedoffby ken kawasaki  david s miller  greg kroahhartman
714,ensure that the regbo is in the gtt prior to writingnncommit  upstreamnnjust makes sure that writes are not being aliased by the cpu cache andndo make it out to main memorynnnedoffby chris wilson  daniel vetter   greg kroahhartman
715,reiserfs fix inode mutex reiserfs lock misorderingnncommit  upstreamnnreiserfsunpack locks the inode mutex with reiserfsmutexlocksafento protect against reiserfs lock dependency however this protectionnrequires to have the reiserfs lock to be lockednnthis is the case if reiserfsunpack is called by reiserfsioctl butnnot from reiserfsquotaon when it tries to unpack tails of quotanfilesnnfix the ordering of the two locks in reiserfsunpack to fix thisnissuennnedoffby frederic weisbecker  markus gapp  jan kara  jeff mahoney  andrew morton  linus torvalds  greg kroahhartman
716,sh add missing consts to sysexecve declarationnncommit  upstreamnnadd missing consts to the sysexecve declaration which result in thenfollowing  error conflicting types for  error previous declaration of  was herennnedoffby david howells  nobuhiro iwamatsu  greg kroahhartman
717,this patch proposes to replace the access to tls via the fixed memory location with the hw tls registerndirect use of the fixed memory location is not recommended by linux for arm see  we can implement the support for smp specifically with a conditional as you suggest by using coprocessor instructionnthis fix is verified on st   platform and submitted on behalf of a thirdpartynsurinderpal singh from stmicroelectronicsn
718,on arm realview  mpcore based quadcore device android was not bootingnadding memory barrier fixed this issue this fix is submitted on behalf ofna thirdparty surinderpal singh from stmicroelectronicsn
719,adds  power scripts for  needed for  scaling to  andnback to operational voltagennnedoffby romit dasgupta  lesly am
720,kfifo disable kfifomustcheckhelpernncommit  upstreamnnthis helper is wrong it coerces signed values into unsigned ones so codensuch asnntif kfifoalloc   ntterrorntnnwill fail to detect the errornnso  disable kfifomustcheckhelper for  randy dunlap  stefani seibold  andrew morton  linus torvalds  greg kroahhartman
721,if  is set the mvp matrices need updating when changing the viewportn
722,omap musb prevent core off when cable attachednnprevent the core domain from going to off mode when usb cable is attachednmusb does not have hw saveandrestoresar and hence cannot work withncore offnnthis patch restricts cpuidle from going to  statenon usb cable attach a constrant is put on core not to go to off andnon cable detach the constraint is removednnwithout this patch if off mode is enabled even with usb cable attached andndevice enumerated there can be device disconnectionnnnedoffby vikram pandita
723,changeid
724,arm  cpufreq fix power suspend cpu frequencynnpower suspend often crashes the device if the cpu frequency is notnequal to sleepfreq if the current cpufreq policy does not includensleepfreq cpufreqdrivertarget does not change the cpu frequencynfor power suspend resulting in crashes this patch modifies thencurrent cpufreq policy to include sleepfreq for suspend andnrestores the cpufreq policy after suspendnid  michael huang
725,arm  cpufreq fix power suspend cpu frequencynnpower suspend often crashes the device if the cpu frequency is notnequal to sleepfreq if the current cpufreq policy does not includensleepfreq cpufreqdrivertarget does not change the cpu frequencynfor power suspend resulting in crashes this patch modifies thencurrent cpufreq policy to include sleepfreq for suspend andnrestores the cpufreq policy after suspendnid  michael huang
726,allow hv to work on user buildsnid
727,arm  cpufreq fix power suspend cpu frequencynpower suspend often crashes the device if the cpu frequency is notnequal to sleepfreq if the current cpufreq policy does not includensleepfreq cpufreqdrivertarget does not change the cpu frequencynfor power suspend resulting in crashes this patch modifies thencurrent cpufreq policy to include sleepfreq for suspend andnrestores the cpufreq policy after suspendnnnedoffby michael huang
728,change snap velocity to  and add rotation to
729,add mipmap to the resource type listnid
730,add support for multiple hyperlink targetsnnthis changeset makes the go to declaration hyperlink resolver producena list of possible jump targets therefore if you for example pointnat androidstringok you will get a popup listing all the variousnstringxml files that define a translation for this string if therenis a current configuration which would be the case if you arenpointing at a resource url from a layout file but not from a javanfile or a manifest file then the declaration which best matches thenconfiguration is listed first followed by everything else innalphabetical order by the folder namennthis uses the resource maps which the ide is already maintaining fornrendering so it can compute the set of hyperlinks cheaplynnin addition the hyperlink resolver now goes to the direct declarationnof the given resource this defion can in turn reference anothernresource urlnnthere is one exception to the instant resolution of files ids innlayouts  common to define ids in place via id and these arennot available in the resource map therefore if no id is foundndefined in a value folder then the search is deferred until the linknis actually clicked the search will now search not just the basenlayout folder but all layout folders starting with the same foldernas the link source followed by all configurationcompatible foldersnfollowed by all foldersnid
731,arm architecture reference manuals for    state that the use of  instruction is  onwards these architectures provide the loadlinked storeconditional pair of ldrexstrex whose usenis recommended in place of  also the description of the  instruction in the  referencenmanual states that the swap operation does not include any memory barrier guaranteesthis fix attempts tonaddress these issues by providing an atomic swap implementation using ldrexstrex under armhaveldrexstrexnmacro armhaveldrexstrex macro is defined in cpufeaturesh file and patch is submitted under change id  fix is verified on st   platform and submitted on behalf of a thirdpartynsurinderpal singh from stmicroelectronicsn
732,fixed bad information about  build environmentnn removed section i had added on  build environments since thosen are no longer supportedn added gmultilib to the list of required packagesn removed note about packages needed for froyo since there is non distinction now all other packages were dependencies of gmultilibnid
733,fixed adb crash due to accessing freed memorynnreset peers to null after closing them down this preventsnother code from attempting to access that freed memorynwhich prevents crashes previously it left pointers tonfreed memory and the if  guards could not blocknthe attempt to access that memory later resolves manyncrashes seen while taking repeated screenshots on winxpnid
734,merge adtupdatedialog cl on top of latest  is a mergeconflict resolution to correctlynmerge the recent adtupdatedialog cl on top of thenrecent  changesnid
735,numa fix slabnodempolbindnncommit  upstreamnnwhen a node contains only highmem memory slabnodempolbindndereferences a null pointernn this code seems to go back all the way to commit  mmn filter based on a nodemask as well as a gfpmask which was back inn april  and it got merged into  linus nnnedoffby eric dumazet  mel gorman  christoph lameter  lee schermerhorn  andrew morton  linus torvalds  greg kroahhartman
736,undecoded jobject leaking in through attachthreadnid
737,ipmi proper spinlock ializationnncommit  upstreamnnunloading ipmi module can trigger following error   bug spinlock bad magic on    lock  magic   ownercpu   pid  comm rmmod not    call tracen                      ipmisin       ipmisin    this by ializing spinlocks in a smiinfoalloc helper functionnright after memory allocation and clearingnnnedoffby eric dumazet  david miller  yinghai lu  corey minyard  andrew morton  linus torvalds  greg kroahhartman
738,hostfs fix uml crash remove fspare from hostfsnncommit   add fflags to struct  resized fspare withinnstruct statfs which caused a uml crash there is no need to copy fsparennnedoffby richard weinberger  toralf förster  toralf förster  christoph hellwig  al viro  jeff dike  andrew morton  linus torvalds  greg kroahhartman
739,um fix global timer issue when using confignohznncommit  upstreamnnthis fixes a issue which was introduced by  uml track and makenup lost ticksnntimevaltons returns long long and not int due to that  timerndid not work properlt and caused timer freezesnnnedoffby richard weinberger  pekka enberg  jeff dike  andrew morton  linus torvalds  greg kroahhartman
740,um remove pagesize alignment in linker script causing kernel segfaultnncommit  upstreamnnthe linker script cleanup that i did in commit  um clean upnlinker script using standard macros  accidentally introduced annalignpagesize when converting to use inittextsection richardnweinberger reported that this causes the kernel to segfault  not certain why this extra alignment is a problem but it seems likelynit is because previouslynnbegin  stext  text  stextnnand with the extra alignpagesize stext becomes different from thenrest so there is likely a bug here where something is assuming thatnstext is the same as one of those other symbols but reverting thenaccidental change fixes the regression so it seems worth committing thatnnownnnedoffby tim abbott  richard weinberger  jeff dike  by antoine martin  andrew morton  linus torvalds  greg kroahhartman
741,hpet unmap unused io spacenncommit  upstreamnnwhen the ialization code in hpet finds a memory resource and does notnfind an irq it does not unmap the memory resource previously mappednnthere are buggy bioses which report resources exactly like this and whatnis worse the memory region bases point to normal ram this normally wouldnnot matter since the space is not touched but when pat is turned onnioremap causes the page to be uncached and sets this bit in  when the page is about to be used by the allocator it is reportednasnnbug bad page state in process     mappingnull  flags   comm  not tainted   tracen         this particular  hpet returns  as memory region base but it is not innreserved ranges reported by the bios excerptn    usablen     there is no irq resource reported by hpet method on the othernhand the intel hpet specs  says  n report  of memory consumed by this timer blockn memory range consumedn optional only used if bios allocates interrupts  irqs  for case where timer block is configured to consume  andnlegacy  rtc hardware still exists the device objectsnassociated with   rtc devices should not report  asnconsumed resourcesnnso in theory we should check whether if it is the case and use thoseninterrupts insteadnnanyway the address reported by the bios here is bogus so nonpresencenof irq  mean the optional part in point  i got no reply previously fix this by simply unmapping the spacenwhen irq is not found and memory region was mapped previously it wouldnbe probably more safe to walk the resources again and unmap appropriatelyndepending on type but as we now use only ioremap for both  memorynresource types it is not necessarily needed right nownnaddresses  olaf hering  jiri slaby  clemens ladisch  andrew morton  linus torvalds  greg kroahhartman
742,hpet fix unwanted interrupt due to stale irq status bitnncommit  upstreamnnjaswinder singh rajput  by executing  for polling i requested for  iterations but it seems iteration  for only  as first expired time is always very  hpetexample poll devhpet   hpet executing  hpetpoll infohiflags  hpetpoll expired time   hpetpoll revents   hpetpoll data  hpetpoll expired time   hpetpoll revents   hpetpoll data  hpetpoll expired time   hpetpoll revents   hpetpoll data  the hpet interrupt enable bit disables interrupt generationnbut does not disable the timer so the interrupt status bit will stillnbe set when the timer elapses if another interrupt arrives beforenthe timer has been correctly programmed due to some other device onnthe same interrupt line or configdebugshirq this results in annextra unwanted interrupt event because the status bit is likely to benset from comparator matches that happened before the device was openednntherefore we have to ensure that the interrupt status bit is andnstays cleared until we actually program the timernnnedoffby clemens ladisch  jaswinder singh rajput  ingo molnar  thomas gleixner  john stultz  bob picco  andrew morton  linus torvalds  greg kroahhartman
743,added configuration for freebsd  added casting to  in skinargbh to avoid error duringn compilation incompatible type  added  include this allows correct defion ofn namespaces and makes  like types visible in  changed makefileandroid in order to build with oss on freebsdn without prebuilt version of qemuaudio which is now absentn
744,percpu fix listhead bug in percpucounternncommit  upstreamnnwarning at   name   corruption  should be prev  but was   linked in aoe iptmasquerade iptablenat nfnat  sunrpc bridge  garp stp llc  cpufreqondemand acpicpufreq freqtable dmroundrobin dmmultipath kvmintel kvm uinput lpfc scsitransportfc igb ioatdma scsitgt   dca itcowdt itcovendorsupport pcspkr shpchp megaraidsas last unloaded aoenpid  comm  tainted g w                        because there is no ialization code for a listhead contained innthe struct backingdevinfo under confighotplugcpu and the bug comes upnwhen block device drivers calling blkallocqueue are used in case ofnme i got them by using aoennnedoffby masanori itoh  tejun heo  andrew morton  linus torvalds  greg kroahhartman
745,removed ldl when compiling for freesbdn
746,olpcbattery fix endian neutral breakage for  valuesnncommit  upstreamnnwhen the driver was updated to be endian neutral  signed part of the  values was lost this is because  an unsigned value this patch casts the values back to a  prior to the the implicit cast up to an intnnnedoffby richard a smith  daniel drake  anton vorontsov  greg kroahhartman
747,added note about purpose of first line commentingn
748,added wifi report test and wallpaper report testn tests for the correct reporting nonreporting of wifi and live wallpaper featuresnid
749,add support for async framebuffer display updatesnnadded a thread to run synchronously with fb and mdp driver for framebufferndisplay updates main thread runs synchronously with upstream callersnof fbpost such as surfaceflinger this allows swapinterval  to be easilynsupported in fbpost it also decouples compostion from display allowingnbetter performance especially in mddi mode and with swapinterval set to
750,set the correct framebuffer size in the gralloc handlennwhen the framebuffer height is not aligned to  the framebuffer sizenis not the same as the size passed in the grallocallocframebuffernfunction set the correct size of the framebuffer in the gralloc handlenid
751,fix missing goto label in androidbatnid
752,change hosttestlib to use ddmprebuiltnid
753,test uploadnid
754,changed main class name in manifest file to correct onen
755,remove monkeyrunner so it can move to the sdk projectnid
756,arm msm camera  lens correcionsnnnedoffby iliyan malchev
757,arm msm kgsl remove the need to poll for timestamp completionnnuse conditional rb interrupt generation when we need to wait onntimestamps to avoid polling in userspacenid  dima zavin
758,configure  as wakeupnnnedoffby mike chan
759,arm msm camera  lens correcionsnnnedoffby iliyan malchev
760,arm  sholes board files support for rndis usb ethernetnnnedoffby mike lockwood
761,arm  sholes enable netfilter options needed for iptables in defconfignnnedoffby mike lockwood
762,enhancement apidemos app dialog alertdialog with multiplechoices backed by cursornnadded an example for using alertdialog in multichoice mode backed up by cursor this example can be used to test the following bug  a toast to display readonly status of cursor so data will not be updatedntremoved empty code blocks which did nothingn
763,revert usb gadget android specify usbclasscomm in device descriptor if using rndisnnthis reverts commit  this commit got merged in twice which reverted part of with the changenusb gadget android fix special case for rndis ethernet functionnnnedoffby mike lockwood
764,added files for adb to be compilable updated makefilenusbfreebsdc is more stub than fullworking modulen
765,updated makefiles for correct building on freebsdn
766,arm  sholes enable netfilter options needed for iptables in defconfignnnedoffby mike lockwood
767,removed linking with libdl on freebsd cause needed functions are in libcn
768,net wireless  fix packet unicast filternnnedoffby dmitry shmidt
769,make cts use the ddmlibprebuiltnid
770,fix changestxtnnsome changes  make it to the  releasenid
771,package ddmlibprebuilt with ctsnnthis ensures that cts is using a compatible ddmlibnid
772,make frameworkcorehosttests use ddmlibprebuiltnid
773,according to open manpage you should add mode when you use ocreate flagnid
774,incorporate following review commentn change tab indentation to  spacesn remove trailing spacesn add copyright the android open source projectnid
775,remove the tab after aiddrmnid
776,arm tegra dma remove static qualifier from local variablesnnthe dma request structures were incorrectly defined as static variables innthe interrupt callback functions which caused them to be smpunsafennoriginally fixed by laxman dewangan ldewangannvidiacomnid  gary k
777,video  omapfb add hack to make pandisplay update the screennnandroid uses this to draw to the screen from recoverynid  rebecca schultz zavin
778,arm msm clock print stillrunning clocks before powercollapse suspendnnnedoffby iliyan malchev
779,arm  mahimahidefconfig set configsmdoffsettcxostatnnnedoffby iliyan malchev
780,add thai font qwerty handler for thai and also language picker dialogn
781,hack temporarily panic on dma errors so we can get some debug infonid  rebecca schultz zavin
782,omap fix race condition in omap dma drivernnthe bug could cause irq enable bit of one dma channel isnclearedset unexpectedly when  or more drivers are callingnomaprequestdmaomapfreedma simultaneouslynnnedoffby fei yang  tao hu  tony lindgren
783,arm msm smddebug add smem debug info for tcxo and network related statisticsnn sysmodulesmdparametersprintstatsonsuspend enables printing tcxon stats on every suspendresume and screen onoff eventn syskerneldebugsmdstat prints out these stats as wellnnnedoffby iliyan malchev
784,arm  sholes board files support for rndis usb ethernetnnnedoffby mike lockwood
785,extend android with cdma mobile technology supportnnthis is the first contribution of a project that has the goal to extend thenandroid telephony layers with cdma mobile technology supportnthe current release  of android supports gsmwcdma as mobile communication standardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and other applicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use case implementationsnthe final contribution will support cdma functionality for android phones supportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered      evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
786,media add support for flac musicnnthis patch adds support for the flac music file format it is based on  and  by kenny root but is updated to use stagefright for thenmetadata gathering and thus does not rely on changing opencorennthe same decoding caveats apply no  support at this time and it stillnrelies on bringing in libflac to the externals setnnan example way to do this locally             repolocalmanifestxmlnid
787,sanitise bluetooth file name hint when receiving a contactnnif a contact name is entered with any of the following charactersnn  transfer of that contact fails this is due to the underlyingnfilesystem fat not being able to handle these characters in anfile name this fix corrects that situation by replacing anynwhitespace characters with a space and illegal fat filesystemncharacters with underscorenid
788,unregister callback from binder when vibration is removednnwhen creating new vibration pattern a callback is registerednin case binding to caller goes away by linktodeathnneed to unregister this callback when we throw away the vibrationnid
789,adt  remove or disable debug printfsnid
790,include debugger connection status in error entrynninclude the debugger connection status when adding error entrynto dropbox if debugger is connected debugger connectednnthis can be useful to sort out crashes comming from developersnvs from regular usagenid
791,add drm and drmio servicen add datadrm directory for storing drm related datanid
792,initial contribution from sony corporationnn add drm framework to support drm content playbackn together with stagefrightnn drm framework code is addedn includedrmn drmn apicurrentxml is updated to include drm framework java apisn cmdsservicemanagerservicemanagerc is modifiedn to add drmmanager and drmioservicenid
793,added mpga as valid mediafile extensionnnadded mpga as a valid media file extension it will be treated a
794,ublock userspace block device drivernnublock is a block device driver that allows userspace processes to createnblock devices and respond to read and write requests to them it is mostneasily described as the block device analogue of fuse which does the same fornfilesystemsnnnedoffby thomas tuttl
795,limit bluetooth device name to safe length to avoid crashesnnbluetooth device name can become too long when unicode characters arenused for device name the max length is  bytes but since a unicodencharacter can be up to  bytes the safe length is onli
796,media ir provide a prompt for ircore so it can be disablednid  dima zavin
797,better separation of ui and core sources for framebuffer emulationnn new document under docsdisplaystatetxt to explain  happeningnid
798,supporting oem unsolicited communicationnnandroid has support for unsolicited communication but  interfaces open to java application this is a contribution tonandroid open source where it allows android java application to  to register for oem unsolicited communicationnid
799,hold partial wakelock during shutdown to avoid entering sleepnnthe shutdownthread can get suspended while in progress if thendevice enters sleep by the user pressing the powerkey or if it isnstarted in sleep from the batteryservice upon a dead batterynnotification if the device is woken up before the battery isndrained the shutdownthread will resume and finally completenthe shutdown but if not the phone will stay in sleep until thenbattery level is so low that the power is ruthlessly cutnid
800,refactor to remove multiple inloop  castingsnnthis replaces  change removes the need to convert  for each iterationnof each of availabletetherederrored states in updatestatusnby converting these as soon as possiblennthis fix and the code before is strange because each of availabletetherednerrored are defined as type  butnintentgetstringarraylistextra returns type object dispite its namenbecause other calls to updatestate use string it seems best to do thenconversion outside this method in the object case and thus avoid thenperiteration casting in the object case and the downright wastefulnperiteration  casting in the string input  also removed some unused imports and an unused variablenid
801,appsmusic add ondestroy function to release jni object referencesnn add ondestory function for video browser activity to releasen the resources which cause memory leaksnid
802,appsmusic add ondestroy function to release jni object referencesnnadd ondestory function for video browser activity to releasenthe resources which cause memory leaksnid
803,add drm directory to include it as part of frameworksnid
804,update ddms all and  linuxmac to user explicit classpathnnthey were still using the old method of providing a jar foldernthrough javaextdirs in which to look for jar filesnnthe jar dependency is now explicit in the manifest which allowsnus to target ddmlib explicitely and not ddmlibprebuiltnid
805,implemented  retools the syscalls for  and  to make themnpublicly accessible and implements the normal preadpwrite innterms of themnid
806,arm tegra clock disable clk prevent suspendnid  colin cross
807,arm tegra clock allow clocks to prevent suspendnnadd a flag to some clocks that will prevent suspend if those clocksnare enablednid  colin cross
808,usb add otg driver for tegra usb phynid  gary k
809,tegra prevent  transactions after suspendnnthe cpufreq driver suspends very late and may cause an  when the clk api calls the dvfs api which callsnthe regulator api which calls  return an error if  transaction is requested after suspend has been callednid  colin cross
810,arm tegra clock propagate error in dvfssetratenid  colin cross
811,support for voicemail in tpudh of smsnnadded support for processing special message indicationnfor voice mail in tp user data header for smsnspec reference  t
812,separate sim states from radio statesnna uicc can have multiple applications usim csim both usim and csim may be readynso indicating modem state as simreadyruimready will be incorrect radioon is a morenappropriate radio state sim status can be obtained from the rilrequestgetsimstatusnand rilunsolresponsesimstatuschanged messagesnnthe change does the followingnn remove sim states from rilradiostaten add messages to indicate voice radio technologynid
813,support meids starting with   and    and  are valid reporting body identifiers nownhttpwwwtiaonlineorgstandardsresourcesmeidnid
814,release monkeyrunner into open sourcenid
815,create alternate layout default to no qualifiernnpreviously the dialog opened with all qualifiers set upnwhich would make most users default to making a very restrictivenlayoutnnnew version is simpler  edit the qualifier value andnlet the user simply adding the ones they wantnid
816,fixed memory leak in settings open source license activitynnthe settingslicenseactivity leaks memory via the webview whennchanging orientation or restarting the applicationnid
817,added state snapshot support for qemudnnwith this patch both modem and sensor functionality are correctlynrestored when a state snapshot is loaded this was not the casenpreviously because communication with either of these services isndone using the qemud daemon which did not support snapshotsnnthe bootproperties and charpipe services have no specific saveloadnfunctionality yet since the framework itself should be reviewednfirst adding support for bootproperties should not be difficultnthough and charpipe may not need itnnfor a description of the highlevel process for saving and loadingnconsult section iv state snapshots in docsandroidqemudtxtnid
818,use the new sdkbuildtoolsatreennas the sdkgit project is branched differently from the restnof the platform  important to be able to control whatngoes in the tools folder of the sdk on a perbranch basisnnright now developmentbuildsdkatree control what goes innthe tools folder coming almost only from sdkgit which causesnproblems when the developmentgit and sdkgit branches are notnin syncnid
819,split the tools component from sdkatreennthis is now in sdkbuildtoolsatreenid
820,tools specific atree filenid
821,add in build rule to build guava as a host side library as well as a device side librarynid
822,add in build rule to build  as a host side library as well as a device side librarynid
823,added qemuandroid build target which will build bare uistripped emulatornnalso has some minor separation changesnid
824,fix opcode tests for sputwidennbug
825,gethnamaddr make helper functions staticnnin order not to conflict with the symbols defined in filenlibcnetbsdgetaddrinfoc this patch makes the internalhelpernfunctions staticnid
826,remove unused imports in securitysettingsjavanid
827,fix opcode tests for sputnnbug
828,ant doc on how to replace proguardnid
829,refactor to remove multiple inloop  castingsnnthis change removes the need to convert  for each iterationnof each of availabletetherederrored states in updatestatusnby converting these as soon as possiblennthis fix and the code before is strange because each of availabletetherednerrored are defined as type  butnintentgetstringarraylistextra returns type object dispite its namenbecause other calls to updatestate use string it seems best to do thenconversion outside this method in the object case and thus avoid thenperiteration casting in the object case and the downright wastefulnperiteration  casting in the string input  also removed some unused imports and an unused variablenid
830,fix opcode tests for sputshortnnbug
831,make the tools work with the new location of adbnnadb has been moved to the platformtools foldernnthis changes adt ddms hierarchyviewer which all carenwhere adb is to launch itnnalso fixed the local sdk parser of the sdk updater to findnthe platformtools packagenid
832,adt  fix  use constant from swt  build server still builds using  and wenstill support  at runtimenid
833,arm configs update tegradefconfig to enable regulatorsnid  dima zavin
834,move adb to the platformtoolsnnalso fixed the packaging of hierarchyviewer in the sdknid
835,fix sdk build for eclipse testsnnbroken by chang
836,hide private symbols using gcc visibility pragmannlibcso should not export all private symbols to reflect android ndknthis patch attempts to use gcc visibility pragma to hide the privatensymbols in bionic it also lets the optimizer produce better andnsmaller codennreference code size measurements for htc passionn$ armeabisize outtargetproductpassionsystemliblibcsonnbeforen textt datat bsst dect hextfilenamen      textt datat bsst dect hextfilenamen
837,code cleanupnsome unused import statement local variabls private members and static constants removed formnclasses in comandroidbluetoothpbap packagenid
838,code cleanupnunused imports local variabls and static constans removed fromncomandroidbluetoothopp packagenid
839,hide the symbol of helper function libcandroidabortnnideally libcandroidabort would be static but it could not benbecause gcc would not allow calling a static function from an asmnstatement instead using gcc visibility is work aroundnid
840,fix data corruption due to structure defion mismatch between kernelnand user spacenid
841,remove redundant defions in ueventdrcnid
842,remove duplicated  implementation use stdlib version insteadnnoriginally there are  in  and   implemented in bionic besides the namingnthe functionality is identical this patch removes the  also  and  are modified accordinglynid
843,hide internal symbol bionicbrk used by brk and sbrknnbionicbrk was shared by brk and sbrk which should be implementornspecific and hidden to application developersnid
844,add atom optimization flagsnnto enable the optimization set targetarchvari
845,reorder lock acquision vs trynnin two places involving locking reordered the code so that the locknacquisition is performed outside of the try block and everythingnelse that needs to run while the lock is locked within the trynblocknid
846,expand the device name pattern to include caps and as used by some oemsnid
847,missing an explicit termination before returnnnif a device  support the video snapshot function the  will not release a camera hw resourcenit causes a cameara openerror for the next test casenid
848,test for neon with the proper make flagnnget the arm cpu features from the proper headernnbuild the right list of sources for each arm variantnid
849,stk launch browser commands send additional information in terminal responsennlaunch browser related testcases in   sec  that additional information be sent in terminal responsenid
850,video tegra remove out of date todonid  erik gil
851,fix issue with qualifier combo box not filled up in device modenndevice mode is when the qualifier values must match what a devicenwould report for instance nodpi should not be selectablenid
852,do not merge filesystempermissiontest froyo backportnnbug
853,arm add generic fiq serial debuggernid  iliyan malchev
854,filesystempermissiontest eclair backportnnbug
855,telephony fix for mmi code for call forwardingnnfix for issue the ui  register for call forwarding whennscsi is dialed where si is the number to which call shouldnbe  specification  sec  ue shall determine from the context whethernan entry of a single activation or registrationnwas intendednnfor example a call forwarding request with a single nwould be interpreted as registration if containing anforwardedto number or an activation if notnid
856,ublock userspace block device drivernnublock is a block device driver that allows userspace processes to createnblock devices and respond to read and write requests to them it is mostneasily described as the block device analogue of fuse which does the same fornfilesystemsnnnedoffby thomas tuttl
857,move adb to the platformtools windows sdk partnnthis is the win sdk counterpart to chang
858,video tegra enable both display controller clock when enabling hdminnthe upstream dc needs to be clocked for accesses to hdmi to not hard lock thensystem because we  know if hdmi is conencted to  or  we neednto enable both until we set the dc muxnid  erik gil
859,prebuilt version of ddmlibnid
860,video tegra force  output on hdminnnedoffby erik gil
861,fix issue with qualifier combo box not filled up in device mode do not mergenndevice mode is when the qualifier values must match what a devicenwould report for instance nodpi should not be selectablenncherrypicked from master to
862,handle gcf usat testcase launch browser  seq  per  specification  test case  seq  if thenbrowser was already launched then we need to send appropriatenerror code and additional info in the terminal responsenid
863,video tegra add a novsync module param to disable vsyncnid  erik gil
864,add acpi to virtualbox kernelnnnedoffby daniel fag
865,handling adb exceptions properlynid
866,mark ipupvpn as optionalnid
867,networkso  listed in the prelink map so disable prelinking herenid
868,fixed code style problems gerrit change  headsetbase to broadcast atxevent messages from the headset toninterested observersnn corejavaandroidbluetoothatcommandhandlerjavan corejavaandroidbluetoothbluetoothheadsetjavannfixed minor typos in commentsnn corejavaandroidbluetoothbluetoothdevicejavannadded broadcast intent action actionheadsetxevent this action isnused to notify interested observers that the current bluetooth headsetnhas sent an  command to the phone the argumentsnxyz are sent as an  in the extraxeventargsnextra which is also new the broadcast action also includes the  object in the extradevice extrann corejavaandroidbluetootheventatcommandhandlerjavannnew file handles the set form of the atxevent command thatnis  by broadcasting the actionnbluetoothdeviceactionheadsetxevent with extrasnbluetoothdeviceextraxeventargs new andnbluetoothdeviceextradevicenn corejavaandroidbluetoothheadsetbasejavand the headsetbase constructor to accept the context in which itnis running at command handlers such as eventatcommandhandlerninvoked by the headsetbase may need the context in order to broadcastnevents etcnnalso fixed a minor typo in a log messagenremoved comment about removing the atparser callnregister eventatcommandhandler as responding to the atxevent commandnid
869,arm tegra timer  use clocksource mult and shift for schedclocknnthe mult and shift values for the clocksource are selected to providenmaximum resolution over a  second time difference and will wrap toonquickly to use for schedclock just multiply by   colin cross
870,adt  properly handle custom classesnnthis makes it possible to  or paste a customnclass in a project that  have the class the pastenoperation will succeed and the layout rendering will providena clear error indicating the class is missingnid
871,adding the delay time of  for waiting the webview to createnid
872,fix make acp under cygwin do not mergenid
873,fix opcode tests for checkcast and fillednewarrayrangennupdated test to verify froyo vm behaviur of throwing exceptions at firstnaccessnnbug
874,arm tegra clocks save  in suspendnid  colin cross
875,mirror googleinternal prelink fix for public accessnid
876,arm tegra add api to set memory client prioritynid  erik gil
877,go to problem in source from logcat via doubleclicknnthe user can choose in the logcat preference page whatnwill be the default behaviour go to method declarationnor go to error linennthere are now  available actions in the logcat viewninstead of the unique go to problem which is nowncalled go to problem method declarationnid
878,adding the delay time of  for waiting the dialogue to show upnid
879,adding the delay time of  for waiting the dialogue to show upnid
880,guard against npenid
881,bt not possible to accept incoming obex transfers using keypressesnnit is not possible to acceptreject an incoming obex file transfernusing keypress only touch screen press was workingnnwith this fix key press down is not ignored and it is possiblento acceptreject an incoming obex file transfer with keypressnnstericsson change id   christian bejram
882,fix textviewtesttestsinglelinennbug  the same technique used to fix testmarquee which is to putnthe textview into a narrow layout widget so it will wrapnregardless of display sizenid
883,fix kernel oops if the journal superblock has a nonzero jerrnonncommit  fixed an accounting bug only to introduce thenpossibility of a kernel oops if the journal has a nonzero jerrnonfield indicating that the file system had detected a fs inconsistencynafter the journal replay if the journal superblock indicates that thenfile system has an error this indication is transfered to the filensystem and then  is called to write this to thendisknnbut since the percpu counters are now ialized after the journalnreplay the call to  will cause a kernel oops sincenit needs to use the percpu counters the  superblock structurennthe fix is to skip setting the  free block and free inode fieldsnif the percpu counter has not been setnnthanks to ken sumrall for reporting and analyzing the root causes ofnthis bugnnaddressesgooglebug  theodor
884,fixing adt featuresnid
885,video tegra add underflow stats to debug outputnid  erik gil
886,explicitly request ipupvpnnid
887,fixed code style problems gerrit change  calls to the headsetbase constructor to pass in the currentncontextnid
888,radioinfo crashes if pdpgetapn returns nullnnthe automated test cases found a problem where the pdpgetapnnreturns null and as a consequence crashes the radioinfonnthis activity is not acessible from a user menu in settingsnyou have to start it withnadb shell am start a androidintentactionmainn n comandroidsettingsradioinfonid
889,adding the delay time of  for waiting the webview to createnid
890,glibso  listed in the prelink map so disable prelinking herenid
891,removed all alarmclock files because it is replaced by deskclocknid
892,replaced alarmclock with deskclocknid
893,video tegra set memory priority higher on dc nid  erik gil
894,mfd  backport changes from  few changes were applied to mike  driver afternit was merged backport these into the tegra tree to makenmerging subsequent changes simplernnnedoffby mike rapoport  gary k
895,fix kernel oops if the journal superblock has a nonzero jerrnonncommit  fixed an accounting bug only to introduce thenpossibility of a kernel oops if the journal has a nonzero jerrnonfield indicating that the file system had detected a fs inconsistencynafter the journal replay if the journal superblock indicates that thenfile system has an error this indication is transfered to the filensystem and then  is called to write this to thendisknnbut since the percpu counters are now ialized after the journalnreplay the call to  will cause a kernel oops sincenit needs to use the percpu counters the  superblock structurennthe fix is to skip setting the  free block and free inode fieldsnif the percpu counter has not been setnnthanks to ken sumrall for reporting and analyzing the root causes ofnthis bugnnaddressesgooglebug  theodor
896,mfd  add basic interrupt supportnnadd support for enabling and disabling  subdevice interruptsnnnedoffby gary k
897,rtc  add alarm support to  drivernnnedoffby gary k
898,fixes issue  in the public bugs database  documentation of androiddatabasecursor was updated to mention thatnthe array that is returned by getcolumnnames must not be modifiednid
899,remove contactstest gms dependenciesnnbug  the assertions that relied on gms being present take off thenknownfailure annotationnid
900,unused private members removed from accountsyncsettingsnunused local variable removed from addaccountsettingsnoverride warnings fixed for syncactivitytoomanydeletesnid
901,adt  deal with missing custom view classesnn detect missing view classes and replace them by a mockviewn this alone makes the rendering useful instead of not updating itn on errorn display the name of the missing view classesn make them hot links and display the new class wizard to create themnid
902,clarify documentation of cursor get methodsnnmake clear in the javadoc comments of the cursor get methods thatnimplementations thereof can have implementationdefined behavior in some casesnthese changes actually correct the documentation for example in the case ofngetshort and the sqlitecursor implementation thereof nonnumeric data isnnot converted to a short via shortvalueof or even in a functionallynequivalent mannernid
903,fix httpproxy implementation to work correctly with chunked encodingnid
904,telephony proper handling of incorrect proactive commandsnnfor incorrect proactive commands that  be decoded successfullynfill  for command details as per spec ts  section  thenuicc shall interpret a terminal response with a command number  asnbelonging to the last sent proactive commandnid
905,document perimplementation behaviors of native get methodsnid
906,hide private symbols using gcc visibility pragmannlibcso should not export all private symbols to reflect android ndknthis patch attempts to use gcc visibility pragma to hide the privatensymbols in bionic this also lets the optimizer produce better andnsmaller codennreference experimental results of qualcomm $ armeabisize systemliblibcson text data bss dec hex filenamen      systemliblibcsonnaftern$ armeabisize systemliblibcson text data bss dec hex filenamen      systemliblibcsonid
907,fix typonid
908,fix qualifierlisttest and configmatchtest unittestsnntestqualifierlist checks the number of qualifiersnagainst folderconfigurationindexcount except  mismatch since there was no index  was missing the new docknight and nav statenid
909,add subaddress to sms fingerprint calculationnnas per sms specification in   section  if thensubaddress is included in a cdma sms message it needs to be used fornduplicate detection subaddress which is an optional field was omittednwhile computing the sms fingerprint hence it was never being used innduplicate detection if it was included in the sms add subaddress to thensms fingerprintnid
910,arm tegra setup usb phy as recommended by nvidiannthis fixes enumeration issues with some devicesnid  benoit gobi
911,adjust memcpy for arm cortex  cache line sizennarm cortex  use  bytes and arm cortex  use  bytes cache line sizennthe following patchn adds code to adjust memcpy cache line size to match  cache line sizen adds a flag to select between  bytes and  bytes cache line sizenid  christian bejram
912,modified formatting of sd card to use minor macronnmodified volumecpp to use correct block id when callingnnewfsmsdos to create fat structure on sd cardsnnow using the minor macro instead of hard coded constantnid  rikard olsson  christian bejram
913,use  implementation of atomic operationsnninstead of generic global lock defined by dbus on  platformsnandroid could directly utilize its own atomic operation implementationnid
914,add telephony feature testsnnbug  that the  getphonetype return value makes sense withnthe features reported by packagemanagergetsystemavailablefeaturesnand packagemanagerhasfeaturenid
915,fix unlockscreen  show issuennin the case unlockscreen  show because the running   onsimstatechanged    handleresetnso add an examination in reset to dokeyguard if  not showingnid
916,fixes issue  in the public bugs database  javadoc comment for class androidcontenturimatcher had four  the example calls to adduri should not be using a leading forward slash inn the path parameter reported by ester  the sample code to construct a urimatcher was incorrect because then urimatcher constructor takes a parameter reported by ross  the code example for using match was incorrect because it showed twon parameters being passed when match only takes one reported byn ross  the sample gettype implementations were incorrect because gettype takesn a uri object not an array of stringsnid
917,gps fixed the geo fix console command and added satellite count emulationnid
918,fix build on os x snow leopardnnit should also set include path when set
919,fix for dexopt no such file or directory errornnwhen commonjavalibjar is created both localbuiltmodule andnbuiltodex targets can be runnnif builtodex target runs before the directory is created bynlocalbuiltmodule target the error occursnid
920,functionfs ial implementationnnthis patch is intended to demonstrate the possibility of using adbdnandroid debug bridge daemon with a generic functionfs gadget insteadnof a custom adb usb gadget in the linux kernel the patch addsna replacement usb access layer to adbd it adds a new layer asna copy of an existing usblinuxclientc and introducesnfunctionfs support proper on top of the copied layer the former usb accessnmethod is still available the method is chosen at compilation time bynsetting useusbfuncfs variable to false in  androidmk in the sectionndedicated to adbdnnhow to use on the target devicenn$ insmod gffsko    $ mount t functionfs adb devusbgadgetadb o $ adbdnnthe linux kernel   driversusbgadgetcompositec containsnmodule parameter defions for idvendor and iserialnumber and wasnverified to work adb devices issued on host will list   asnthe device namennin case adbd does not switch its identity to  respectivenoptions are not required in the mount command above it depends on adbnproperties if adbd is run standalone no more android stuff then thenproperties are set to their defaults which imply switching uidgid  andrzej pietrasiewicz  kyungmin park
921,fix eclipsetestcollector for eclipse  junit libnnsome method signatures have changednid
922,arm tegra move display clocks from tegrafb to tegradcnnnedoffby erik gil
923,attempt to fix buildnid
924,hide libm private symbols using gcc visibility pragmannfollowing the visibility changes in libcso this patch attempts to hidenprivate symbols in libmsonnreference code size measurements for htc passionn$ armeabisize outtargetproductpassionsystemliblibmsonnbeforen textt datat bsst dect hextfilenamen      textt datat bsst dect hextfilenamen
925,throw more exceptions from cursor classesnnadded throws clauses to the signatures of the get methods that retrievenvalues from columnsnid
926,adding a new content provider for reading specific operator flags from the sim cardnncustomization options are increased by introducing a way to read specific operatorndefined flags from the sim card operators can store information on the sim card thatncan be read at runtime or at phone start up this enables the possibility to use differentnsettings depending on the information stored on the sim card an operator can for instancenhave different apn settings depending on whether the sim card is prepay or postpaynid
927,video  support dsi for  in kconfignid  erik gil
928,quality of service qos support in android ril apisnn add ril apis to enable the use of qos in mobile datan apis to enable creation deletion and modification ofn traffic flows on various radio technologiesn support for specifying various flow and filter parametersnid
929,arm  hwmod allow enable to be called on enabled hwmodnnsome hwmods are left enabled during boot to avoid resettingncritical subsystems if enable is called it will printna warning that the hwmod is not in the disabled or idlenstates expand the check to allow hwmods to be in the enablednstatenid  colin cross
930,modifications to decoder node for gapless playbackn
931,gpu pvr  fixupsnid  erik gil
932,merge branch  into
933,video omapfb android fbdev supportnid  erik gil
934,revert gpu pvr  fixupsnnthis reverts commit
935,revert gpu pvr remove reference to dbgdrv in makefilennthis reverts commit
936,revert omap sgxkm port pvr services to  reverts commit
937,gpu pvr update to ddk
938,fixes reboot on low opps with and without srnnsystem seems to spin in rom code when software resetwarm is issuednwith  reset cold the behavior is different with and without srnsystem will not reboot with sr without sr system will reboot but thennewly loaded kernel will hang while bootingnnnedoffby romit dasgupta
939,arm msm camera fix memory corruptions and add checks on copyfromusernnnedoffby iliyan malchev
940,change  encoding default gob header interval to
941,rcarcv header configurationn
942,mmc during unsafe resume select the right volatge for the cardnnduring mmc unsafe resume choose the right voltage for the card afternpowerupnnalthough this has not seen to cause trouble  the wrong behaviournnnedoffby balaji rao  pierre ossman  san mehat
943,the password in the apn settings is shown instead of starsnnthe password is presented as stars in the edit box also if onenexits and then enters the apn editor the password is starsnnwith this patch the apn password is consistently starifiedn
944,improved build configurationsn
945,mmc add extended csd register to debugfsnnextended csd is a mmc card register as increasingly interestingnfields are being added to extended csd it is helpful to see itsnvalue note that sd cards do not have an extended csdnregister so it is mmc onlynnnedoffby adrian hunter  pierre ossman  san mehat
946,remove tabs from log statementsn
947,mmc increase power up delaynnthe ti controller on toshiba tecra  needs more time to power up ornthe cards will incorrectly or not at allnnnedoffby josé m fernández  pierre ossman  san mehat
948,support for omx real audio decoder componentn
949,mmcblock be prepared for oversized requestsnnthe block layer does not support very low sector count restrictionsnso we need to be prepared to handle bigger requests than we can sendndirectly to the controllernnproblem found by manuel laussnnnedoffby pierre ossman  san mehat
950,oscl build modificationsn
951,mmcblock do not dma to stacknnin the write recovery routine the data to get from the cardnis allocated from the stack the dma mapping documentation saysnexplicitly stack memory is not mappable by any of the dma callsn to using kmalloc to allocate the memory for the resultnfrom the card and then free it once  finished with thentransactionnn changed to gfpkernel allocation pierre ossman nnnedoffby ben dooks  pierre ossman  san mehat
952,added null check before objects from msyncstatus are usednnmsyncstatus is a sparsearray but  treated as suchnthis caused crashes during stability testn
953,title in datepickerdialog used in settings application not updated correctlynnthe datepickerdialog in the settings application is not updated correctly if you follownthe following  enter date option in settings  modify the values of the date then cancel the  once again enter the date optionnnand you can see that the title in the dialog has not been updated correctly this isndue to a missing call to ondatechanged callback in the datepicker class solution wasnto add the notify call when updatetime has been calledn
954,omx component unialised valuen
955,mmc mmcrescan detects card change in one runnnwith this patch mmcrescan can detect the removal of an mmc card andnthe insertion of possibly another card in the same run this meansnthat a card change can be detected without having to callnmmcdetectchange multiple timesnnthis change generalises the core such that it can be easily used bynhosts which provide a mechanism to detect only the presence of a cardnreader cover which has to be taken off in order to insert a card othernhosts card detect or mmccapneedspoll each receive an event whenna card is removed and when a card is inserted so it is sufficient fornthem if mmcrescan handles only one event at a time cover detectnhosts however only receive events about the cover status this meansnthat between  subsequent events both a card removal and a cardninsertion can occur in this case the prepatch version of mmcrescannwould only detect the removal of the previous card but not the insertionnof the new cardnnnedoffby jorg schummer  pierre ossman  san mehat  san mehat
956,remove the window from being a target for motion events when it is destroyednnif window was destroyed when touch was pressed this destroyednwindow was still considered as a target for motion eventsnin some cases this could result with hang up inside event dispatch procedurenid
957,replace media output component for
958,arm msm defconfig set mmapminaddr to  san mehat
959,adding missing importexport declarationsn
960,arm  add flushkerneldcachepage for armnnwithout this the default implementation is a no op which is completelynwrong with a vivt cache and usage of sgcopybuffer producesnunpredictable resultsnntestedby sebastian andrzej siewior  stablekernelorgnnedoffby nicolas pitre  russell king  san mehat
961,windowmanagerservice reports anr when target app died during dispatching eventnnreset internal state of windowmanagerservice when target app diednthat will allow new events to be dispatchednid
962,use yellow background anymorenid
963,updated rgb led test casesnnthe test cases for turning on the rgb led with persistent light was correctednthe color for blinking was updated to blue and finally an option for turningnoff the lights was addedn
964,parsernode should pass source context to cpm pluginsn
965,merge from eclairnid
966,fix for fixed point arithmetic while calculating timestamp from a frame number in  parsern
967,arm msmdefconfig add configtun to defconfignnedoffby san mehat
968,arm msm camera fix memory corruptions and add checks on copyfromusernnnedoffby iliyan malchev
969,make the led colors when charging customizable by the vendornnthis commit will make the default led colors in the notificationmanagernfor battery charge customizable via overlays the blink onoffntimes are customizable in the same mannernid
970,arm  hwmod data prevent idle and reset on gpionid  colin cross
971,arm  mux allow board mux settings to be  has two mux instances and the board may not have settingsnfor one of them allow the board file to pass null for  mux settings which will ialize the mux instancenbut skip writing board settingsnid  colin cross
972,arm  pass core and wakeup mux tables to  contains two separate instances of the padconf registersnone in the core system config and one in the wakeup system confignpass in two tables to apply the correct values to each instancenid  colin cross
973,arm  enable keypad controller hwmodnnthe keypad controller hwmod was left commented out but  driver requires it to functionnid  colin cross
974,clock wait for module to become accessible on a clk enablennon  the clock fw is missing a check for module accessebilitynon a call to clk enable since this check is already part of thenomap device layer this check at the clock framework is redundantnbut since not all drivers are yet using omap device apis and most stillndepend on clk framework to enable clocks this patch seems to be needednat this point to avoid any module accessebility issuesnnnedoffby rajendra nayak
975,clockdomain follow prcm recommended enable sequencennon  the prcm recommended sequence for enablingna module after poweronreset  force clkdm to  configure desired module mode to enable or  wait for the desired module idle status to be  program clkdm in hwautoif supportednnthis sequence applies to all older  as wellnhowever since they use autodeps it makes sure thatnno clkdm is in idle and hence not requiring a forcenswwkup when a module is being  does not need to support autodeps becausenof the dyanamic dependency feature whereinnthe hw takes care of waking up a clockdomain fromnidle and hence the module whenever an interconnectnaccess happens to the given modulenautodeps were mainly needed on older  asnthis was not the case back then and a modulenaccess with the moduleclkdm in idle would causenan abortnnfix the clkdmclkenable api to handlenthis sequence on  rajendra nayak
976,regulator twlregulator fix nvoltages for  variable ldosnnthe nvoltages ializer for the  macro isnoff by one causing the the highest supported voltage to benunreachable setting the machine constraints to only allow thenhighest voltage causes errorsnnmachineconstraintsvoltage  unsupportable voltage constraintsntwlreg   register   probe of  failed with error  patch fixes theone error tested by  to   colin cross
977,telephonycat sending correct tr for idle mode  the proactive command setupidlemodetext is issued withnempty text and with nonself explanatory icon terminal  should be sent back to the uicc card asnper the idle mode gcf test cas
978,introduce new command status code in the base noden
979,change defconfig for android mmc mountnnmmc card mounting is failing if these options are kept  patch disbles these options from defconfignnnedoffby vikram pandita
980,retry pending memory status update to modem when radio is onnnwhen radio is powered off airplane mode memory status updates arenignored by ril with this fix pending memory status updates are sentnagain when radio is powered back onn
981,port  parser to new base node interface designn
982,mms app show pendingfailedsuccess icon in messagelistn
983,initialize mvisibilitychanged to fix a bugnnthis is a fix for the camcorder applicationnnwhen we attempt to record the video for the second timenwe found that the overlay was not being setup correctlynthe function layerbufferoverlaysourceonvisibilityresolvednsets up the overlay but it does not do so the second timenbecause the variable mvisibilityresolved is not set to truenwe already discussed this issue with mathias agopian and henagrees that it is an issue this patch is a workaround untilna proper solution is implementednni also filed a  anu sundararajan
984,use the locapi gps library in the genericpassion buildnnnedoffby mike lockwood
985,allow  parser and composer fileformat apis to coexist in the same translation unitn
986,overlay added support for new overlay api setattributesnnthis patch is dependant on patch  please refer to that patch for a detailed descriptionnnnedoffby anu sundararajan
987,video config parser additionsn
988,add blowfish support to opensslnnthis was contributed to cyanogenmod by friedrich schaeuffelhutnnblowfish support is needed in openssl to use software such as openvpnn
989,prelinklinuxarmmap added ti system librariesnnthis is a temporary fix please do not mergenna  has been filed to fix the problemnnnedoffby anu sundararajan
990,update changelog for opencor
991,use more tokens when tokenizing contact name usefull for better searchingn
992,version updates for sdkinfo header files and playerdriver documentation updatesn
993,added a feature to the apkbuilder for setting a custom keystore pathn
994,pvplayer state transition handling in when error event received from omx componentn
995,fix for testcases  with  contentn
996,fix adb handling of devices with no serial number see bug  there is no serial number it will use the usb device name devusbnthis obviously  ideal but  better than before and stops eclipsencrashing and burningnnnote also that  only fixed it for linux i added a commentedoutnpossible solution for osx but i  have access to osx to test itnadded todo notes to fix it on osx and windows someone else will have to do that thoughnnpossible reasons why not to merge and  we  merge it until you fix osx and windowsn ok buy me a mac and a copy of windows and  be happy to until thenn this is better than the current state and in no way worse you might sayn it is a pareto patch  change the commentsn  quite a lot of overhead involved in contributing code to androidn if it were as simple as changing the test and clicking  then suren otherwise it is much easier for people at google to do  looks good  merge itn yeay i shall submit more patches in future nid
997,arm msm mdp add support for rgbx  image formatnnnedoffby dima zavin
998,arm  add flushkerneldcachepage for armnnwithout this the default implementation is a no op which is completelynwrong with a vivt cache and usage of sgcopybuffer producesnunpredictable resultsnntestedby sebastian andrzej siewior  stablekernelorgnnedoffby nicolas pitre  russell king  san mehat
999,arm  add  to muxchnnnedoffby erik gil
1000,the check length of system image path is incorrectnid
1001,add provisioning app in the generic buildnid
1002,arm msm mdp set the correct pack pattern for xrgbargbnnnedoffby dima zavin
1003,arm msm usb diag add support for getting  logs for qxdmnnnedoffby iliyan malchev
1004,yaffs change locking to fix readdir deadlocknnyaffs was hanging when the readdir call to filldir caused a pagenfault to reenter yaffs this was hanging because tjhe yaffs grossnlock was held through the filldir callnnthis only showed up under stress testing and i have not been ablento reproduce itnnit is probably not enough to just release the gross lock since thendirectory structure could be changed under usnnthis patch unlocks before calling filldir but also adds a newnrw semaphore controlling access to the yaffs directory structuresnthus allowing the unlock without any directory misadventuresnnthe directory locking is done more conservatively than is probablynreally needed but  done purposefully to prevent a dependencynwith any other yaffs changesnnnedoffby charles man
1005,arm msm usb diag fix a memory leak in txreqidlennnedoffby iliyan malchev
1006,atom optimized string and memory routinesnid
1007,correct some ifdef mistakes in openssl codennsome features can be disabled in openssl easily by creating a define tondisable it but apparently there  enough testing for disablingnengines and ocspn
1008,make memtest conform to posix memcmp defnn
1009,fix to android issu
1010,look for product configs in device in addition to vendornnthis will allow to create opensourceable product configurationsnid
1011,remove elliptic curve crypto from opensslnnnothing in android appears to be using the elliptic curve cryptographynfunctions there are some spec classes in  jaasecurityspecnbut nothing that actually uses openssl to implement itnnremoving this part from openssl saves approximately  bytesn
1012,fix for android issue  error in datepicker time days beyond the end of the monthn
1013,fix buildn
1014,remove unused engines from openssl crypto subdirnnpart of the readmeandroid directs you to remove the engine directorynbut misses the engine subdirectory of crypto this adds a flag tonremove the unused engine functions altogethernnthis change saves about  bytes from the final build of libcryptosonin thumb moden
1015,fix for android issue  datepickerdialogupdatedate does not update the title of the dialogan
1016,arm  mahimahi enable support for  on  cdma revsnnnedoffby iliyan malchev
1017,fix bug of mmcc not checking readfile resultnthis bug causes segment fault when reading name node ofnsdio mmc  sys file which is not existed at allnnnedoffby xinyu chen
1018,arm  mahimahi fix modify the remotekey adc table and handling codennon some headsetsearphones remote keys cannot be detected correctly onnmahimahi cdma and remotekeyadctable needs to be adjusted slightly to fitnfor both versions of mahimahinnnedoffby iliyan malchev
1019,remove ocsp from the openssl buildnnocsp is a good idea but bouncycastle implements its own ocsp nothingnin android appears to use  ocsp implementationnnremoving ocsp saves about  bytes from libcryptoson
1020,a few oma drm handling fixesnnadd a new constructor for the avcsampleentry to be used whennparsing the encv atomnnremove a duplicate delete from ecnvecnvnnadd an avcsampleentry after parsing encv atom with avc original samplenentry this way the video can be processed correctly after decryption egnnalu length size can be returnednnfix a couple of unialized variable idrminfo in particular was very badnand hard to trackn
1021,mmc delayedwork was never cancellednnthe delayed work item mmchostdetect is now cancelled before flushingnthe work queue this takes care of cases when delayedwork was schedulednfor mmchostdetect but not yet placed in the work queuennnedoffby jorg schummer  pierre ossman  san mehat
1022,personality fix perclearonsetidnnwe have found that the current perclearonsetid mask on linux  neither addrcompatlayout nor mmappagezeronnthe current mask is readimpliesexecaddrnorandomizennwe believe it is important to add mmappagezero because by using thisnpersonality it is possible to have the first page mapped inside anprocess running as setuid root this could be used in those scenariosnn exploiting a null pointer dereference issue in a setuid root binaryn bypassing the mmapminaddr restrictions of the linux kernel byn running a setuid binary that would drop privileges before giving usn control back for instance by loading a usersupplied library wen could get the first page mapped in a process we control by furthern using mremap and mprotect on this mapping we can then completelyn bypass the mmapminaddr restrictionsnnless importantly we believe addrcompatlayout should also be addednsince on   it will in practice disable most of the addressnspace layout randomization only the stack will remain randomizednnnedoffby julien tinnes  tavis ormandy  stablekernelorgnackedby christoph hellwig  kees cook  eugene teo  shortened lines and fixed whitespace as per  suggestion nnedoffby linus torvalds  san mehat
1023,dlaextensionacquirelicence needs to be renamed to dlaextensionacquirelicensen
1024,adding missing importexport declarationsn
1025,mmc add modalias linkage for mmcsd devicesnncurrently we are using an explicit udev rule to trigger loading of thenmmcblock module when an mmc or sd card is detectednn   qba mmcblocknnit makes much more sense for the mmc bus driver and the mmcblock module tonshare modalias information so that they are linked automaticallynnthere is no real information of use in the mmc system at the current timenall devices inserted require us to load the mmcblock device until suchntime as useful parameters exist simply reflect the module linkage vianthe module alias belownntmmcblocknnnedoffby andy whitcroft  pierre ossman  san mehat
1026,using rtcp sr reports to perform av sync once if server does not provide rtpinfo in play responsen
1027,minor cleanup in  multiplex coden
1028,modifications to decoder and  source node for gapless playbackn
1029,improvements in project file creationn
1030,add an api to the  composer for adding movie fragment random access entriesn
1031,make socksendpage use kernelsendpagennkernelsendpage does the proper default case handling for when thensocket  have a native sendpage implementationnnnow arguably this might be something that we could instead solve bynjust specifying that all protocols should do it themselves at thenprotocol level but we really only care about the common protocolsndoes anybody really care about sendpage on something like appletalk notnlikelynnackedby david s miller  julien tinnes  tavis ormandy  stablekernelorgnnedoffby linus torvalds  san mehat
1032,modifications to  and  file parsers for gapless playbackn
1033,security use mmapminaddr indepedently of security modelsnnthis patch removes the dependency of mmapminaddr on configsecuritynit also sets a default mmapminaddr of  of addresses below  will only be possible for processesnwith capsysrawionnnedoffby christoph lameter  eric paris  linus torvalds  james morris  san mehat
1034,arm msm usb diag add support for getting  logs for qxdmnnnedoffby iliyan malchev
1035,the audio flinger set the wrong frames nr for the alsa recordnthis would make the captured frame saved incorrectly cause frames lostnfix it by set the required number of frames according to the buffer sizennnedoffby guoyinchen
1036,support for the syscall libc calln
1037,video  omapfb call update from pan display regardless of offsetnnregardless of whether xy offset have changed call updatenfrom pan display android uses pandisplay to indicate it wantsnto draw from userspace even if the xy offset  changednwe need to send an update to a smart panelnid  rebecca schultz zavin
1038,add apis of audio sample rate and channel setting in recodernnnedoffby guoyinchen
1039,updating codebase to opencore  more documentation on the changes to follown
1040,resolves issue  simplifyautomate application package name refactoringn
1041,resolves issue  simplifyautomate application package name refactoringn
1042,change  resolves issue  simplifyautomate application package name refactoringnid
1043,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
1044,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
1045,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
1046,oprofile enablementn
1047,solution for issue of inflating big compressed filesnnthere is a size limitation on buffer for inflating a compressed filenthe the file is bigger than  ziputils does not allocate the buffernfor inflating this changeset provide the ability to inflate a fileninto a file descriibed by a file pointer and user of ziputils nonmore limited by size limitation of buffernid
1048,fix the issue of loading big resourcesarscnnwhen aapt try to load resources from resourcesarsc in androidjar itnwould be fault for resourcesarsc that is too big to squashed into  or  buffer when inflates it the solution is inflating thenfile into a temporary file the content of resourcesarsc is loadednin several times to avoid to allocate a large block of memoryneverytime it loads one or more complete chunks and squash chunks intona buffer  these chunks are add into restable in several timesnto avoid allocation of big memory blocksnid
1049,remove proximityalerts receiver when last proximityalert expiresnnremove the proximityalerts update receiver when the last proximityalert expiresnfixes issu
1050,deprecate an api that was supposed to ben
1051,syscall system call implementationn
1052,fix buildn
1053,arm msm fix warnings in smddebugnnnedoffby iliyan malchev
1054,add channel number sample rate and bit rate setting interfacesnin audioflinger and media service for audio recordernthe opencore api implement is in the changes  guoyinchen
1055,arm msmfb add defions for  and  output interface formatsnnnedoffby iliyan malchev
1056,android  oprofile supportn
1057,arm defconfig sholesdefconfig enable twofish encryptionnnnedoffby san mehat
1058,mmc msmsdcc clean up clock management and add a  delay after enabling clocksnnit appears that in some cases there may be a delay on the  in enabling our clocknas a result we may put the controller into a bad state delay  after enablingnclocks to let the peripheral settle note this is all impericalnnalso ensure setios callback grabs the host locknnnedoffby san mehat
1059,arm msm mdplcdc support output format  iliyan malchev
1060,allow meta macros outside of the frameworknnthe meta macros are useful outside of the frameworknfor other systems implementing binder interfaces butnthey depend upon the android namespace this includesnthe appropriate namespace operations which should bensane even in that android namespacenid
1061,use normal suspend instead of early suspendnncan now generate events when screen is off wakelocknid  mike chan  iliyan malchev
1062,according to open manpage you should add mode when you use ocreate flagnid
1063,merge commit  into freebsdportn
1064,merge commit  into freebsdportn
1065,fix darwin buildnnqemuarm needs to link to the cocoa framework on darwinnid
1066,actionnewoutgoingsms bug  is a preliminary implementation for bug  with the goal ofnchecking if such implementaton will be accepted and if it is done thenright way comments and suggestions are welcomennnote that mms is not supported yet but will be added in a futurenpatchsetnn added actionnewoutgoingsms intentn added processoutgoingsms permissionn implementation for text smsnid
1067,actionnewoutgoingsms bug  is a preliminary implementation for bug  with the goal ofnchecking if such implementaton will be accepted and if it is done thenright way comments and suggestions are welcomennnote that mms is not supported yet but will be added in a futurenpatchsetnn added actionnewoutgoingsms intentn added processoutgoingsms permissionn implementation for text smsnid
1068,arm msm fix warnings in smddebugnnnedoffby iliyan malchev
1069,pmem add cache flush ioctl for pmem buffersnid  dima zavin
1070,revert arm  mahimahidefconfig set configsmdoffsettcxostatnnthis reverts commit  iliyan malchev
1071,revert arm msm smddebug add smem debug info for tcxo and network related statisticsnnthis reverts commit  iliyan malchev
1072,arm msm fix warnings in smddebugnnnedoffby iliyan malchev
1073,clearing framebuffer when overlay is in usennnedoffby anu sundararajan
1074,clearing framebuffer when overlay is in usennnedoffby anu sundararajan
1075,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
1076,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
1077,revert arm  mahimahidefconfig set configsmdoffsettcxostatnnthis reverts commit  iliyan malchev
1078,revert arm msm smddebug add smem debug info for tcxo and network related statisticsnnthis reverts commit  iliyan malchev
1079,arm sholesdefconfig enable config options for devmapper and encryptionnid  rebecca schultz zavin
1080,arm tegra clock add usb clocks and phynid  colin cross
1081,add missing  includennthis should fix the build for gcc
1082,arm tegra select  cachennnedoffby colin cross
1083,added prune options to findleavessh to ignore the git and repondirectories since the androidmk files will not be found in thesendirectoriesnnprunning out these directories decreased the make parse by nearlyna minute on a cold cache and eliminated  stats on files innthe git and repo directoriesn
1084,arm tegra harmony enable  cachennnedoffby colin cross
1085,sched make task dump print all  chars of proc commnid  erik gil
1086,arm tegra harmony enable  cachennnedoffby colin cross
1087,usb gadget fsludc sync eptd struct when submitting to controllernnsince these get allocated dmacoherent instead of noncacheable in  we neednto do cache maint on themnnnedoffby erik gilling  colin cross
1088,usb gadget fsludc sync eptd struct when submitting to controllernnsince these get allocated dmacoherent instead of noncacheable in  we neednto do cache maint on themnnnedoffby erik gilling  colin cross
1089,arm omapkeypad add keypad scan delay support on  paul eastham
1090,usb gadget fsludc sync eptd struct when submitting to controllernnsince these get allocated dmacoherent instead of noncacheable in  we neednto do cache maint on themnnnedoffby erik gilling  colin cross
1091,arm tegra select  cachennnedoffby colin cross
1092,arm tegra select  cachennnedoffby colin cross
1093,arm tegra harmony enable  cachennnedoffby colin cross
1094,make socksendpage use kernelsendpagennkernelsendpage does the proper default case handling for when thensocket  have a native sendpage implementationnnnow arguably this might be something that we could instead solve bynjust specifying that all protocols should do it themselves at thenprotocol level but we really only care about the common protocolsndoes anybody really care about sendpage on something like appletalk notnlikelynnackedby david s miller  julien tinnes  tavis ormandy  stablekernelorgnnedoffby linus torvald
1095,cache the expensive  hour display mode lookupn
1096,security use mmapminaddr indepedently of security modelsnnthis patch removes the dependency of mmapminaddr on configsecuritynit also sets a default mmapminaddr of  of addresses below  will only be possible for processesnwith capsysrawionnnedoffby christoph lameter  eric paris  linus torvalds  james morri
1097,personality fix perclearonsetidnnwe have found that the current perclearonsetid mask on linux  neither addrcompatlayout nor mmappagezeronnthe current mask is readimpliesexecaddrnorandomizennwe believe it is important to add mmappagezero because by using thisnpersonality it is possible to have the first page mapped inside anprocess running as setuid root this could be used in those scenariosnn exploiting a null pointer dereference issue in a setuid root binaryn bypassing the mmapminaddr restrictions of the linux kernel byn running a setuid binary that would drop privileges before giving usn control back for instance by loading a usersupplied library wen could get the first page mapped in a process we control by furthern using mremap and mprotect on this mapping we can then completelyn bypass the mmapminaddr restrictionsnnless importantly we believe addrcompatlayout should also be addednsince on   it will in practice disable most of the addressnspace layout randomization only the stack will remain randomizednnnedoffby julien tinnes  tavis ormandy  stablekernelorgnackedby christoph hellwig  kees cook  eugene teo  shortened lines and fixed whitespace as per  suggestion nnedoffby linus torvald
1098,arm  change hdq device to ialization from board filennthis change allows board specific platform data to be attached to thenhdq device also modifies board files using the hdq to ialize it fromnthe board filennnedoffby rebecca schultz zavin
1099,arm msm htc fix bitmaps used for computing the usb pid based on enabled functionsnnfixes a problem resulting in the pid  being used in all casesnwhich causes windows to not recognize the adb interface if the device hadnbeen previously connected with adb support disablednnnedoffby mike lockwood
1100,libc fix prctl declarationnnthis change fixes the prctl declaration to match glibc and allow usnto build  for android among other things note that this doesnnot change the source and binary interfacesnid
1101,fix mac and windows buildsnnsilly me kvm is only available on linux hostsnid
1102,if you call setdrawingcacheenabledtrue updatecursorcontrollerposition is never  added predrawlistener in constructor to call updatecursorcontrollerpositionnid
1103,fixed monkeyrunner to work with pydevnneclipse passes the u option to monkeyrunner by default since we  anything with that option we can just ignore itnnbug
1104,fixed monkeyrunner startup script for manual buildnnfixed the monkeyrunner startup script to include the proper swtndirectory when monkeyrunner is started after a manual build ie notnfrom the prebuilt sdknid
1105,support ndef intent filtering for nfc forum external typennandroid offers ndef intent filtering for common tnf types such as tnfmimemedia tnfabsoluteuri and tnfwellknownnhowever before this commit it lacks intent filtering support for another common tnf type tnfexternaltypenthis commit adds support for the android equivalent of the  pushregistry of the formnn   solution is a simple mapping from the external rtd record type to a mime typenn xndefxexternalrtd  to the technical specification for the nfc forum external type namesnthis solution allows for every valid external type name to map to an  valid mime typenid  matthijs langenberg
1106,usb gadget  fix typo in atmelusbaudc drivernncommit  upstreamnncompile fix for bug introduced by  josh wu  jiri kosina  greg kroahhartman
1107,default render target level should consider project targetnnwhen picking the default render target we attempt to pick a renderntarget that is at least version  of layoutlib where renderingnfidelity has improved significantly where include support isnimproved etcnnhowever this sometimes picked a render target whose api level isnlower than the project targetnnthis cl fixes that problem and also improves the detection ofncompatible layout libraries to not only consider api level  ornhigher but also the new layoutlib api property which will identifynqualified sdk versions when we release backported versions of layoutnlibnid
1108,xhci  let the usb core disable superspeed portsnncommit  upstreamnndisabling superspeed ports is a very bad thing tm it disablesnsuperspeed terminations which means that devices will never connect atnsuperspeed on that port for usb  ports disabling the port meantnthat the usb core could always get a connect status change later  true with usb  portsnndo not let the usb core disable superspeed ports we  rely on thendevice speed in the port status registers since that  valid  a usb device connected to the port instead we use the portnspeed array  created from the extended capabilities registersnnnedoffby sarah sharp  don zickus  greg kroahhartman
1109,fix adttestnid
1110,repository xml for  layoutlib version for addonsnid
1111,usb musb fix kernel oops when loading musbhdrc module for the  timenncommit  upstreamnnmusb driver still may write musbdevctl register after clock is disablednin musbplatformexit which may cause the kernel  when musbhdrcnmodule is loaded for the  timennthe patch fixes the kernel oops in this  kernel oops when loading musbhdrc module for the  timenn  musbhdrc version  musbdma otg peripheralhost   bus  add driver musbhdrcn  bus  driverprobedevice matched device musbhdrc with driver musbhdrcn  bus  reallyprobe probing driver musbhdrc with device musbhdrcn  hs usb otg revision  sysconfig  sysstatus  intrfsel  simenable   musbhdrc   dyn fifos bulk combine bulk split hbiso rx hbiso tx softconnn  musbhdrc mhdrc rtl version   musbhdrc setup fifomode   musbhdrc  max ep  memoryn  musbcore  musbhdrc hwep  max   musbcore  musbhdrc hwep  doublebuffer max   musbcore  musbhdrc hwep  doublebuffer max   musbcore  musbhdrc hwep  max   musbcore  musbhdrc hwep  max   musbcore  musbhdrc hwep  max   musbcore  musbhdrc hwep  max   musbplatformtryidle  bidle inactive for idle timer for  msn  device  deviceaddn  pm adding info for no busgadgetn  musbcontroller  otg mode status    musbdoidle  musbdoidle   musbhdrc musbhdrc usb otg mode controller at  using dma irq   driver  driverbound bound to device   bus  reallyprobe bound device musbhdrc to driver musbhdrcn  bus  remove driver musbhdrcn      device  deviceunregistern  pm removing info for no busgadgetn  gadget musbgadgetreleasen  driver  driverreleasen  musbhdrc version  musbdma otg peripheralhost   bus  add driver musbhdrcn  bus  driverprobedevice matched device musbhdrc with driver musbhdrcn  bus  reallyprobe probing driver musbhdrc with device musbhdrcn      unhandled fault external abort on nonlinefetch  at   internal error    last sysfs file   modules linked in musbhdrc last unloaded musbhdrcn  cpu  not tainted    pc is at  musbhdrcn  lr is at   pc  lr  psr   sp  ip  fp                            flags nzcv irqs on fiqs on mode  isa arm segment usern  control  table  dac   process insmod pid  stack limit    stack  to                       ffffffff                                                                                                                                                                                                                                                      backtracen    musbhdrc from   musbhdrcn        musbhdrc from      from      from      from           from           from      from      from           from      from   musbhdrcn       musbhdrc from      from      from         code       end trace  nncc ajay kumar gupta  sergei shtylyov  anand gadiyar  ming lei  felipe balbi  greg kroahhartman
1112,bluetooth fallback from esco to sco on error code  unsupported featurenngm carkits with lge bt chipsets return this error code when esco is attemptednnnedoffby jaikumar ganesh  nick pelli
1113,xhci fix wmaxpacketsize masknncommit   spec  says for all endpoints bit  specify the maximumnpacket sizein bytesnnso the wmaxpacketsize mask should be  rather than  patch should be queued for the stable tree the bug innxhciendpoint was present as far back as  and the bug innxhcigetmaxesitpayload was present when the function was introducednin  sander eikelenboom  andiry xu  sarah sharp  greg kroahhartman
1114,allow an onrestart command to stop the current servicennfor examplennservice recovery sbinrecoveryntonrestart start loadkeysntonrestart classstart conntonrestart stop recoverynnpreviously if you had a service like the above the onrestart stopnrecovery clause would not have any effect because the restart flagnwould be reset after the stop command had executednnthis is similar to a service with the oneshot keyword with the criticalndifference being that it executes the other onrestart commands when thenservice diesn
1115,xhci remove excessive printks with shared irqsnncommit  upstreamnnif the xhci host controller shares an interrupt line with another devicenthe xhci driver needs to check if the interrupt was generated by itsnhardware unfortunately the user will see a ton of spurious interruptnlines if the other hardware interrupts often lawrence found his dmesgnoutput cluttered with this output when the xhci host shared an interruptnwith his  hardwarennremove the warning as sharing an interrupt is a normal thingnnthis should be applied to the  stable treennnedoffby sarah sharp  lawrence rust  greg kroahhartman
1116,arm  add pin muxing for numerous gpiosnnnedoffby paul eastham
1117,xhci setup array of usb  and usb  portsnncommit  upstreamnnan xhci host controller contains usb  and usb  ports which cannoccur in any order in the portsc registers we cannot read the port speednbits in the portsc registers at time to determine the port speednsince those bits are only valid when a usb device is plugged into thenportnninstead we read the supported protocol capability registers in the xhcnextended capabilities space those describe the protocol port offset innthe portsc registers and port count we use those registers to createntwo arrays of pointers to the portsc registers one for usb  ports andnanother for usb  ports a third array keeps track of the port protocolnmajor revision and is indexed with the internal xhci port numbernnthis commit is a bit big but it should be queued for stable because the  the usb core disable superspeed ports patch depends on it there is nonother way to determine which ports are superspeed ports without this patchnnnedoffby sarah sharp  don zickus  greg kroahhartman
1118,xhci fix resetdevice and configureendpoint commandsnncommit  upstreamnnwe have been having problems with the usbif gold tree tests when pluggingnand unplugging devices from the tree i have seen that the resetdevicenand configureendpoint commands which are invoked fromnxhcidiscoverorresetdevice and xhciconfigureendpoint will sometimesntime outnnafter much debugging i determined that the commands themselves do not actuallyntime out but rather their completion events do not get delivered to the rightnplacennthis happens when the command ring has just wrapped around and  enqueuenpointer is left pointing to the link trb xhcidiscoverorresetdevice andnxhciconfigureendpoint use the enqueue pointer directly as their commandntrb pointer without checking whether  pointing to the link trbnnwhen the completion event arrives if the command trb is pointing to the linkntrb the check against the command ring dequeue pointer innhandlecmdincmdwaitlist fails so the completion inside the command doesnnot get signalednnthe patch below fixes the timeout problem for mennthis should be queued for the  and  stable treesnnnedoffby paul zimmerman  sarah sharp  greg kroahhartman
1119,libata fix null sdev dereference race in atapiqccompletenncommit  upstreamnnscsi commands may be issued between scsiadddevice and  so  unsafe for ataqccomplete to  without checking whether  null or not fix itnnnedoffby tejun heo  jeff garzik  greg kroahhartman
1120,pci fix offset check for sysfs mmapped filesnncommit  upstreamnni just loaded  on my machines and i noticed that x no longer startsnrunning an strace of the x server shows that  doing  ordwr    protreadprotwrite mapshared     einval invalid argumentnnthis code seems to be asking for a shared readwrite mapping of  worth  starting at file offset  and letting the kernel assign a startingnaddress unfortunately this einval causes x not to start looking intondmesg  a complaint like sonnprocess xorg tried to map  bytes at page  on  bar  start   size   the following code in pcimmapfitsnntpcistart  mmapapi  pcimmapsysfs nttpciresourcestartpdev resno  pageshift  if start  pcistart  start  pcistart size  start nr  pcistart sizennit looks like the logic here is set up such that when the mmap call comes viansysfs the check in pcimmapfits wants  to be between  start and end address and the end of the vma to be no farther thannthe end however the sysfs pci resource files always start at offset zeronwhich means that this test always fails for programs that mmap the sysfs filesngiven the comment in the original  i think the old procfs filesnrequire that the file offset be equal to the  base address whennmmappingnni think what we want here is for pcistart to be  when mmapapi  the following patch makes that change after which the matroxnand  x drivers work againnnackedby martin wilck  darrick j wong  jesse barnes  greg kroahhartman
1121,pci fix size checks for mmap on procbuspci filesnncommit  upstreamnnthe checks for valid mmaps of pci resources made through procbuspci filesnthat were introduced in  have  mmap calls on procbuspci files are made with real file offsets   under sysbuspcidevices the start of the resource correspondsnto offset  this may lead to false negatives in pcimmapfits whichnimplicitly assumes the sysbuspcidevices  the loop in procbuspcimmap  skip empty resouces this leadsnto false positives because pcimmapfits  treat empty resourcesncorrectly the calculated size is    this  if a user maps resources with bar   pcimmapfits will emit bogusnwarnings for the first resources that  fit until the correct one is foundnnon many controllers the first  bars are used and the others are emptynin this case an mmap attempt will first fail on the nonempty barsnincluding the right bar because of  and emit bogus warnings becausenof  and finally succeed on the first empty bar because of  is certainly not the intended behaviournnthis patch addresses all  issuesnupdated with an enum type for the additional parameter for pcimmapfitsnnnedoffby martin wilck  jesse barnes  greg kroahhartman
1122,extend android with cdma mobile technology support feature complete review comment fixesnnthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1123,tweak typeall to typeallmedia because of forced deprecationn
1124,extend android with cdma mobile technology support feature complete review comment fixesnnthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1125,cosmetic just remove unused importn
1126,remove an empty virtual destructor  not actually necessaryn
1127,extend android with cdma mobile technology support feature completennthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1128,manage and play video ringtonesnnthis is a combination of  commits replacing repo changes  the other old changes can be abandonednn add isringtone to video columnsn have ringtone and ringtonemanager also manage and play video ringtonesn api changesn add ringtone apis getmimetype isvideon enhance ringtoneplay to handle video toon deprecate ringtonemanagertypeall in favor of typeallmedian pending a better option see commentsn cosmetics remove unused importn
1129,extend android with cdma mobile technology support feature completennthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1130,have ringtone and ringtonemanager also manage and play video ringtonesnnapi changesn add ringtone apis getmimetype isvideon enhance ringtoneplay to handle video toon deprecate ringtonemanagertypeall in favor of typeallmedia pending a better option see commentsn
1131,add videoview for video ringtone in portrait and landscape moden support and play video ringtonesnnpatchset  just minor cleanups real fix of sleep etc remains to be donennpatchset  improve gui appearance in landscape moden formatting tweaksn per request in old comment includ callcard in xml not java sourcen
1132,vold check partitions  instead of  mmcbootstrapmmcblk bootstrap partitions  instead of   how the kernel labels them additionally use the ndospart constantnfrom diskmbrh instead of hardcoding  when scanning partitionsn
1133,allow video ringtone for default ringtone but not for notificationsn
1134,extend android with cdma mobile technology support feature completennthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1135,record api changesn
1136,extend android with cdma mobile technology support feature complete review comment fixesnnthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1137,allow contacts to have video ringtonesn
1138,add support for ctrlclick on the method in traceviewnnthis will open the method declaration in an editornid
1139,simalliance open mobile api for secure element accessnnthe api included in this patch enables mobile applications to have accessnto different secure elements in a mobile such as sims or embedded sesnaccording to the simalliance open mobile api specification the simalliancenopen mobile api specification can be found at wwwsimallianceorgnnthis change is part of a bunch of changes implementing the open mobilenapi this change builds fine without the other changes but for thenopen mobile api to work properly the following changes ar
1140,enable fstackprotectornnnedoffby bruce beare  picked from commit
1141,fix for supporting  digits mnc codedefault android mnc value has a  digit but it should be supported a  digitmnc in india should be supported both  and  digits mncchangeid  sangjun park
1142,fix hostlibbfd installation problem caused by undefined $installnnwhile executing target installhostlibbfd the build system complainsnnmake c  install n   m   m   n tmpandroidtoolchaineabilibnnbinsh line  m command not foundnnthe problem was caused by undefined $install the patch attempts tonconfigure  program by autotool in order to set $installnproperly and replace $install m  with multiplatform friendlyn$installdatanid  jim huang
1143,let the traceview plugin open the trace file created through ddmsnnnew ddms extension traceviewlaunchernnthis allows another plugin traceview to providena way to open traceview file if this  worknit revert to the default behavior of ddms which is tonopen the external traceview programnnalso reverted the extension of traceview filenfrom atv to trace because earlier versions ofnandroid would automatically create those filesnusing this extensionnid
1144,nativeappglue fix appcmdtermwindow prehooknnthe window field must not be set to null in the prehook only thenpostone se
1145,usb gadget adb return actual number of bytes readnid  joerie de gram
1146,build if targetarch i
1147,android  is fixed but android  lastest public release has this bugnnif you call setdrawingcacheenabledtrue updatecursorcontrollerposition is never  added predrawlistener in insertionpointcursorcontroller selectionmodifiercursorcontrollernid
1148,adding test cases for getinstalledpackagesnnthere was recently a fix for a case where the bindernheap would run out of space when calling thengetinstalledpackages this could happen when there werena lot of installed packagesnnthis change adds some test cases to verify that fixnid
1149,keyboard order in languagesettingsnnin asia many languages have their own alphabets and these alphabetsnare often best supported by a separate keyboard input methodnimplementation big operators require preinstalled support not onlynfor the mother tongue but also for minority languages as well asna priority order of these keyboardsnnthis patch allows an array of flattened components to be put in annoverlay to define the ordernid
1150,sh avoid error loop when tty disappearsnnavoid loop where no ttyerror exception is repeatedly raisednuntil child processes terminatenid  oskar andero
1151,usb ehci disable lpm and ppcd for nvidia  chipsnncommit  upstreamnntested on  without this we get eproto errors whennfetching device config descriptorsnnnedoffby brian tarricone  benoit gschwind  edgar hucek  greg kroahhartman
1152,make createexif allocate enough memorynnthe createexif method crashes if over  bytes exif headernis passed because only  byte is allocated for exif headernit is hard to calcurate exact nessesary size for editing thenexif header dynamically so this value is changed to thenmamixmum size of exif
1153,usb ehci fix obscure race in ehciendpointdisablenncommit  upstreamnnthis patch  fixes an obscure and unlikely race in ehcihcdnwhen an async urb is unlinked the corresponding qh is removed fromnthe async list if the  endpoint is then disabled while the urbnis being given back ehciendpointdisable  find the qh on thenasync list causing it to believe that the qh has been lost thisnwill lead to a memory leak at best and quite possibly to an oopsnnthe solution is to trust usbcore not to lose track of endpoints ifnthe qh  on the async list then it  need to be taken offnthe list but the driver should still wait for the qh to become idlenbefore disabling itnnin theory this fixes bugzilla  in fact the race is so rarenthat  not possible to tell whether the bug is still presentnhowever adding delays and making other changes to force the racenseems to show that the patch worksnnnedoffby alan stern  stefan richter  david brownell  greg kroahhartman
1154,tethering with configuration request and authentication preferrednnby carrier request users shall not by accident tether an opennnetwork inadvertantly being accountable or paying for trafficnfrom othersnnorder of security type in wifi tethering shall be  shall be translatablenid
1155,simalliance open mobile api for secure element accessnnthe api included in this patch enables mobile applications to have accessnto different secure elements in a mobile such as sims or embedded sesnaccording to the simalliance open mobile api specification the simalliancenopen mobile api specification can be found at wwwsimallianceorgnnfor uicc support uiccterminaljava the uicc extension is required if thenuicc extension changes were not applied yet please temporary remove thenfile uiccterminaljavanthe uicc extension consists of changes with following change  emulator  native  framework ril  implementation of extendedn framework interfacennfor assd support assdterminaljava the assd driver is required this changenbuilds fine without the assd driver changes applied but assd then does notnwork properlynthe assd driver was contributed under the chang
1156,extend android with cdma mobile technology support feature complete review comments fixednnthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1157,usb  fix spelling in modulealiasnncommit  upstreamnnplatfrom  platformnncc david brownell  stefan weil  jesper juhl  greg kroahhartman
1158,usb core fix information leak to userlandnncommit  upstreamnnstructure usbdevfsconnectinfo is copied to userland with padding bytednafter slow field unialized it leads to leaking of contents ofnkernel stack memorynnnedoffby vasiliy kulikov  greg kroahhartman
1159,extend android with cdma mobile technology support feature complete review comment fixesnnthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1160,usb ehci fix debugfs  permissionsnncommit  upstreamnnthe permissions for the lpm debugfs file is incorrect this fixes itnnreportedby linus torvalds  alek du  jacob pan  david brownell  alan stern  greg kroahhartman
1161,fix queueallpropertytriggers not workingn
1162,extend android with cdma mobile technology support feature complete review comments fixednnthis contribution is final functional step of the first release of the cdma extension of thenandroid telephony layersnit contains changes in the phone related applications the applicationnframework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis increment is tested on the android emulator with a ril simulator tool andnalso tested on a reference hw platformnthe cdma extension of the telephony stack can be used for android phonesnsupporting either cdma mobile technology onlynor world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following functionalitynn start upn access the cdma subscription and other information from memory of from then card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationn provide supplementary services by incall menuesn handles tty and enhance voice privacyn supports automatic radio technology change for a world mode phone fromn cdma to gsmumts or vice versan send and receive smsn configure and receive broadcast smsn receive wap push smsnnnedoff by saverio labella saveriolabellatelecacomn mar lingner sigmarlingnertelecacomn
1163,staging  add usb id for buffalo airstation wliucgnnncommit  upstreamnnbuglink  was tested to successfully enable the hardwarennnedoffby john tapsell  stefan bader  greg kroahhartman
1164,libm compile with fnobuiltinn
1165,usb option fix when the driver is loaded incorrectly for some huawei devicesnncommit  upstreamnnwhen huawei datacard with pid  is insterted into linux system thenpresent kernel will load the option driver to all the interfaces butnactually some interfaces run as other function and do not need optionndrivernnin this path we modify the idtables when the pid is  vid  only when the  class is  is  pro  it does need option drivernnnedoffby ma rui  greg kroahhartman
1166,usb ftdisio add device ids for milkymist one jtagserialnncommit  upstreamnnadd the usb ids for the milkymist one ftdibased jtagserial adapternhttpprojectsqihardwarecomindexphppmmonejtagserialcablento the ftdisio driver and disable the first serial channel used asnjtag from userspacennnedoffby sebastien bourdeauducq  greg kroahhartman
1167,usb misc iowarrior fix information leak to userlandnncommit  upstreamnnstructure iowarriorinfo is copied to userland with padding bytednbetween serial and revision fields unialized it leads tonleaking of contents of kernel stack memorynnnedoffby vasiliy kulikov  kees cook  greg kroahhartman
1168,usb misc sisusbvga fix information leak to userlandnncommit  upstreamnnstructure sisusbinfo is copied to userland with sisusbreserved fieldnunialized it leads to leaking of contents of kernel stack memorynnnedoffby vasiliy kulikov  greg kroahhartman
1169,correction of an error in the setrotate method of the colormatrix classnthe matrix rotation params around the  axis was not set correctlynninitial matrix for axis  greenn cos  sin              cos   correctionn cos  sin        sin  co
1170,remove reminders when event has none issue  otherwise they appear on more and more views as the views are recycledn
1171,arm video msm mdp make putimg operate on one file at a timennnedoffby dima zavin
1172,use the same apn list for dream builds as ships on
1173,arm msm  clean up the interface to get file from fdnnnedoffby dima zavin
1174,change the file path for sdk buildnid
1175,add smartcardservicen
1176,if you call setdrawingcacheenabledtrue updatecursorcontrollerposition is never  overrided getdrawingcache to call updatecursorcontrollerpositionnid
1177,add function for mk file grepnid
1178,add missing blank line in pgp keynid
1179,escape eols in aptget command also wrap tighternid
1180,sync internal and external versionnfix problem with savetemps in gasnid
1181,prevent npe when server is not runningnid
1182,prevent   from picking up future schemasnid
1183,added glyphs for georgian language taken from dejavu projectnwhere georgian glyps are public domain according to the licencenid
1184,arm msm   reset clientfile until release timennthis addresses a potential problem where the current client started annmdp blit operation and then got revoked before the blit has finishednthe new client should have to wait until the mdp is done which will fputnthe current client filennnedoffby dima zavin
1185,fixed errors javadoc  result  return in  linke  link in wifimanagern
1186,add isringtone into sql video tablen
1187,drivers power add watchdog timer to catch drivers which lockup during suspendnntrather than hardlock the kernel we now bug when a driver   seconds to suspend if the underlying platform supports panic dumpsnthen the data can be collected for debugnnnedoffby san mehat
1188,add some documentation to webview websettings and cookiesyncmanagerndoubletree rendering is deprecatedn
1189,move slideinright and slideoutleft to bottom of file update comment at top to make it more clear where new items belongn
1190,mmc delayedwork was never cancellednnthe delayed work item mmchostdetect is now cancelled before flushingnthe work queue this takes care of cases when delayedwork was schedulednfor mmchostdetect but not yet placed in the work queuennnedoffby jorg schummer  pierre ossman  san mehat
1191,mmc add extended csd register to debugfsnnextended csd is a mmc card register as increasingly interestingnfields are being added to extended csd it is helpful to see itsnvalue note that sd cards do not have an extended csdnregister so it is mmc onlynnnedoffby adrian hunter  pierre ossman  san mehat
1192,mmc add modalias linkage for mmcsd devicesnncurrently we are using an explicit udev rule to trigger loading of thenmmcblock module when an mmc or sd card is detectednn   qba mmcblocknnit makes much more sense for the mmc bus driver and the mmcblock module tonshare modalias information so that they are linked automaticallynnthere is no real information of use in the mmc system at the current timenall devices inserted require us to load the mmcblock device until suchntime as useful parameters exist simply reflect the module linkage vianthe module alias belownntmmcblocknnnedoffby andy whitcroft  pierre ossman  san mehat
1193,add  kvm build targetnto build  kvm    make  kvmimgnto run  kvm imagentkvm kvmimg redir
1194,mmcblock be prepared for oversized requestsnnthe block layer does not support very low sector count restrictionsnso we need to be prepared to handle bigger requests than we can sendndirectly to the controllernnproblem found by manuel laussnnnedoffby pierre ossman  san mehat
1195,add a new func to create a bigger image so that we can use it for kvm image and live usb imagen
1196,mmc during unsafe resume select the right volatge for the cardnnduring mmc unsafe resume choose the right voltage for the card afternpowerupnnalthough this has not seen to cause trouble  the wrong behaviournnnedoffby balaji rao  pierre ossman  san mehat
1197,add  kvm build target based on generic targetnto build  kvm imagen    make  kvmimgnto run  kvm imagen kvm kvmimg redir
1198,mmc mmcrescan detects card change in one runnnwith this patch mmcrescan can detect the removal of an mmc card andnthe insertion of possibly another card in the same run this meansnthat a card change can be detected without having to callnmmcdetectchange multiple timesnnthis change generalises the core such that it can be easily used bynhosts which provide a mechanism to detect only the presence of a cardnreader cover which has to be taken off in order to insert a card othernhosts card detect or mmccapneedspoll each receive an event whenna card is removed and when a card is inserted so it is sufficient fornthem if mmcrescan handles only one event at a time cover detectnhosts however only receive events about the cover status this meansnthat between  subsequent events both a card removal and a cardninsertion can occur in this case the prepatch version of mmcrescannwould only detect the removal of the previous card but not the insertionnof the new cardnnnedoffby jorg schummer  pierre ossman  san mehat  san mehat
1199,mmc increase power up delaynnthe ti controller on toshiba tecra  needs more time to power up ornthe cards will incorrectly or not at allnnnedoffby josé m fernández  pierre ossman  san mehat
1200,frameworksbase update phone with cdma registration state response from rilnnril returns the registration state response with fifteen fields whilencdmaservicestatetracker checks for fourteen fields and therefore throwsnan exception causing the phone to be not updated with the currentnregistration state the fix is to check for correct number of fields in thenregistration responsenid
1201,fix eclair crash when loading gnustllinked shared librarynnthis adds a local gcc patch to prevent exception or rtti awarenmachine code linked against gnustlstatic from crashing on eclairnand older platform releasesnnthis is really a workaround for dynamic linker bug nothing thatnshould be sent to upstreamnid
1202,runtestssh fix arm testingnna previous patch enabled  testing but also broke the buildnof  code so reenable itnn document the  option for now support a singlen abi namenn  define ndkappabi when invoking ndkbuild but appabin which is the only documented variable for applicationmknn ndkappabi is used internally by the build system but this isn an implementation detail that might change in the future son  better if we  rely on itnid
1203,downloadtoolchainsourcessh add nopatchesnnadd an option to the toolchain download script to avoid patchingnthe downloaded sources useful for experimenting with gitdatennyou can still patch the sources manually withnbuildtoolspatchsourcesshnid
1204,buildgccsh update default gmp and mpfr version numbersnnthis updates the default gmp and mpfr version numbers usednwhen building the toolchain binaries this really  the special case nownn add gmpversion optionnid
1205,fix flaky sdkrepository testnnit seems like classgetresourceasstream throws annullpointerexception on the test machines whereasnit returns null as documented other times whennthe resource is not foundnnthis patch refactors  duplicated getxsdstreamnmethods in the base repoconstants and adjusts tontake both behaviors into accountnid
1206,add support for addon providing their own layoutlib andor resnnduring addon parsing the sdk manager will detect whether the addonnhasn datalayoutlibjarn dataresn datafontsnnif the first one is present then it is used during renderingnif both the  and  ones are present then addon resourcesnare used during renderingnnon the gle side all  needed is adding addons to the listnof rendering targets if they have either library or resources ornbothnid
1207,fixing spinner dialog crash upon orientation  dismiss on the spinner internal dialog insidenondetachedfromwindow crashes since the window has beennremoved see crash stack trace details on  pagenid  david sobreira marqu
1208,opencore  update refer to changelog for detailsn
1209,mmcblock do not dma to stacknnin the write recovery routine the data to get from the cardnis allocated from the stack the dma mapping documentation saysnexplicitly stack memory is not mappable by any of the dma callsn to using kmalloc to allocate the memory for the resultnfrom the card and then free it once  finished with thentransactionnn changed to gfpkernel allocation pierre ossman nnnedoffby ben dooks  pierre ossman  san mehat
1210,ramconsole disable ecc when early is enabled and validate buffer sizennnedoffby arve hjønnevåg
1211,lowmemorykiller only iterate over process list when needednnuse nractive plus nrinactive as a size estimate for our fake cacheninstead the sum of rss neither method is accuratennalso skip the process scan if the amount of memory available is aboventhe largest threshold setnnnedoffby arve hjønnevåg
1212,adding api documentation for opencor
1213,fix a couple of type mismatches in pagemapn
1214,wrong sequence numbers from video parser noden
1215,added dummy support for usb transport on  updated getmypath functions to be safer and more  unsigned  sizet in certain  some code style changesn
1216,fix for buffering percentage notification in streaming scenariosn
1217,remove unnecessary header file referencen
1218,wav file duration parsing fixn
1219,lowmemorykiller  count free space unless it meets the specified limit by itselfnnthis allows processes to be killed when the kernel evict cache pages innan attempt to get more contiguous free memorynnnedoffby arve hjønnevåg
1220,arm msm mdp unify the handling of different srcdest fd typesnnmake an array of types of fds mdp can use as sourcedistination thisnis then iterated through on getimgputimgnnnedoffby dima zavin
1221,valgrind error in  assetinfolocationatom dtorn
1222,arm msm fb fixing bug in fb driver when invalid update is encounterednnwhen an invalid zero size update is sent to the fb driver the driver correctlynjust marks that frame as done but  wake any waiters that were waitingnfor that frame to completennnedoffby rebecca schultz zavin
1223,changed sprintf  snprintfnnupdated to snprintf additionaly fixed code style mixing per filenremoved typosn
1224,fix issues raised by the gles  conformance testnn most of the fixes are about unhandled enumsn adding an unbindbuffer method to glescontext and use it in then gldeletebuffers call so a buffer is not considered bound aftern it has been deletedn handle the case where a call to  getsn null as its data in which case the uncompresstexture functionn should only calculate the output format but not attempt ton uncompress the null datan a few segfaultsnid
1225,surfaceflinger  update overlays while frozennnsurface flinger can be frozen in which case it  draw or postnanything to the display this mode is used for example when changingnorientation to show all the changes at once currently overlay changesnare still sent to the overlay device when surface flinger is frozennwhich causes the overlays to be updated significantly before the ui innfor example orientation changes by deferring the overlay changes tillnsurface flinger is unfrozen a better result is achievednid  johan mossberg  christian bejram
1226,disable palette preview for some widgets on some platformsnnlistview palette preview requires adapterview support in layoutlibnand datepicker and timepicker require holo themes on honeycomb thisnchangeset adds some conditional logic to the palette preview code tondrop rendering of these widgets based on the current render targetnlayout library and themenid
1227,make play call next if we are at end of track and not repeatcurrentn
1228,apply default attributes in a movecopynnthere is a method in the layout editor which fills in required defaultnattributes like id width and height as well as some optionalnattributes like a default text attributennthis code was called unconditionally whenever a new child is added tona layout however this should only be done when a new widget isncreated not during moves or copies from existing elementsnid
1229,readding files that were removed from opencore  update due  bugn
1230,check unknown sources is enabled by defaultnnbug
1231,disable palette preview for some widgets on some platforms do not mergennlistview palette preview requires adapterview support in layoutlibnand datepicker and timepicker require holo themes on honeycomb thisnchangeset adds some conditional logic to the palette preview code tondrop rendering of these widgets based on the current render targetnlayout library and themenid
1232,bluetooth allow scoesco packet type selection for outgoing sco  scopkttype is introduced to struct sockaddrsco it allows bitwisenselection of scoesco packet types currently those bits   may be   may be   may be   may be   may be   may be   may be   may be   may be   may be usednnthis is similar to the packet type parameter in the hci setup synchronousnconnection command except that we are not reversing the logic on the edr bitsnthis makes the use of scopkttpye forward portable for the use case ofnwhitelisting packet types which we expect will be the primary use casennif scopkttype is zero or userspace uses the old struct sockaddrsconthen the default behavior is to allow all packet typesnnpacket type selection is just a request made to the bluetooth chipset andnit is up to the link manager on the chipset to negiotiate and decide on thenactual packet types used furthermore when a scoesco connection is eventuallynmade there is no way for the host stack to determine which packet type was usednhowever it is possible to get the link type of sco or esconnscopkttype is ignored for incoming sco connections it is possiblento add this in the future as a parameter to the accept synchronous connectionncommand however its a little trickier because the kernel does notncurrently preserve sockaddrsco data between userspace calls to acceptnnthe most common use for scopkttype will be to whitelist only sco packetsnwhich can be done with the hcih constant scoescomasknnthis patch is motivated by broken bluetooth carkits such as the  it claims to support esco but will actually reject esco connectionsnafter  seconds and the  infi  fails to route audionif a  packet type is negiotiated with this patch userspace can maintainna list of compatible packet types to workaround remote devices such as thesennbased on a patch by marcel holtmannnnrebased to   nick pelli
1233,format files under externalopencoreandroid to replace tabs with spacesn
1234,usb gadget android fix usb whql certification issuesnnsubmitted on behalf of ravikumar vembu  jared suttles  mike lockwood
1235,refactor downloadmanager node as per the new node interface designn
1236,usb composite fix usb whql certification issuesnnsubmitted on behalf of ravikumar vembu  jared suttles  mike lockwood
1237,valgrind errors while running media scannern
1238,fix return value check issue in sendresponseraw functionn
1239,additional volume setting kvps in pvmin
1240,clear musb autoidle when exiting offmodennif the coredomain goes to offmode then on wakeup the musb controllernis hardreset this sets the musb autoidle bit in the otgsysconfignregisternnwe need the autoidle to be disabled due to  errata  clear it explicitly in the restore pathnnnedoffby anand gadiyar  vikram pandita
1241,musb fix multiple clock enable during nnmusb ialization code for  calls clkenablesetclocknin musbplatform as well as in musbplatformresumenthe latter is also called during so remove the call tonturn on the clocks from musbplatformnnalso there is no need to softreset the controller innmusbplatform as the platform code has already done thisnnnedoffby anand gadiyar  vikram pandita
1242,enable picking of omx component to play the track in track selection helpern
1243,unit test framework for omxenctestapp bugs fixed on  composer layer omxencport mio fileinputn
1244,omap pm fix error condition in pwrdmdepslookup when pwrdm not foundnncheck pwrdmname instead of the address of a null struct when at thenend of pwrdmdep arraynnreportedby paul walmsley  mike chan
1245,version updates for sdkinfo header files and playerdriver documentation updatesn
1246,video tegra add support for tiled surfacesnid  michael i gold
1247,relax the constraint of  build environmentnid
1248,build  clearsilver if jdk is  versionnid
1249,mute unharmful build warning at the top of the build lognndiff outtargetproductgenericobjpackagingupdaterextensionsintermediatesregisterinclistnno such file or directorynid
1250,fix the html dirnnthis can eliminate the build warnings at the top of the build lognfind  no such file orndirectorynfind  no such file or directorynfind  no such file orndirectorynfind  no such file or directorynfind  no such file orndirectorynfind  no such file or directorynfind  no such file orndirectorynfind  no such file or directorynfind  no such file orndirectorynfind  no such file or directorynid
1251,reset caches when dns props changennthis happens too frequently we should flush a perinterface cachenwhen  dns server addrs changesnid
1252,use sdkliboshelper in  addcompatibilityjaraction defined  new genericnuseful methods copyfile and issamefile sdklib alreadynhad an oshelpercopyfile so i moved that class to anmore generic sdklibio package and added the new methodnissamefilennanother suitable candidate would have been iofilewrappernin the common projectnid
1253,fix dream buildnnupdate to refer to the new location of the underlying headern
1254,contribution of  assembly for the fast bytecode enginenthis contribution is the  assembly implementation for the fast bytecode interpreter engine this is an ial contribution with minimal optimizations that target the intel atom processor we expect to continuously improve the  fast interpreter this contribution is expected to elicit discussion on the potential merge of this code and similar efforts ie the  directory included with cupcake using the simulator build for aosp master we were able to show the following improvements against the cportable interpreternnbuild ttargetsimulator truenttargetbuildtype releasenttargetproduct simnnenvironment intelr  quad cpu    portable interpreternia  fast ia interpreternnembedded caffeinemark iapipi average of  improvement on overall  iapipi average of  improvement on raw  piia speedup mtrt  jess  compress  db  jack    warehouse noncompliant modified to run on dalvikn  noncompliant modified to run on dalivkn
1255,apply default attributes in a movecopy do not mergennthere is a method in the layout editor which fills in required defaultnattributes like id width and height as well as some optionalnattributes like a default text attributennthis code was called unconditionally whenever a new child is added tona layout however this should only be done when a new widget isncreated not during moves or copies from existing elementsnid
1256,net wireless bcmdhd initial version based on  dmitry shmidt
1257,add handling for unrooted filesnnunrooted files should only happen due to a now fixed bug thatnwould rmdir nonempty directoriesnunrooted files are now rerooted in lostfoundnnthis also introduces a mechanism to empty out lost and found atnmount thus recaliming this space this option may be controllednvia a compile flag and overridden with a mount optionnnnedoffby charles man
1258,arm msm msmserialhs do not allow suspend while bt dma could be activennnedoffby nick pelli
1259,cache enablingnncheck  bit in aux cntrl reg is set by bootloader if not set innbootloader do it here  should be unset in configncheck the  status before iotable setupnnnedoffby girish s g
1260,arm msm  work around  controller bugnnwhen writing  right before the  clock line is schedulednto go high again the controller does not stretch the clock so the datansetup time is within the  specnid  arve hjønnevåg
1261,arm msm pm use scorpion specific  valuenid  arve hjønnevåg
1262,add the bsd syssigname arraynnnedoffby thorsten glas
1263,new repository xsd for  add a new schema  with the followingnchangesnn  element now has a  element thatncontains  or or more  each indicating the relativenpath of a file that this package can contribute toninstalled projectsnn  element now has a mandatory  indicates the api and revision of that layout librarynfor this particular  also a matching  schema with the samenmodification to the  elementnid
1264,fail if voldfstab is emptynnthis test  fail if voldfstab is empty rather shortnterm just ignore this case at the expense that we may missnlegitimate security holesnnlong term this needs to be properly fixednid
1265,net wireless  fix iscan state machinennnedoffby dmitry shmidt
1266,changes related to change  by josh  made freebsd version of findjdktoolsjarsh more  moved shell setting to configmk this will make makefiles usen bash when invoked while build process and when invoked from envsetupshn
1267,remove the proximityalerts update receiver when the last proximityalert expiresn
1268,linux kernel driver for advanced security sd supportnnthis driver implements the advanced security sd specification providednby the sd association wwwsdcardorg the advanced security sd addsnsupport for using an embedded secure element detailed information aboutnthe assd can be found at httpwwwsdcardorgdeveloperstechassdnthere you can also find a link to download the assd simplifiednspecificationnid  robert h
1269,getsurface and getcontext were sent pointers rather than handles which caused them to fail fixnid
1270,charpickerdialog on passunlockscreen showhide when lockscrnnsee issue  order to discovering issue  is just inflated on the same window as passwordunlockscreen so characterpickerdialog that is attached to thatnwindow does not hide when lockscreen is showingnnwhat was madenget the list of nested views when passwordunlockscreen showshides check for consistance ofncharacterpickerdialog and set the appropriate visibility to it if it existsnid
1271,gdbclient simplify usage of gdbclient fucntionnnadded getopt for the following  which exe to use for symbols file  port to use for tcp  which process to attach on the  choose different gdb client on hostnid
1272,npe safeguard do not mergenid
1273,detect and add special warning for wrong themesnnif you open a layout designed for a particular theme in another themenyou can get many confusing error messages instead of attributenmissing it may tell you that it failed to convert a resource to ancolor or drawable and so onnnto help guide users to the root problem wrong theme chosen thisnchangeset detects the scenario where theme attributes  benresolved and when these are found the top of the error log will startnwith a bold message stating that theme resources were not found and toncheck whether the correct theme is chosennnto do this the resource resolver emits a new subtype of the resourcenmissing tag into the error log which is used in the ide to prefix thenerrors with the special error messagenid
1274,glitch in timeradd macro tvusec was decreased instead of increasedn
1275,added sdlconfigh to use on freebsdn
1276,the meta macros are useful outside of the frameworknfor other systems implementing binder interfaces but they depend uponnthe android namespace just include the appropriate namespace operationsnwhich should be sane even in that android namespacen
1277,java version and shell choosing  removed not needed duplicated shell  updated java version checking for freebsd it is chosen as usual in javacmknhowever check is performed in the same place as for other oss  quick and dirtynworks for sdk targetnfor other targets needs additionl workn
1278,merged latest changes from korgmastern
1279,add support for acer devicesn
1280,cosmetic change removed empty linen
1281,arm goldfish add scheduling class support to configsnnnedoffby david  turn
1282,updated to use  conformant expr on freebsd systemn
1283,changes to settings to allow for turning off the  degree feature for zero gravity orientation additionsn
1284,allows build of emulator on freebsdnnincludes defion of ipprotoicmpn
1285,added configuration for freebsd  added  flag to avoid error duringn compilation incompatible type  added  include this allows correct defion ofn namespaces and makes  like types visible in  changed makefileandroid in order to build with ossn
1286,added option to build link with libutiln
1287,adding modifications for zero gravity hack allow phone screen to rotate to all sidesn
1288,removed not needed anymore  option updated to be compilable on freebsdn
1289,extend android with cdma mobile technology support with review comments fixednnthis project has the goal to extend the android telephony layers with cdmanmobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use casenimplementationsnthe final contribution will support cdma functionality for android phonesnsupportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnuc mobile originated callnuc mobile terminated callnuc network phone settingsnuc supplementary services partlynnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationnnvarious review comments are also fixed with this contributionnthis is a combination of two commitsnnand also this fixes the following issue regarding  by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
1290,crypto add support for  hardware dmcryptnnadd the  crypto driver from trusted logic ported to  much code removed as we  intend to run with the protectednappnnnedoffby ken sumral
1291,match the official code style guidennthis fixes a number of style violations that  caught by automatedntools and brings those files closer to compliance with the official stylenguide for this languagen
1292,fix home then sleep behaviornncalling stopappswitches in gohome was preventing this option fromnworking entirelyn
1293,binbash  usrlocalbinbashnnfreebsd onlyn
1294,changes in order to build recent version of qemu with  added several additional libraries to link with emulatorn dependency of sdl build from  added freebsd related options in  added ldflags for link tests and freebsd related optionsn in androidconfigureshn
1295,add mtpusb projectsn
1296,list project themes if any before framework themes do not mergennthis changeset moves the projectthemes in the combobox up above thenframework themes sincena  likely that the user wants to frequently choose these andnb the list of project themes is usually much smaller than then framework list so it brings these items up to the visible part ofn the combonid
1297,bluetooth allow scoesco packet type selection for outgoing sco  scopkttype is introduced to struct sockaddrsco it allows bitwisenselection of scoesco packet types currently those bits   may be   may be   may be   may be   may be   may be   may be   may be   may be   may be usednnthis is similar to the packet type parameter in the hci setup synchronousnconnection command except that we are not reversing the logic on the edr bitsnthis makes the use of scopkttpye forward portable for the use case ofnwhitelisting packet types which we expect will be the primary use casennif scopkttype is zero or userspace uses the old struct sockaddrsconthen the default behavior is to allow all packet typesnnpacket type selection is just a request made to the bluetooth chipset andnit is up to the link manager on the chipset to negiotiate and decide on thenactual packet types used furthermore when a scoesco connection is eventuallynmade there is no way for the host stack to determine which packet type was usednhowever it is possible to get the link type of sco or esconnscopkttype is ignored for incoming sco connections it is possiblento add this in the future as a parameter to the accept synchronous connectionncommand however its a little trickier because the kernel does notncurrently preserve sockaddrsco data between userspace calls to acceptnnthe most common use for scopkttype will be to whitelist only sco packetsnwhich can be done with the hcih constant scoescomasknnthis patch is motivated by broken bluetooth carkits such as the  it claims to support esco but will actually reject esco connectionsnafter  seconds and the  infi  fails to route audionif a  packet type is negiotiated with this patch userspace can maintainna list of compatible packet types to workaround remote devices such as thesennbased on a patch by marcel holtmannnnrebased to   nick pelli
1298,video omap add dsi video mode supportnid  erik gil
1299,hack video  turn all clocks on in dispcnid  erik gil
1300,added benchmarking codennadded benchmarks to the adt  buildersnbenchmarking is disabled by default and can benenabled by setting the benchmarkflag innbuildhelperjavannnedoffby josiah gaskin
1301,ndk update libca to gingerbread versionnnthis updates the static c library version provided withnthe ndk to the version from the aosp gingerbreadreleasenbranch more specifically using the platformbionicgit  ofnn  file is only used to rebuild a gdbserver binary this versionncontains changes necessary to fix gdbserver crashing issues onncertain honeycomb devicesnnyou will need to rebuild the ndk gdbserver binary after this patchnis submitted see buildtoolsbuildgdbserversh helpnid
1302,detect and add special warning for wrong themes do not mergennif you open a layout designed for a particular theme in another themenyou can get many confusing error messages instead of attributenmissing it may tell you that it failed to convert a resource to ancolor or drawable and so onnnto help guide users to the root problem wrong theme chosen thisnchangeset detects the scenario where theme attributes  benresolved and when these are found the top of the error log will startnwith a bold message stating that theme resources were not found and toncheck whether the correct theme is chosennnto do this the resource resolver emits a new subtype of the resourcenmissing tag into the error log which is used in the ide to prefix thenerrors with the special error messagenid
1303,fix library dependecies in streaming manager noden
1304,removed libdl from ldflags when building on freebsdn
1305,changes in playerengine fmu and source nodes to allow retrieval of thumbnails for protected contentn
1306,allows building of sdl from distrib folder on  added include path on  added freebsd related buildcflags optionn
1307,modifiying pvme unit test content specificationn
1308,updated to declare lofft type when building on freebsdn
1309,cleanup test input and output filenames used in  testsn
1310,removed libdl from libraries to link with when building on freebsdn
1311,fix a bug in sps length calculationn
1312,added pthread library when building on freebsdn
1313,updated errorshendianh to work on freebsd new macrondefions havesysendianh see   updated executablepath to be aware of buffer overflow innexecutablepathlinuxcpp added same function for  updated aapt makefile to perform linkage with pthread  updated utils makefile to use  due to usage of  that  exist when  used on freebsdn
1314,pvme  retrieve metadata properly if file has an invalid extensionn
1315,added files for adb to be compilable updated makefilen usbfreebsdc is more stub than fullworking  getmypath receives two parameters now some changesn to be more correct with size of buffern
1316,error in video display while playing minimum size cont
1317,fixed errors javadoc  result  return in  linke  link in wifimanagern
1318,when possible increase  confidence levelnnadd logic to check if the video confidence level can benincreased if the confidence level  be increased thenlevel will be left as it was found before the attemptnthis change is useful when competing sniffers assign conflictingnvalues specifically  sniffer vs  sniffernid  carlos aceff
1319,arm  panda add basic android adbnid  dima zavin
1320,force a workspace build on launchnnbug
1321,crypto padlock fix aescbc handling on oddblocksized inputnncommit  upstreamnnon certain via chipsets aescbc requires the inputoutput to bena multiple of  bytes we had a workaround for this but it wasnbuggy as it sent the whole input for processing when it is meantnto only send the ial number of blocks which makes the restna multiple of  bytesnnas expected this causes memory corruption whenever the workaroundnkicks innnreportedby phil sutter  herbert xu  greg kroahhartman
1322,arm  panda select peripheral mode if musb gadget is enablednid  dima zavin
1323,sdk manager fix suggestions of new platformsnni accidentally broke the way the sdk manager was suggestingnnew platforms when i optimized the way it was fetching newnsources when resolving dependencies the fix is that even ifnwe  need to refresh or fetch a source we still need tonreport the packages we know it containsnnalso made the archive and archiveinfo implement comparablenand defer their comparison to the one of package this waynwe can sort the archives in the install windownid
1324,fix target loading when sdkproperties is not presentnnolder obsolete targets would fail to load ifnsdkproperties was not present since the contentnis optional anyway  ok to load the targetnid
1325,prevent crashing when parsing bad  facilitiesnncommit  upstreamnnnow with improved comma supportnnon parsing malformed  facilities decrementing the remaining lengthnmay cause it to underflow since the length is an unsigned integernthis will result in the loop continuing until the kernel crashesnnthis patch adds checks to ensure decrementing the remaining length doesnnot cause it to wrap aroundnnnedoffby dan rosenberg  david s miller  greg kroahhartman
1326,libstagefrightignoring some events in error statennport disable port enable and flush complete eventsnneed to be ignored if the component is in errornstatennscenario for port enablenwhile the output port is being reconfiguredncomponent might be parsing input buffers ifncomponent encounters an error in parsingnit might move into invalid state andnthen generate a port enable complete on outputnport adding fix to handle this scenarionnscenario for port disablenport settings disable command complete need tonbe ignored in error state this scenario happensnwhen the component moves into error state andnissue port disable command complete during portnreconfigurationnnscenario for flushncomponent may move into invalid state and thennissue a flushcomplete command in this casenwe should not send any buffers to componentnand report error to the client of omxcodecnid
1327,libstagefright added moof support to
1328,revert video tegra add hdmi switchdev for hotplug notificationsnnthis reverts commit
1329,econet disallow null remote addr for sendmsg fixes   upstreamnnlater parts of econetsendmsg rely on saddr  null so return earlynwith einval if null was passed otherwise an oops may occurnnnedoffby phil blundell  david s miller  greg kroahhartman
1330,libstagefright fix sync sample index underflow on seekingnnthe sync sample index is decremented from zero for the first in frame resulting in an underflown this causes the sync sample offset to be corrupt and stagefrightn parser throws an error and cannot play video messagenadded fix to prevent underflow when seeking to the beginning ofn the clip first i framenid
1331,make javac ant options configurablenid
1332,fix null pointer dereference in printdailyerrorinfonncommit  upstreamnnfix null pointer dereference in printdailyerrorinfo whenncalled on unmounted fs  returns null by removing errornreporting timer in   sergey senozhatsky  theodore   thomas meyer  greg kroahhartman
1333,kbuild use getoptlong not its only variantnncommit  upstreamnnnetbsd lacks getoptlongonly whereas getoptlong works just finennnedoffby arnaud lacombe  sam ravnborg  michal marek  greg kroahhartman
1334,canbcm fix minor heap overflownncommit  upstreamnnon  platforms the ascii representation of a pointer may be up to  long this patch increases the length of the buffer  dan rosenberg  oliver hartkopp  linus torvalds  david s miller  greg kroahhartman
1335,code review changesnid
1336,fix compiler warnings that make the build failnnsince we build  with werror this made the buildnfail with gcc
1337,filter make sure filters dont read unialized memorynncommit  upstreamnnthere is a possibility malicious users can get limited information aboutnunialized stack mem array even if skrunfilter result is boundnto packet length   we could imagine this can be used bynhostile usernninitializing mem array like dan rosenberg suggested in his patch isnexpensive since most filters dont even use this arraynnits hard to make the filter validation in skchkfilter because ofnthe jumps this might be done laternnin this patch i use a bitmap a single long var so that only filtersnusing mem loadsstores pay the price of added security checksnnfor other filters additional cost is a single instructionnn since we access  a lot now cache it in a local variablen and mark filter entry pointer as const davem nnreportedby dan rosenberg  eric dumazet  david s miller  greg kroahhartman
1338,remove debug logging acedently commitednid
1339,fix gingerbread mdpi drawablesnnseveral of the mdpi drawables for gingerbread seem tonhave been resized with the wrong settings the resultnis pixelated graphics throughout gingerbread for manynof the most commonly used drawablesnni rescaled them with more fitting settings see belownncheckboxcurrent   httpiimgurcomjsyyhpngnradiobuttonsfixed httpiimgurcompbkffpngnid   httpiimgurcomgphkupngn
1340,add to layoutlib the ability to simply render a drawablennrenderparams is now a base class sessionparams extends itnand contains the layout and the rendering mode which are notnpart of the base classnndrawableparams is used for the new action and adds a referencento a resourcevaluenid
1341,minimal support for exchange activesync  goal was to allow support of activesync  and keep  backwardncompatible the two additional tags in searchgal can be omitted from thisnpatch they will give better results but do carry a performance penaltynnthis was tested on against my  exchange  server which is setnup to only allow the activesync  protocolnnagain i tried to get the functionality in with minimal impact the one  not  pleased with myself is that the activesync  protocol willncurrently always be used when  availablenna better option might be to allow the enduser the choice of the supportednprotcol but that would have required much more codeimpact so i settlednfor this compromisennfor more information or more discussion you can drop me an emailnid
1342,libstagefright enabling  video recordingnnwith this change video recording upto  isnpossible since  video clips cannexceed  limit for  mins recording so thisnchange is required this change does not efectnaudio only recordingnid
1343,libstagefright supporting dynamic port reconfig in the middle of a clipnnadding code to handle dynamic port reconfigurationnwhile the video clip is playing this fix shouldnhandle scenarios where new codec configurationndata is received in the middle of playbacknthis scenario is common in adaptive streamingnwhere clip qualityresolution is changednaccording to available bandwidthnid
1344,arm  panda update defconfig add android defsnid  dima zavin
1345,frameworksbase disable hw gl rendering based on propertynnronohardwaregfx can be set to true to have softwarenrenderingthe property could be set for each board by addingnthe  lines to devicemk filennproductpropertyoverrides  n   vishal bhoj
1346,revert tegra sdhci enabledisable sdclk source in setclock hostopnnthis reverts commit   todd poynor
1347,make it easier to use a different obfuscatornid
1348,econet fix    declare variable sized array of iovecs on the stack since thisncould cause stack overflow if  is large instead coalescenthe usersupplied data into a new buffer and use a single iovec for itnnnedoffby phil blundell  david s miller  greg kroahhartman
1349,adding support for sms email sender and    specifies how email addresses are supportednin sms messages the previous solution is moved down to the cdmanclasses and the new code is implemented for gsmn
1350,a few gold and assembler patchesnnsee  for detailsnid
1351,econet fix   upstreamnnadd missing check for capablecapnetadmin in siocsifaddr operationnnnedoffby phil blundell  david s miller  greg kroahhartman
1352,added support for several low battery threshold valuesnnthe previous behaviour was that when the battery level went below  low battery dialog was shown this was the only notification a userngot before the phone shut down due to low battery this change addsnsupport for several low battery threshold values defaulting to   and
1353,rds integer overflow in rds cmsg handlingnncommit  upstreamnnin rdscmsgrdmaargs the userprovided  value isnrestricted to less than uintmax this seems to need a tighter uppernbound since the calculation of total iovsize can overflow resultingnin a small sockkmalloc allocation this would probably just resultnin walking off the heap and crashing when calling rdsrdmapages withna high count value if it somehow  crash here then memoryncorruption could occur soon afternnnedoffby dan rosenberg  david s miller  greg kroahhartman
1354,sms character counter miscalculated at full segmentnnwhen a part of a concatenated sms is full for example when a messagencontains an exact multiple of  characters in case of  bitnencoding the message was considered to need one extra segment whichnwould just be emptyn
1355,fix possible npe in legacy callback supportnid
1356,layoutlibcreate unittest for classhasnativevisitornid
1357,backport upstream armlinuxandroideabi target to  now on the general android toolchain will be armlinuxandroideabinarmeabi toolchain built from this source does not contain android specificnconfigurations and will only be used to build android kernelnread recent changes in toolchainbuildreadme for more detailsnid
1358,fix rx checksum offloadnncommit  upstreamnnwhile porting gro to  i found this driver has a bug in its rxnpathnnall skbs given to network stack had their ipsummed set tonchecksumnone while hardware said they had correct tcpudp checksumsnnthe reason is driver sets  on the original skb before thencopy eventually done by copybreak the fresh skb gets the ipsummed  value forcing network stack to recompute checksum andnpreventing my gro patch to worknnfix is to make the ipsummed setting after skb copynnnote rxcopybreak current value is  so all frames are copiednnnedoffby eric dumazet  francois romieu  david s miller  greg kroahhartman
1359,mms support http chunked transferencodingnnfalis to download mms if the server only supports chuncked datantransfer fix this issue by adding chunked transfer supportnid
1360,bitmapdrawable constructed by filepathinputstream and resources should use passed resources down instead of nullnid
1361,work around a bug in the jar verifier of androidnnup to android  if the signature file of an apk wasna multiple of  the jar verification failednnthis make sure the signing code in adtant does notngenerate such a signature file by adding an extra crlfnat the endnnse
1362,fixing issue  in
1363,re phy on resumenncommit  upstreamnnfix switching device to lowspeed mode after resume reported  laurentiu badea  stanislaw gruszka  david s miller  francois romieu  greg kroahhartman
1364,cts api surface coverage toolnnadds a few make rules to generate coverage reports that usendexdeps to see what methods from the api are directlyncalled from the tests rather than using the usual approachnof using emmann make ctstestcoveragennthis rule will generate coverage of the api from the testncases in  ctscoveragetestcaselist listnn make ctsverifiercoveragennthis rule will generate coverage by the ctsverifiernid
1365,modify compressrects api in yuvimagetestjavanid
1366,fix checksum brokennncommit  upstreamnnif  received packets with invalid sctpigmpnot tcp udp checksum  set  checksumunnecessary this cause that upper protocol  check checksum fieldnni am not family with  driver i try to guess the meaning of rxprotoip and ipfailnrxprotoip stands for received  packet that upper protocol is not tcp and   ipfail is true means that driver correctly to check checksum in  headernnif  right i think we should not set ipsummed wit checksumunnecessary for my sctp packetsnwith invalid checksumnnif  not right please tell mennnedoffby shan wei  francois romieu  david s miller  greg kroahhartman
1367,update cookiemanagertestjavanid
1368,arm tegra suspend unify power timer programmingnnthe power good timer programming for    pmc clock  apb clk was using practically cutandpaste code for convertingnfrom microseconds to ticksnnmodify setpowertimers to accept the suspend clock rate so that thensame code can be used for both casesnid  gary k
1369,revert handle rxfifo errors on  chipsnncommit  upstreamnnthe original patch helps under obscure conditions no pun butnsome  do not like it the change needs to be tightened withna specific  versionnnthis reverts commit  handle rxfifo errors on  chipsnnregression at  francois romieu  andreas radke  matthew garrett  daniel j blueman  david s miller  greg kroahhartman
1370,add support for dynamic resource redirectionnnthis change supports resource redirection by either system or userninstalled theme packages which affect the final asset delivered tonapplications theme packages can redirect assets from either thenframework or other third party packages for instance assets in thenlauncher or in the contacts app can be themed by any third party themenntheme packages differ from regular application packages in theirnmanifest structure with an additional meta data xml format that statesnthe explicit resource redirections to be looked up by name at runtimenbecause theme packages coexist in the same assetmanager as regularnpackages they are compiled in a different package scope currently  avoid conflicts with the framework  and applications  are maintained in a new system service whose sole purposenis to cache the resource id mappings in memory and provide it tonindividual app processes on demand this cache speeds up asset managernconstruction when theming is required but is not persisted acrossnreboots as the cost to construct each individual mapping is relativelynlownnthemes can be swapped dynamically at runtime without the need for andevice restart this is possible by attaching the current user theme tonthe configuration object which upon an unhandled change will triggernthe usual activity ondestroyoncreate cycle additionally the restablenclass was modified to support dynamic updates of the attached assetnpaths the old theme is removed and the newly applied theme is addedndynamically updates to some special areas of the system ui must benhandled individually like the status bar service as it does not have anconventional activity lifecyclennfinally this patch is supported by an application suite with ancompatible license that manages the installed packages and allows thenuser to apply their preferred theme though it is the primary intentionnof this feature to support user controllable themes it also enablesndevice manufacturers to skin the default android styles by simplynproviding a default system theme and choosing not to offer thenapplication suitennmore information can be found at httptmobilethemesgooglecodecomnid
1371,arm msm kgsl remove support for mmap from the kgsl drivernnthe  functionality of kgsl is no longer used and it had anbug that would crash the kernel when  was called withnodd parameters so we have removed the mmap functionalitynif for some reason in the future you want to resurrect thisnmake sure memdesc is properly ialized in all paths throughnthe kgslmmap routinennnedoffby ken sumral
1372,add module parameter to enabledisable gffid device type checknncommit  upstreamnnadd the module parameter  to disableenable the use of thengffid name server command to prevent non fcp scsi devices from being added tonthe  internal fcport databasennnedoffby chad dupuis  madhuranath iyengar  james bottomley  greg kroahhartman
1373,add support for uaprof header in http requestsnneach http request sent from a mobile handset is usually required toninclude a xwapprofile header following the uaprof specification thenvalue of this header is a url that points to the location of andocument which specifies relevant capabilities of the phone egnsupported network bearers video formats or screen size this changendefines a global string resource that holds this url and also addsnthe necessary code in the web widget to include this header in httpnrequestsn
1374,arm tegra add csi  isp clocks to tablenid  gary k
1375,fix extension channel checks to iate communicationnncommit  upstreamnnwhen operating in a mode that iates communication and  we should fail if we cannot use both primary and secondarynchannels to iate communication our current  allowmapnonly covers sta mode of operation for beaconing modes we needna check on the fly as the mode of operation is dynamic andnthere other flags other than disable which we should readnto check if we can iate communicationnndo not allow for iating communication if our secondary  has is either disabled has a passive scan flag annoibss flag or is a radar channel userspace now has similarnchecks but this is also needed inkernelnnreportedby jouni malinen  luis r rodriguez  john w linville  greg kroahhartman
1376,move native services under servicesnnmoved surfaceflinger audioflinger cameraservicennall native services should now reside in this locationnid
1377,fix rx checksum offloadnncommit  upstreamnnwhile porting gro to  i found this driver has a bug in its rxnpathnnall skbs given to network stack had their ipsummed set tonchecksumnone while hardware said they had correct tcpudp checksumsnnthe reason is driver sets  on the original skb before thencopy eventually done by copybreak the fresh skb gets the ipsummed  value forcing network stack to recompute checksum andnpreventing my gro patch to worknnfix is to make the ipsummed setting after skb copynnnote rxcopybreak current value is  so all frames are copiednnnedoffby eric dumazet  francois romieu  david s miller  greg kroahhartman
1378,outofboundsexception in cachedframecppnnthis is a fix for a crash found in live handsets the indexnused to index in the vector of cached nodes points outsidenthe vectornid
1379,make limit of bulk sms configurablennthe maximum number of bulk sms is limited by the number of sms sent inna checking period without user permit based on operator requests thisnlimit is now configurablen
1380,include test case list from cts projectnnbug  the ctsmk include the test case list from cts rathernthan defining it in ctsmk this permits cts developers tonadd new packages and applications without having to submitnmultiple project changes to both the cts and build projectsneverytimenid
1381,fix mute audio regressionnncommit  upstreamnnthe switch to the new control framework caused a regression where the audio wasnno longer unmuted after the carrier scan finishednnthe original code attempted to set the volume control to its current value innorder to have the setvolume control code to be called that handles the volumenand muting however the framework will not call that code unless the new volumenvalue is different from the oldnninstead we now call mspsctrl directlynnit is a bit of a hack we really need a  function for thisnor something along those linesnnthanks to andy walls for bisecting this and to shane shrybman for reporting itnnreportedby shane shrybman  andy walls  hans verkuil  mauro carvalho chehab  greg kroahhartman
1382,only allow palette previews when layoutlib  is usednndisable palette previews when the target sdk does not have layoutlib  more accurately the custom background support required by thenpalette which will be backported to earlier sdksnid
1383,improve handling for gestureoverlayviewnnthe layout editor has special handling for the root element whichnfor example suppresses hoverhighlighting for the root and a clicknwill iate a marquee selection rather than a dragnnsome layouts wrap the layout inside a gestoreoverlayview this doesnnot work well since the real root is its child which will not bentreated as a proper rootnnthis changeset fixes this situation by handling this scenario suchnthat both the gesture overlay and its child is treated as the rootnnalso make fix such that the icon in the outline also works for thengesture overlaynid
1384,palette previews with custom themes and other palette fixesnnpalette previews are rendered on top of the default themenbackground for certain custom themes where a gradient or image isnused this can look terrible since the preview images will includenportions of the gradient or imagennthis changeset improves this situation by taking advantage ofnlayoutlib  ability to override the background it now uses themenresolution to find the background color and paints the previews withnthe custom background override to force this color in addition ifnthe theme background is not a color but a gradient etc it  new renderdrawable support to generate the backgroundnand it extracts a suitable color from it currently the centernpixelnnthis fix also ensures that the foreground color used to paint labelsnfor the widgets that cannot be rendered such as layouts has ansuitable contrast with the background after computing the backgroundnit computes the brightness and if the foreground and backgroundndiffer less than  in brightness then the foreground color isnforced to white or black depending on whether the background is lightnor darknnthis changeset also contains a bugfix for a palette ializationnproblem where in some cases the palette could come up empty becausenthe code which attempts to avoid doing extra work when reloadpalettenis called repeatedly could be tricked by a scenario where the sdkntarget does not change but its have target data status didnnthe open palette category is now preserved across palette refreshesnwhich occur when you change palette modes or categorysortingnoptions along with theme and render target changesnnfinally the changeset also turns off the new window decorationsnsystem bar action bar etc when generating preview images for bothnpalette previews and for drag  dropnid
1385,events fix nodpad emulation when  fixes a bug where dpad emulation was forced when hwkeyboardnwas set to  in hardwareini even if hwdpad was set to nonnthe problem was that the events device set the dpad evkey bitsnunconditionally since they are in the  rangenid
1386,added save as option for trace filesnid
1387,removing static reference from sunknownnnremoving static reference from field sunknownnallows framework to handle properly resourcesncurrent implementation holds an instance ofnsunknown final user sees unknown field on thenimei sv menu  about  status even if thenlanguage set is other than englishnid
1388,vold framework to support multiple share backendsnnadds a sharebackend abstract class and implements ums supportnusing this framework volumemanager now looks up the share backendnby name and no longer handles the details of ums sharing itselfnsome details of supporting other share backends remain to benworked out but this framework can serve as a starting pointnid  seth forshe
1389,vold add getpartdevice method to volumennformatting and sharing currently operate on the disk device evennwhen a partition is specified in voldfstab in this case thesenoperations should act only on the partition to avoid data loss orncorruption for other device partitions the getpartdevice methodnis added to the volume class for this purpose and the formattingnand sharing code is updated to use this new methodnid  seth forshe
1390,vold remove unnecessary code from volumemanagerunsharevolumennnedoffby seth forshe
1391,remove compilation warnings by removing illegal charactersnid
1392,move the business rule management down to drm agentsn do not register drm sniffer because drmserver is not enablednid
1393,arm tegra preserve pll outputs and system clocks in suspendnnneither the system clock configuration sclk hclk pclk nor thenconfiguration for pll fixed divider outputs was being preservednacross  transitions causing some clocks to resume at incorrectnratesnid  gary k
1394,nmi fix clock comparator revalidationnncommit  upstreamnnon each machine check all registers are revalidated the save area fornthe clock comparator however only contains the upper most seven bytesnof the former contents if validntherefore the machine check handler uses a store clock instruction tonget the current time and writes that to the clock comparator registernwhich in turn will generate an immediate timer interruptnhowever within the lowcore the expected time of the next timerninterrupt is stored if the interrupt happens before that time thenhandler  be called in turn the clock comparator  benreprogrammed and therefore the interrupt condition stays pending whichncauses an interrupt loop until the expected time is reachednnon nohz machines this can result in unresponsive machines since thentime of the next expected interrupted can be a couple of days in thenfuturennto fix this just revalidate the clock comparator register with thenexpected valuenin addition the special handling for udelay must be changed as wellnnnedoffby heiko carstens  martin schwidefsky  greg kroahhartman
1395,fixes for the armspecific   and  make the feature test work by excluding knowndeficient processors sonwe  have to maintain a complete list of all the processors that supportnrev and   abuse  to get an effect similar to  l constraintnbut which was unnecessarily  fix  so x  clobbered breaking   make  which declars  and friends use  than  so we get the machinedependent implementationsnid
1396,re phy on resumenncommit  upstreamnnfix switching device to lowspeed mode after resume reported  laurentiu badea  stanislaw gruszka  david s miller  francois romieu  greg kroahhartman
1397,fix for erroneous return in keystoreget when send or recv returns errornid
1398,vold ums support multiple lunsnnthe ums support currently uses a single fixed lun add supportnfor dynamically allocating and freeing luns to allow sharing ofnmultiple volumesnnnedoffby seth forshe
1399,support usage of armhaveldrexstrexnnthe armhaveldrexstrex define is used to replacenthe swp instruction with ldrexstrex for arm architecturengreater than    etc however the includenfile cpufeaturesh which defines this flag was nevernincludednid  christian bejram
1400,add a usleep command to nid
1401,adb increase device descriptor buffer size in linux host usb  bytes  big enough for some complicated usb configurationsnid  mike lockwood
1402,staging samsunglaptop fix up my fixup for some sysfs attribute permissionsnncommit  upstreamnnthey should be writable by root not readablendoh stupid me with the wrong flagsnnreportedby jonathan cameron  greg kroahhartman
1403,adb improve debug traces readabilitynnthis patch makes the traces easier to read for example transports arendisplayed by nameserial instead of their hex addressnid
1404,fix an issue where src files can be deleted in adtnnolder projects generated the java class r aidl intonthe main src foldernnthere is code in adt to migrate them to the new modelnwhere generated classes go in gen by removing derivednresources from the source folder this is also usednby the clean feature of the precompiler buildernto clean the content of gennnto make it better in adt  we added something tondelete the folder containing the derived resourcesnexcept this  check if the folder is not emptynafter the derived resources have been deleted ornnot if it contained nonderived resourcesnnthis means importing older projects or possiblynteam projects see  delete the whole content of the source foldernnthis change makes sure that only folders for whichnall members have been deleted are deletednid
1405,staging samsunglaptop fix up some sysfs attribute permissionsnncommit  upstreamnnthey should not be writable by any usernnreportedby linus torvalds  greg kroahhartman
1406,arm tegra setup regulators for suspendnnthe regulator framework may need to change certain regulators whennentering suspendnid  greg meist
1407,adt change to  fix for adt removing source foldersnid
1408,staging  change panic to warn when rf switch turned offnncommit  upstreamnnthis driver issues a kernel panic over conditions that do notnjustify such drastic action change these to log entries withna stack dumpnnthis patch fixes the system crash reported  larry finger  robie basik  greg kroahhartman
1409,arm tegra suspend disable fiqs in suspendnid  colin cross
1410,arm twd always calibrate local timernid  colin cross
1411,staging frontier fix up some sysfs attribute permissionsnncommit   upstream merged togethernnthey should not be writable by any usernnreportedby linus torvalds  david taht  greg kroahhartman
1412,staging iio  fix up my fixup for some sysfs attribute permissionsnncommit  upstreamnnthey should be writable by root not readablendoh stupid me with the wrong flagsnnreportedby jonathan cameron  jonathan cameron  barry song  greg kroahhartman
1413,avd and adt eclipse plugin to support processorspecific platform images and emulatorsnnthis is a first and largest patch in a series of patches over the next month to extend thenavd and adt eclipse plugin to support processorspecific platform images and emulators thisnpatch is intended to coexist with patches to create  emulator environments and overallnsdk supportnnthere is an overall expectation that the sdk building process will be updated to meet thenfollowing expectations it is not in the scope of these ui patches to change the overallnsdk building structurennexpectation    an arbitrary additional architecture extensiblennexpectation  location of kernelimages for  location of kernelimages for  location of kernelimages for arbitrary architecturennexpectation  the event that addons are in the sdknaddonsaddonxxximagesarm location of kernelimages for  location of kernelimages for  location of kernelimages for arbitrary architecturennnote for earlierlegacy api levels it is assumed that it is arm only and the images willnbe in platformsandroidxxximages and addonsaddonxxximagesnnwhen an api level is chosen in avd it scans the appropriate api directories and determinesnif the image directory is legacy or if it has subdirectories in the latter case itnpopulates the list of potential processors using these directory names and somenprettyprinting for well known architecturesnntested using android command line to start avd on linux and windowsntested using eclipse plugin avd integration on linux and windowsnreminder you need to change the directory layout of images and add the rightn emulatorxxxexe to test itnnif one uses the android command line to create an avd from the command line thenprocessor type is assumed to be arm today a future patch will be needed to addncommand line processor type selectivitynid
1414,support onclick method handlers in hyperlink navigationnnthis uses the jdt to search for method names matching the requirednsignature for xmldeclarations of method handles and opens thenmethodnnit searches first in the activity classes then globallynid
1415,add support for adding nonstring value resourcesnnthe resourcechooser only supported adding new strings this changesetnlets you add other types of value resources dimensions integersnetc it will create a new file in resvalues if necessary based onnthe plural form of the resource name eg for string resources itnwill create stringsxml etc for existing files it will add a newnentry to the existing file using the same indentation as the lastntoplevel element in the filenid
1416,update screen configuration testsnnbug  configurationtest to be flexible in regards to the new cddnpolicies regarding screen sizes and resolutions by getting ridnof the static list of allowed resolutions and replacing it withnsome looser checksnid
1417,sdk manager support extrasvendorpathnnthis change makes the sdk manager install new extranpackages into sdkextrasvendorpath creating thenfolders as needednnexisting extra packages are not moved when they are updatednprovided that they keep the same  and  attributesnin their xml defionnnthere is also some support for the form sdkvendorpath thatnwas introduced by tools  and  bug
1418,video tegra add heightwidth to dc and fbnid  erik gil
1419,fix adb leaking file descriptors to forked processesnnaccept creates a new file descriptor that should be closed on exec sonthat forked processes  keep a fd opened on the socketnnthis also fixes  where adb hangs after running adb on thentargetnid
1420,adb fix commandline parsernnthis fixes the commandline parser to accept both daemon servernand server nodaemon before the patch the second string wouldnignore the nodaemon flagnnfix
1421,external bt gps support for icsnnallows user to change internal gps to external gpsnimplements request  httpilokinl for more informationnnnedoffby cuong
1422,adb  report negative number of bytes after pushing file   gigabytesnnbug   mike lockwood
1423,set local time as timestamp when mms has been downloadednnpreviously the timestamp of notifications was the current local timenbut as soon as the mms was downloaded it got the timestamp from thenpdu this could cause problems if timezones  set correctly etcnnow a downloaded mms will always get the current local time as itsntimestamp regardless of when it was first receivedn
1424,avoid calling res since  a private api in bionicnnin  res function reads the config files resolvconfnto get the default domain name search order and name servernaddresses however in bionic resolvconf is already ignorednso it is a noop for actual functionalitynid
1425,fix for missing status reports for delayed messagesnnwhen an sms is sent to a phone that is not turned on the sendingnphone receives a status report saying that the message is pendingnthe pending intent that is to be matched with the status reportnshould then not be removed from the list but rather remain in thenlist to await a success or fail status reportnnnote that the status report notification will still be lost if thensending phone is turned off before receiving the status reportn
1426,pm hibernate fix memory corruption related to swapnncommit  upstreamnnthere is a problem that swap pages allocated before the creation ofna hibernation image can be released and used for storing the contentsnof different memory pages while the image is being saved since thenkernel stored in the image  know of that it causes memoryncorruption to occur after resume from hibernation especially onnsystems with relatively small ram that need to swap oftennnthis issue can be addressed by keeping the gfpiofs bits clearnin gfpallowedmask during the entire hibernation including thensaving of the image until the system is finally turned off ornthe hibernation is aborted unfortunately for this  necessary to rework the way in which the hibernate andnsuspend code manipulates gfpallowedmasknnthis change is based on an earlier patch from hugh dickinsnnnedoffby rafael j wysocki  ondrej zary  hugh dickins  kamezawa hiroyuki  greg kroahhartman
1427,hide the symbol of helper function libcandroidabortnnideally libcandroidabort would be static but it could not benbecause gcc would not allow calling a static function from an asmnstatement instead using gcc visibility is work aroundnid
1428,wrong airplane mode translation for eses the same string was twicenso user could not identify correctly the current staten
1429,perf fix inherit vs context rotation bugnncommit  upstreamnnit was found that sometimes children of tasks with inherited events hadnone extra event eventually it turned out to be due to the list rotationnno being exclusive with the list iteration in the inheritance codenncure this by temporarily disabling the rotation while we inherit the eventsnnnedoffby thomas gleixner  peter zijlstra   ingo molnar  greg kroahhartman
1430,revert video tegra add hdmi switchdev for hotplug notificationsnnthis reverts commit
1431,hide the symbol of helper function libcandroidabortnnideally libcandroidabort would be static but it could not benbecause gcc would not allow calling a static function from an asmnstatement instead using gcc visibility is expected to overcomenid
1432,external bt gps support for icsnnallows user to change internal gps to external gpsnimplements request  httpilokinl for more informationnnnedoffby cuong
1433,arm tegra suspend remove log spamnid  colin cross
1434,staging batmanadv ensure that ethtypetrans gets linear memorynncommit  upstreamnnethtypetrans tries to pull data with the length of the ethernet headernfrom the skb we only ensured that enough data for the first ethernetnheader and the batman header is available in nonpaged memory of the skbnand not for the ethernet after the batman headernnethtypetrans would fail sometimes with drivers which  ensure thatnall there data is perfectly linearisednnthe failure was noticed through a kernel bug oops generated by thenskbpull inside ethtypetransnnreportedby rafal lesniak  marek lindner  sven eckelmann  greg kroahhartman
1435,sdhci add host hw op for enabledisable clocknnadd new host op to enabledisable the platformspecific clock sourcenfor the host controller when the card layer indicates power isnor is not needednid  todd poynor
1436,serial tegrahsuart remove suspend log spamnid  colin cross
1437,arm  fix build with   upstreamnncommit  arm  add  for hookfaultcode breaks  buildnn cc  in function  warning passing argument  of  makes integer from pointer without a  error too few arguments to function  commit fixes the small issuennnedoffby anton vorontsov  greg kroahhartman
1438,remove unexpected  executable filennin git repository of nc there was an unexpected  executable filen$ file ncnnc macho executable  should not existnid
1439,fix make acp under cygwin do not mergenid
1440,arm  fix for building debug with  as a modulenncommit  upstreamnnthis patch fixes a compilation issue when compiling pcmcia  as a module with pcmciadebug enabled the symbolnsocpcmciadebug was not beeing exportednarm pcmcia fix for building debug with  as a modulennthis patch fixes a compilation issue when compiling pcmcia  as a module with pcmciadebug enabled the symbolnsocpcmciadebug was not beeing exportednnnedoffby marcelo roberto jimenez  russell king  greg kroahhartman
1441,adding a content provider for reading specific operator flags from the sim cardnncustomization options are increased by introducing a way to readnspecific operator defined flags from the sim card operators cannstore information on the sim card that can be read at runtime ornat phone start up this enables the possibility to use differentnsettings depending on the information stored on the sim card annoperator can for instance have different apn settings dependingnon whether the sim card is prepay or postpaynid
1442,net truncate recvfrom and sendto length to intmaxnncommit  upstreamnnnedoffby linus torvalds  david s miller  greg kroahhartman
1443,improved support for chinese timezonesnntranslations of timezones were missing for some chinese variantsnntranslation for resxmlzhrtwtimezonesxml was updated to be morenconsistent eg brazzaville is now translated to brazzaville rathernthan timezone in east africanid
1444,change  two digit numbers are dialed normally not ussd if users dial  in croatia and serbianid
1445,mountc fix used size bigger than alloc sizenid  ethan
1446,genirq fix incorrect proc spurious outputnncommit  upstreamnnsince commit  procirqspurious to seqfile allnprocirqxxspurious files show the information of irq  irqspuriousprocopen passes on null as the  argumentnwhich is used as an irq number in irqspuriousprocshow to thensingleopen because of this all the procirqxxspurious filenshows irq  information regardless of the irq numbernnto fix the problem irqspuriousprocopen must pass on thenappropreate data irq number to singleopennnnedoffby kenji kaneshige  yong zhang   thomas gleixner  greg kroahhartman
1447,fixing formatting rules test to support hyphenated formats as defaultnnthe default phone number formatting rules may include hyphens dependingnon the country andor operator removing the hyphens before assertingnthe output format is required for unknown default formatnid  david sobreira
1448,add app nameicon and current render locale to the layoutlib apinnthis allows the layoutlib to render systemtitleaction barsnas a window decor like it would look on the devicenthis can be disabled with renderparamssetforcenodecornbtw params was renamed renderparams toonnalso minor update to the api by replacing an int with densitynsince the enum is now accessible to the api and layoutlibnid
1449,improve waitforconnection for booting devicesnnhave waitforconnection actually wait until the device is online before returningnit also give the on device monkey some more time to startupnid
1450,input  add sony vaio  to nomux listnnnote that the mainline will not have this particular fix but rathernwill blacklist entire vaio line based off dmi board name for stableni am being a bit more cautious and blacklist one particular productnntrying to queryactivate active multiplexing mode on this vaio makesnboth keyboard and touchpad inoperable futher kernels will blacklistnentire vaio line however here we blacklist just one particular modelnnreportedby jesse barnes  dmitry torokhov  greg kroahhartman
1451,add build brand and manufacturer to report headernnbug
1452,video tegra set output color depth on resumennnedoffby erik gil
1453,net limit socket io iovec total length to intmaxnncommit  upstreamnnthis helps protect us from overflow issues down in thenindividual protocol sendmsgrecvmsg handlers oncenwe hit intmax we truncate out the rest of the iovecnby setting the iovlen members to zeronnthis works  for sockstream and sockseqpacket sockets partialn writes are allowed and the application will just continuen with another write to send the rest of the  for datagram oriented sockets where there must be an onetoone correspondance between write calls andn packets on the wire intmax is going to be far largern than the packet size limit the protocol is going ton check for and signal with emsgsizennbased upon a patch by linus torvaldsnnnedoffby david s miller  greg kroahhartman
1454,fix archneedscpu return value on offline cpusnncommit  upstreamnnthis fixes the same problem as described in the patch nohz fixnprintkneedscpu return value on offline cpus for the archneedscpunprimitivennarchneedscpu may return  if called on offline cpus when a cpu getsnofflined it schedules the idle process which before killing its own cpunwill call ticknohzstopschedticknthat function in turn will call archneedscpu in order to check if thenlocal tick can be disabled on offline cpus this function should naturallynreturn  since regardless if the tick gets disabled or not the cpu will bendead short after that is besides the fact that cpudisable should alreadynhave made sure that no interrupts on the offlined cpu will be delivered anywaynnin this case it prevents ticknohzstopschedtick to callnselectnohzloadbalancer no idea if that really is a problem however whatnmade me debug this is that on  the function getnohzloadbalancer isnused within modtimer to select a cpu on which a timer gets enqueuednif archneedscpu returns  then the nohzloadbalancer cpu  getnupdated when a cpu gets offlined it may contain the cpu number of an offlinencpu in turn timers get enqueued on an offline cpu and not very surprisinglynthey never expire and cause system hangsnnthis has been observed  kernels on current kernels modtimer usesngetnohztimertarget which  have that problem however there mightnbe other problems because of the too early exit ticknohzstopschedticknin case a cpu goes offlinennthis specific bug was indrocuded with  nohz introducenarchneedscpunnin this case a cpu hotplug notifier is used to fix the issue in order to keepnthe normalfast path small all we need to do is to clear the condition thatnmakes archneedscpu return  since it is just a performance improvementnwhich is supposed to keep the local tick running for a short period if a cpungoes idle nothing special needs to be done except for clearing the conditionnnackedby peter zijlstra  heiko carstens  martin schwidefsky  greg kroahhartman
1455,fix for storing cphs mwi messages with store typenncpsh mwi messages of store type were treated as discard type this hadnthe effect that no cphs mwi message with text was ever shown to thenusern
1456,wmi use memcmp instead of strncmp to compare guidsnncommit  upstreamnnwhile looking for the duplicates in sysclasswmi i  findnthem the code that looks for duplicates uses strncmp in a binary guidnwhich may contain zero bytes the right function is memcmp which isnalso used in another section of wmi codennit was finding  as a duplicate  since the first byte is the fourthnprinted they were found as equal by strncmpnnnedoffby thadeu lima de souza cascardo  matthew garrett  greg kroahhartman
1457,fixing the wrong link in yuvimage javadocnid
1458,prevent javalangarithmeticexception in  the zoom field to  instead of the default  sinceni ran into a scenario where a division by an unialized zoomncaused a divide by zero exceptionnnexception in thread  javalangarithmeticexceptionn by zeronat $imageviewerchecklockedrn  $imagevieweraccess$  $imageviewer$
1459,add datetime postfix to default file namenwhen showing save screen image dialognid
1460,initialize resampling buffer per tracknnwhen resampling too short sound audiomixer uses previousntracks buffer so we reialize the temporary buffer pernloop to avoid itnid
1461,improve telephony emulation supportnnthis patch fixes a few minor bugs in our emulated gsm modemn mixup between the answers for  and cgdcontn return our ip address as part of  nown ensure the area code and cell id are no more than  hexadecimal digitsnid
1462,pullvcardlistingnumber when multiple contacts have same namennwhen performing pullvcardlisting with the search attributennumber set to a value belonging to a contact named a andnthere is another contact also named a but holding completelyndifferent phone numbers then the response of thenpullvcardlisting procedure contains both of the a contactsnninstead only the contact actually holding the number valuenthat is search for should be returned ie in the case abovenonly one contact anid
1463,patch to backup settings using backupagenthelpernnoriginal patch on froyo
1464,usb gadget android remove wakeup flag from bmattributesnnremove usbconfigattwakeup from bmattributes as we  remote wakeup this fixes an issue with the usb  test toolnid  benoit gobi
1465,hardwareril dsds add multi rild supportnid
1466,video tegra nvmap track carveout clientsnnthis patch adds the ability to track the total allocations in angiven carveout heap by client it also adds a sys file to printnthe list of clients their pids and their respective carveout sizesnid  rebecca schultz zavin
1467,dma errata  sdma fifo draining does not finishnncommit  upstreamnnimplement the suggested workaround for  regarding to sdma drainingnissue when the channel is disabled on the flynthis errata affects the following configurationnsdma transfer is source synchronizednbuffering is enablednsmartstandby is selectednnthe issue can be easily reproduced by creating overrun situation whilenrecording audioneither introduce load to the cpunnice  arecord d  m b  f  f dat  devnull  ndd   suspending the arecord and resuming itnarecord d  m b  f  f dat  devnullnctrlz fg ctrlz fg nnin case of overrun audio stops dma and restarts it without resetingnthe sdma channel when we hit this errata in stop case sdma drain didnnot complete at the coming start the sdma will not going to benoperational it is still drainingnthis leads to dma stall conditionnon  we can recover with sdma channel reset it has been observednthat by introducing unrelated sdma activity might also help readingnfrom mmc for examplennthe same errata exists for  where the suggestion is to disable thenbuffering to avoid this type of errornon  the suggestion is to set sdma to nostandby before disablingnthe channel and wait for the drain to finish than configure sdma tonsmartstandby againnnnedoffby peter ujfalusi  jarkko nikula  santosh shilimkar  manjunath kondaiah g  tony lindgren  greg kroahhartman
1468,qemu multimode supportnnpreliminary implementation of a multimode modemnt added the ctec at command which allows querying and setting the current technologynt added preliminary nvram file supportnnadd cdma subscription source supportnt add support to save the subscription source preference to nvnt add command   to switch subscription source from then emulator consolennimplement atwrmp commandntimplement the atwrmp command to set and get the roaming preferencennimplement emergency callback modennimplement the wsos command and unsol to notify emergency callback mode statusnnimplement wprl at commandntenable prl update notification by implementing the atwprl query commandntimplement a console command to send wprl unsolicited responsenid
1469,externalqemu dsds add support for two modemsnid
1470,video tegra nvmap fix handle ref countingnnin the current implementation handles hold references to anclient and clients hold references to their handles as anresult when a process terminates  handles  be cleanednup and we leak memory instead only hold references to handlesnfrom clientsnid  rebecca schultz zavin
1471,omap dma fix buffering disable bit setting for   upstreamnnan errata workaround for  is not setting the buffering disable  what is the purpose but channel enable bit  insteadnnbackground for this fix is the dma stalling issue with asoc omapmcbspndriver peter ujfalusi  has found an issue innrecording that the dma stall could happen if there were a buffer overrunndetected by alsa and the dma was stopped and restarted due that thisnproblem is known to occur on both  and  it can recover  after dma free dma request and reconfiguration cycle however  it seems that only way to recover is a resetnnproblem was not visible before the commit  that commit changed thatnthe mcbsp transmitterreceiver is released from reset only when needed thatnis only enabled mcbsp transmitter without transmission was able to preventnthis dma stall problem in receiving side and underlying problem did not shownup until now mcbsp transmitter itself seems to no be reason since dmanstall does not recover by enabling the transmission after stallnndebugging showed that there were a dma write active during dma stop time andnit never completed even when restarting the dma experimenting showed thatnthe dma buffering disable bit could be used to avoid stalling when usingnsource synchronized transfers however that could have performance hit  trm states that buffering disable is not allowed for destinationnsynchronized transfers so subsequent patch will implement a method toncomplete dma writes when stoppingnnthis patch is based on assumtion that complete lockup on  isndifferent but related problem i  have access to  errata butni believe this old workaround here is put for a reason but unfortunatelyna wrong bit was typed and problem showed up only nownnnedoffby jarkko nikula  peter ujfalusi  manjunath kondaiah g  tony lindgren  greg kroahhartman
1472,arm  panda turn on   chris kelli
1473,skip test if us locale not availablennbug  test sets the default locale to us but that may not be annavailable locale skip the test if the us locale is not availablenid
1474,usb gadget fsludc use dmaalloccoherent to allocate the status buffernid  benoit gobi
1475,vlan avoid hwaccel vlan packets when vid not usednnthis patch applies only to  stable the problem was introducednin that release and is already fixed by larger changes to the vlanncode in  hardware accelerated vlan packets are quickly dropped ifnthere is no corresponding vlan device configured the one exceptionnis promiscuous mode where we allow all of these packets through sonthey can be picked up by tcpdump however this behavior causes ancrash if we actually try to receive these packets this fixes thatncrash by ignoring packets with vids not corresponding to a configuredndevice in the vlan hwaccel routines and then dropping them before theynget to consumers in the network stacknnreportedby ben greear  nikola ciprich  jesse gross  david miller  greg kroahhartman
1476,mountservice unlink death notification when unregistering listenersnid
1477,usb host ehci add missed memory barrier in the hcd drivernnthere is one wmb missing in the usb host controller driver after the queue headnupdate due to this data transaction is not happening on the bus after urbnsubmission by the hcd driver register updatesqueue heads data in the memorynis not reflected on the ahb bus after adding the wmb after queue head updatendata transaction the usb bus started with out any delaynnoriginally fixed by venkat moganty   jay cheng
1478,memory corruption in  facilities parsingnncommit  upstreamnnnedofby andrew hendry  david s miller  greg kroahhartman
1479,usb gadget android remove wakeup flag from bmattributesnnremove usbconfigattwakeup from bmattributes as we  remote wakeup this fixes an issue with the usb  test toolnid  benoit gobi
1480,cifs fix another memleak in cifsrootigetnncommit  upstreamnncifsrootiget allocates fullpath throughncifsbuildpathtoroot but fails to kfree it uponncifsgetinodeinfo failurennmake all failure exit paths traverse clean upnhandling at the end of the functionnnnedoffby oskar schirmer  jesper juhl  steve french  greg kroahhartman
1481,bluetooth obex timeout problemnnlong time to show notification of file transfer failed afterncanceling transfer via remote partnndevice a is in contact with our device b when device a cancelna transfer operation it sends obexopcodedisconnect headeridnand the length of package to b b use the length of package tonread remainder bytes from a if the bytes b read do not meet thenreceived length it will block and wait for remainder bytes from anbut when b compute the remainder bytes it forgets to subtractnthe three bytes it has already read through headerid and the lengthnof the package so the operation was blocked until the operationntimeoutnid
1482,fix timeout on stopping rx dmanncommit  upstreamnnit seems that using  to stop rx dma is not enoughnwhen  time to stop dma the pcu is still busy so the rx enablenbit never clearsnusing  helps with getting rx stopped much fasternwith this change i cannot reproduce the rx stop related warnon anymorennnedoffby felix fietkau  john w linville  greg kroahhartman
1483,avoiding cyclic references when unbinding from a servicenncyclic references can occur between a service object held by annapplication and a servicerecord object held by the system serverna part of the problem is that binders are leaked and since many bindersnare implemented by inner classes of services these services are also leakednthis causes low memory problems the solution is when a service is beeingndestroyed go through the  all intentbindrecord and set itsnbinder references to null this allows the binder and the service object tonbe garbage collectednid
1484,cifs fix parsing of hostname in dfs referralsnncommit  upstreamnnthe dfs referral parsing code does a memchr call to find the  that separates the hostname in the referral unc from thensharename it then uses that value to set the length of the hostname vianpointer subtraction instead of subtracting the start of the hostnamenhowever it subtracts the start of the unc which causes the code tonpass in a hostname length that is  bytes too longnnregression introduced in commit  robbert kouprie  jeff layton  wang lei  david howells  steve french  greg kroahhartman
1485,avoid crash in selectcurrentwordnnwhen viewing the context menu and choosing select word on anwebtextview with default value which is reset by a java script therenwill be a null pointer exception one example of this  no characters are yet entered it does not make sense to offernthe option to select a word this fix changes the context menu so thatnselect word appears only if there is anselectionmodifiercursorcontroller the text is no longer emptynid
1486,manual date settings should have valid year in  operator request limit the value range for year  this is implemented on other devices onenreason behind this is to not become dangerously closento the end of time as unix knows itnid
1487,ringervolumepreferenceonactivitystop only stops playbacknnenter the volumedialog in settings switch to another appnusing longhome and then switch back to the volmedialognat this point the volume sliders no longer works thenreason is that dialog has received onactivitystop andnunregistered all of its listeners but the dialog can notnget any notification of that it is visiblennso in ringervolumepreferenceonactivitystop the cleanupnhas been replaced with only stopping ringtone playbacknfor the seekbars this will avoid problems when switchingnbetween applications that previously lead to inconsistenciesnin the ring volume dialognid
1488,volumepreferenceonactivitystop only stops playbacknnin volumepreferenceonactivitystop the cleanup hasnbeen replaced with only stopping ringtone playbacknfor the seekbar this will avoid problems when switchingnbetween applications that previously lead to inconsistenciesnin the ring volume dialognid
1489,support for vcard  rev field in aabnnadding support for the property name revnwhich is part of vcard
1490,add  support rebase the change  due to a minor conflictnid  xiaohui xin  yunhong jiang  jun nakajima
1491,video tegra host wait till module is really idle before powering downnnthis should help to avoid bugon seen in suspend caused due tonhost being not powered down as some client module of it is not idlenand hence holds a reference to hostnid  mayuresh kulkarni
1492,video tegra set hv sync polarity for hdminid  erik gil
1493,video tegra support vh sync polaritynid  erik gil
1494,video tegra correct hdmi hvsync polairty in some modesnid  erik gil
1495,onsavepassword dialog can leak when webview is destroyednnthe alertdialog creates in onsavepassword method leaks ifnwebview is destroyed when the dialog is shownnid
1496,mmc fix rmmod race for hosts using carddetection pollingnncommit  upstreamnnmmc hosts that poll for card detection by defining the mmccapneedspollnflag have a race on rmmod where the delayed work is cancelled withoutnwaiting for completed polling to prevent this a sync version of the workncancellation has to be usednnnedoffby guennadi liakhovetski  chris ball  greg kroahhartman
1497,the activitythread will restart a stopped activity before sending onactivityresultnnwhen an activity starts a second fullscreen activity by callingnstartactivityforresult it will be stopped and any managed cursorsnwill be deactivated when the second activity ends the firstnactivity will recieve onactivityresult earlier onactivityresultnwas sent to the activity before it was restarted if the activitynhad any managed cursors they would still be deactivated whennonactivityresult was received now if the activity is stopped itnwill be restarted before onactivityresult is sent to the activitynid
1498,ignore trap bits on single step exceptionsnncommit  upstreamnnwhen a single step exception fires the trap bits used tonsignal hardware breakpoints are in a random statennthese trap bits might be set if another exception will follownlike a breakpoint in the next instruction or a watchpoint in thenprevious one or there can be any junk therennso if we handle these trap bits during the single step exceptionnwe are going to handle an exception twice or we are going tonhandle junknnjust ignore them in this casennthis fixes  michael stefaniuc  frederic weisbecker  rafael j wysocki  maciej rutecki  alexandre julliard  jason wessel  greg kroahhartman
1499,dynamic width for text labelsnnprevent username to be line breaked in some languagesnmake vpn login dialog look like wifi dialogs where legend is aboventhe input field rather than beside itnid
1500,fix preserving new apn with an unset name and apnnnif an new apn have invalid values when the device goesnto sleep while editing then the apn  be saved whennthe activity is resumed even though the values is correctednthe behavior is identical when an other activity covers thenapn editor and onsavestateinstance is called before namenand apn is set fixed so that the apn setting isnpreserved despite of missing parameters apn and namenid
1501,decnet  leak unialized stack bytenncommit  upstreamnna single unialized padding byte is leaked to userspacennnedoffby dan rosenberg  david s miller  greg kroahhartman
1502,clear reference to the iintentreceiver in order to avoid memory leaknnwhen using sendorderedbroadcast with a broadcastreceiver thenbroadcastreceiver instance was not released the reason for this was thatnthe resultto field in the broadcastrecord kept a reference until it was pushednout of the mbroadcasthistory this reference in turn kept a reference to thenprocess side iintentreceiver implemented in receiverdispatcher$innerreceivernthis in turn had a strong reference through mstrongref to the contextnnin order to keep the debug output the resultto is also kept as a string in thennew resulttostring variablenid
1503,backlight grab opslock before testing   upstreamnnaccording to the comment describing opslock in the defion of structnbacklightdevice and when comparing with other functions in backlightcnthe mutex must be hold when checking ops to be nonnullnnfixes a problem added by  backlight add suspendresumensupport to the backlight core in jan  uwe kleinekönig  richard purdie  andrew morton  linus torvalds  greg kroahhartman
1504,uml disable winch irq before freeing handler datanncommit  upstreamnndisable the winch irq early to make sure we  take an interrupt partnway through the freeing of the handler data resulting in a crash onnshutdownnn winchinterrupt read failed errno   fd  is losing sigwinch supportn cut here n warning at   listdel corruption next is                                                will newton  wang cong  jeff dike  andrew morton  linus torvalds  greg kroahhartman
1505,fixing a system server crashnnthe system server crashed when doing searches on marketnon some devicesnnthe search dialog is beeing asked to show non existingnresources as ofnnandroidcontentresresources$notfoundexception string resource id          modification adds a catcher for the exceptionnid
1506,add support for contentdisposition when save linknncontentdisposition  used when downloading annitem by longclick the link  result in differentnfile name if the item is downloaded by clicking the linknor if  downloaded by longclick the link and selectnsave link if the http response includes the contentdispositionnheader with the filename attributenid
1507,pm pm qos fix reversed min and maxnncommit  upstreamnnpmqosgetvalue had min and max reversed causing all pmqosnrequests to have no effectnnnedoffby colin cross  mark  rafael j wysocki  greg kroahhartman
1508,phone crash when old callback func is woken up when enabling btnnwhen the remote jerry device is powered down the bt link to thenphone is dropped and the jerry firmware in the phone quitenimmediately tries to reconnect to the jerry device thennsdp and discover services is started fetchremoteuuids  this results in an asynchronous dbusncall dbusfuncargsasync that is provided with a callbacknfunction ondiscoverservicesresult but before this callbacknfunction is used bluetooth is disabled according to the problemnscenario above for some reason this discover services activitynis not cleared when bluetooth is disabled so when bluetoothnis enabled again the old callback functionnondiscoverservicesresult is executed but the followingngetaddressfromobjectpath fails the reason for this is thatnthe deviceobjectpath parameter contains an old valuencontaing the process id of the old bluetoothd the one runningnbefore bluetooth was disabled then the new updatednadapterobjectpath  bluetooth hd  not a prefix of the old deviceobjectpath  hd  which results in that nullnwill be used as address in senduuidintent and later onnending up in the bluetoothdevice constructor where andnillegalargumentexceotion is thrown due tonbluetooth address  null then the phone will crashnnmaking sure senduuidintent is not called when address is nullnis a workaround for the problemnid
1509,nommu yield cpu while disposing vmnncommit  upstreamnndepending on processor speed page size and the amount of memory anprocess is allowed to amass cleanup of a large vm may freeze the systemnfor many seconds this can result in a watchdog timeoutnnmake sure other tasks receive some service when cleaning up large vmsnnnedoffby steven j magnani  greg ungerer  kosaki motohiro  andrew morton  linus torvalds  greg kroahhartman
1510,use more optimized version of memmovennon arm there is currently no assembler optimized memmove in libcnthere is however a more optimized bcopy which copies long insteadnof bytes where possible this almost doubles the performance innbest casenid
1511,arm  fix spinlock recursion in adjustptenncommit  upstreamnnwhen running following code in a machine which has vivt caches andnusesplitptlocks is not definednn fd  openetcpasswd ordonlyn addr  mmapnull  protread mapshared fd    mmapnull  protread mapshared fd  v  int addrnnwe will hang in spinlock recursion in the page fault handlernn bug spinlock recursion on   lock  magic  owner  ownercpu                comes from the fact that when usesplitptlocks is not definednthe only lock protecting the page tables is  is already locked before updatemmucache is callednnnedoffby mika westerberg  russell king  greg kroahhartman
1512,adt fix display of unknown manifest elementsnnsdk bug
1513,perfevents fix perfcountermmap hook in mprotectnncommit  upstreamnnas pointed out by linus commit  perfcounter add mmap event hooks tonmprotect is fundamentally wrong as mprotectfixup can free  due tonmerging fix the problem by moving perfeventmmap hook tonmprotectfixupnnnote  another successful return path from mprotectfixup if oldnflags equal to new flags we  however need to callnperfeventmmap there because  already knows the vma isnexecutablennreportedby dave jones  linus torvalds  ingo molnar  peter zijlstra  pekka enberg  linus torvalds  greg kroahhartman
1514,add dictionary to codebasenneclipsethas thetabilitytto spellcheck comments and ittships with annenglish dictionary however many valid terms in our codebase is notnin this dictionary this checkin adds a dictionary file which containsnmany of the valid spelling words used in our codebasennunfortunatelyteclipsetdoes not support project dictionariestlikensome other ides where individual user dictionaries are merged withnshared project dictionaries however this new dictionary should benuseful for developers who use a dedicated workspace for androidndevelopmentnnthis changeset also fixes some typosnid
1515,arm  fix findnextzerobit and related assemblynncommit  upstreamnnthe findnextbit findfirstbit findnextzerobitnand findfirstzerobit functions were not properlynclamping to the maxbit argument at the bit level theynwere instead only checking maxbit at the byte levelnto fix this add a compare and a conditional moveninstruction to the end of the common bitwithinthenbyte code used by all the functions and be sure not tonclobber the maxbit argument before it is usednnreviewedby nicolas pitre  stephen warren  james jones  russell king  greg kroahhartman
1516,adt separate manifest test for attrsxmlparsernid
1517,arm   fix incorrect optimisation in usraccnncommit  upstreamnncommit  added a  variant of usracc which when it isncalled with  calls usraccoff once with an offset of  andnsecondly with a hardcoded offset of  in order to avoid incrementingnthe pointer again if inc   then we will store the data to the wrongnoffset from ptr luckily the only caller that passes  to thisnfunction is clearuser so we  been actively corrupting user datannthis patch fixes usracc to pass inc instead of  to usraccoffnwhen it is called a second timennreportedby tony thompson  catalin marinas  will deacon  russell king  greg kroahhartman
1518,adding texas instruments to the vid listnid
1519,support an additional alias for
1520,cts remove testcallvoicemailnncomment from btmura test is invalid because the cdd  saynwhat is required in terms of permissions by the applications thatnrespond to these intents also the dialer  part of the corensystems application list defined under the   finallynit appears that intentactioncallprivileged is a private api asnwellnid
1521,fix scrolling bug upon pinchzoomnnwhen the user is using two fingers to pinchzoom a photo the screennwill keep scrolling to the upperleft direction even when the twonfingers are stationarynid  madan ankapura
1522,adding import r class statementnwhen creating project with different package activitynid
1523,tool improving zoom processnid
1524,tabhost key handling correctednnwhen receiving key presses in tabhost focus should benrequested for the selected tab indicator provided that thenfollowing conditions are  a content view inside an embedded activity is currently  no focusable view exists in the direction of the navigationnkey press inside the embedded  the tabwidget is located in the direction of the navigationnkey pressnthis should work for all locations of the tabwidget not onlynwhen the tabwidget is located above the tab contentnid
1525,textview context menu has inconsistent behaviournnwhen selected or marked text is removed in antextview widget the selection mode needs tonbe stopped in ontextchanged if not thencontext menu will not appear or show wrong optionsnid
1526,add test cases for concurrent gc and systemarraycopynnwhen systemarraycopy runs at the same time as a concurrent gcnthe phone will sometimes crash since systemarraycopy was implementednusing memmove and memcpy in current implementation of mememove bytesnare copied one at a time if for instance only  out of  bytesnto an object reference were copied when the thread switch to thengc thread occurred and the gc was scanning the marked objects thengc read an invalid address the parameters to dvmwritebarrierarraynin one case was also corrected they are currently not usednnthe fix itself for this crash is made elsewhere this commit justnadds test cases to verify that this works and that performance isnacceptablenid
1527,arm  panda enable usb host supportnnnedoffby mike lockwood
1528,arm tegra hsuart use a workqueue in the tx dma callbacknnnedoffby iliyan malchev
1529,staging iio  fix up some sysfs attribute permissionsnncommit  upstreamnnthey should not be writable by any usernnreportedby linus torvalds  jonathan cameron  barry song  greg kroahhartman
1530,select element surrounding caret when switching from editornnif you edit the xml and then switch back to the visual editor thisnchangeset will cause the element surrounding the caret if any to benselected in the visual editornid
1531,staging udlfb fix up some sysfs attribute permissionsnncommit   upstream merged togethernnthey should not be writable by any usernnreportedby linus torvalds  bernie thompson  greg kroahhartman
1532,arm tegra dma switch to nonthreaded interruptsnnnedoffby iliyan malchev
1533,fix resource issues in adtnid
1534,serial mfd adjust the baud rate settingnncommit  upstreamnnprevious baud rate setting code only has been tested with  bps and recently we got a  bps device to testnwhich needs to modify current mul register setting and with thisnpatch  should also work as they just use a mulnvalue scale down from  got some reference register setting from silicon guys forndifferent baud rates which tries to keep the prescalar register valuento  feng tang  greg kroahhartman
1535,warp to source editor on widget double clicknnupdate mouse handler such that a double click will look up thencorresponding xml element front the xml source editor and select thentext range scrolling if necessary to reveal the corresponding tagnid
1536,leds fix bug with reading nas  dmi codenncommit  upstreamnnwhile running randconfg with ktestpl i stumbled upon this bugnn bug unable to handle kernel null pointer dereference at  ip   pgd  oops   smpn last sysfs filen cpu  modules linked innn pid  comm swapper not tainted    rip    rsp  eflags  rax  rbx  rcx ffffffffffffffffn rdx  rsi  rdi  rbp               ffffffffffffffff   fs    cs  ds  es                      process swapper pid  threadinfo  task  stackn             call tracen                     that the nasledwhitelist dmisystemid structure array had nonnull end delimiter causing the dmichecksystem loop to read annundefined entrynnnedoffby steven rostedt  dave hansen  richard purdie  arjan van de ven  andrew morton  linus torvalds  greg kroahhartman
1537,adt support synthetic parent chains in attrsmanifestxmlnnsdk bug
1538,revert vfs show unreachable paths in getcwd and procnncommit  upstreamnnbecause it caused a chroot ttyname regression in  of  ttyname does not work in a chroot it has already beennreported that screen breaks and for me this breaks an automatedndistribution testsuite that i need to preserve the ability to run thenexisting binaries on for several more years glibc  which has anfix for this is not an optionnnthe root cause of this breakage isnn commit  author miklos szeredi  date tue aug     vfs show unreachable paths in getcwd and procnn prepend unreachable to path strings if the path is not reachablen from the current rootnn two places updated aren the return string from getcwdn and symlinks under proc$pidnn other uses of dpath are left unchanged we know that some oldn software crashes if procmounts is changednn nedoffby miklos szeredi  nedoffby al viro  remove the nice sounding but ultimately ill advised change to hownprocfd symlinks worknnnedoffby eric w biederman  linus torvalds  greg kroahhartman
1539,fix adb location in ant rulesnid
1540,memcg avoid deadlock between move charge and trychargenncommit  upstreamnnmemcgrouptrycharge can be called under  does it this means it can cause deadlock if it races with move  move charge try chargen n memcgroupcanattach  mcmovingtask  current n memcgroupprechargemc memcgrouptrychargen memcgroupcountprecharge preparetowaitn  if mcmovingtaskn  cannot aquire the lock  truen  move charge try chargen n memcgroupcanattach n mcmovingtask  current n memcgroupprechargemc n memcgroupcountprecharge n  n n  n  memcgroupmovetask n memcgroupmovecharge memcgrouptrychargen  preparetowaitn  cannot aquire the lock if mcmovingtaskn  truen schedulennto avoid this deadlock we do all the move charge works both canattach andnattach under one mmapsem sectionnand after this patch we setclear mcmovingtask outside mclock because wenuse the lock only to check mcfromtonnnedoffby daisuke nishimura  balbir singh  kamezawa hiroyuki  andrew morton  linus torvalds  greg kroahhartman
1541,usb storage sierrams fix sysfs file attributenncommit  upstreamnna nonwritable sysfs file  have writable attributesnnreportedby linus torvalds  kevin lloyd  matthew dharm  greg kroahhartman
1542,prevent buffer overflowsnnto eliminate possible buffer overflows some strcpynand strcat have been changed to strncpy and strncatnfaulty length of a buffer has also been changednid  oskar andero
1543,simplify uionly sourcesnnget rid of consoleuic qemutimeruic and modify vlandroiduicnto use a generic looper object instead of a crummy event loopnnwe still need to implement qemusetfdhandler for two sources undernandroidprotocol but this will be cleaned up laternid
1544,prevent buffer overflowsnnto eliminate possible buffer overflows some strcpynsprintf and strcat have been changed to strlcpynsnprintf and strlcatnid  oskar andero
1545,simplify core framebuffer managementnnremove one layer of indirection between the  displaystatenand a proxyframebuffer object the main ideas behind this patchnare thatnn we  need a qframebuffer object when in the core processn each proxy can receive display updates directly from qemunn the displaychangelistener is really lame its  dissociaten between several listeners that use the same callback pointersn so introduce displayupdatelistener in consoleh to work aroundn this this is preferably to modifying displaychangelistenern which is going to introduce conflicts with upstreamnn simplify a lot the console code and displaycore note thatn we can have several framebuffer clients at the same time nownnnote that qframebuffer is still used by both the ui program andnthe standalone emulatornid
1546,move framebufferh to androidnnthe qframebuffer is no used by qemuspecific code anymore so  logical to move it herenid
1547,move coreconnectionc from to androidprotocolnid
1548,separate skinnedui into two functionsnnthis removes skinnedui and adds parseskinfiles and sdluinnthe first function only parses skin files and options and  do anythingnrelated to the uinnthe second function does setup the sdl ui after all optionsskin processing hasnbeen performed we also modify mainc and mainuic to move the call tonsdlui as far as possible after the options parsingnn move core attachment code to the end of qemumain in mainuicnid
1549,improved handling of korean specific encoding of simnnthe earlier fix assumed  for all reserved values ofndcs this is however wrong the field should be interpretednas  ascii  normally   normally   normally   norm
1550,fixed the line length to conform to style guideliensnid
1551,removed trailing whitespacenid
1552,fix pkixcertpathvalidatorspitestnnissue  this should not be merged into future releasesnnreplace the contents of this test with those offered in the bugni thought about renaming the test to  but therenis already another  however that test  pulled into cts due to the build rules i thought aboutnadding the tests under securityauth to pull it in but thatnwould bring in some more tests that i  know have beennreviewed as a result  just modified the internals of thisntest to matchnid
1553,move common main routines from into androidcommonhcnnthis is a first step towards cleaningup our ializationstartup codenid
1554,two digi numbers are dialed normally not ussd if users dial  in croatia and serbianid
1555,panda defconfig fix console commandlinennnedoffby vikram pandita
1556,devsystemimportsh add force optionnnthis adds a force option to the devsystemimportsh scriptnto force it to copy all built platform files to a singlenandroid$platform directory under developmentndknnthe idea is to use this asnn devsystemimportsh force   order to sanitize the headers and library files for  ensure that gdbserver is linked statically with the  libraries for both arm and  by default now the result isna static executable that will run on previous releases of the platformnid
1557,fix screaming irqnncommit  upstreamnnvmware reports that the  driver has a bug when bringing down theninterface such that interrupts are not disabled in the hardware but thendriver stops reporting that it consumed the interruptnnthe fix is to set the  down flag later in the routinenafter all the timers and such have exited preventing the interruptnhandler from being called and exiting early without handling theninterruptnncc anupam chanda  jesse brandeburg  jeff kirsher  david s miller  greg kroahhartman
1558,ndk  sanitize platform headers and librariesnnthis change sanitizes the  platform headers and librariesnit does two thingsnn remove the stuff under  update the content of  from a recent aospn  build see caveats belownnsome files appear to move because they  change eg kernel headersnnthis change was generated by following these  build  from the aosp  from $androidrootndk runnn buildtoolsdevsystemimportsh direct   under $androidrootdevelopmentndk donn git rm r  git add  git checkout  git lsfiles o xargs rmn git commitnnimportantn the aosp tipoftree used to generate these filesn includes postgingerbread changes nn the final version of the  files will have ton be generated from the gingerbread branch after we backport alln  changes to itnn these binaries are thus not final but can be used to generaten working experimental ndk packages including prebuilt gnu libstdcn and stlport binaries that implement fstackprotector correctlynid
1559,add  supportnupdated with the comments reflectednid  xiaohui xin  yunhong jiang  jun nakajima
1560,rtc goldfish fix wrong behavior when rtc device was probednnfix wrong behavior when rtc device registration or theninstallation of irq failednid  li haifeng
1561,toolchain for  android compilation on mac os x  of the cross compiler for darwin   android using  toolchain profilenncompilation was performed using the following command utilising  aosp tag and a set of predownloaded   ntvolumesandroidndksourc
1562,usb ftdisio add id for rt systems  radio cablenncommit  upstreamnnanother variant of the rt systems programming cable for ham radiosnnnedoffby michael stuermer  greg kroahhartman
1563,usb misc usbsevseg fix up some sysfs attribute permissionsnncommit  upstreamnnthey should not be writable by any usernnreportedby linus torvalds  harrison metzger  greg kroahhartman
1564,usb fix autosuspend bug in usbserialnncommit  upstreamnnthis patch  fixes a bug in the usbserial autosuspendnhandling since the usbserial core now has autosuspend support itnmust set the supportsautosuspend member in every serial driver itnregisters otherwise the usbautopmgetinterface call  worknnthis fixes bugzilla  alan stern  kevin smith  simon gerber  matteo croce  greg kroahhartman
1565,usb serial ftdisio vardaan usb  converter pid addednncommit  upstreamnnadd the pid for the vardaan enterprises  usb to  it uses the same chip as the   should also work with the stable branches       jacques viviers  greg kroahhartman
1566,usb misc  fix up some sysfs attribute permissionsnncommit  upstreamnnthey should not be writable by any usernnreportedby linus torvalds  oliver bock  greg kroahhartman
1567,usb atm ueagleatm fix up some permissions on the sysfs filesnncommit  upstreamnnsome of the sysfs files had the incorrect permissions some  makensense at all writable for a file that you could not write tonnreportedby linus torvalds  matthieu castet  stanislaw gruszka  damien bergamini  greg kroahhartman
1568,usb misc trancevibrator fix up a sysfs attribute permissionnncommit  upstreamnnit should not be writable by any usernnreportedby linus torvalds  sam hocevar  greg kroahhartman
1569,usb misc usbled fix up some sysfs attribute permissionsnncommit  upstreamnnthey should not be writable by any usernnreportedby linus torvalds  greg kroahhartman
1570,acpi battery support percentage battery remaining capacitynncommit  upstreamnnaccording to the acpi spec some kinds of primary battery cannreport percentage battery remaining capacity directly to osnnin this case it reports the lastfullchargedcapacity     and batteryremaingcapacity anpercentage value which actually means remainingbatterypercentagennnow we found some battery follows this rule even if  a  these batteries correctly in acpi battery drivernso that they  break userspacennnedoffby zhang rui  sitsofe wheeler  len brown  greg kroahhartman
1571,arm tegra suspend save and restore pllp in lowlevel suspendnnsave and restore the pllp registers in the platform suspend code asnthe cpu clock may be sourced from the pllp registers later beforenthe clock resume that used to reenable pllp has been callednid  colin cross
1572,acpi install acpi table handler before any dynamic tables being loadednncommit  upstreamnnacpi table sysfs if is broken by  alex chiang  sun dec     acpi processor call pdc earlynnbecause dynamic ssdt tables may be loaded in pdcnbefore installing the acpi table handlernas a result the sysfs if of these dynamic tables arenlocated at sysfirmwareacpitables instead ofnsysfirmwareacpitablesdynamic which is not truenninvoke acpisysfs before acpiearlyprocessorsetpdcnso that the table handler is installed before any dynamic tables  dennis jansen  alex chiang  zhang rui  len brown  greg kroahhartman
1573,send response to rilrequestsetnetworkselectionautomaticnnthe ril request did not have a response added a successfulnresponse so that the upper layers are not stuck waiting fornthe responsenid
1574,gpu pvr update to ddk
1575,libstagefright check size before doing a copynnthis will avoid memory violation when a error occursnduring fetchingnid
1576,sdk enable make sdkcommon under windowsnid
1577,formatting code stylingnnrename implfbxxx to fbupdatesimplxxx for consistencynavoid redundant global variable accessnid
1578,remove qemuism from ui codennthis gets rid of qemusetfdhandler users in the uinprogram we can remove its implementation from vlandroiduicnn really remove qemutimeruic nid
1579,sdk fix winsdk build errors make future errors fatalnnfirs this fixes a cprm errors that were logged when building the windows sdknthere errors happens because the secondary sdktoolspatchwindowssdkshnwas run twicennnext the shell script is changed to make any error fatal and actuallynbreak the build like it shouldnnin the makefile merge  fix to correctly pass showcommandsnid
1580,sdk strip llvmrscc in windows sdknnsdk bug
1581,fix possible file descriptor leakingnnoriginal code returns wo closing the file descriptornclose the descriptors and free the direct object beforenreturn to avoid leakingnid
1582,fix for gray object scanning in gcnnsometimes objects on the java heap were beeing overwrittennthis happened because the garbage collection algorithm sometimesnfailed to mark object that should not be garbage collectednthese objects were then deleted and overwritten and that oftennled to crashes later onnnthe reason why the objects were not marked was that the lastncard on the heap was never scanned for gray objects so when annobject was located in the very end of the heap it was sometimesnskipped while doing a concurrent gcnnthis fix includes the last card limitcard in the scannid
1583,detect a missing javac and provide a slightly more helpful error messagennnote the hyphens in the error message are required because the output ofnthis scripts is used directly in a makefile targetnnnedoffby rod whitbi
1584,added and updated test cases in ctsnnadded and updated test cases in cts for improving the code coveragenfor androidgraphics packagenid
1585,merge branch  into
1586,omap dss align fb stride to  pixelsnnthis is needed so the framebuffer has a stride which is compatiblenwith the sgxnid  erik gil
1587,sdk strip llvmrscc in sdknnsdk bug
1588,release reference when putting rilrequest back into the poolnnin order to reduce object creation the rilrequest objects arenstored in an array when it is unused max  this avoids gcnof the object the object in turn has references to othernobjects which sometimes hold large memory chunks this fixnreleases these references since they are not used anywaynnthis will make it possible to gc the message mresult whichnin some cases holds references to a bitmap which sometimesnleads to outofmemoryexception the reference is clearednanyway in rilrequestobtainnid
1589,add a file describing how to rebuild the emulator kerneln
1590,sdk fix winsdk build errors make future errors fataln the shell script to make any error fatal and actuallynbreak the build like it shouldnid
1591,revert gpu pvr  fixupsnnthis reverts commit
1592,batteryhistorydetail to use batteryinfo service for statsnid
1593,revert gpu pvr remove reference to dbgdrv in makefilennthis reverts commit
1594,spareparts remove battery historynid
1595,revert omap sgxkm port pvr services to  reverts commit
1596,cherry pick  into  do not mergennfix invalid geo fix formatting bugnnsee  detailsnid
1597,apply  errata workaround for gpiosnncommit  upstreamnnthe amd geode  companion device silicon revision  specificationnupdate mentions the follow as issue  atomic write transactions to the atomic gpio high bank feature bitn registers should only affect the bits selected nn after suspend an atomic write transaction will clear alln nonselected bits of the accessed registernnin other words writing to the high bank for a single gpio bit willnclear every other gpio bit but only sometimes after a suspendnnthe workaround described is obvious and simple do a readmodifywritenthis patch does that and documents why  doing itnnnedoffby andres salomon  andrew morton  linus torvalds  greg kroahhartman
1598,tell dalvikvm where to find dalvikcachennthis makes vmtests work on production devicesnnbug
1599,fuse fix attributes after openotruncnncommit  upstreamnnthe attribute cache for a file was not being cleared when a file is openednwith otruncnnif the  open operation truncates the file atomicotruncnfeature flag is set then the kernel should invalidate the cached stmtimenand stctime attributesnnalso isize should be explicitly be set to zero as it is used sometimesnwithout refreshing the cachennnedoffby ken sumrall  anfei  anand v avati  miklos szeredi  andrew morton  linus torvalds  greg kroahhartman
1600,arm tegra dvfs hdmi can not be an auto dvfs clocknnthe hdmi block contains a divider that is not visible to the clocknsubsystem prevent auto dvfs on it so that clksetrate can set theninput clock higher than  mhznid  colin cross
1601,mmhugetlbc avoid double unlockpage in hugetlbfaultnncommit  upstreamnnhave hugetlbfault call unlockpagepage only if it had previouslyncalled lockpagepagennsetting  and then running the libhugetlbfs test suitenresulted in the tripping of vmbugonpagelockedpage innunlockpage having been called by hugetlbfault when page  this patch remedied the problemnnnedoffby dean nelson  andrew morton  linus torvalds  greg kroahhartman
1602,video tegra fix dvfs for hdminid  erik gil
1603,doexit make sure that we run with getfs  userdsnncommit  upstreamnnif a user manages to trigger an oops with fs set to kernelds fs is notnotherwise reset before doexit doexit may later via mmrelease innforkc do a putuser to a usercontrolled address potentially allowingna user to leverage an oops into a controlled write into kernel memorynnthis is only triggerable in the presence of another bug but thisnpotentially turns a lot of dos bugs into privilege escalations so  fixing i have proofofconcept code which uses this bug alongnwith  to write a zero to an arbitrary kernel address  tested that this is not theoreticalnna more logical place to put this fix might be when we know an oops hasnoccurred before we call doexit but that would involve changingnevery architecture in multiple  just stick it in doexit insteadnnakpmlinuxfoundationorg update code commentnnedoffby nelson elhage  kosaki motohiro  andrew morton  linus torvalds  greg kroahhartman
1604,arm tegra clock  restore pllp registersnnthe pllp registers are now being restored by the lowlevel resume codenand the cpu may be running off pllp so  touch them during clocknresumenid  colin cross
1605,acpi debugfs custommethod open to nonrootnncommit  upstreamnncurrently we havenn www  root root    syskerneldebugacpicustommethodnnwhich is just crazy change this to wnnnedoffby dave jones  len brown  linus torvalds  greg kroahhartman
1606,fix invalid geo fix formatting bugnnsee  detailsnid
1607,acpicpufreq fix a memleak when unloading drivernncommit  upstreamnnwe  free percpuacfreqdata  acpifreq driver is unloadednnresulting in the following messages in syskerneldebugkmemleaknnunreferenced object  size  comm modprobe pid  jiffies  age  hex dump first  bytesn                 $$n                  backtracen       acpicpufreqn                 toralf forster  zhang rui  len brown  greg kroahhartman
1608,multidevice support for vmtestsnid
1609,fix autodetect for behold  and  tv cardsnncommit  upstreamnnthe entries for those cards are after the generic entriesnso they  work in practice moving them to happen before thengeneric entres fix the issuennnedoffby beholder intl ltd dmitry belimov  mauro carvalho chehab  greg kroahhartman
1610,fix wrong return value when pthreadclone failsnnthe return value of pthreadcreate should reflect the result ofnpthreadclone however currently the return value is set from thenresult of the munmap systemcall meaning that when munmapnsucceeds pthreadcreate will report success which is wrongnnto solve this always return eagain to override the result of munmapnid  oskar andero
1611,cts vmtests now depend on hosttestlibnnbug
1612,pnpacpi cope with invalid device idsnncommit  upstreamnnif primary id hid is invalid try locating first valid id on compatiblenid list before giving upnnthis helps for example to recognize  aux port on sony vaio  uses  as hid without the patch users are forced tonboot with  to make use of their touchpadsnntestedby janhendrik zab  dmitry torokhov  len brown  greg kroahhartman
1613,fix warningnnnedoffby colin cross
1614,spi tegra make sure master mode is enablednnnedoffby gary k
1615,tegra introduce tegranrgpiosnntegra gpio implementation defined archnrgpios to be equal to number ofngpios available on the tegra soc thus preventing usage of gpionextensions introduction of tegranrgpios allows gpiolib tonmanage nontegra gpiosnnnedoffby mike rapoport
1616,fix warningnnnedoffby colin cross
1617,tegra introduce tegranrgpiosnntegra gpio implementation defined archnrgpios to be equal to number ofngpios available on the tegra soc thus preventing usage of gpionextensions introduction of tegranrgpios allows gpiolib tonmanage nontegra gpiosnnnedoffby mike rapoport
1618,arm tegra clock fix checkpatch issues in clockcnid  colin cross
1619,arm tegra dma fix checkpatch issuesnid  colin cross
1620,fix checkpatch issues remove debuggingnid  colin cross
1621,arm tegra irq fix checkpatch issuesnnnedoffby colin cross
1622,arm tegra pinmux fix checkpatch issues in pinmuxnid  colin cross
1623,remove unused projectn
1624,updated classpath to use with eclipse iden
1625,add perresource mutex for omap resource frameworknncurrent omap resource fwk uses a global resmutexnfor resourcerequest and resourcerelease callsnfor all the available resourcesit may cause deadnlock if resourcerequestresourcerelease is callednrecursivelynnfor current   resource the changelevelnimplementation is  using resourcerelease to remove  constraintnthis function may call resourcerelease again to  constrait if target  level is less than  this scenario the global resmutex down operationnwill be called again this will cause the secondndown operation hang therennto fix the problem perresource mutex is addednto avoid hangup when resourcerequestresourcereleasenis called recursivelynid  chunqiu wang  mike chan
1626,revert bluetooth introduce  to allow flushing of acl packetsnnthis reverts commit   nick pelli
1627,bluetooth use nonflushable pb flag by default for acl data on capable chipsetsnnwith bluetooth  acl packets can be flushable or nonflushable this commitnmakes acl data packets nonflushable by default on compatible chipsets andnadds the  socket option to explicitly request flushable aclndata packets for a given  socket this is useful for  data which cannbe safely discarded if it can not be delivered within a short time whilenother acl data should not be discardednnnote that making acl data flushable has no effect unless the automatic flushntimeout for that acl link is changed from its default of  infenid  nick pelli
1628,sound oss cpcap use second mic for video recording and separate codec and stdac mutennsubmitted on behalf of helen tran  eric laur
1629,revert arm omap move updateresourcerequest out of mutex in resourcereleasennthis reverts commit   mike chan
1630,sound oss  fix audio write timeout errornnsubmitted on behalf of helen tran  eric laur
1631,call rfkillsetstate on to avoid inconsistent statennwith the  rfkill api we need to call rfkillsetstate to set thenial state this could result in a bug where bluetooth would not power onnid  nick pelli
1632,incall tuning improvementsnnnedoffby iliyan malchev
1633,net wireless  fix driver stop scan processingnnnedoffby dmitry shmidt
1634,debuggerd show function names in tombstone backtracesnnthis change enables debuggerd to provide backtraces with functionnnames in tombstone files and log messages it does this by readingnthe image file that the address is found in and parsing the dynamicnsymbol table to try to extract the symbol corresponding to the givennaddressnnthis works best when wlexportdynamic is added to the ldflagsnof each library and executable because this will cause all symbolsnto be added to the dynamic symbol table if this flag is not presentnit will still work but it will only be able to identify functionsnwhich are part of the external api of the libraryexecutablenid
1635,arm msm usb diag fix several deadlocksnn diagrelease can get blocked because userlock was being acquired beforen waiteventinterruptible in diagwritediagreadn wake up  and  when usb status changes to help userspacen return from readwrite whenn usb is offlinen echo   sysmodulediagparametersenablednnnedoffby iliyan malchev
1636,arm msm pm msmsleep hooks for clockcnnnedoffby mike chan
1637,sound oss  report number of input buffers dropped by driver via  ioctlnnsubmitted on behalf of masaki sato  eric laur
1638,remove a few classes from the preloaded listn
1639,atom optimized string and memory routinesnid
1640,mmc msmsdcc wrap readlwritel calls with appropriate clk delaysnn as it turns out all sdcc register writes must be delayed by atnleast  core clock cycles for the writes to take effect sighnn also removes the  constant delay on clock enable in favornof a  core clock delaynnnedoffby san mehat
1641,add missing archsh files cleanup experimental codenid
1642,mmc msmsdcc schedule clock disable after probennnedoffby san mehat
1643,added support for dladdrnndladdr is a gnu extension function which allows the caller to retrievensymbol information for a specified memory address it is useful for thingsnlike generating backtrace information at runtimenid
1644,set sarestorer in sigactionnngdb looks for specific opcode sequences when trying to recognize a stacknframe as a signal trampoline the sequences it looks for happen to be thosencreated when sarestorer is set since glibc always sets a restorer thisnpatch does the same here so that the trampolines can be correctly identifiednid
1645,yaffs fix readdir hangnnthis aproach uses a search context iterator to allow yaffs to benunlocked during the filldir the search context stores the nextnobject to visited if changes to the directory ie unlinks causenthe directory to be modified then a callback moves the iteratornto the next object if need be thus preventing the iterator fromnbeing corruptednid  charles man
1646,cherk for roopenglesversion system propertynbug  up to the report header including the open gl es versionnnumber this test makes sure the value is actually set and itndoes some light checking on the major and minor version numbersnid
1647,test for checking opengl es versionnnbug  what version of opengl should be reported and check thatnthe system property matches if the device  support  sure the property is  or returning an undefined valuenwhich implies  if the device supports  set a glsurfaceviewnto  and check that the version string makes sense byndefault the version should be  before setting the glsurfaceviewnto
1648,net wireless  update to version  and setband fixnnnedoffby dmitry shmidt
1649,sdkmanager support for upgrade to schema  changes the way the sdk manager looks for schema upgradesn when trying to load an xml parse the root element and scann for our xlmns if it parses get the version number at the endn and use this directly to try to load using the right scheman in turn this allows us to distinguish between an incorrectlyn formatted xml but using the right schema versus somethingn that is not our xml schema or not an xml at all and then wen can produce better errors for the usern we also then directly know when the schema version is aboven the known value of the tool and can then create the upgraden tools node accordinglynid
1650,better detection of incorrect proxy values when starting the emulatornid
1651,added broadcasts for external power eventsn
1652,use serviceclass while updating call waiting statusnnquery for call waiting returns status for all service classes when wenquery for serviceclassnone android supports call waiting for serviceclassvoicenonly service class in the response of rilrequestquerycallwaiting should benchecked for voice while updating call waiting statusnid
1653,prevent crash when adding sync groupnnwhen adding a sync group the contactspreferencesactivity creates a uri for thencontacts provider the default eclair and froyo implemention does notninclude the group id which is required by the contacts provider this patchnappends the group id to the uri path which is where the contacts providernis looking for itnid
1654,bluetoothlcd wakeup during remote bt pairing requestnthis change fixes the issue of lcd not coming up during remoteniated pairing request when android is in suspendnid  bheemsen kulkarni
1655,platform files for ianid
1656,ndk can now build jni code for ianid
1657,added broadcasts for external power eventsn
1658,everytime bluetooth was turned off two file descriptors were not closednnusing close instead of shutdown on the file descriptors and only clear the filendescriptor that was closed if both file descriptors are cleared the threadnwill not be able to close itn
1659,spi tegra ialize spinlock in probe functionnnnedoffby erik gil
1660,arm tegra fix gpioh to match upstreamnid  colin cross
1661,arm tegra fix stamon in iomapnid  colin cross
1662,arm tegra gpio drop tegragpiotochainedirqnid  colin cross
1663,arm tegra gpio coding style cleanupsnid  mike rapoport
1664,arm tegra clock checkpatch fixesnid  colin cross
1665,add build system design docn
1666,port ndk build tools to ianid
1667,fix window title to display the correct port number for the emulatornid
1668,arm ventana register  touchscreen  regulatornnregister  controllers regulator consumers and the panjitntouchscreen platformdevicenid  gary k
1669,arm tegra introduce tegranrgpiosnntegra gpio implementation defined archnrgpios to be equal to number ofngpios available on the tegra soc thus preventing usage of gpionextensions introduction of tegranrgpios allows gpiolib tonmanage nontegra gpiosnnoriginal author mike rapoport  mike rapoport  gary k
1670,added touchscreen report verificationnid
1671,misc  switch early suspend hooks to pmnotifier callbacknnsuspend in pmsuspendprepare call chain which is called beforenthreads freeze it is important to suspend the driver before usersapcenfreezes to allow any pending events to be drained from the event queuenotherwise the system will be unable to suspend due to wakelocknid  mike chan
1672,chips  use pmnotifier callback instead of suspendresumennmust suspend driver before userspace freezes otherwise an interruptncould occur after userspace freezes preventing the device from sleepingndue to event queue wakelock waiting to be drained by userspacenid  mike chan
1673,arm   call cpufreq notifiers when setting opp point from panicnnwithout this patch on the call path from a panic cpufreqnotifytransitionnis called with irqs disabled this causes the kernel to bug and panicnagainnid  rebecca schultz zavin
1674,ftb fix the buildn
1675,misc  switch early suspend hooks to pmnotifier callbacknnsuspend in pmsuspendprepare call chain which is called beforenthreads freeze it is important to suspend the driver before usersapcenfreezes to allow any pending events to be drained from the event queuenotherwise the system will be unable to suspend due to wakelocknid  mike chan
1676,sholesdefconfig enable uidstatnid  mike chan
1677,arm msm usb diag fix a memory leak in txreqidlennnedoffby iliyan malchev
1678,arm  mahimahi fix modify the remotekey adc table and handling codennon some headsetsearphones remote keys cannot be detected correctly onnmahimahi cdma and remotekeyadctable needs to be adjusted slightly to fitnfor both versions of mahimahinnnedoffby iliyan malchev
1679,arm omap move updateresourcerequest out of mutex in resourcereleasennunder some conditions a call to updateresourcerequest can call back intonresourcerelease if it is called with the mutex held from resourcereleasenthis leads to a deadlocknid  rebecca schultz zavin
1680,cleanup remove unneeded option cleanup some tars requires filelistn
1681,arm fiq debugger allow selection of target cpunid  colin cross
1682,adding pixel perfect view loupe and treenid
1683,recognize ppc in $uname as ppcnnthis is required for powerpc architecture to be correctlyndetected on linuxnid
1684,clean up the previous fix to apkbuilder with regard to the keystorenid
1685,add host makefile for linuxppcnid
1686,make runtest path smarter when choosing path to buildnnthe command  path  to parent  intended to find and build all tests contained within that parent foldernnhowever the runtest logic was flawed in that it assumed building a  androidmk file would build all subdirectoriesnnthis commit changes runtest to explictly look for the rule to buildnsubdir makefiles when creating the set of dirs to buildnid
1687,add atree file for linuxppcnid
1688,fix a bug where we cleaned an apps external data when upgrading it nid
1689,arm tegra provide the correct max rates for pclk and sclknid  dima zavin
1690,fix a bug that prevented the creation of egl shared contextsnid
1691,arm tegra parent sclk on  so it can run  sclk no longer needs   explicitly enable itnid  dima zavin
1692,net wireless  update to  combo scannnnedoffby dmitry shmidt
1693,bridge monkeyrunnerexported tags into pydocnnthis allows the use of pydoc to generate monkeyrunnernapi documentationnid
1694,fix inaccurate copyrightsnid
1695,arm fiq glue use percpu fiq stacknid  colin cross
1696,arm tegra enable clk reset for nonperipheral clocksnnadd a new  clk op this can be provided for any clocknnot just peripheralsnid  dima zavin
1697,arm tegra add a virtual cop clock for avp reset assertionnid  dima zavin
1698,add patent disclaimerntnew file  file  file  file  file  fil
1699,this proposed change is intended for spanishlocale users so theyncan write more efficiently usual symbols opening exclamation andnquestion marks and letter ñ which is considerd a letter bynitself and not an n variant all with the same depth and keyboardnlayout as they would find in their daily pc usennconsiderationsn created mostly as an extension n variants still work as beforen substituted two symbols on the popup seldom used in  and  still accessible on  layoutn does not affect other localesn change tested on emulator with multilanguage configurationnid
1700,add prebuilt kernel built from kernelmsmgit
1701,androidmk copy the default apn list into systemetcn
1702,fix usb endianness bugs on linuxnnthe fields  and  should not benconverted from little endian to native byteorder because thenkernel has in fact done so alreadynnon the other hand the descriptors read using raw ioctls innregisterdevice do need to be convertednid
1703,adb improved detection of big endian architecturenninstead of testing for the compiler specific definenppc explicitly use the define havebigendian provided bynandroidconfigh that way it should work on all big endiannsystemsnid
1704,added androidgui command line option to qemuandroidnid
1705,bluedroid fix bluetooth rfkill id issuesnnthe patch tries to fix two issues observed in some systemsnn the rfkill id is not continuously distributedn the bluetooth rfkill id is variable at runtimenid
1706,toolchain for linuxppcnid
1707,rc use relative path for symlinknnusually  better to use relative path for symlink for examplento use android in a chroot environment the absolute symlink willnfail outside the chroot environment using relative path guaranteesnthe link will work both inside and outside chrootnid
1708,fix wordlength bug in restableparsepackagennthe package header field size is  bits not  thereforenthe function dtohl not dtohs needs to be used to convertnit to host byteordernid
1709,add a missing dtohl in restableidentifierfornamennthe typespecflags array in type objects contain device endianndata so it needs to be converted to host endianness before usenid
1710,regulator  fix millivolt return values and  tablennlistvoltage and getvoltage are expected to return values innmicrovolts not millivoltsnnalso the  regulator runs at a higher voltage  thannthe other regulators add a new table for this regulatornid  gary k
1711,add config header file for linuxppcnid
1712,regulator add driver for  family of pmicsnnoriginal author mike rapoport  mike rapoport  gary k
1713,add atomic implementation for powerpc not macos xnnstraightforward port of the arm implementation to be used on linuxppcnid  marcus comstedt
1714,mfd add  drivernnadd mfd core driver for  pmics familynthe driver provides io access for the subdevice drivers and performsnregstration of the subdevices based on the platform requirementsnin addition it implements gpiolib interface for the chip gpiosnntodont add interrupt supportnt add platform data for pwm backlight leds and chargernnoriginal author mike rapoport  mike rapoport  gary k
1715,change values of actionpower constants to better match established practicenntrim code to  lines to match style guiden
1716,add define of gnusource to configcompatlinuxhnndefining gnusource is required for pread to workncorrectly on linuxnid
1717,fix access of freed memory in resstringpoolunnnif the string pool has owned data that data must not benfreed until after the loop which clears out the cache otherwisenthe access of  will hit freed memorynid
1718,fix endian bug in length encodingnnfor  string pools encodelength will encode thenlength as a series of  however it does notnperform endian swapping so if the byte order of the hostnand device differs this has to be fixed up afterwardsnid
1719,fixed rudimentary suspendresumennthis patch replaces the failing asynchronous io code in the  with a working synchronous implementation and fixes anothernminor bug in iteration over qfield structs as a result the vm cannnow be suspended and resumed with the savevm and loadvm commandsnalbeit with the following major caveatsnn  the adbd and other network services do not resume correctlyn  normal sd card usage is blocked since snapshots are written to an  image that must for now be mounted on hdan  resume only works after the emulator is fully booted it is notn yet possible to load an image immediately after the machinen startednnthe synchronous io code is ported from commit  in mainlinenqemu which addresses a similar issue further upstream mainline alsonintroduces a fix for the async io but that patch is quite involvednand for now this relatively simple fix worksnid
1720,usb gadget fmtp remove extra call to fput in file transfer supportnnnedoffby mike lockwood
1721,use  when using certificatesnnwhen using certificates the server racoon checks whether the subjectaltnamenmatches the given identifier using the address as identifier is thereforenimpossible for roadwarriors using the  dn looks like a reasonablenalternativenid
1722,arm add fiqgluenid  arve hjønnevåg  colin cross
1723,coverity  fix use of unialized varnnnedoffby nick kralevich
1724,bionic aliasing problems with frexpfnnthis patch fixes a known bug in bionic libmndue to aliasing issues in gcc  and  morenspecifically in frexpfnnthe function frexpf is used to extract thenmantissa and exponent from a double precision numbernnthe bug has already been reported   rodrigo obregon
1725,explicitly declare assembly only assembly macro for assembly sourcennto isolate the assemblyonly macros in header files such  this patch attempts to declare assemblynonly assembly macro in build systemnid
1726,when entering airplane mode airplane mode is shown in status barnnwhen flightmode is activated airplane mode is on is shown in thenexpanded status barnnoperators request this featurenid
1727,usb gmassstorage always allow disabling mass storage by writing to lun filennfor android builds we disable the check for  we let the framework manage unmounting policy as we sometimes neednto unmount after the media has been removednthis also helps support hosts that do not inform the device when the medianhas been unmountednnnedoffby mike lockwood
1728,avoid empty network namennwith this fix we will avoid to have an empty network namenin the expanded status bar this occurs when the sim doesnnot work or does not have any connection availablenid
1729,buttons do not go off while modifying brightness in settingsnnwhen user changes backlight brighness in settingsnpowermanagerservice will modify the brightness of display keyboardnand buttons that is they will be enabled however the state innpowermanagerservice will not get updated causing the keyboard andnbutton not to be turned off after delaynnalso add buttonbrightbit to dumpnid
1730,sdkmanager  use deprecated methodsnnif  going to deprecate the parsepropertyfilefile we mightnas well stop using it ourselvesnnalso removes the obsolete parsepropertyfilefile methodnid
1731,added support for wap messages of type applicationvndwapemnwbxmlnnthis allows for email notification messages to be acceptednnthe email project has also been changed to accept and processnthe emn messagennsee   telephonyjavacomandroidinternaltelephonywappushoversmsjavantmodified telephonyjavacomandroidinternaltelephonywsptypedecoderjavanntmodified telephonyjavacomandroidinternaltelephonywappushoversmsjavantmodified telephonyjavacomandroidinternaltelephonywsptypedecoderjavan
1732,prevent system crash when oom in binder threadnnwhen handling large images during an update of a widgetnwe can run out of memory in the binder thread this willncause an outofmemoryerror to be thrown when an error isnthrown in the binder thread the entire system will crashnthis was fixed by catching this outofmemoryerror and insteadnthrow a runtimeexception to keep the system alivenid
1733,remove files not needed to run on the devicen
1734,implement scandir for oprofilen
1735,fix broken generation of default keystore do not mergennthe location of the debug keystore was validated to make surenit was not a directory or an unreadable file but it also threwnan exception if the file  exist preventing the creationnfrom happeningnnthis is integrated from masternid
1736,fix broken generation of default keystorennthe location of the debug keystore was validated to make surenit was not a directory or an unreadable file but it also threwnan exception if the file  exist preventing the creationnfrom happeningnid
1737,added gps and networking location correctly reporting on devices testnremoved ctswallpapertestcases from test case listnid
1738,remove profile annotations experimentnnbug
1739,reconcile assemblyonly macros in  change explicitly isolates the assemblyonly macros in  in order to prevent misinclusion in ccnsource filesnid
1740,sched normalize  vruntime during group changennif you switch the cgroup of a sleeping thread its vruntime doesnnot get adjusted correctly for the difference between thenminvruntime values of the two groupsnnthis patch adds a new callback prepmovetask to struct schedclassnto give schedfair the opportunity to adjust the  vruntimenjust before setting its new group this allows us to properly normalizena sleeping  vruntime when moving it between different cgroupsnnmore details about the problemn  arve hjønnevåg  dima zavin
1741,arm tegra driver for spdif audionn creates devspdifout and devspdifoutctl for playback and controln settingsn playback onlynid  iliyan malchev
1742,revert add drm framework to support drm content playbacknnthis reverts commit
1743,drm framework supportn add a sniffer for drm filesn add drmsource and drmextractor for esbased drmn add pread in filesourcecpp for containerbased drmn add native drm framework api calls in the player forn drm audiovideo playbacknid
1744,arm tegra dma switch to nonthreaded interruptsnnnedoffby iliyan malchev
1745,make ddmlbtests optionalnid
1746,sdkmanager new schema with  packagennthis adds the new schema  the internal defions andnconstants however the schema  is not enabled as default andnthe whole thing is not used by the downloaderinstaller yetnnnote some files in this folder are using windows rn endoflinesni will convert them to unix n eols in another cl not this onenid
1747,include open gl es version in report headernnbug  an entry in the report header for the open gl es version byncalling packagemanagergetsystemavailablefeatures and relying uponnits quirky behavior of adding an empty feature with the open glnversion numbernid
1748,arm tegra header describing  registersnnnedoffby iliyan malchev
1749,comment request for modificaiton  api testcamerafeatures in systemfeaturestestjavan
1750,arm tegra add platform devices for  and  iliyan malchev
1751,comment request for modification cts apitestcamerafeatures in systemfeaturestestjava filen
1752,arm tegra add support for  and  are two clocks output by  they belong to  and  pin groups respectively the clocks can be sourced directlynfrom the oscillator at  which is the configuration being used or bynone of several different plls as determined by the config setting for thenrespective pin groupnnthis patch adds support for  called  after the pin groupnnnedoffby iliyan malchev
1753,arm tegra add spdif device and resourcesnnnedoffby iliyan malchev
1754,arm tegra make tegraclkfromtable happynn provide maxrate on clocks audio and  correctly set the clock rate for audiosync clocksn add a token  to make clksetrate happynnnedoffby iliyan malchev
1755,sched use the old minvruntime when normalizing on dequeuennafter pulling the thread off the runqueue during a cgroup changenthe cfsrqminvruntime gets recalculated the dequeued  vruntimenthen gets normalized to this new value this can then lead to the threadngetting an unfair boost in the new group if the vruntime of the nextntask in the old runqueue was way further aheadnncc arve hjønnevåg  dima zavin
1756,fix problem that the month  shown when set date at januarynnif a calendarview instance is created and it is set by the setdatenat january then the field mcurrentmonthdisplayed is ialized asnzero and also newmonthdisplayed is zeronso the month view mmonthname is not invalidatednit causes the failure of cts holotestnid
1757,add coverage filtersnn add exclusion filters prevent from includingn generated r and buildconfig class in coverage reportnn add emmafilter property for filtering inclusion and exclusionn instrumentationnid
1758,arm tegra generic driver for  audio ial implementationnn  settings are passed through the board filen supports playback no recording yetn works in dma and pio nondma modes toggle through debugfsn does not perform volume and audiopath controln exports  out where  is the  interfacen assumes that  is used such that  is tx and  is rxnnnedoffby iliyan malchev
1759,arm tegra generic driver for  audio ial implementationnn  settings are passed through the board filen supports playback no recording yetn works in dma and pio nondma modes toggle through debugfsn does not perform volume and audiopath controln exports  out where  is the  interfacen assumes that  is used such that  is tx and  is rxnnnedoffby iliyan malchev
1760,add drawing styles to the layout helper apinnpull color constants out of the specific layout helper classes groovynscripts and the canvas editor and use a generic style enum instead innthe interface and associate the visual attributes color line stylenthickness alpha with a swtspecific enum on the editor side ttherenis a single newtapi method which takes an enum parameter whichtshouldnlet us add drawing styles over time bythaving the color defionsnon the tool side rathertin the specifictlayout helpers  nottonlyneasier to change the colors buttalso easier to ensure that thendifferent helper all stay consistent as we change color schemesnnin the immediate term next integration  change some of thencolors after that we should make the colors adapt to the chosenntheme and eventually these should be provided via the sdk from thenthemes themselvesnnthis changeset  actually change the colors used for the variousntypes of visual feedback selection hover dropzone etc  that next for that reason i also  replace all thenvarious clientside color usage in the relativelayoutnid
1761,change systembuilder tag to optionalnnorigchangeid  bruce bear
1762,add missing localmoduletags defnsnnorigchangeid  bruce bear
1763,qemu emulator is the default build targetnnorigchangeid  bruce beare  jun nakajima
1764,sdk add pcbios files for ia qemu emulatornnorigchangeid  bruce bear
1765,the mbionic flag is needed for ia buildsnnorigchangeid  bruce bear
1766,disable stackprotector until bionic is fixednnorigchangeid  bruce bear
1767,clean up of  build flagsnnreview and cleanup of both compiler and linker flagsnto ensure proper usage and consistency for images toolchainnsdk and ndknnorigchangeid  mark d horn  bruce bear
1768,enable fstackprotectornnorigchangeid  bruce bear
1769,temporarily build for  non atom until dalvik for gb is fixednid  bruce bear
1770,bluez use another code for  mmxnnorigchangeid  jaehyung ahn  bruce bear
1771,change some occurrances of inline into static inlinennthis eases compilation as c to avoid undefined or multiply defined symbolsn
1772,merge from donutn
1773,soundrecorder setting optionsn
1774,add new keycodes for the convenience of japanese imesnid
1775,add optionsn
1776,linker correctly report the name of the missing symbolnnit should index into strtab because symname is not set at this pointn
1777,support to download and play from a sdp filen
1778,do not find subdir makefiles when there is a one shot makefilennthis makes mm much faster by skipping findleavesshn
1779,add ifdef cplusplus around a class to make the header usable in c environmentsn
1780,add missing intent filters for camera appnnfor some reason all this functionality is disabled on eclairmasternthis patch restores the camcorder and gallery launchers and othernrequired intentfilters for the applicationn
1781,net  fix a spinlock recursion bug in   hold the lock while calling to tcpdone so we dropnit before calling we then have to start at the top of the chain againnnnedoffby dima zavin
1782,arm msm pm call clk enterexit hooks in archidlenncall enterexit hooks in archidle instead of msmsleep whenngoing into idle this allows us to use ktimeget when entering idlenalso guard against calling enterexit twice on the idle pathninside of msmsleepnid  mike chan
1783,change a c style cast into a c style castn
1784,add declaration for syssigname forgotten in chang
1785,make a global const array static to fix compilation as cn
1786,syssigname was added to libc remove conflicting defionnnnedoffby thorsten glas
1787,net  fix a spinlock recursion bug in   hold the lock while calling to tcpdone so we dropnit before calling we then have to start at the top of the chain againnnnedoffby dima zavin
1788,make local const arrays staticn
1789,bundle ninepatchjar inside ninepatchtestsjarnid
1790,fix compile warnings and errorsnnorigchangeid  bruce bear
1791,georgian locale ka added now to the icunid
1792,arm msm clock use hlist instead of listnid  arve hjønnevåg
1793,revert arm msm defconfig switch to cfq io schedulernnthis reverts commit  san mehat
1794,fix low storage issue on larger disksn
1795,revert arm msm defconfig switch to slob allocatornnthis reverts commit  san mehat
1796,add defines for caif supportnnorigchangeid  mark gross  bruce bear
1797,use dateutilsgetdayofweekstring rather thenndateformatsymbols to avoid numbers for locales not supportednby dateformatsymbolsnid
1798,ndkbuild fix a bug when building debuggable projects in parallelnnse
1799,set arm flags for non arm buildsnnorigchangeid  bruce bear
1800,update xml schemas used for sdk repository do not mergennnote these are not used by the  java code the sdkrepositorynmax schema is still  herenthis is only useful to help with build scripts which expect these filesnid
1801,fix used before ialized errornnorigchangeid  bruce bear
1802,fixed bug in  fast interpreter adds guard for potential null pointernadds guard for potential null pointer when checking for debugger active on return from methodnid
1803,fix missing nlnnorigchangeid  bruce bear
1804,add missing property expected by xml repositorynnthis adds a property required to conform to the latestnxml repository schema version  used by the build systemnit is ignored by older buildsnid
1805,the sdk toolchain  include readline or history disable the featurennorigchangeid  bruce bear
1806,fix xmlns detection in sdk repo xsd filesnid
1807,use stale ndk libraries for iannia builds will break due to the bionic dsohandle bug if stale libraries arenused for now just guard the defns against ia buildsnorigchangeid  bruce bear
1808,egl clear the anativewindow reference in egldestroysurfacen
1809,use android to prepare for upcoming armlinuxandroideabi toolchainnnthis patch does not affect current armeabi toolchain behavior at allnit only makes armlinuxandroideabi toolchain to do the same as armeabi doesnnthe current armeabi toolchain does not define unix nor unix sonsome statements wrapped by if defined unix defined unixnendif  be included however the new armlinuxandroideabintargets a linux android platform where unix and unix arendefined which results in the incorrectly inclusion of calls ofnisnanorinf isinf isnegnan ecvtr fcvtr etc we need to addnandroid to prevent these calls from being includednnas a background armlinuxandroideabi will be supported by upstream gccntrunk soon android is defined by armlinuxandroideabi toolchainnnorigchangeid
1810,handle aapt ranges in value resource filesnnthe earlier fix to add editor column ranges for aapt errors handlednthe types of errors that occur in layout xml files in valuendefion files there are several additional error messages that cannbe parsed to infer the actual error range on the line this changesetnadds handling for these additional cases plus various unit testsnnit also fixes a couple of corner cases in layout files innparticular the case where a resource value is missing and the casenwhere there are other valid uses of the same value earlier on thensame line where the first reference would be highlighted rather thannthe one following the property in errornid
1811,use the standard ndksdk versions so that we pick up the correct crt filesnid  bruce bear
1812,allow an external file path to be sent to pvplayer sdkn
1813,sync up line disciplines with armnnorigchangeid
1814,change required for opencore  updaten
1815,compressed retouch files also use time to decide on offset for randomizationn
1816,opencore  update refer to changelog for detailsn
1817,working version using entropy from devrandom as well as time shift libraries down negative offset shifting up collides with linker at
1818,changes in preparation for executing retouch during updatesn
1819,working implementation of retouch during the update processnnthis is the first working implementation of retouch integrated into the update install process the retouch offset added is fixed at  not random retouch data is stored alongside libraries in systemlibretouchn
1820,clean up patch sync with code on kernelorgnnbackporting of fixes from kernelorgnn  silicon errata  tcommit  fix  status ackntcommit  in case of a nackardyal return from the isrntcommit  ack pending rxdr and rxrdy interruptsntcommit  enable workaround for errata  based on  ipntcommit  moiz sonasath  vikram pandita
1821,changes in preparation for executing retouch on the device targetnnseparate retouchprepare logic from retouchapply retouchapply will be folded into updater binaryn
1822,added new menu to camera appnnnedoffby anu sundararajan
1823,add aac encode typen
1824,first pass at aslr for androidnnretouch is executed as part of the make process need to move this to update packagesnoffset needs to be randomized for realnsupport for incremental relocations of so files is also likely neededn
1825,fixed issue  contentprovider query sdk docs deprecatedn
1826,removed a couple of unused files from the repositorynnprelinkinfoc is not used rerouch has a local version of the logic that is needed the c file is just a backupn
1827,ia enable sse fpmath separate archvariant and arch makefile settingsnnorigchangeid  bruce bear
1828,gb updates for rc and boot command linennorigchangeid  bruce bear
1829,use  file system for  userdata partitionnnorigchangeid  bruce bear
1830,builds  needuse the sparse  formatnnorigchangeid  bruce bear
1831,move buildspec vars to boardconfigmknnorigchangeid  bruce bear
1832,define android for  to be on par with arm build requirementsnnorigchangeid  bruce bear
1833,add  to the lunch menunnorigchangeid  bruce bear
1834,display the targetarchvariantnnnedoffby bruce bear
1835,fix targetprebuilttag so that getbuildvar can retrieve the correct value across architecturesnnorigchangeid  bruce bear
1836,enables  as a valid targetarchvariant for the simulator buildnnorigchangeid
1837,firmware add cpcap firmware to kernelnid  rebecca schultz zavin
1838,updated endianh to work on freebsdnnadded new macro defion havesysendianhnwhich includes system endianh without errorsn
1839,updated defion of notenoughdatannenodata is not defined on freebsd thus usage of itnproduces compile time error to avoid this problemnnotenoughdata is defined in the same way as for  nto const
1840,added two missing latin extendedb glyphsnni have copied the  an  latin extendeda glyphs which are only used in old windows systems but are notnrequired by any language to their proper places  and  in the latin extendedb blocknid
1841,eainodata fix on freebsdnneainodata is obsolete on freebsd in favor of eainonamen
1842,add defion of hostbsd on freebsdn
1843,issue  lock screen silent mode selection does not enable vibrationnnthis patch set fixes the issue that the silent mode selection onnthe lock screen does not consider the vibration settings this patchnallows setting the phone on vibrate mode if the vibration settingsnis enabled and the user sets the phone on silent on the lock screennthe same behavior is also fixed on the power off dialog silent modenoptionnid  david sobreira marqu
1844,allows building of sdl from distrib folder on  added include path on  added freebsd related buildcflags optionn
1845,general changes to be able to build on  linking with  added  choosing ossn
1846,removed ldl when linking on freebsdn
1847,rtc cpcap set irq state using rtcwkalrmenablednid  patrick aucht
1848,updated utils makefile to use  on  is used in libsutilscallstackcpp howevernit  exist in
1849,new confighosth for freebsd on eclair branchn
1850,issue  lock screen silent mode selection does not enable vibrationnnthis patch set fixes the issue that the silent mode selection onnthe lock screen does not consider the vibration settings this patchnallows setting the phone on vibrate mode if the vibration settingsnis enabled and the user sets the phone on silent on the lock screennid  david sobreira marqu
1851,added netinetinh for defion of ipprotoicmp on freebsdn
1852,build targetnnorigchangeid  bruce bear
1853,use gcc   hj lu  bruce bear
1854,add  productnnby inheriting from full this will be more selfmaintaining andnautomatically gets a betterconfigured variant eg it has localesna date format etcnnorigchangeid
1855,mfd cpcap load cpcap firmware at boot and move battery monitoring into cpcapnnthis patch shifts battery monitoring from a daemon in userspace into the cpcapndriver to enable this the cpcap firmware is now loaded at boot time bynthe kernel instead of via a second userspace daemonnid  rebecca schultz zavin
1856,auto import from
1857,arm add firmware loader support to sholesdefconfignid  rebecca schultz zavin
1858,updated makefiles to perform linkage with pthread lib on freebsdnnaapt and localize makefiles were updated to perform linkagenwith pthreads library on freebsdn
1859,gpstest add gps test applicationnndisplays sv status and location informationnmaps support is disabled due to lack of general availability of google mapsnnnedoffby mike lockwood
1860,add dnsproxyd to keep in sync with base rcnnorigchangeid  bruce bear
1861,truly default to the full confignnit is much better than generic for emulatorbased worknnorigchangeid
1862,make a full list of locales availablennuse it for the sim build and full buildnnorigchangeid
1863,switch unbundled apps from genericmk to fullmknnorigchangeid
1864,clean up full config do not mergennthis splits the existing fullmk in two partsnnone is the deviceindependent fullbasemknthe other is the emulatorspecific devicemknnthis way  be able to inherit from fullbasemknfor ondevice builds without any emulatorspecificnfiles getting in the waynnorigchangeid
1865,minor cleanup do not mergennorigchangeid
1866,add in the virtualbox emulator as a separate build targetnnorigchangeid  bruce bear
1867,net add ppp on  access concentrator pppolac drivernnnedoffby chiachi yeh
1868,arm  add wifi control abstraction functionsnnnedoffby dmitry shmidt
1869,use libsensors built from sourcen
1870,revert vm temporarily disable the optimization where getscanratio skips anonnnthis reverts commit
1871,msm swordfish add the wakeup irq for msmserialdebugnnthe uartrx irq on swordfish happens on gpio  definenwakeupirq to be gpio   larry bassel
1872,capture branch state as of
1873,arm  swordfish use  fb output format for swordfishnid  larry bassel
1874,pass attachment mimetype from email app to viewer appn
1875,arm  sholes modify cpcap tables to support battery monitoringnid  rebecca schultz zavin
1876,display the daily appointements via staticlayout instead of manual formattingnid
1877,arm msm kgsl fix compile error when mmu is not enablednnkgslyamatosetstate should be static inlinenid  abhijeet dharmapurikar  bryan huntsman
1878,truncate and ellipsize at the right placen
1879,arm msm swordfish add base board support for   abhijeet dharmapurikar  bryan huntsman
1880,remove bashism from findjdktoolsjarshn
1881,msm sapphire add sharp panel noveteck  driver ic settingnnnedoffby san mehat
1882,apanic make apaniclabel depend on apanicnnnedoffby iliyan malchev
1883,add hardwarehtcdream for libsensorsn
1884,dream enable gps supportnnnedoffby mike lockwood
1885,arm msm rmnet add stat tracking for number of radio wakeups occurnnthere are two paramaters that appear for all rmnet  for   ronntimeout is configured by userspace for the proper network timeout valuesnwakeups is the number of radio wakeups that occurednnby default timeout is zero which means the stats are disablednnmsmrmnetdebug must be setnnnedoffby mike chan
1886,msm sapphire add sharp panel noveteck  driver ic settingnnnedoffby san mehat
1887,support l specifier as an equivalent to ll for integer conversionsnnwithout this extension some linux libraries are broken eg alsalib seensafestrtoll in externalalsalibsrcconfc note that resulting bugs may gonunnoticed when flag fstackprotector is usedn
1888,arm msm add machtype for   michael bohan  bryan huntsman
1889,made roaming checks more efficient and fixed a bug that could occur whennthe sim card does not report an alphanumeric identifier backnid
1890,arm msm pm synchronize to the gptimer instead of rtc on resumennnedoffby mike chan
1891,introduce new names for the download manager api fieldsnnthe new names will allow for better consistency and better apindocumentation ifwhen  made public in the sdknnthis will be followed by a later change that removes the old namesn
1892,msm move cpufreq code from acpuclkc to cpufreqcnnthe acpuclkc has function calls used to notify the cpufreq frameworknwhen the acpuclk frequency is changed these notifications are cpufreqnspecific and independent of acpu clknnackedby saravana kannan
1893,msm acpuclock enable plls of stepping freqs when necessarynnackedby steve muckl
1894,vold scan only devices on same media when searching for partitionsnncurrently vold checks whether a partition has the same major asnthe disk when matching partitions to block devices this is notnonly inefficient but it also  work for drivers like mmcnwhich use the same major for all device instances instead justnsearch devices which have been associated with the same media asnthe disk to determine whether vold knows about all partitions onna disknid
1895,removed ldl when linked on freebsdnnfreebsd have no libdl all related functions are in libcn
1896,fixed a bug which makes impossible to get resource table from a directory asset pathnnsecond declaration of asset ass overlaps the first one so ass variable is nulled after exiting else blocknid
1897,remove some oboslete codenntraversenextitem was renamed itemafter and it can nowndeal with a null previous noden
1898,gdbserver gdbreply build for ianid
1899,arm msm acpuclock fix conditional compile symbol in acpuclockhn
1900,net wireless  version  update softap supportnnnedoffby dmitry shmidt
1901,msm clock reorg code to allow different supported clock list per socnnackedby david brown
1902,gcc  compiler build for ia android targetnid
1903,arm msm  request irqs before registering the adapter in probennregistering the adapter may kick off probing client devices whichnmay require  transactions if we do not request the irq prior tondoing that all  transactions will fail since completion irqsnnever arrivenid  dima zavin
1904,net wireless  turn on softap supportnnnedoffby dmitry shmidt
1905,msm acpuclock couple minimum axi freq to the current cpu freqnnackedby steve muckl
1906,arm msm msmserialhs improve rx flush procedure during clock off sequencennclock off is requested by msmhsrequestclockoff the new procedure  immediately deassert rts to prevent new rx  wait for the tx pipeline to flush txlev  issue a forcestaleevent command and flush on  after this flush completes disable dlink and flush one more timen discarding  finally clock off the uartnnthe key changes are to disable dlink which fixes the datamover lockup andnthe issuing of the forcestaleevent command which prevents rx data lossnduring clock off sequencennnedoffby nick pelli
1907,arm msm make  master and client char devices used to be miscnnnedoffby iliyan malchev
1908,arm msm acpuclock remove vdd check during nnthe vdd register reflects the status of the pmic only after thenapplication processor has written to it this is not the case after anreset or power collapse since it is the modem processor that sets upnthe pmic hence the vdd register is no longer used to verify thencurrent vdd level during boot upnnackedby steve muckl
1909,usb gadget fmassstorage flush writes after every  mbnnthis avoids excessive caching at the block level layer when copying largenfiles to the storage devicennnedoffby mike lockwood
1910,perform zipalignoninstall of applicationsnnthis change has a few  build zipalign for the   start the appdirobservers until after scandirli  execute zipalign from installd before performing a dexoptnid
1911,msm make clkctl speed struct internalnnthe clkctlacpuspeed structure is not used outside the acpuclocknimplementationn
1912,arm msm prevent clocksource read from jumping back after power collapsennif the clock events device is shut down or we are idle  read fromnthe hardware but return a cached value it would be better to triggernthis from the clocksource api but there is no hook to enable or disablena clocksourcennnedoffby arve hjønnevåg
1913,dream fix hardware openglnnnedoffby mike lockwood
1914,arm msm  call ktimeget from schedclocknnwith some kernel debug options schedclock gets called with xtimelocknlocked for write resulting in a deadlocknnnedoffby arve hjønnevåg
1915,dream enable bluetooth supportnnnedoffby mike lockwood
1916,allows sdkcleansh work on freebsdn
1917,adds workaround for bashbased scripts on freebsdn
1918,updated to copy prebuilt swtjar on
1919,arm msm camera fix greenish snapshot in low light wo flashnn streamon snapshot after writing gainlinen correct wrong reg  to  set  to  to prevent first corrupted framen parameter holdrelease is removed from snapshot sessionnnnedoffby iliyan malchev
1920,added combo for
1921,fix phone crash in bt mt call disconnect enable mutehold in gsmnnwhen phone is in global mode and acquires cdma signal first it will start annota call ota variables get iazed which are only valid in cdma on switchingnto gsmumts these variables are not cleared mutehold options in incallmenu arenenableddisabled based on these variables and hence mutehold options arendisabled for normal gsm calls similarly while disconnecting the mt call in btnthe ota vars are checked and some processing is done which leads to phone crashnnto fix these issues phone type is checked for cdma before using ota data otanvariables are cleaned up and call screen is cleaned up when there is anradio technology changenid
1922,add hostos defion on freebsdn
1923,arm msm oprofile supportnnpreserve additional performance monitoring states during power collapsenspecify the correct irq  for oprofile to use on the  architecturennnedoffby arve hjønnevåg
1924,arm msm camera fix greenish snapshot in low light wo flashnn streamon snapshot after writing gainlinen correct wrong reg  to  set  to  to prevent first corrupted framen parameter holdrelease is removed from snapshot sessionnnnedoffby iliyan malchev
1925,envsetupsh improvements on  several cosmetic  added cc extension to  made host dependent and independent parts of envsetupsh more  changed to use gmake on freebsd instead of maken
1926,revert omap fix race condition in omap dma drivernnthis reverts commit  paul eastham
1927,remove openssl engine use from racoonnnthe android instructions in the openssl directory indicates to removenengines so we should not attempt to ialize enginesn
1928,arm tegra use correct api for accessing gpio irq datannnedoffby gary k
1929,added java version selection for freebsdn
1930,workarounds for  choose usrlocalbinbash instead of  allows to select exact java version by explicit versionn parameter commonjavacversionn
1931,binder use seqfile for debug interfacenid  arve hjønnevåg
1932,make expr more posixynid
1933,arm msm enable oprofilen
1934,binder move debugging information from procfs to debugfsnid  arve hjønnevåg
1935,revert revert remove unused engines from openssl crypto subdirnnthis reverts commit  is dependent on change  applied to the externalipsectools directory to remove dependencynon openssl engine codenid
1936,arm msm timer  call ktimeget from msmtimersyncsmemclocknnnedoffby arve hjønnevåg
1937,java related workarounds on freebsdn
1938,arm msm make clkctl speed struct internalnnthe clkctlacpuspeed structure is not used outside the acpuclocknimplementationn
1939,arm msm acpuclock couple minimum axi freq to the current cpu freqnnthis patch comes from qualcomm with some minor changes by mikeandroidcomnnnedoffby mike chan
1940,docs android add android config documentation to boot frameworknnnedoffby mike chan
1941,arm msm move cpufreq code from acpuclkc to cpufreqcnnthe acpuclkc has function calls used to notify the cpufreq frameworknwhen the acpuclk frequency is changed these notifications are cpufreqnspecific and independent of acpu clknnnedoffby mike chan
1942,arm msm acpuclock enable plls of stepping freqs when necessarynnnedoffby mike chan
1943,drivers video  sholes fix compilation warningnnnedoffby dmitry shmidt
1944,arm msm mahimahi add platform data for rndis ethernet usb functionnnnedoffby mike lockwood
1945,fix for deadlock between statusbarservice and notificationmanagerservicenna serverthread holding a lock on mqueue in statusbarservice invoked ancallback in notificationmanagerservice which required a lock onnmnotificationlist at the same time a binderthread holding a lock onnmnotificationlist was attempting to post a message to statusbarservicenwhich requires lock on mqueue the fix is to release the lock on mqueuenin handlemessage before running the actions at the end of the methodn
1946,usb serial motoflashqsc correct register address for uhhsysconfig registernnas is the code was trying to write to the offset instead of the physicalnaddress of the register this prevented flashing from completing andnsometimes led to a kernel panicnid  rebecca schultz zavin
1947,arm msm htc add platform data for rndis vendor id and mac addressnnthis fixes a kernel panic in rndisc when receiving thenoidgenvendordescription commandnnnedoffby mike lockwood
1948,fix dream build handle librpcsonnthis extracts librpcso from a live phone and uses it when buildingnfresh imagesn
1949,usb gadget frndis add platform data for rndis vendor id and mac addressnnthis fixes a kernel panic in rndisc when receiving thenoidgenvendordescription commandnnnedoffby mike lockwood
1950,arm msm clock reorg code to allow different supported clock list per socnnackedby david brown
1951,rename functions which ought to be named lockednnseveral functions operate on variables to which access needs to bensynchronized however it happens that the functions in questionnare only ever called from places which have already synchronizedntherefore nothing is really wrong but the functions ought tonhave  appended to their names to indicate that it is  responsibility to synchronize before calling themnid
1952,move the  class into the eas code the only usernni notice that you already have for example an end constant but withna different value bugnnbug
1953,add button to set cdma subscription sourcenncdma subscription source allows the user to choose between ruim and nvnmodes for cdmanid
1954,define havesyssendfilehnnplatforms differ on whether syssendfileh or syssocketh is where tonfind the declaration for sendfilenid
1955,media video isp hp  releasenn fix gctrl usagen fix lens driver array indexingnid  rebecca schultz zavin
1956,arm msm acpuclock remove vdd check during nnthe vdd register reflects the status of the pmic only after thenapplication processor has written to it this is not the case after anreset or power collapse since it is the modem processor that sets upnthe pmic hence the vdd register is no longer used to verify thencurrent vdd level during boot upnnackedby steve muckl
1957,synchronize access to locked functionsnnseveral places were calling locked functions without properlynsynchronizingnid
1958,bug fixing for numberformat and bigdecimal bug on icu  fixed the bug that decimalformat does not handle  fixed the bug that decimalformat does not handle precisionnnbug
1959,dream add librpc to boardgpslibraries to fix the buildnnnedoffby mike lockwood
1960,code to reuse platformaddress objects minimizing garbage creation on the framework levelnand greatly reducing the number of runtime gchiccups for opengl apps and animationsn
1961,code to reuse platformaddress objects minimizing garbage creation on the framework levelnand greatly reducing the number of runtime gchiccups for opengl apps and animationsn
1962,removing dos text formatting from notice filen
1963,arm msm usb diag fix several deadlocksnn diagrelease can get blocked because userlock was being acquired beforen waiteventinterruptible in diagwritediagreadn wake up  and  when usb status changes to help userspacen return from readwrite whenn usb is offlinen echo   sysmodulediagparametersenablednnnedoffby iliyan malchev
1964,platform files for ianid
1965,arm msm  clean up endpoint request queueingnnnedoffby mike lockwood
1966,was not working for persistent applicationsnfix by generating the applicationinfo when asked for infonid
1967,arm  sholes add platform data for rndis usb ethernet to board filennnedoffby mike lockwood
1968,arm tegra tegrafb pass in lcd parameters through platform datanid  colin cross
1969,arm tegra harmony pass lcd data to tegrafbnid  colin cross
1970,updated  binary now works on  and   prebuilt binary from change  was missing  flag used on patch set  thisnintroduced bug  for people building on os x  is an updated binary built with  with the flagsnarch   to address that
1971,commandline tool to request a screenshot from the surfaceflingernnthis tool uses the new screen grabbing api to request an image of thenscreen and writes it to standard output in the format expected by thenddms debugging toolnnthis is intended to be used as a more reliable alternative to readingndirectly from the frame buffer a separate patch gives adbd thenability to run this tool when the debugger asks to capture the screennid
1972,add xmlwritern
1973,use the external  command to grab the screennnwhen the ddms debugger requests a screenshot try to grab it using annexternal tool which knows how to talk to the surfaceflinger and fetchnan accurate screen imagennif this fails for any reason fall back on reading directly from thenframe buffern
1974,usb gadget sync dma buffers when queuing a transfer descriptornid  colin cross
1975,new surfaceflinger api to allow grabbing screen shotsnnthis patch adds a new interface through which clients can obtainnimages of the screen from the surfaceflinger this is needed becausenreading directly from the frame buffer is unreliable on somenplatformsnnthe new entry point isnnstatust surfacecomposerclientgrabscreendisplayid dpy int fdnnto use this api the client should create an ashmem region of thencorrect size which it can calculate from the data returned byngetdisplayinfo and pass the file descriptor to this function thencall will fail unless the client has readframebuffer permission itnwill also fail if a surface with the secure flag set is visiblennon return the ashmem region will contain a copy of the current screennimage in opengl row ordernnfuture patches will build on this api to provide more features such asnincremental screen capturing grabbing only changed regions rathernthan the whole screen and the ability to grab only parts of thenscreen rather than the whole imagenid
1976,documentation about the download managern
1977,added new docs associated with opencor
1978,code to reuse platformaddress objects minimizing garbage creation on the framework levelnand greatly reducing the number of runtime gchiccups for opengl apps and  amendn applied all requested style changesn added synchronized clause to methodn added beginend androidchanged and added remarksn no change to logic compared to ial versionn
1979,rtc androidalarm add timezone set apinnnedoffby san mehat
1980,mmc increase sd write timeout for crappy cardsnnit seems that some cards are slightly out of spec and occasionallynwill not be able to complete a write in the alloted  ms  the timeout slightly to allow even these cards to   pierre ossman
1981,fixed a typon
1982,delete the libdiskconfig sub  another copy in buildsystemcorennorigchangeid  bruce bear
1983,diskconfig library has changed location fix include pathsnnorigchangeid  bruce bear
1984,make the systembinsh link so installerc worksnnthe recent change to systemcoresh  broke installerc this is easilynfixed by restoring systembinsh as a symlink to ashnnorigchangeid  bruce bear
1985,replace atomicxxx with gcc syncxxx intrinsicsnnorigchangeid  hj lu  bruce bear
1986,remove an extra register movennorigchangeid  hj lu  bruce bear
1987,updated gcc  ia toolchain  require the ctors listnnorigchangeid  hj lu  bruce bear
1988,bionic libthreaddb  fixesnnorigchangeid  james rose  bruce bear
1989,update  bionic crt files for unwindexceptionsnnseveral updates to bionic crto files to implement  unwindexception handlingnmark dsohandle as hiddennnote requires complete rebuild due to crt changes google willnneed to regenerate and checkin all the prebuilt  crt objectnfiles and libraries which link to themnnorigchangeid  bruce j beare  mark d horn  lu hongjiu
1990,enable fstackprotectornnorigchangeid  bruce bear
1991,change systembuilder tag to optionalnnorigchangeid  bruce bear
1992,code to reuse platformaddress objects minimizing garbage creation on the framework levelnand greatly reducing the number of runtime gchiccups for opengl apps and animationsn
1993,aapt needs a buffer larger than  mb on the host to decode resourcesarsc from sdkandroidjarnthis leaves the asset unzip buffer to  mb on the device and  mb on the hostn
1994,arm msm usb gadget send ack handshake to clearfeature req for  device  control endpoint host sends clearfeature requestnto clear stall on  for  hardware clears stallnimmediately after receiving setup token on  hence software doesnnot need to explicitly clear the stall for  in hardware butnsoftware must need to configure hardware to send ack handshake tonclearfeature requestnnackedby allam suresh reddi
1995,arm msm usb gadget stall support for endpointnnif device does not support any control request or noncontrolnendpoint requests device can stall that particular endpointnadd support to stall endpointnnackedby allam suresh reddi
1996,arm msm usb gadget support for  out requestsnnsupport for transfer on  endpointncdcacm requries this feature to process set line coding commandsnnackedby allam suresh reddi
1997,refine interaction between destination and default visibilitynnthe previous code was hard to read and relied on the fact that one ofnthe constants was  which is also the default value when readingnback unialized columnsn
1998,arm msm usb gadget clear the stall bit on clear feature cmdnnclear feature command on an endpoint was enabling endpoint insteadnof clearing the stall bitnnackedby allam suresh reddi
1999,arm msm usb gadget add support for interrupt endpoint typennadd support for interrupt endpoint cdcacm requiresninterrupt endpoint support to work as modemnnackedby allam suresh reddi
2000,allow targetarch to be set from boardconfigmknnorigchangeid  bruce bear
2001,vendorsetup needs to look in additional placesnnorigchangeid  bruce bear
2002,add missing localmoduletags defnnnorigchangeid  bruce bear
2003,add ueventd service for diskinstaller rcnnorigchangeid  bruce bear
2004,add  supportnnorigchangeid  bruce bear
2005,vbox add a readytoboot androiddiskvdi targetnnorigchangeid  bruce bear
2006,fix opcode tests for sputbytennbug
2007,update to latest froyo rcnnorigchangeid  bruce bear
2008,arm tegra dvfs disable dvfs on sdmmcnnthe sdhci core calls clock functions with a spinlock held whichnconflicts with the mutex in dvfs clocks disable dvfs on sdmmcnfor nownnnedoffby colin cross
2009,create boottarball just like systemtarballnnorigchangeid  bruce bear
2010,create systemtarball either with  or gznnorigchangeid  bruce bear
2011,refactor stripper allow a stripper other than soslim to be specifiednnorigchangeid  bruce bear
2012,arm tegra add avp platformdevicenid  dima zavin
2013,arm tegra make vcpbseavde clocks be owned by the avpnid  dima zavin
2014,fix opcode tests for sputcharnnbug
2015,arm msm htcacoustic use smem and rpc to write acoustic tablennnedoffby san mehat
2016,fix opcode tests for sputbooleannnbug
2017,media video tegra add basic cameraisp supportnnthe tegracamera device includes all clock and regulatornfunctionality needed to support camera on tegranid  dima zavin
2018,fix opcode tests for sputobjectnnbug
2019,media video tegra add tegra rpc support for tegra multimedia frameworknid  dima zavin
2020,media video tegra add support for the avp media offload enginenid  dima zavin
2021,adding api documentation for opencor
2022,temporarily disable hw  memorynnit causes some compatibility issuesn
2023,drivers usb gadget use usbmassstorage platform device as parent for lunnnif a platform device is specified for the fmassstorage function use it as thenparent driver for the lun files in sysfsnthis allows a platform independent file path for controlling usb mass storagenfrom user spacennnedoffby mike lockwood
2024,drivers usb gadget add platform data struct for usbmassstorage devicennnedoffby mike lockwood
2025,dg androidkryten candidate upload to gerritn
2026,systemcore vold change permission of external storage device nodesnnnedoffby san mehat
2027,omaclient ota provisioning clientnnthis is a ota provisioning client for android it enables the use of  client provisioning via wap push to set up apns on the devicennit depends on change  to implement the content type securitynhandlingn
2028,fat add  mount optionnnon severe errors fat remounts itself in readonly mode allow tonspecify fat fs desired behavior through  mount optionnpanic continue or remount readonlynnmount t fatvfat o     is analog to  fs  mount optionnnnedoffby denis karpov  ogawa hirofumi
2029,fix bitmask in  stringpool length constructionnnthe stringpool indicates the length of a string with a  if the length of the string is greater than  splits it into two  integers with the first onenhaving the high bit setnnthe length calculation has a small bug that masks off  bits instead of the first  bits as intendedn
2030,vlandroidc fix pc bios search ordernnthis fixes the algorithm used to search the pc bios filesnmoreover this makes standalone builds under externalqemunjust work by looking under prebuiltcommonpcbiosnid
2031,upstream integrationnnthis patch is a merge of a series of  upstream integration patchesninto the  master branchnnthe individual patches come from the  that was uploaded separately on kernelorgnnthe reference upstream sources used for this integration comenfrom httpmeegogitoriousorgqemumaemoqemu using the followingnhashnn  a nutshell the goal is to make our source tree closer to upstreamnin order to use various improvement there unfortunately  not tonthe point where we can use the upstream  neon translatornthough  getting closennmajor changes arenn integrate upstream tcg and softfloatnn targetarm move most androidspecific helper functions to helperandroidcn and translateandroidh this is in preparation of a major integrationn of the upstream arm translatornn moving various functions to different files eg cpuscn qemuosposixc  archc etcnn qemucharandroidc is now gone  using qemucharcn with slight modifications embedded within configandroidguardedn ifdef blocksnn rename traceh to androidtraceh we still need to keepn traceh and tracecommonh until we also updaten sdkemulatortoolsqtools to use the new header namesnn after this we will integrate in a future integrationn the autogenerated traceh used by upstreamnn remove the outputchannel hack instead implement a fake monitorn object that can be used with any function that takes a monitor asn input the fake monitor is used to collect output into a dynamicn buffer eg during snapshot saveloadnn convert to upstream qemutimer api changesnn implement physical memory with ramblock lists instead of a single arraynnshort log of individual changesnn  traceh rename to traceandroidhn  targetarmtranslatec move androidspecific stuff outn  tcg integrate upstream versionn  ramblocks integrate upstream implementation sophisticatedn  vlandroidc move archspecific functions to archcn  vlandroidc move cpu functions to cpuscn  vlandroidc use osspecific setup routinesn  compatfdc minor integraten  cpuexecc minor integraten  qemucharandroidc rename to qemucharcn  cpurestorestate remove unnecessary argumentn  qjsonc minor integraten  vlandroidc move code to iohandlercn  translateallc minor integraten  qemuconfigc minor integraten  monitorc minor integraten  disasc minor integraten  devicetreec minor integraten  bswaph others minor integraten  bufferedfilec minor integraten  savevm remove outputbuffer hackn  savevmc minor integraten  armsemic minor integraten  readme minor integraten  trace simplify code and avoid conflictsn  aclc minor integraten  armdisc minor integraten  fpu upstream integraten  jsonlexerc jsonparserc minor integraten  traceh minor c compatibility fixesn  qemucharh consoleh upstream integrationn  qemutimerc rename qemutimernewscalen  qemutimerc upstream integraten  qerror minor integraten  qemuerror minor integraten  posixaiocompatc minor integraten  osposixc  and dependenciesn  qemucommonh other intergratesn  integrate qemucommonh changesnid
2032,add  and  files from current netbsd libcnid
2033,move rendering code into renderservice classnnthis cl moves the various renderingrelated code inngraphicaleditorpart into a separate renderservice class which can benconfigured for different purposesnn rendering a layout shown in the canvasn rendering palette previewsn rendering a preview of a node during a drag from a paletten rendering a theme drawablen rendering layoutonly to measure preferred sizesnnonce configured the rendering service can be used repeatedly and offnthe ui thread to for example render all the palette previews withoutnblocking editor startup this will be addressed in a followup clnid
2034,fix  restore constants to precupcake valuesnnsince some of those constants are used in the persistent databasenmodifying them for cupcake meant that the new code was gettingnconfused by the old persistified data after an upgrade to cupcakenteh most visible symptom being that downloads that had been iatednfrom the browser would reappear in the notificationsn
2035,ptracec fix source file format to unix from dosnnorigchangeid  bruce bear
2036,integrate upstream changesnnthis patch is a merge of a series of  upstream integration patchesninto the  master branchnnthe individual patches come from the  that was uploaded separately on kernelorgnnthe reference upstream sources used for this integration comenfrom httpmeegogitoriousorgqemumaemoqemu using the followingnhashnn  a nutshell the goal is to make our source tree closer to upstreamnin order to use various improvement there unfortunately  not tonthe point where we can use the upstream  neon translatornthough  getting closennmajor changes arenn integrate upstream tcg and softfloatnn targetarm move most androidspecific helper functions to helperandroidcn and translateandroidh this is in preparation of a major integrationn of the upstream arm translatornn moving various functions to different files eg cpuscn qemuosposixc  archc etcnn qemucharandroidc is now gone  using qemucharcn with slight modifications embedded within configandroidguardedn ifdef blocksnn rename traceh to androidtraceh we still need to keepn traceh and tracecommonh until we also updaten sdkemulatortoolsqtools to use the new header namesnn after this we will integrate in a future integrationn the autogenerated traceh used by upstreamnn remove the outputchannel hack instead implement a fake monitorn object that can be used with any function that takes a monitor asn input the fake monitor is used to collect output into a dynamicn buffer eg during snapshot saveloadnn convert to upstream qemutimer api changesnn implement physical memory with ramblock lists instead of a single arraynid
2037,addon to linux kernel driver for advanced security sd supportnnthis driver implements the advanced security sd specification providednby the sd association wwwsdcardorg the advanced security sd addsnsupport for using an embedded secure element detailed information aboutnthe assd can be found at httpwwwsdcardorgdeveloperstechassdnthere you can also find a link to download the assd simplifiednspecificationnnthis change sets the permissions for the use of an assd capable sd memoryncard this change builds and runs fine without any other change but isnmeant to be applied together with the follow
2038,androidconfiguresh fix kvmenabled buildsnnthis patch ensures that configkvmgsrestore is definednin the autogenerated confighosth does not affect normalnplatform buildsnid
2039,androidrebuildsh better parallel buildsnnthis patch computes the number of cpus on the host tonautomatically used it with
2040,arm  fixes reboot on low opps with and without srnnsystem seems to spin in rom code when software resetwarm is issuednwith  reset cold the behavior is different with and without srnsystem will not reboot with sr without sr system will reboot but thennewly loaded kernel will hang while bootingnnnedoffby romit dasgupta
2041,unlock mutex in case of errorn
2042,adds panic notifier for reboot along with tiny code refactoringnnreboot fix was missing in panic pathnnnedoffby romit dasgupta
2043,revert remove unused engines from openssl crypto subdirnnthis reverts commit
2044,sigsetmaskc was not processing the mask argumentnnorigchangeid    bruce bear
2045,simplify variable typing for ia buildsnnorigchangeid  bruce bear
2046,use consistent guards for offt and sizet defines for iannorigchangeid  bruce bear
2047,move some typedefs to procfsh required by gdbserver buildnnorigchangeid  bruce bear
2048,fix missing nlnnorigchangeid  bruce bear
2049,fix undefined reference to dliteratephdr for   bruce bear
2050,update atom string routines to latestnnorigchangeid  lu hongjiu  bruce bear
2051,use proper variable typingnnorigchangeid  bruce bear
2052,remove extraunneeded copy of fenvhnnorigchangeid  bruce bear
2053,add defines for caif supportnnorigchangeid  mark gross  bruce bear
2054,arm msm smdrpc fix wakelock leak for interrupted rpc callreplynndiscard incoming packets when rpccallreply is not expecting a replynalways process for servernnnedoffby mike chan
2055,add aospspecific projects capture branch historyn
2056,quick hacks to get the system to compilen
2057,quick hacks to get the system to compilen
2058,camcorder hud no longer disappears when opening slidernnthe camcorder head up display was incorrectly detached when openingnthe slider changed behavior to conform with the camera head upndisplaynid
2059,watchdog improvement of debuggabilitynnif the watchdog detects a problem the system server processnis killed that is followed by a crash because the crash isndone after the system server process is killed the  contain info about the system servernthis improvement will make sure that the system is crashednbefore the system server process is killednbehavior is only changed for eng and userdebug buildsnid
2060,implement  option to a servicennhelps defining the linux capabilities of a service from rc filenas there is no easy way without filebased capabilities to grantncapabilities beyond an execve the service is started as root user andnthe inheritable capabilities bitmasks is set as specified byncapability option it is the responsability of the service to setupnrequested inheritable capabilities before dropping rootnnnedoffby christian bejram
2061,opp notification position is changingnnif several transfers is ongoing the bluetooth transfer notificationnis changing position the reason for this is that the when field isnnot set in the notification solved by setting whennid
2062,fix for wiping out phone data due to security intrusionnnchanging the passed value to wipedatalocked from  to  this willnenable the automatic formatting wiping of emails media files andnsd card when intrusion is detected this happens in case users providenthe wrong password after a number of attemptsnid
2063,fix memory leaking in the  correctly free the resources before returnnid
2064,the referredby header is not well parsed int the nist sip stacknnthe contracted form b of the referredby sip header is not parsednby the nist sip stack see rfc
2065,externalization this commit exernalizes strings from the adt pluginnnafter merging it please run the  externalize wizard at “source  externalize strings…� this ensure that hardcoded strings added between the time the patch was created and the time it was integrated will also be externalizednnfrom the time this patch is integrated on each new string created in the pluginnshould be added to the following     refers to the string  public static string javaclassnamemessageidnnin the java class the new string should be referenced this waynadtmessagesjavaclassnamemessageidnnrelated patches all patches with the externalization tagnid
2066,support a surrogatepair for textviewnnit is needed for handling japanese emojinid
2067,use intptrt for args expecting  assume  for conversion from pointer to an integer type andnuse intptrt instead because  guaranteed to be big enough to hold anpointernid
2068,merge from donutn
2069,remove spurious whitespacen
2070,pm ensure musb is accessible before we attempt to reset itnnthis patch is based upon commit  innthe linuxomap pm branch this patch was discussed  have rebased this to the apg  kernel and made a minor change to makenthis work on this kernel release details of this change are belownndepending on the  boot mode the musb peripheral may or may not benaccessible when the kernel startsnnthe  can boot from several devices including usb the sequence of thendevices the omap will attempt to boot from is configured via the sysbootnpins on the device if usb is one of the devices the omap boot rom attemptsnto boot from on poweron then the interface clock to the musb peripheralnwill be enabled by the boot rom and the musb peripheral will be accessiblenwhen the kernel boots however if usb is not one of the devices omapnattempts to boot from then the interface clock is not enabled and the musbnperipheral will not be accessible on startupnnif the musb peripheral is not accessible when the kernel boots then thenkernel will crash when attempting to access the otgsysconfig in thenfunction musbplatform the actual cause of the crash is the writento the otgsysconfig register in the function usbmusbpm to resetnthe musb peripheral which occurs prior to calling musbplatformnthe function usbmusbpm does not check to see if the interfacenclock for the musb peripheral is enabled before writing to musb registernthis write access does not generate a dataabort at this point but becausenthis write does not complete all future accesses to the musb controller willngenerate dataaborts regardless of whether the interface clock has beennenabled at a later stage the only way i have found to recover from this isnresetting the device my understanding is that the interconnect works innthis way to prevent a bad access locking up the systemnnthis patch ensures the interface clock for the musb in the functionnusbmusbpm is enabled this patch also ensures that the interfacenclock is disabled after the reset is complete my reasoning for alwaysndisabling the clock rather than maintaing its state  if the musb peripheral is not being used then the interface clock shouldnbe  the musbsetclock function uses a static variable called clkon tondetermine if the musb interface clock is on or off on bootup clkon willnbe  and so this function assumes that the clock isdefault whichnmay not be the case in the current codenni have also added a whileloop to wait for the reset of the musb module toncomplete before this function exits and the interface clock it disablednnnedoffby jon hunt
2071,rilh do not merge and do not submitnnthis is the current rilh plus latest current aosp suggested changesn
2072,display of self explanatory basic icon during callnid
2073,prevent appwidgetservice from beeing used before loadednnthe widgets in the mappwidgetidslist can sometimesnbe accessed before they have been properly loaded by synchronizing onnthe mappwidgetidslist other threads are forced to wait untilnthe widgets have been loaded by the systemreadymethodnid  christian bejram
2074,merge remote branch  into integraten
2075,generate idmap files just like dexoptnnthis commit changes how idmap files are generated by introducing a newnprogram systembinidmap responsible for idmap creation the toolnmay be invoked similar to dexopt ie via installd or as a standalonenprogramnid
2076,add modul
2077,process dialog does not disappear after setting call forwardingnndismiss the dialog not matter if it is on foregroundnid
2078,mtd nand add naieve panicwrite support for generic nand devicesnnnedoffby san mehat
2079,musb proper hookup to transceiver driversnni believe that a bug was introduced in the musb driver when the  was integrated this is simplynfixed by back porting the commit  david brownell a description of the bug followsnnin the file  the following functions arenpassed a pointer to the otgtransceiver structurennstatic int  otgtransceiver x int suspendnstatic int  otgtransceiver x struct usbgadgetngadgetnstatic int  otgtransceiver x struct usbbus hostnnthe structure otgtransceiver is stored in two places one being innthe musb structure and the second being in the  transceivernstructure please note that in both the musb and  the otgtransceiver member is defined simply as a structnand not a pointer to a structnnthe musb structure in driversusbmusbmusbcoreh definesnnstruct musb nt ntt struct otgtransceiver xceivnttt  structure in  definesnnstruct  nt struct otgtransceiver otgntt nnnthe address of the otgtransceiver pointer passed by the musb drivernto the  functions is location of the otgtransceivernmember within the musb structure however the  are attempting to resolve the address of the  from this address by calling the following macronn define xceivtotwlx containerofx struct  otgnnthis results in the incorrect address being used for the  because the address passed is from within the musb structurenand not the  structurennthe following is the original changelog from david   the otgtransceiver in musb be managed by an external  assume  integrated  chips need it to be externalnand there may be ways to interact with the transceiver which addnfunctionality to the systemnnplatform code is responsible for setting up the transecivernprobably using the nop transceiver for integrated transceiversnexternal ones will use whatever the board code providednsuch as  or something more handsoffnnnedoffby david brownell  greg kroahhartman  jon hunt
2080,screenorientation written as content instead of attribute by mistaken
2081,mtd nand  add suspend and resume hooks to drivernnwithout these suspendresume functions pm mode would force nandnto suspend while the filesystem was busynnnedoffby david ding  shengzhe zhao  rebecca schultz zavin
2082,drivers usb gadget add usbmassstorage platform drivernnthis will be used for configuring vendor product and release from board filennsubmitted on behalf of ravikumar vembu  jared suttles  mike lockwood
2083,merge branch  into
2084,arm msm  add a nullpointer check on  iliyan malchev
2085,added imei configuration option to android emulatorncommand line option imeinid
2086,cts verifier bluetooth testnnadd the following testsn toggle bluetooth make sure bt can be disabled and enabledn secure serverclient make sure a secure sockets work betweenn two devicesn insecure serverclient make sure insecure sockets work betweenn two devicesnnremove the arduino bluetooth helper files since this cts verifierntest should cover the same testingnid
2087,merge branch  into
2088,telephonycat icon display issue for stk proactive commandsnnthese changes ensure that the complete path for efimg  sent to vendor ril during sim io operation instead of onlynsending the fileid  alone these changes also take care ofnsending complete path for ef image file instances  sim io operationsnid
2089,gpu pvr work around lack of driversgpupvrmakefilenid  erik gil
2090,remove unused codenid
2091,frameworksbase fix to limit the number of notification requestsnnfix to limit the number of notification requests both notify andncancelnid
2092,sdkmanager refactor name of updaterwindownnsince the sdkmanager now contains separate windows fornthe sdk updater versus the avd manager the variousnupdaterwindow classes are renamed to sdkupdatewindownnwe already have now a standalone avdmanagerwindow thatnmatches this patternnnthis is a pure refactoringrenaming cl with no workflownchange whatsoevernid
2093,update to  add support for softap keepalive arp offloadn clean up  and  coden update makefile to support new featuresid  howard m hart
2094,fix package  minor fixesn make it possible to delete a local package even if it hasn updates availablen refresh the local sdk parser after installingdeletingn packages to make sure  not showing an obsolete statenid
2095,revert merge branch  into  reverts commit  reversingnchanges made to
2096,resize  guideline supportnnrelativelayout now has both dropmove and resize guidelines andnexisting constraints are visualized for the selectionnnlinearlayout resizing now uses weights to change the size of nodesnrather than setting widthheightnnall resize operations offer guidelines to snap to their wrapcontentnsizennvarious bug fixes in related areas as wellnid
2097,update german translation fixed a typonid
2098,added and updated test cases in ctsnnadded and updated test cases in cts for improving the code coveragenfor androidgraphics packagenid
2099,formatting phonenumber at quickcontactnid
2100,kvm fix kvm autodetectionnnnow that we have a workaround for the bug that caused kvmnto crash when the  emulator was running under a  we can simplify the autodetection logicnid
2101,workaorund for the kvm gsbase msr saverestore issuennin some versions of the kvm module in ubuntu the  gsbase msr is not saverestored correctlynwhen running guests on  hosts if the qemuemulator is  patch implements a workaround in the emulator codenid  yunhong jiang  jun nakajima
2102,fix android platform name displaynid
2103,arm msm acpuclock do not ramp up when going to power collapsewfinnpower collapse and wfi speeds specified in the board files are the fastestnspeeds one can go before entering the mode if the acpu is running at anslower rate do not clock up this can cause pll depencency issuesnnnedoffby mike chan
2104,msmdefconfig set userspace governor as default for cpufreqnnnedoffby mike chan
2105,bluetooth enter active mode before establishing a sco linknnwhen in sniff mode with a long interval time  it can take  seconds tonestablish a sco link fix by requesting active mode before requesting sconconnection this improves sco setup time to  headsets that use a long interval time and exhibit the long sconconnection time include motorola   and  they have a csr  chipsetnnverified this behavior and fix with host bluetooth chipsets   nick pelli
2106,eclair manifestn
2107,mmc msmsdcc driver clockingirq improvementsnn clocks are now disabled after  second of inactivityn fixed issue which was causing us to loop through our isr twicen bump core clock enable delay to  san mehat
2108,adjust manifest for eclair merge into mastern
2109,increase javaxobex performancennwhen a file is transferred over obex the javaxobex classes allocatenthe same amount of memory multiple times simply to copy the same datanaround internally only to throw those allocations away when the nextndata block is processed in the bluetooth opp case that meant  was allocated around  times for every  transferred sincenthe transfer speed is around  that means almost  ofnmemory is garbage collected every second increasing the time needednfor each block transfernfixed by keeping data in reusable byte buffer objects insteadnthe time to transfer a  file is reduced by about
2110,delete some opcode tests for invokennthese will be added back in a future releasennbug
2111,arm ventana register  controllers touchscreen  regulatornid  gary k
2112,support ap which only has a space character in its ssidnnnow we can connect to an ap which only has a space character in itsnssid names with space at the beginning andor will also work thenearlier troublesome  still worksnid
2113,net wireless  add check for out of bounds scan buffernnnedoffby dmitry shmidt
2114,framebuffer support variable number of framebuffers in the uinnthis change defines a macro numframebuffers to setnthe desired number of framebuffers to be used by the uininstead of hardcoding  framebuffersnnaditional logic has been added to handle the ializationnand destruction of numframebuffers buffersnid  rodrigo obregon
2115,remove obsolete variable len to avoid compile failednid
2116,arm  move allowsuspend to a work queuennsince pmqosupdaterequest may block we need to make sure thatnallowsuspend is always called in process contextnnnedoffby iliyan malchev
2117,perform dns lookup in androidnetproxyislocalhostnnthis fixes degrade introduced bynswitch to using public apis instead of priv
2118,framework fix indexoutofbounds exception in textviewnid
2119,adt  minor unit testsnid
2120,add  as a valid ftyp to support  mobile profilenid
2121,added catch of sqliteexception when updating screenshotnnerror found when running monkey test user probably triesnto add a bookmark and directly after deleting it the methodnupdatescreenshot is running an asynctask and gets an exceptionnfrom the database when the bookmark does not exist the deletionnof the bookmark runs in another threadnid
2122,net wireless  add check for out of bounds scan buffernnnedoffby dmitry shmidt
2123,fix opcode tests for instanceofnnbug
2124,mips mips kernel headers are taken from  from the kernel git i
2125,mips clean kernel headers are generated by runningnlibckerneltoolsupdateallpy script this patch ignoresnany changes to libckernel directory not related to mipsnarchitecturenid  raghu gandham  chris dearman
2126,mips some fixups are required to the kernel headersnnbefore they can be used in the userlandnid
2127,arm dmamapping add highmem support to dma bouncennextend mapsingle and safebuffer to support mapping pages or kernelnbuffers call kmapatomic and kunmapatomic if the safebuffer isnbouncing a page so that it may be copied into the safe dma buffernid  gary k
2128,arm dmabounce add support for low bitmasks in dmabouncennsome systems have devices which require dma bounce buffers due tonalignment restrictions rather than address window restrictionsnndetect when a  dma mask has low bits set to zero and treatnthis as an alignment for dma pool allocations but ignore the lownbits for dma valid window comparisonsnid  gary k
2129,arm tegra fix packet alignment and  dma controller expects to start transfers at word boundariesnand the standard packet alignment  was resulting in data corruptionnnalso provide a full cacheline of padding between skbuffs to eliminatencoherency issues between the processor and usb networking devicesnid  gary k
2130,arm tegra add ehci and udc controllers to devicescnnupdate harmony and ventana to use the common udc defion rathernthan using the current duplicated defionsnid  gary k
2131,improve systemfeaturestesttestcamerafeaturesnnincorporate suggestion on improving the reliability of thenauto focus feature checknnbug
2132,reduce gc in bluetooth applicationnnduring opp transfer the bluetooth application uses a contentprovidernto keep track of how many bytes have been transferred an updatenis called every  and in turn causes a couple of query one ofnthe listeners updates a notification all of this causes a lot ofnsmall memory allocations and means that the gc has to clean up a lotnof objects during transfernpartly fixed by only calling update every percent of transferninstead of every  block which means it works best on largenfilesnid
2133,serial tegrahsuart fix sleeping while atomicnnmove the flushwork outside of stoptx do it during suspend andnshutdown instead move the tty portion of the tx work intonthe dma complete callback and only handle polling on the fifo andnthen requeuing the dma in the work functionnid  colin cross
2134,pmqos fix reversed min and maxnnpmqosgetvalue had min and max reversed causing all pmqosnrequests to have no effect broken by the plist conversionnsha   rafael j wysocki  mark gross  james bottomley  stable  colin cross
2135,use a  onstartcommand instead of the deprecated onstartnnalso return a  requested started state as returned bynonstartcommand and provide a startservice variant for setting thenflags with which onstartcommand is being callednid
2136,arm tegra add dmabounce supportnndmabounce expects platform code to implement the dmaneedsbouncenfunction on tegra dma bouncing is only required based on  dma mask value so no special tests are required inndmaneedsbouncenid  gary k
2137,video tegra fb add nvmap client namennpasses a name to nvmapcreateclient so it can be trackednfor debuggingnid  rebecca schultz zavin
2138,arm tegra ventana fix pinmux for bluetooth and gas gaugennfixes by anantha idapalapati  andnmayuresh kulkarni   gary k
2139,arm tegra set echi coherent dma mask to  alignmentnid  gary k
2140,video tegra host add nvmap client namennpasses a name to nvmapcreateclient so it can be trackednfor debuggingnid  rebecca schultz zavin
2141,touchscreen panjit use multitouch reporting interfacenid  gary k
2142,tegraehci enable dmabounce for tegra ehci controllernntegra  ehci controllers need transfers aligned to  boundariesnenable dmabounce by default whenever usbtegrahcd is selectednand create dma pools for the ehci devicesnnthe small pool size was selected to be sufficient to store usbnnetworking packets  since the usb networking stack frequentlynallocates skbuffs that are misalignednid  gary k
2143,backport upstream assember fix and disassembler fixnnbackport upstream fix in disassembler to handle mappingnsymbol  upstream assembler fixnthis backports the following upstream fix for forward
2144,tegra iovmmgart move call to subsyscallnnnvmap and nvhost will behave improperly if iovmm is not present whenntheir respective devices are probed however the probe ordering dependsnon the order the calls are made to register the drivers moveniovmmgart into subsyscall to ensure that it is registered earliernthan other driversnid  gary k
2145,notify the playback status to drm agents before the playback startsnid
2146,arm tegra dma add lock for channel usage prevent crash in dequeuenid  colin cross
2147,tegra sdhci enabledisable sdclk source in setclock hostopnnnow with  more  suspend support sdhciresumehost accessesnthe sdhci controller so enable the  clock at resume andnlet the mmc card layer tell us later on whether sdclk is needed ornnotnid  todd poynor
2148,arm tegra add usb phy configurationnnconfigure board dependant phy settings from the board filenid  benoit gobi
2149,added noop unregisterreceiver to complement existing noop registerreceivernnwithout this addition code that is being tested using an isolated contextncan cause an exception if it unregisters a previously registered broadcastnreceiver this is because the isolated context never actually registerednthe receiver in the first place the fix is to make sure the isolatedncontext is consistent in ignoring both recevier registration andnunregistration callsnid
2150,mark internal strings as nonnls in rule classesnnmark internal strings as nonnls in rule classes this code wasnially written in groovy which is why it  have nonnlsnmarkersnid
2151,rely on map to store layout device configsnnrelying on maps means that we  control the order of the configsnin the ui macwindows show a different order already and  justnluck that the mac one matches the content of the xmlnnnow we keep the order from the xml and display it asis in the uinid
2152,video tegra nvmap move debug info to debugfsnnmoves the file tracking clients to debugfsnadd a debugfs file to track the list of allocations per clientnid  rebecca schultz zavin
2153,make state snapshots compatible with sd cardsnnthis patch introduces a check such that only drives exporting ansnapshot creation function are considered for storing snapshotsnsd cards are mounted with a raw file system which does notnsupport snapshots since the sd card is now skipped the actualnsnapshot image can be safely mounted on hdb rather than hdannthe contents of the sd card itself are included in the snapshotnhowever since they are accessed with the nand driver whichnsaves the contents of the underlying filesnid
2154,fix issues with patch set  from brianncommentsn i chose to stick with wifireport and wallpaper report because the report tests involve more than just the manager classesnid
2155,video tegra nvmap add names to nvmap clientnnthis modifies the api to allow the user to specify a namenfor their clients this will allow the system to tracknallocations from the kernel by namenid  rebecca schultz zavin
2156,add in support for the sysexecutable variablennthis allows things like pydoc to worknid
2157,added camerareporttest to test for reporting of camera camera focus and camera flash featuresn some extra changes as well that were not committed last timenid
2158,wip  skip setting the headset switch statennif the hardware  truly support headset detectionnthen the switch should not be used to report the state of thenheadset plug doing so confused the user space audio policy routingndecisions because the headset route is used at high priority andncaused other lower priority routes to not worknid  chris kelli
2159,added support for wap messages of type applicationvndwapemnwbxmlnnthis allows for email notification messages to be acceptednnthe email project has also been changed to accept and processnthe emn messagennsee   telephonyjavacomandroidinternaltelephonywappushoversmsjavantmodified telephonyjavacomandroidinternaltelephonywsptypedecoderjavanntmodified telephonyjavacomandroidinternaltelephonywappushoversmsjavantmodified telephonyjavacomandroidinternaltelephonywsptypedecoderjavan
2160,arm tegra  share  share  as both tegraudc and  are loadednin otg modenid  benoit gobi
2161,test sensor feature reportingnnbug  that the sensor features reported by packagemanager havensensors reported by sensormanager also check that sensornfeatures not reported by packagemanager  have any sensorsnid
2162,follow context member instead of using sharelist directlynnallows texture objects to be shared between contexts withoutneglcreatecontext returning eglnocontextnid
2163,backport upstream  patches to fix  gcc bugsnnfix a bad interaction of inliner x return slot optimization xnnamed value optimizationnnreplace tst instruction with lsls for a single bit testnid
2164,arm tegra clocks remove debugging from cdev clocknid  colin cross
2165,remove deprecated uielementnode editdata propertynnas requested intanothertreview  the editdata property onnuielementnodes is obsolete it was used by  and should benremoved while there i also updated the naming style of local vars innthat class from underline to camelcasenid
2166,net wireless  fix setting ht clock race conditions in driver startnnnedoffby dmitry shmidt
2167,allow the user to set the adbhost variablennwith those changes the adbhost variable can bendirectly set in the preferences of ddms and eclipsenso that the user can reset adb from inside thosentwo programsnid
2168,fix opcode tests for iputnnbug
2169,fixed memory leak in settings open source license activitynnthe settingslicenseactivity leaks memory via the webview whennchanging orientation or restarting the applicationnid
2170,arm  add support for masterslave switchingnn remove duplicate code between probe and resume make new functionn  when master pass the sample rate from the board infon clean up some checkpatchpl complaintsnid  iliyan malchev
2171,dismissing alertdialog before destroying webviewnnadded dismiss method for the alertdialog in destroy to avoidna leaked windownid
2172,voice mail notification related changesnnseparate voice mail notify from simruim cardnnfor gsm store voice mail countnin phone memory if sim does not supportnfile idssim write failsnid
2173,add gesture support marquee selection and refactoringnnthis checkin adds support for gestures and overlays gestures arensessions of mousekeyboard activity and this is documented in thenjavadoc for the new gesture class overlays are units of graphics andnthese are documented in the overlay javadoc the gesture architecturenlets us isolate the logic for each different type of operationnmarquee resize move etc and with associated overlays we  to for example paint drag feedback during a resize operationnetcnnthe checkin also adds marquee selection as a second gesture innaddition to the existing drag  drop based move gesture along withnsome associated changes in how the root view is treatednnas part of isolating the mouse handling and painting related tongestures painting etc i also refactored the code quite a bitnlayoutcanvas which used to be a large class has been split into annumber of new classes one for each area of responsibilitynn the mouse listener and drag  drop code has been moved into an gesturemanager a lot of thetdrop handling code alsotcame from then canvasdroplistener classnn code related to maintaining the set of rendered views andn performing searches in the views has been moved into an viewhierarchy classnn code related to selection has been moved into a selectionmanagernn various individual painting pieces outline hover etc have beenn moved into individual overlay classes such as outlineoverlayn hoveroverlay selectionoverlay etc this also moved associatedn resource allocation and cleanup into the overlaysnn new coordinate classes controlpoint and layoutpoint are usedn instead of ints and plain points to make it really clear whichn methods require coordinates in the layout such as then viewhieararchy search methods and which ones require coordinates inn the canvas control such as paint methods there are factory methodsn to automatically construct the right kind of coordinate fromn different types of mouse events as well as methods to convertn between the twonni also tweaked the visual appearance of selection a bit more andnsome other misc cleanupnid
2174,sdk repo schema  for  elementsnid
2175,protection against bookmarks with  in the databasennmodified the database to only accept bookmarks with a url  nullnas a bookmark without url has no meaning and also makes the browserncrash in a number of placesnid
2176,arm tegra common reduce sclk to  mhznnset  sclk and hclk to  mhz and pclk to  mhzndrivers that require a faster bus speed can use a shared bus clocknreference to increase the sclk frequency up to  mhz which willnalso increase  hclk and pclknid  colin cross
2177,create kcm file for thai qwerty keyboardn
2178,to avoid the occurrence of indexoutofboundsexception in onreceivenwe modified that the loop count of for statement was set againnif minstalledproviderssize had changednnoccurrence conditionn  sim card was insertedn  one package has two more appwidgets both of appwidget was set on homeapplicationn  power on the device as safe moden
2179,create qwerty kcm file for thai keyboard and also modified androidmk to build that filen
2180,do not set minimum value for mobile data limit dialog higher than the actual set valuennwhen mobile data limit and warning limit are set to  pressing mobile data limit  gb pops up mobile data limit dialog with minimum value  but the value set is  is causing the dialog to show its maximum value   shuhrat dehkanov
2181,tegra sdhci enabledisable sdclk source in setclock hostopnid  todd poynor
2182,fix instrumentationctstestrunner npennwhen iterating over the features using the emulatornid
2183,sdk specific atree file do not mergenid
2184,net wireless  check for out of bounds in scan results parsingnnnedoffby dmitry shmidt
2185,net wireless  check for out of bounds in scan results parsingnnnedoffby dmitry shmidt
2186,net wireless  fix setting ht clock race conditionsnnnedoffby dmitry shmidt
2187,tegra video nvmap printk if nvmap alloc failsnnprints a log message if the nvmap allocate ioctl failsnid  rebecca schultz zavin
2188,backport telephonymanagertest enhancementsnn support meids starting with   and  bug  checking of esnsn probe hardwareid for nontelephony devicesnid
2189,arm tegra clock add a passthrough setrate to super clocksnid  colin cross
2190,add missing dependency in the ddms manifestnid
2191,fix xml editing whitespace handlingnnthis changeset fixes three problems related to the way whitespace isnhandled by the visual  the editor would insert a newline text node after a newly insertednelement but this element was appended rather than insertednimmediately after the element which meant that if you inserted yournelement anywhere in the middle of the child list you wouldnaccumulate blank lines at the end of the  element and have nonseparator before the current elementnnthe fix is simple use insertbefore rather than appendchild whenninserting the new  on deletion no xml text nodes were deleted this means that ifnyou inserted  elements then deleted them you would end up with  text nodesnnthe fix here is to look at the sibling when we are about to deletenand if it looks like a pure whitespace node remove it as  when nested content like a linearlayout was inserted therenwould be no newline inserted before the child so that first elementnwould end up on the same line as the parentnnthe fix here is to detect this scenario when we are inserting annelement into an element that has no children and insert a newlinenbefore the element as well as after as is the case for all newlyninserted elementsnnlonger term we should do more advanced things with formatting such asnindenting nested content and making sure that when we insert andnremove whitespace nodes we always adjust the indentationncorrectly but for now this changeset makes the xml generated by theneditor much more readable and consistentid
2192,usb gadget fsludc unlock the spinlock before calling clkenablennon suspend drcontrollerstop disable interrupts and on resume interruptsnare disabled until drcontrollerrun is called so it is safe to callnfsludcclksuspendresume with interrupts and the spinlock unlockednid  benoit gobi
2193,usb gadget fsludc removed unnecessary checksnnthe otg driver disables the gadget device when the cable isnremoved so there is no need to check if the cable is pluggednbefore touching registersnid  benoit gobi
2194,the official chinese translation of bluetooth should be the updated onenid
2195,pmqos fix reversed min and maxnnpmqosgetvalue had min and max reversed causing all pmqosnrequests to have no effect broken by the plist conversionnsha   rafael j wysocki  mark gross  james bottomley  stable  colin cross
2196,in some cases release build is actually a debug buildnnif the manifest sets  then this overridenthe release build to be a debug build insteadnid
2197,adt fix attributes ui in android manifest editornnexternal bug  all customized fields were showing as regular stringnreferences with the default string browser instead of havingncustomized preselected choices etcnnthe core issue is that the ui widgets were created using reflectionnbut i changed the base class constructor of the defaultntextattributedescriptor recently and forgot to update descriptorutilsnaccordingly since it was failing to create a custom widget it wasnreverting to the default ui for a string referencennthe longterm fix is to stop using reflectionncreator pattern to the rescueninstead  a new itextattributecreator interface and thenoverride map uses a static creator instance that will instantiatenthe correct ui widget when needednid
2198,dump hprof data when getting exception outofmemoryerrornnadd support for dumping hprof data when gettingnexception outofmemoryerror the feature is activated bynsetting the new property dalvikvmoomehproffileneg dalvikvmoomehproffile  datamiscmemdumpnnthis is useful for analysing out of memory situationsnid
2199,mmc fix nonarm build due to emmc   error ‘’ undeclared first use in this functionnnintroduced byn mmc subtract boot sectors from disk size for emmc  devicesnnsz  exist on anything but armnid  olof johansson
2200,fix opcode tests for invokennsome tests for the invokeinterface instructions involvednexecuting dalvik code that could not translated into javanlike implementing an interface but marking the interfacenmethod implementations as protected the tests complainednabout not being able to find the classes for the rawndalvik bytecode but i  make the tests find themneven after putting uses annotations which builddalviksuitenscans to determine what will be on the classpath thusni just deleted themnnotherwise more of the samennbug
2201,arm tegra add missing spdif device declaration in headernid  dima zavin
2202,fix ddmlib test run failure and metric reportingnnthis submit fixes two  test run failures were not getting reported correctly in some scenarios andnin others testrunfailed was being called before testrunstarted was called withnthis submit the order of itestrunlistener callbacks is documented and strictlynadhered  test metrics were getting reported for regularly occuring instrumentationnoutput such as  and  cleaned up the associated unit tests and changed them to use easymocknid
2203,arm tegra add usb host platform device for  is routed to the minib connector and as such  make sensento switch over to host mode just switch  which goes to the smsc hubnnnedoffby olof johansson
2204,fixed buffer overflow in procranknnif there are more than  processes in the system procranknwill overflow the procs array switched to heap allocationnid
2205,add support for virtual busses with dynamic pinmuxingnnthis adds support for dynamically reprogramming the   mux on transaction boundaries to enable one controller to benregistered as multiple  bus adapters with the kernel this allowsnplatform designers an additional tool to resolve clock rate ionvoltage and electrical loading restrictions between the   platform data is extended to support this platformsnwhich use this feature should pass in the number of busses whichnshould be created for each controller the starting adapter numbernto use and the clock rate and pin mux for each virtual busnid  gary k
2206,update sdklib to use the new sdk organization build tools movednnalso do some minor cleanup from the recent change to projectpropertiesnfilewrapper extends javaiofile so  no need to create a filenand then create a filewrapper around it directly create a filewrappernid
2207,reorganize the sdk moving the build tools out of the platformsnid
2208,jptextinput dont break emoji characters when cutting stringsnnin the lengthfilter make sure that we do not cut thenstring so a last emoji character gets broken and replacednby some garbage characternnwe need to check if the last char is the high surrogate andnif so drop the high surrogate alsonid
2209,fix wqvga resolutionnnwqvga resolution is defined as  ldpinormal in cddnid
2210,quicksearch fix the network connection timeout constantnnsearchdialog creates a http client by defining the network connectionntimeout constant the constant name has been modified in the latestnapache version hence modified the suggestion provider to use thisnconstantnid
2211,arm gic add functions to save and restore gic statenid  colin cross
2212,input touchscreen driver for panjit capacitive  touch panelsnndriver supports the  and  capacitive touch panelsnid  gary k
2213,arm tegra suspend call gicdistsavenid  colin cross
2214,collect signatures when calling packagemanagergetpackagearchiveinfo with flag getsignaturesn
2215,regulator add regulator driver for  pmicnnadd support for the   pmic with  sms  ldosnnthe following ops are supportedn isenabledn enablen disablen getvoltagen setvoltagen listvoltagen enabletimennoriginally developed by sachin nikam   gary k
2216,arm tegra clock drop setrate on audio clocksnnnedoffby colin cross
2217,arm tegra add clkduplicate entry for tegraotg clocknid  gary k
2218,arm tegra clock redo clock lockingnngive each clock its own lock and remove all lock traversals fromnparent to child clocks to prevent abba deadlocksnnnedoffby colin cross
2219,arm tegra add tegraotg and tegrauart to devicescnid  gary k
2220,arm tegra dvfs get rid of dvfslock and move laternnget rid of dvfslock replacing it with the cansleep flag on clocksnclocks with the cansleep flag set will lock a mutex before callingninto dvfsnnalso does the regulator api calls during late after thenregulators have been probednnnedoffby colin cross
2221,androidparanoidnetwork use inegroupp to check  is not exported from sysc which causes problems for modulenbuilds inegroupp is exported and is just what we needn
2222,telephony remove unused mruimfilehandler reference from cdmaphonenid
2223,arm  add timeout to prevent flush deadlocknnnedoffby iliyan malchev
2224,telephony implement synchronous sending of sms messagesnnthe code reads configsmssyncsending resourcento determine if synchronous sending algorithm shoud be usednwhen it is set to true smsdispacher will wait for a message to bensent before sending request for subsequent message while queueing allnmessages that are requested to be sent when this resource is setnto false default the smsdispatcher behaves as it used to by sendingnall messages as soon as it receives the request to send themnid
2225,arm tegraspdifaudio add timeout to prevent flush deadlocknnnedoffby iliyan malchev
2226,telephony make sms retry delay configurablennthe delay sms dispathcer waits after receiving failretry answer from ril before sending next message can be configured by setting persistradiosmsretrydelay value in millisecondsnid
2227,arm  add timeout to prevent flush deadlocknnnedoffby iliyan malchev
2228,frameworksbase implement new cdma ril messagesnnrename rilrequestcdmasetsubscription to rilrequestcdmasetsubscriptionsourcenimplementn rilunsolcdmasubscriptionsourcechangedn rilunsolcdmaprlchangedn rilrequestcdmagetsubscriptionsourcenid
2229,arm tegra ventana add otg devicenid  gary k
2230,fix the lock screen bypass issue reported in
2231,arm tegra suspend use clkgetratealllockednnnedoffby colin cross
2232,wip audio force hdmi output route change if hdmi is pluggednnif the headset route was selected by policy manager but hdmi is connectednwe must force the route change manually because of the combined effect of two  the  driver on the panda kernel forces the headset switch state becausenof the limitation of the panda hardware to detect headset  the audiopolicymanagerbase class prioritizes the wired headset route aboventhe hdmi auxdigital route hence the audio hw module will never receivenany route change to hdminnroute changes to hdmi will be handled with this manual interventionnhowever route changes from hdmi to some other route can still be handled bynthe standard policy manager but in the case that hdmi is unplugged and thendevice is still set to auxdigital then the default headset route is chosennid  chris kelli
2233,update  to support  byte alignmentnid
2234,arm tegra clock add set rate to super clock opsnnnedoffby colin cross
2235,fix iget opcode testsnnbug
2236,fixed bug in  added support for additional parameters to dvmhandlestackoverflownid
2237,arm tegraspdifaudio add suspend wakelocksnnnedoffby iliyan malchev
2238,telephony fix radio state printingnndecode new radio state before printing its valuenid
2239,arm tegraspdifaudio add timeout to prevent flush deadlocknnnedoffby iliyan malchev
2240,telephony add support to read  sms from csimruimnnadd parser to parse  format sms stored in csimruim cardnid
2241,sched normalize  vruntime during group changennthis adds a new callback prepmovetask to struct schedclassnto give cfs the opportunity to adjust the  propertiesnjust before setting  new rqnnthis allows us to properly normalize a sleeping  vruntimenwhen moving it between different cgroupsnid  arve hjønnevåg  dima zavin
2242,fix the incorrect documentsnnthe metohd splitsize may return null in some casesnid
2243,sched fair use the old minvruntime when normalizing on dequeuennafter pulling the thread off the runqueue during a cgroup changenthe cfsrqminvruntime gets recalculated the dequeued  vruntimenthen gets normalized to this new value this can then lead to the threadngetting an unfair boost in the new group if the vruntime of the nextntask in the old runqueue was way further aheadnid  arve hjønnevåg  dima zavin
2244,fix the animation disappeared issuennthe animation movie disappears due to the incorrect logic ofncommit
2245,arm tegra dma get rid of shadowed registersnnthe use of shadow registers caused memory corruption at physicalnaddress  because the enable bit was not shadowed and assuming itnneeded to be set would enable an unconfigured dma block most of thenregister accesses  need to know the previous state of thenregisters and the few places that do need to modify only a few bitsnin the registers are the same ones that were sometimes incorrectlynsetting the enable bit this patch convert tegradmaupdatehardwarento set the entire register and the other users to readmodifywritenand drops the shadow registers completelynid  colin cross
2246,edit font for saraam issuen
2247,originally  commit  by jessevgmailcomnn switch from using the  charset list to the java  javaniocharsetn charset classnn while profiling  message loading performance i discovered an significant amount of time was spent instantiating the  charsetn converter  routines are an emulation layer to be java  compatible switching to java  built in charset code resulted inn a significant performance boost for message loadingnnbased on the following comment in  this seems like a winnn utility class for working with character sets it is somewhat similar ton the java   class but knows manyn more aliases and is compatible with java  it will use a simple detectionn mechanism to detect what character sets the current vm supports this willn be a subset of the character sets listed in then   java   supported  documentn  the   iana character  document has been used to determine the preferredn mime character set names and to get a list of known aliasesn
2248,make sure unmatched autenticatoraccounttypes  crash contactsnnif the contactsapp  find a valid authenticator for a specificnaccounttype it would previously throw an exception and crashnnow the accounttype is silently ignorednninstalling an app with unmatching authenticatoraccounts like           otherwise crash contactsnid
2249,arm tegra add avp mailbox address to iomapnid  dima zavin
2250,add env var androidtmp to override tmpandroid locationnnthis is needed if  already a tmpandroid which the current  access on the system it would prevent the emulator from startingnwith a cryptic error messagennnand could not create temp file for system nand disk image permission deniedemulator userconfig was not changednnsdk bug
2251,corrected update of historyrecord member  in activitymanagernncorrected the update of the historyrecord member  innthe method ensureactivitiesvisiblelocked in the activitymanagerndepending on other conditions the member  wouldnsometimes be set without performing a corresponding call to thenwindowmanager method setappvisibility causing thenactivitymanager to erroneously believe that the activity alreadynwas visiblenid
2252,corrected visibility reporting error in windowmanagernncorrection for the errornwhen a window is done animating and about to be destroyednit is still checked for visibility in the methodnupdatereportedvisibilitylocked in the windowmanagernin the case where other windows are ready to be reported asnvisible this not yet destroyed window which has the statennot visible will prevent the visibility report message fromnbeing sentnid
2253,add versiondefaultsmk to be a prerequisite of buildpropnnthe versiondefaultsmk defines variables that may affectnthe content of buildpropnid
2254,appsmms fix memory leak due to excessive jni global referencesnnwhen the composemessageactivity is destroyed the cursor fornrecipientsadapter is not getting closed this leads to increase innnumber of jni references each time the composemessageactivity isnopened thus closing the cursor for recipientsadapter accordinglynto avoid cursor leaksnid
2255,telephony add support for sending dtmf codesnnadds new interfaces to telephonymanagern senddtmfstring send a string of dtmf characters asynchronouslyn startdtmf stopdtmf send a single dtmf character synchronouslyn iscallactive determine if there is an active foreground call availablen for sending dtmf codesn iscallholding determine if the foreground call is holdingn actionsenddtmf send a string of dtmf characters using a broadcast intentnid
2256,arm tegra usbphy fix warningnid  benoit gobi
2257,telephony add support for sending dtmf codesnnprovides implementation for new telephonymanager interfacesn dtmfsenderservice to send string of dtmf codes asynchronouslyn dtmfbroadcastreceiver to iate the sending of dtmf codesn based on a broadcast intentn phoneinterfacemanager implemented senddtmfstring startdtmfn stopdtmf iscallactive and iscallholding from telephonymanagernid
2258,usb gadget fsludc fix warningnid  benoit gobi
2259,telephony add sample dtmf code sending applicationnnthe application shows the different use cases ofnthe dtmf code sending interfacesnid
2260,changed the text input type of apn name to plain textnd the input type of the apn name text fieldnfrom email adress to plain text to facilitate theninput method choosing input after locale and notnrestricting the input to latin characters there isnno reason to restrict the apn name to latinncharacters onlynid
2261,arm tegra clock drop setrate on audio clocksnnnedoffby colin cross
2262,build add spare size flag to
2263,added check for input parameters in sendpdunnthis change is part of change  return error code whenncomposing pdu fails se
2264,initial commit for freetype plugin based on font engine manager a new approach proposed from bitstream incnid
2265,initial commit for font engine manager this new approach proposed from bitstream inc will allow to plugin any font engine apart from freetype this will be very much valuable for the oems who may need the different engine than freetype or a set of engines to support the localization or new font formats this new proposal allows android to support more than one font engine dynamically at runtimenid
2266,arm tegra clock redo clock lockingnngive each clock its own lock and remove all lock traversals fromnparent to child clocks to prevent abba deadlocksnnnedoffby colin cross
2267,arm tegra dvfs get rid of dvfslock and move laternnget rid of dvfslock replacing it with the cansleep flag on clocksnclocks with the cansleep flag set will lock a mutex before callingninto dvfsnnalso does the regulator api calls during late after thenregulators have been probednnnedoffby colin cross
2268,arm tegra suspend use clkgetratealllockednnnedoffby colin cross
2269,arm tegra clock add set rate to super clock opsnnnedoffby colin cross
2270,fix opcode tests for constclass and fillednewarraynnbug
2271,net wireless  fix race conditions for sysiocthreadnnnedoffby dmitry shmidt
2272,net wireless  update to version  for   failure set keepalive feature forevernnnedoffby dmitry shmidt
2273,arm tegra dvfs disable dvfs on sdmmcnnthe sdhci core calls clock functions with a spinlock held whichnconflicts with the mutex in dvfs clocks disable dvfs on sdmmcnfor nownnnedoffby colin cross
2274,fix opcode tests for sgetnnbug
2275,arm tegra driver for spdif audionncreates devspdifout and devspdifoutctl for playback and controlnsettings playback is workingnnnedoffby iliyan malchev
2276,fix opcode tests for newarray and newinstancennsome of these tests were trying to access a private inner classnof teststubs to trigger an illegalaccesserror however the testsnkept throwing an noclassdeffounderror instead this seems to benbecause the classesdex does not have the inner classes due tonthe setup done by builddalviksuite to get around this i changednthe byte code to try to access a package protected class insteadnto trigger the illegalaccesserrornnbug
2277,player unit test additionsn
2278,add kvp mechanism to set maxmin udp port numbern
2279,fix for redundant rule to copy getactualaacconfighn
2280,player engine changes and new interfaces for gapless playbackn
2281,aac lib improve adts searching capabilities needed for applications not using aac parsern
2282,add kvp mechanism to set maxmin udp port number minor additional chang
2283,cleanup of
2284,support  fast content switch minor additional chang
2285,added pvloggeremptylayouth as an optional logger output string format that appends nothing to the output stringn
2286,support  fast content switchn
2287,setfsiparam extension interface is implemented it was previously stubbed out fsi vol header or spspps is sent to the encoder as preferred encoding parameters minor additional chang
2288,code cleanup in pvmfnodeinterface minor additional chang
2289,improvements in aac file parser for adts recognitionn
2290,code cleanup in pvmfnodeinterfacen
2291,setfsiparam extension interface is implemented it was previously stubbed out fsi vol header or spspps is sent to the encoder as preferred encoding parameters minor additional chang
2292,introduce asm and condition support for arm in tool generated project filesn
2293,file parser and parser node modified to support a very large value of timescalen
2294,change to use audio output buffer size calculation to be based on time as in the omx audio dec node rather than based on a fixed number of samples as in the omx components defaultn
2295,support pe node feature selection for static buildsn
2296,setfsiparam extension interface is implemented it was previously stubbed out fsi vol header or spspps is sent to the encoder as preferred encoding parametersn
2297,arm tegra rearrange smp startup codennmove cpu architecturespecific code into  renamed  and rename headsmps to  since the operationsnit performs are specific for tegra   gary k
2298,arm tegra clocks save and restore pllp pllc and pllanid  gary k
2299,arm tegra pinmux restore pinmux registers in proper ordernid  gary k
2300,arm tegra save  registers in cpu context suspendnnthe  debug interface registers were not being saved as part ofnthe cpu suspend context this can cause attached jtag debuggers tonlose their mind after cpu hotplug or suspendnnoriginal author scott williams  gary k
2301,arm tegra  enable coreht on nonrunning cpusnnon exit from  enablecoresiteaccess was called to reset thencoreht interface and reenable access on all cpus however  would actually be running at the time the other cpu would stillnbe held in reset the attempt to unlock coreht on the nonrunningncpu would cause a stall on the apb bus while the coreht accessntimed out the apb stall would cause slink dma receiver overrunsnnrather than attempting to unlock coreht access up front for everyncpu each cpu is now responsible for unlocking  own access whennit starts upnnoriginal author scott williams   gary k
2302,perform caseinsensitive matches in mimetypematches to support  which use uppercased contenttypen
2303,add support for returning the most recent result as a string to the calling activityn
2304,update winsdk to put binaries in sdkplatformtoolsnnthis is requires as a follow up to change  moved platform tools from $sdkplatformtoolsnto $sdkplatformtoolsnnsdk bug
2305,added a permissions dialog in appsettingsnnadded a permissions dialog in the settings appnit is located under applicationsshow permissionsnthis dialog shows all permissions from all installed appsnand the apps which are using themnwhen you click on a child entry app you will be redirectednto the installedappdetailsnid
2306,cts verifier application skeletonnncreate a skeletal application for the cts verifier and testsnfor the verifier itself this is just a scaffold  include any tests yetnnyou should be be able to build the smoke tester and run thentests for the verifier usingnnruntest path ctsappsctsverifiernnthis should leave the smoke tester installed on your devicennanother way is build the app using make ctsnnadb install r outtargetproductgenericdataappctsverifierapknndoing make cts will deposit the apk into thenrepositorytestcases directory the app will be packaged as partnof the cts zip bundlenid
2307,revive the tinyandroid build optionnn update coremainmk to include the right toplevel directoriesn disable tasksapicheckmk in tinyandroid builds to prevent failuren
2308,add a gitignore for the module buildn
2309,first pass at aslr for androidnn retouch data is generated as part of the make processn added new edify functions for retouching and undoing retouchn extensions to ota script to supply retouch file lists into updaterscriptn compressed retouch files using time to decide onn location of libraries  bits of entropy  offset windown we make sure to print a warning message if unhandled relocaions ever appearn
2310,working implementation of retouch during the update processnn retouch data is stored alongside libraries in systemlibretouchn compressed retouch filesn use time and devrandom to decide on offset for randomizationn shift libraries down negative offset shifting up collides withn linker at
2311,in compoundbutton without text buttondrawable should be affected by gravityn
2312,adds support for ubfx to jit and disassemblernnthis introduces ubfx instruction generation abilities to the pixelflinger jitnand also modifies the component extraction function to generate theninstructionnnthe extract function contains defines to prevent generation of ubfx on  the jit itself retains the ability to produce the instruction even  patch only generates ubfx when mov and or bic  be used based onnthe trm this appears to be faster on  than using ubfx in all casesnnon startup pixelflinger jits three chunks of code ubfx improves these asnfollowsnn  blends a single colour into an  buffern before  instpixel after  instpixel improvement   blends  texture into an  buffer using alphan before  instpixel after  instpixel improvement   blends  texture into an  buffer using alphan before  instpixel after  instpixel improv
2313,fix log channel ialization at bioniclogdwritecnnlogchannelt contains fd member which is file descriptor fornexact logging channel change  ialization of this member in writetolog thusnlogging code is not working although not crashablennadditional details may be found in com
2314,arm update tegradefconfignnadd machventana iovmm fiqdebugger ashmem binder   ehci hcd scsi usbmassstorage touchscreennregulator   keyboardgpio and other miscellaneousnrelated configsnndisable debugllnid  gary k
2315,arm tegra usbphy power updown bias and otg config pad circuitrynnon tegra the utmip pad control logic is common to all utmip phys andnare controlled from  this adds a reference count to turn off thenpads when all utmip phy are offnid  benoit gobi
2316,arm tegra ventana add adb supportnid  gary k
2317,panjittouch add early suspend support to panjit  touchscreennid  gary k
2318,handle qemu option correctlyn
2319,telephony enhanced operator name string eons algorithmnnthe operator name for registered plmn should be displayed in thenfollowing order of  name should be derived from efoplefpnn  nitz  name from me  name from networknnthis algorithm implements this operator name deriving  specs  ts   operator name  ts  for ef data  ts  for plmn and lac coding  ts  for plmn matchingnid
2320,fixes calculation error when processing large partition sizesnid  boris bekkerman
2321,added actionvendorspecificheadseteventnextravendorspecificheadseteventargs andnextravendorspecificheadseteventcmd to androidbluetoothbluetoothdevicenid
2322,mms delivery report should display recent message detailsnnon sending sms to multiple recipients with delivery reports enablednthe delivery reports for all the recipients display the details of firstnrecipient since the time stamps are same to fix this need to query innthe ascending order and display the details of last message which is thenmost recent messagenid
2323,settings display eons name in phone statusnid
2324,some packagemanager feature testsnnbug      sanity tests to check that the packagemanager is reportingnthe correct features it  catch everything and some ofnthe tests like for checking for the existence of wifi orncamera  make a whole lot of sense finally test thatnfeatures not defined by the sdk  using the androidnnamespacennmoved feature tests for sensors and telephony into this classnto centralize all these feature tests thanks to george fornnearly all the code herenid
2325,fix buildnnrevert extracted components from oprofile  to be run on the phonenrevert remove files not needed to run on the devicennthis reverts commit  reverts commit
2326,arm tegra hack enable uart and clocks in uncompresshnnnedoffby colin cross
2327,merge commit  of  into mutextimedlocktestsnid
2328,usb gadget add utmip phy into to fsltegraudcnnnedoffby erik gil
2329,added support for wap messages of type applicationvndwapemnwbxmlnid
2330,arm tegra add  supportnnnedoffby colin cross
2331,clockmonotonic replaced with clockrealtimenntime delay check added to dotestthreadedlocknnglobal semaphore removednid
2332,arm tegra gpio add function to get chained irq for wakeupnid  colin cross
2333,mms test repo uploadnid
2334,usb gadget add preliminary tegra support to fsl drivernnbased on work by gary kingnnfurther abstraction of the chipidea core support needs to be donennnedoffby colin cross  erik gilling  gary k
2335,usb gadget fsludc wmb eptd struct when submitting to controllernnsince these get allocated dmacoherent instead of noncacheable in  we neednto do wmb before handing them to hardwarenid  colin cross  erik gil
2336,fix crash when separating multiple empty raw contactsnnthis changes the back reference logic a little bit to preventnadding back references where there is nothing to back referencenthis fixes weird cases where a user could hit new contact twicenwithout saving data and then try to separate the two dummyncontactsnid
2337,arm tegra harmony add sdhci devicesnid  colin cross
2338,arm tegra add platform devices to harmony board filennnedoffby erik gil
2339,arm mtd nvidia tegra nand controller drivernid  dima zavin  colin cross
2340,arm tegra move sdhci and  to generic devicescnnnedoffby erik gil
2341,arm enable configcpuidle supportnnadd archhascpuidlewait and archhasdefaultidle configurationnand expose defaultidle and cpuidlewaitnncpuidlewait implementation based on the implementation in the  treennnedoffby gary k
2342,arm tegra add tegragartdevice to devicescnnand define gart in iomaph rather than hardcoding its address innthe resource listnid  gary k
2343,net wireless  add wakelock processing to wext requestsnnnedoffby dmitry shmidt
2344,arm tegra cpu hotplug supportnnto save power smp tegra socs place nonboot cpus in reset when theynare removed from the scheduling cluster using cpu hotplugnnslave cpus save their contexts incl  and vfp state out to anreserved memory region cancel smp operation and write to the socnreset controller to disable themselves this is done with caches andnmmu enabled so care is taken to ensure that all the dirty context cachenlines are cleaned out to the poc before shutting downnnwhen reenabled slave cpus execute a hotplug boot routine which mirrorsnthe ial configuration performed by secondarystartup but afternenabling the mmu return to  which restores thensaved state from the context area and returns to platformcpudienna local page directory is maintained ially a copy of mm bynthe tegra hotplug code to ensure that all necessary context data andntext is properly mapped including   mappings fornthe code which reenables the mmu this page table will also be usednfor the idle and suspend save and resume routines for the master cpunnin pseudocode the hotplug startup routine is basicallynn invalidate icache btac tlb exclusive monitorn enable icache branch predictionn invalidate dcachen invalidate scu tagsn enable smpn setup page tables to tegrapgdn enable mmu  dcachen restore  from context arean change page table pointer to context from shutdownn restore stack registersn return to platformcpudiennnedoffby gary k
2345,add support for detecting compatible brands to
2346,arm tegra add support for legacy and apbdma interruptsnnmirror irq enable and disable operations on the legacy ppi systemninterrupt controller since the legacy controller is responsiblenfor responding to wakeup interrupts when the cpu is in  idle modennadd support for the system apb dma controller interruptsnnnedoffby gary k
2347,arm tegra add  idle mode wakeup timer sourcennthe  idle state can not be woken by the internal arm timersnso reserve the last apb system timer for use as an  wakeupntriggernnnedoffby gary k
2348,arm tegra ventana use tegragartdevice rather than local defionnid  gary k
2349,arm tegra move common platformdeviceregister into boardsnnnedoffby colin cross
2350,arm tegra harmony use tegragartdevice rather than local defionnid  gary k
2351,arm tegra add fiq supportnnnedoffby iliyan malchev
2352,arm tegra add gart device to devicescnid  gary k
2353,arm gic add giccpuexit functionnnadd a function to be called during cpu teardown which disablesninterrupts on the processor interface of the cpu which is beingndisablednnnedoffby gary k
2354,arm tegra add gart to iomaphnid  gary k
2355,arm gic add gicdistrestore gicdistexit routinesnnon systems with idle states which powergate the logic includingnthe gic such as tegra the gic distributor needs to be shut downnand restored on entry and exit from the architecture idle codennnedoffby gary k
2356,arm tegra add framebuffer  fixes from review by russell kingn use proper return  fixes from review by jaya kumarn comments on lcd resolutionn remove stub functionsn change dumpreg to prdebugn add unregisterframebuffer to  from colin crossn adjust debuggingnnnedoffby colin cross  erik gil
2357,arm tegra add spi platform devicesnnnedoffby erik gil
2358,monkey set the name of the process to distinguish from generic name appprocessnid
2359,support for exchange server ip port added always shows the port in use in the settings screennid
2360,fix fd leaking and deallocation freed resourcenid
2361,store plugin tests results in a tmp sub foldernid
2362,update expectations filennsome tests have been fixed and some deletednid
2363,mmc goldfish do not indicate spurious irq if we  have a transactionnnnedoffby san mehat
2364,cosmetic change cst  type in javadoc paramn
2365,arm omapkeypad add field to platformdata to pass input device namen
2366,mmc goldfish remove the userspace switches and get card detect from mmcstatennnedoffby san mehat
2367,fixed rebase errornnsynced with korgmastern
2368,arm etm add some missing locks and error checksnnit is not safe to call etmlock or etblock without holding thenmutex since another thread may also have unlocked the registersnnalso add some missing checks for valid etbregs in the etm sysfsnentriesnid  arve hjønnevåg
2369,add frequency count to extract style refactoring wizardnnthe frequency count lists the number of attributes with a given valuenout of the total number of elements to help make it obvious if annattribute is not specified for one or more elements without thisnonly the elements with a value would be shown or countednid
2370,arm etm return the entire trace buffer if it is empty after resetnnon some socs the read and write pointer are reset when the chipnresets but the trace buffer content is preserved if the statusnbits indicates that the buffer is empty and we have never startedntracing assume the buffer is full instead this can be usefulnif the system rebooted from a watchdog resetnid  arve hjønnevåg
2371,arm etm support multiple etmsptmsnnif more than one etm or ptm are present configure all of themnand enable the formatter in the etb this allows tracing on dualncore systems eg   arve hjønnevåg
2372,arm etm power down etms when tracing is not enablednnwithout this change a saw an  increase in idle power consumptionnon one deivce when trace support is compiled into the kernel nowni see the same increase only when tracingnid  arve hjønnevåg
2373,pm use dpm watchdog for resumenid  arve hjønnevåg
2374,uart enables the smart idle wakeup mode for uartsnnthis patch enables the smart idle wakeup mode when the uart drivernidle timeout happens this fixes uart console nonreponsivenessnnackedby ambresh k  deepak k
2375,layoutlib api update adapter binding callbacksnid
2376,improve error message when adt is older than layoutlibnid
2377,magnetic  orientation sensor are optionalnid
2378,fix attrparser tests on windowsnid
2379,pmem add some apis to reference and flush pmem files by file structnnthe api to refer to pmem files by fd should be depricated it canncause problems if a processes fd table changes while the kernel is processingndata in a pmem file this change adds the safer apinnnedoffby rebecca schultz zavin
2380,arm etm configure data tracingnnthe old code enabled data tracing but did not configure thenrange we now configure it to trace all data addresses by defaultnand add a tracedatarange attribute to change the range or disablendata tracingnid  arve hjønnevåg
2381,updated to copy prebuilt swtjar on
2382,typo fix in javadocnnspec  otherspecn
2383,added option to build link with libutiln
2384,force download progress bar to show progressnnsomehow progress bars in list viewws have problems with theirnindeterminate state whether the state is indeterminate isnactually indeterminate how ironic this forces the state tonnot be indeterminatennthis fix
2385,arm msm oprofile enable oprofile and preserve performance countersnnnedoffby ben cheng
2386,allows sdkcleansh work on freebsdn
2387,add the fixedgridlayout sample codennthis time with an androidmknnps hi from google ion
2388,allows building of sdl from distrib folder on  added include path on  added freebsd related buildcflags optionn
2389,added sdlconfigh to use on freebsdn
2390,this patch rewrites commoninvokeold for the  fast interpreter the implementation is similar to what is done for the  codentesting shows the patch provides a performance boost to benchmarks such as caffeine mark when testing the simulator build on an intelr  quad cpu   the string score for caffeine mark improved by  the method score improved by  and the overall score improved by  patch is one of our incremental efforts to merge some   fast interpreter features in  to the  directoryn
2391,general changes to support freebsd system in building scriptsn
2392,yaffs better control over rename shadowingnnthe shadowing mechanism is used to ensure that the rightninterlocking happens when an object is renamed over an existing objectnnextreme power fail stress testing revealed that garbage collection couldndisrupt the shadowing process causing object lossnnthis fixes the problem and has survived millions of simulated power failuresnid  charles man
2393,add netinetinh when building on bsdnnprovides declaration of ipprotoicmpn
2394,arm omapkeypad add field to platformdata to pass input device namesnnthis is useful in cases where the users of the keypad data expect to seensomething more platformspecific than omapkeypadnnnedoffby paul eastham
2395,remove unused spec progress toolnnthis is a tool used to report how much javadoc the api hasnid
2396,arm msm mdp refer to image memory by file struct instead of fdnnwhen down refing the file data used to blit use the file struct insteadnof the fd in case the file descriptor was deleted during the blitnnnedoffby rebecca schultz zavin
2397,general changes to be able to build on  linking with  added  choosing ossn
2398,pmem remove unused depricated fd api to pmemnnnedoffby rebecca schultz zavin
2399,added config file related to
2400,allowed building on freebsd same timezone related code as for linuxn
2401,fix possible memory leakingnid
2402,egl need to add checks for isvalid before using a surfacenn if isvalid is not checked there is a possibility for a seg faultn this has been observed on phones using the sw open gl library whenn running google navigation and changing orientationnid
2403,fix possible memory issuesnnit might lead to memory leaking or null ptr deferencingnid
2404,fix mac sdk buildsnid
2405,fix file descriptors leakingnid
2406,show previews of resources in the resource  reference choosersnnthis is a first cut of previews in the resource chooser and thenreference chooser when the selected resource is a drawable or ancolor then a tray is shown on the right hand side of the dialog withna preview of the given drawable or color if the color is a statenlist then the fallback color is shownnnthe previews only work for resourcereference choosers associatednwith a layout editor because it looks up the associated renderingnconfiguration from that editor this should be made more genericnsuch that it can work for example when bringing up the resourcenchooser from a manifest form editornid
2407,fix layout action bar selection from outlinennthe layout action bar needs to update its selection when the selectionnorigin is the outline rather than the canvasnid
2408,arm  gpio fix setting irqwaken bitsnnsetting the irqwaken bit was overwriting previous irqwaken bitsncausing only the last bit set to take effect resulting in lostnwakeups when the gpio controller is in idlennreplace direct writes to irqwaken with writes to setwkuena andnclearwkuennid  colin cross
2409,really fix the mac sdk build this time dohnid
2410,make division by zero return an errornnattempts by the user to divide by zero now return an error instead of infy addressing the issue described in  this is achieved by reusing functionality fir handling nans regarding dividing by zero   viktor smedbi
2411,update changestxt for adt  and
2412,arm  gpio add locking around calls to setgpiotriggeringnnsetgpiotriggering uses readmodifywrite on bank registersnlock  around all calls to it to prevent registerncorruption if two cpus access gpios in the same bank at thensame timenid  colin cross
2413,fix crop tests on windows rgb endianess issuennsince endianess can change between an input and outputnimage in swtutils  important to not test pixels asnpure int values but instead use the correct rgb palettenmappingnid
2414,gps changes to enable ondemand data call flow for cdma connectionsnnin the cdma case we do not get a valid apn on a data connection requestnto the connectivity manager a fix is put in so that even if we get annull apn we populate this field before we call nativeagpsdataconnopennmethod to avoid a run time exceptionnid
2415,make debug key expire in  years instead of   year expiration on the default debug keynis made annoying since we  regenerate itnautomatically when it expiresnnalso added a simple unit test to check key creationnand expiration datennsdk bug
2416,fix memory leakingnnthere is a possible memory leaking when lo is allocated butnthe  is not in this case we should free the lo and then returnnid
2417,fix possible memory leakingnid
2418,added pthread library when building on freebsdn
2419,arm msm move clock defions to devicescnnalso add the begininngs for having a master list of clocks and anbitmask for which  they are used bynnnedoffby dima zavin
2420,updated errorshendianh to work on freebsd new macrondefions havesysendianh see   updated executablepath to be aware of buffer overflow innexecutablepathlinuxcpp added same function for  updated aapt makefile to perform linkage with pthread  updated utils makefile to use  due to usage of  that  exist when  used on freebsdn
2421,usb musb   reset setpower function in transceivernnwith this patch the setpower function of the transceiver will only be resetnto the dummy version if it was not already setnnnedoffby rebecca schultz zavin
2422,added files for adb to be compilable updated makefilen usbfreebsdc is more stub than fullworking  getmypath receives two parameters now some changesn to be more correct with size of buffern
2423,typo fix in javadocnnthrow  throwsndeprecated  deprecatedn
2424,omaphdq add support for sdq devicesnnnedoffby rebecca schultz zavin
2425,bluetooth fix race condition with  information requestnnwhen two  connections are requested quickly after the acl link hasnbeen established there exists a window for a race condition where anconnection request is sent before the information response has beennreceived any connection request should only be sent after an exchangenof the extended features mask has been finishednnnedoffby marcel holtmann
2426,changed sprintf  snprintfnnupdated to snprintf additionaly fixed code style mixing per filenremoved typosn
2427,bluetooth fix double  connection requestnnif the remote  server uses authentication pending stage andnencryption is enabled it can happen that a  connection request isnsent twice due to a race condition in the connection state machinennwhen the remote side indicates any kind of connection pending thenntrack this state and skip sending of  commands for this periodnnnedoffby marcel holtmann
2428,added dummy support for usb transport on  updated getmypath functions to be safer and more  unsigned  sizet in certain  some code style changesn
2429,new bluetoothsocket apinnmodeled on blocking javanetsocket and javanetserversocket librarynnpublic interface isnnpublic final class bluetoothsocket implements closeable n public static bluetoothsocket createrfcommsocketstring address int port throws ioexceptionn public static bluetoothsocket createinsecurerfcommsocketstring address int port throws ioexceptionnn public void connect throws ioexceptionn public void close throws ioexceptionnn public string getaddressn public inputstream getinputstream throws ioexceptionn public outputstream getoutputstream throws ioexceptionnnnpublic final class bluetoothserversocket implements closeable n public static bluetoothserversocket listenusingrfcommonint port throws ioexceptionn public static bluetoothserversocket listenusingunsecurerfcommonint port throws ioexceptionnn public bluetoothsocket accept throws ioexceptionn public bluetoothsocket acceptint timeout throws ioexceptionn public void close throws ioexceptionnnn
2430,patch for   through astyle for formattingn
2431,remove databasejava apinnthis provided sdp functionality to java but is not currently used by any appsnni will shortly be providing sdp functionality in a new api but it will benquite different to this one and in the meantime keeping this stale codenupdated with other api changes is a painn
2432,bluetooth add sco fallback for esco connection attemptsnnwhen attempting to setup esco connections it can happen that some linknmanager implementations fail to properly negotiate the esco parametersnand thus fail the esco setup normally the link manager is responsiblenfor the negotiation of the parameters and actually fallback to sco ifnno agreement can be reached in cases where the link manager is just toonstupid then at least try to establish a sco link if esco failsnnfor the bluetooth devices with edr support this includes handling packetntypes of edr basebands this is particular tricky since for the edr thenlogic of enablingdisabling one specific packet type is turned aroundnthis fix contains an extra bitmask to disable esco edr packet whenntrying to fallback to a sco connectionnnnedoffby marcel holtmann
2433,fixed declaration of mkbootimgn
2434,add support for the tv dpinnthis is the dpi for the  resolution used byngoogle tv  a special dpi not a bucket dpi likenthe other one so the handling is a bit differentnid
2435,pm  correct sysencfggrp register offsetnnsysencfggrp register offset in  is wrongly set to  fixes the same wo this error enabling tps message was seen duringnboot up timennackedby nishanth menon  vishwanath b
2436,add support for the tv dpinid
2437,add proper probe function provide hardware informationnnnedoffby farmer tseng  san mehat
2438,removed parsing support for wmf amr tracks from  file parsern
2439,arm msm defconfig add loop support to defconfignnnedoffby san mehat
2440,arm msm htcacoustic use smem and rpc to write acoustic tablennnedoffby san mehat
2441,settings display message to indicate pinpuk status changesns done to display retry counter on wrong entry of  message to indicate code  blocked  verification as per certain carrier requirementsnid
2442,phone display message to indicate pinpuk status changesns done to display retry counter on wrong entry of  message to indicate code  blocked  verification as per certain carrier requirementsnid
2443,dont check the gps if device do not havenid
2444,add nfc modules by defaultnnthey had to be disabled for a while because of a crashing issuenthat has since been resolvednid
2445,audio latency testsnnadd two tests to gauge audio latency the cold latency test measuresnhow fast data can be read from freshly created audiorecord the warmnlatency test measures how long it takes to record a sound afterncreaing an audiorecord and audiotrack and waiting a bitnid
2446,revert   race btn suspend and  access from  threadnnwe have a better patch from kevin to fix this revert to get original code statennthis reverts commit   todd poynor
2447,omap trigger pending runtime pm from system pmnid  todd poynor  kevin hilman
2448,usb musb reset controller at timennunder some circumstances it appears that various bootloaders leave the musbncontroller in a weird state so reset it at nnnedoffby paul eastham
2449,removed linking with libdl on freebsd cause needed functions are in libcn
2450,removed ldl when compiling for freesbdn
2451,arm halibut enable fake battery devicennnedoffby iliyan malchev
2452,avc configuration modifications minor additional chang
2453,arm msm rpcrouter add support for backwards compatibilitynnnedoffby iliyan malchev
2454,cleanup in the android folder logging whitespace etcn
2455,fix use of memset functionnnmemset was called with is second and third arguments reversed resultingnin a virtual noopn
2456,arm msm usb gadget usb electrical test modes supportnnadd support for  testj testk testpkt electricalntest modes to facilitate compliance testing highspeed capablenusb devices must support above mentioned test modesnnackedby allam suresh reddi
2457,arm msm move the adsp queues into machmsmadsphnnallows access to the adsp queues to code outside of archarmmachmsmnnnedoffby iliyan malchev
2458,change in oscl statfs to accomodate blank pathsn
2459,arm msm usb gadget support remote wakeup getsetclear featuresnnsupport getsetclear features on remote wakeup so that host cannread enable or disable remote wakeup supportnnackedby allam suresh reddi
2460,add $targetdevicedirsystemprop to be a prerequisitennif $targetdevicedirsystemprop exists it should bena prerequisite of $installedbuildproptargetnas the following rules statenid
2461,improvements in omx test applicationn
2462,arm msm usb gadget support usb protocol set feature  requires to support set feature command to be supportednset feature command can be used to set the halt on an endpoint andnto enabledisbale remote wakeup currently we are supporting onlynset feture on endpoint onlynnackedby allam suresh reddi
2463,arm msm disable framebuffer consolennnedoffby iliyan malchev
2464,fix crash in  stack unit testn
2465,arm msm usb gadget support usb protocol get status  requires support for get status command which can be usednto get status of device endpoint or interface it is used by usbcvnto verify if previous set command was successful or notnnackedby allam suresh reddi
2466,optional use of  strings in resource bundlesnnallows the use of  for packing resources instead of thendefault of  for java when strings are extracted from thenresstringpool they are converted to  and the result isncached for subsequent callsnnwhen using aapt to package add in the  switch to pack thenresources using  this will result in the value key andntype strings as well as the compiled xml string values takingnsignificantly less space in the final application package innmost scenariosnid
2467,arm msm adsp move struct adsppmeminfo to msmadsphnnnedoffby iliyan malchev
2468,fix rebuffering after pvmfinfobufferingcomplete at  ppbn
2469,add proper probe function provide hardware informationnnnedoffby farmer tseng  san mehat
2470,arm msm htc make htcacoustic and htcheadset not run on halibutnnnedoffby iliyan malchev
2471,avc configuration modificationsn
2472,include  instead of  the later  define byte ordern
2473,arm halibut enable msmfbnnnedoffby iliyan malchev
2474,add proper probe function provide hardware informationnnnedoffby farmer tseng  san mehat
2475,changes in android folder to syncup with eclair changesn
2476,added note about purpose of first line commentingn
2477,arm msm add simple power supply driver for qcom dev boardsnnnedoffby dima zavin
2478,add error handling at buffer memory allocation errorn
2479,some changes to perform ial building steps on  added applyfreebsdpatches and applyplatformpatches defionnin defionsmk to process paths to interpretators at file headersnfrom binbash to usrlocalbinbash that allows keep source treenunchanged and shared with main repositary updated shell variablento proper value if system is  added  with some tuning of variables for  added new hostos type  freebsd some related  findjdktoolsjar now can guess path to toolsjar on freebsdn
2480,arm halibut add  devicennnedoffby iliyan malchev
2481,arm etm  try to clear the buffer full status after reading the buffernnif the write address was at the end of the buffer toggling the tracencapture bit would set the ramfull status instead of clearing it andnif any of the stop bits in the formatter is set toggling the tracencapture bit may not do anythingnninstead use the read position to find out if the data has alreadynbeen returnednnthis also fixes the read function so it works when the trace buffer isnlarger than the buffer passed in from user space the old versionnwould reset the trace buffer pointers after every read so the secondncall to read would always return   arve hjønnevåg
2482,dynamically generated resources id were not used in id resolutionnndynamic ids are generated when requesting an int value from antypename pair where  and the name  any existing id this is possible when ids are declared inlinenand the layout file has not been saved for instance so the r classnhas not been regenerated yetnnthere is a reverse method querying for a typename pair based onnan integer this methods was not looking for generated id and wouldnreturn null instead of the name associated with the generated idnid
2483,arm etm allow range selectionnntrace kernel text segment by default as before allow tracing of othernranges by writing a range to sysdevicesetmtracerange or to traceneverything by writing    arve hjønnevåg
2484,clean up videoviewtestnnremove testonkeydown since it fails in batch mode remove emptyntests that were cluttering up the filenid
2485,remove test annotation related toolsnnremoves some unused tools used to process the annotationsnon test methodsnid
2486,version updates for sdkinfo header files and playerdriver documentation updatesn
2487,arm msm cpufreq adjust governor polling frequencynnnedoffby mike chan
2488,updated comment about binbash vs usrlocalbinbash issuen
2489,update unit test golden files to reflect recent changesnid
2490,add support for a dns cache per interfacenninitial commit for dns cache per interfacenadded a type that holds a reference to ancache and name of associated interfacenaddress of interface name serversnassociated with an interface etcnnnew functions to set default interfacenaddress of name servers etcnid
2491,trim trailing whitespace in code completion test golden filesnnthere are no semantic changesnid
2492,targetarm move vstrcpy to helperandroidcnid
2493,select cuts surrogate pairsnnselection does not consider surrogate pairs when selecting text thisncan lead to selection edges cutting complex characters in halfnsetselection now look at the char at the selection edges and move thenedge to include any complex character that might get cut by thenselectionnid
2494,release the recording frame in the cameraservicennremoving the test for lockifmessagewanted since when thisnwas triggered the recording frame was not releasednnlockifmessagewanted was only an extra safety check and notnmandatorynid
2495,targetarm integrate upstream arm translatornnthe new translator has the following benefitsnn faster emulation of  code through improved jitn proper support for  and neonn rebuilding the fulleng platform images for  resultsn in additionnal speed increases aka  rocksnnnote that as an interesting side effect neon machine code is generallynslower than the equivalent c code it is supposed to replace when run insidenthe emulator this can be explained by the fact that for now the translatornsimply translates each neon instruction into a series of sequential hostninstructions and also requires overhead for packingunpackingsaturationnetcnnthis change has been tested by running the fulleng platform imagenrebuilt for  and neon and using an appropriate kernel  the system could bootnand seems to work perfectly not a single issue has been experiencednduring testing on a  ghz xeon cpu the image boots in about  secondsncompared to  seconds for a vanilla one without this emulator patchnnthanks to peter maydell at linaro and arm with his hard work to make thisnhappen first in upstream and now on androidnnthis integration is based on the meego git repositoryngitgitoriousorgqemumaemoqemugit using the following hashnn  top of which the following upstream patch has been appliednwith recommendation from peternn  chose this repository because it was the closest to the previousnintegrate we will probably use the linaro ones for future work on thisnpart of the emulatornid
2496,copy verifier results to clipboardnnbug
2497,increment version to
2498,make code completion skip the layout prefix if necessarynnthe code completion prefix matcher already lets you skip thennamespace so you can type width and it will expand tonandroidwidthnnthis changeset adds layout to this scheme so you can typenmargin and this will match layoutmargin as wellnid
2499,arm etm  require clock controlnnif clkget fail assume the etb does not need a separate clocknid  arve hjønnevåg
2500,fix value of dynamic resource ids used when renderingnid
2501,arm etm  limit tracing to only nonsecure codennon some systems kernel code is considered secure and this codenalready limits tracing to the kernel text segment which resultsnin no trace datanid  arve hjønnevåg
2502,add tostring to resourcereferencenid
2503,arm  fix wifi pwena gpio settingnnnedoffby dmitry shmidt
2504,arm omap add muxing  and  dmitry shmidt
2505,made expr more posixyn
2506,fix ldm addressing mode disassemblynnthe pixelflinger disassembler does not handle ldm addressing modes correctlynassuming that the p and u bits in the instruction mean the same in both ldm andnstm this results in the disassembler producing sequences likenn stmfd    n n n ldmea    small patch fixes it by eoring the p and u bits with the loadstore bitnid
2507,arm msm move the adsp queues into machmsmadsphnnallows access to the adsp queues to code outside of archarmmachmsmnnnedoffby iliyan malchev
2508,arm msm usb gadget add support to iate remote wakeup through sysfsnnadd support to iate remote wakeup through sysfs interface writing datanto this file results in remote wakeupnnnedoffby mike lockwood
2509,updated envsetupsh to use  instead of native  on freebsdn
2510,arm msm clock ialize the hlist correctlynnnedoffby chiachi yeh
2511,arm msm support for amss  iliyan malchev
2512,adds ability to choose jdk version on freebsd via commonjavacversion  added fallback to jdk  when building sdk make  updated findjdktoolsjarsh to be more solid scriptn added ability to find toolsjar for exact jdk versionn on  updated droiddocmk to specify jdk version beforen executing of droiddocn
2513,adds  support to pixelflingernn add support for  to the disassemblern add encoding of the  instruction to the pixelflinger jitnnintroducing the  instruction allows removal of some masking code and isnbeneficial from a pipeline point of view lots of  followed by mulnsequencesnnalso further rescheduling and use of smulwb brings extra performancenimprovementsnn use  in bilinear filtered texturingnnuses  to extract channels for simd operations rather than creating andnanding with masks saves a register and is faster on  as  result cannfeed into first stage of multiply unlike andnnalso used smulwb rather than smulbb which allows removal of movs used tonrescale resultsnncode has been scheduled for  pipeline specifically aiming to allownmultiplies to issue in pipeline  for efficient dual issue operationnntesting on spritemethodtest httpcodegooglecompappsforandroid  improvement  vs  fpsnnsmulbb to smulwb trick could be used in  code path but this  beennimplementedn
2514,merge commit  into freebsdportnnconflictsntenvsetupshn
2515,arm msm htcacoustic use smem and rpc to write acoustic tablennnedoffby san mehat
2516,neon shortcut for flat colour blending into  is a shortcut for the needs  it requires blending a single  value into a   used when fading out the screen eg when a modal requester popsupnnthe pf jit produces code for this using  instructionspixel the neonnimplementation requires  instructionspixel performance  beennbenchmarked but the improvement is quite visiblennthis code has only been tested by inspection of the fading effect describednabove when pressholding a finger on the home screen to pop up thenshortcutswidgetsfolderswallpaper requesternnalong with the neon version a fallback  implementation is also providednnthis arm version of  is not fully optimised but is a reasonablenimplementation and better than the version produced by the jit it is here asna fallback if neon is not availablen
2517,arm msm adsp move struct adsppmeminfo to msmadsphnnnedoffby iliyan malchev
2518,arm msm audmgr avoid leaking audio manager handlesnna race condition would allow audio manager handles to be leaked innsituations where the driver was rapidly closed and reopened eventuallynleading to the baseband being incapable of creating a new handle andnthen a panic and rebootnnnedoffby brian swetland
2519,made host dependent and independent parts of envsetupsh more separatednnmoved host dependent declarations of functions to the begining of scriptd to use gmake on freebsd instead of maken
2520,arm machgoldfish pdevbus fix enumeration ordering of devicesnnnedoffby san mehat
2521,cpufreq governor poll frequency tuneables exported in confignnnedoffby mike chan
2522,java version and shell choosing  removed not needed duplicated shell  updated java version checking for freebsd it is chosen as usual in javacmknhowever check is performed in the same place as for other oss  quick and dirtynworks for sdk targetnfor other targets needs additionl workn
2523,mmc goldfish add cmdtimeout irq support and clean up card detect a bitnn this patch adds support for the new cmdtimeout irq status which is indicatednwhen we make a request to a card that  there also carddetection is kickednoff by the mmc stack after mmcaddhost so the explicit call causes annextra detection cyclennnedoffby san mehat
2524,changes related to change  by josh  made freebsd version of findjdktoolsjarsh more  moved shell setting to configmk this will make makefiles usen bash when invoked while build process and when invoked from envsetupshn
2525,revert arm msm audmgr avoid leaking audio manager handlesnnthis reverts commit  this change crashes bugs when changing the audio pathnfor bluetooth audion
2526,updated envsetupsh to be more  several cosmetic  fixed mgrep in linux related  added cc extension to sgrepn
2527,cosmetic fixes in cssjsn
2528,this patch rewrites commoninvokeold for the  fast interpreter the implementation is similar to what is done for the  codentesting shows the patch provides a performance boost to benchmarks such as caffeine mark when testing the simulator build on an intelr  quad cpu   the string score for caffeine mark improved by  the method score improved by  and the overall score improved by  patch is one of our incremental efforts to merge some   fast interpreter features in  to the  directoryn
2529,change log mention gdbserver crash fixnn minor formattingnid
2530,add more cts testsnnthese tests cover streaming  over http streaming the same filenagain streaming with a redirect streaming with unknown contentnlength streaming ogg vorbis streaming ogg vorbis with redirectnand streaming ogg vorbis with unknown content lengthnid
2531,merge branch  into  dmitry shmidt
2532,telephonycat implementing bip commands and displaying alphaidnnthis change implements the bip command openchannel closechannelnsenddata receivedata and displays the alphaid to user for confirmationnid
2533,stk app implementing bip commands and displaying alphaidnnthis change implements the bip commandsnopenchannel closechannelreceivedatasenddatagetchannelstatusnand displays the alphaid to user for confirmationnndepends on
2534,usb android gadget add remote wakeup attribute to android functionnnadd remote wakeup attribute to configuration descriptor of androidnfunction to advertise remote wakeup capability to hostnnackedby allam suresh reddy  mike lockwood
2535,stk emulation adding stk support to the emulatornnstk proactive commands are issued as  commandsnndepends on
2536,telephony added stk proactive commands support for emulatornndepends on
2537,net wireless bcmdhd fix watchdog firing in softirq on removalnnnedoffby dmitry shmidt
2538,ensure all build scripts use tmpndk$usernnthis patch ensures that all the scripts used to rebuild the ndknare putting stuff under tmpndk$user this allows several usersnto use the same ndk installation in parallelnnmore cleanup will soon follownid
2539,buildstlportsh make script errorproofnnthis patch improves buildstlportsh by making it check that it cannuse a fully complete ndk installation to perform the stlport librariesnbuild before that it was easy to call the script from an incompletenndk installation eg from the ndk git repository itself withoutnhaving called buildplatformssh or built the toolchain previouslynnalso modify rebuildallprebuiltsh to properly call buildplatformsshnbefore building the stlport libraries as a secondary effect this fixesnthe rebuildallprebuiltsh  casennnote that this breaks the darwinssh option but this issue will benaddressed in a later patch you can still run buildallprebuiltshndirectly on a darwin machine to generate the binariesnid
2540,classes with virtual methods should have virtual destructors toon
2541,add support for linking against eclairspecific librariesn
2542,add support for linking against eclairspecific libraries minor additional chang
2543,parser node returning the same command twicen
2544,revert arm msm htcacoustic use smem and rpc to write acoustic tablennthis reverts commit  bt audion
2545,hang in player engine when cancel called in preparen
2546,fixed ppp bug in android telephone frameworkn
2547,in aac and amr parser nodes usagecomplete should be called only when the content is protectedn
2548,arm msm smdrpc fix wakelock leak for interrupted rpc callreplynndiscard incoming packets when rpccallreply is not expecting a replynalways process for servernnnedoffby mike chan
2549,pmem remove error message when calling getpmemaddrnnthis call is used from the mdp driver to determine if the memorynis in pmem or in the fb we will encounter this case during normal operationnso this error message should be removednnnedoffby rebecca schultz zavin
2550,improve fillbufferdoneprocessing and parseavcfullframeintonals in omx encoder nodesn
2551,omx encoder node bug in processing sps pps for components that produce nal start codesn
2552,use clockgettimemonotonic instead of gettimeofday on linux platform to have a consistent clockn
2553,usb gadget massstorage fix mass storage panic during pc rebootnnsubmitted on behalf of ravikumar vembu  jared suttles  mike lockwood
2554,in pvplayerenginedoverifyandsetplayerparameter hardcoded enum value is wrongn
2555,skip the test of sensor which is not supported on devicennhandle accelerometer mgnetic field sensor and orientation sensornas well as temperature sendor since all of them are optionalnid
2556,bluetooth fix  buildnnnedoffby arve hjønnevåg
2557,fixedfor nontelephony device the getdeviceid will return nullnid
2558,net fix  buildnnnedoffby arve hjønnevåg
2559,get a location provider if the device  support gpsnnif the device  support gps it is impossible to get a locationnprovider so before getting location provider confirm whether thendevice support gps or notnid
2560,fixing typo in comment in surfaceflingercppn
2561,fixing layerscreenshot bitmap config valuen
2562,arm msm fix  buildnnnedoffby arve hjønnevåg
2563,arm msm smd fix  buildnnnedoffby arve hjønnevåg
2564,cpufreq interactive hook into pmidle on timer expirynnensure cpufreq interactive  pmidle hook is insertednafter cpuidle sets its idle routine to avoid modifying genericncode do this on a timer set  seconds after governor startnid  todd poynor
2565,arm cache ensure mva is cacheline aligned in flushkerndcacheareannthe  and  implementations of flushkerndcachearea do not alignnthe passed mva to the size of a cacheline in the data cache if anmisaligned address is used only a subset of the requested area willnbe flushed this has been observed to cause failures in smp boot wherenthe secondarydata ialised by the primary cpu is not cachelinenaligned causing the secondary cpus to read incorrect values for theirnpgd and stack pointersnnthis patch ensures that the base address is cacheline aligned beforenflushing the dcachennackedby catalin marinas  will deacon
2566,arm mm fix racy asid rollover broadcast on smp platformsnnif asid rollover is detected on a cpu in an smp system a synchronousnipi call is made to force the secondaries to reallocate their currentnasidsnnthere is a problem where a cpu may be interrupted in the cpuswitchmmncode with the context id held in  after servicing the ipi thencontext id register will be updated with an asid from the previousngeneration polluting the tlb for when that asid becomes valid in thennew generationnnthis patch disables interrupts during cpuswitchmm for smp systemsnpreventing incoming rollover broadcasts from being serviced while thenregister state is inconsistent additionally the context resetting codenis modified to call cpuswitchmm rather than setting the context idnregister directly so that the ttbr always agrees with the asidnnackedby catalin marinas  will deacon
2567,dont check the gps if devic do not havenid
2568,fixed when camera number is zero this two case will failnid
2569,libgenallocc remove unmatched writelock in genpooldestroynnthere is a call to writelock in genpooldestroy which is not balancednby any corresponding writeunlock this causes problems with preemptionnbecause the preemptiondisable counter is incremented in the writelockncall but never decremented by any call to writeunlock this bug isngenpooldestroy and one of them is  archspecific codennnedoffby zygo blaxell  jiri kosina  steve wise   andrew morton  linus torvald
2570,modify logging in pvme test so that  consistent with the other logging minor additional chang
2571,arm msm support for amss  iliyan malchev
2572,amr file parser improvementsn
2573,arm msm rpcrouter add support for backwards compatibilitynnnedoffby iliyan malchev
2574,adding a new api to turn silence insertion logic on or off  decoder  audio componentn
2575,yaffs changes for  add writebeginwriteend etcnnmake modifications for yaffs to work with the new writebeginend interfacennnedoffby arve hjønnevåg
2576,map key  to  for android mediascanner to recognize the keyn
2577,input keyreset fix  buildnnnedoffby arve hjønnevåg
2578,introduce asm and condition support for arm in tool generated project files minor additional chang
2579,switch use devicecreate instead of devicecreatedrvdatanndevicecreatedrvdata is obsoletennnedoffby arve hjønnevåg
2580,aacdecoder unit test app crashing in nightly buildn
2581,timedoutput use devicecreate instead of devicecreatedrvdatanndevicecreatedrvdata is obsoletennnedoffby arve hjønnevåg
2582,modify logging in pvme test so that  consistent with the other loggingn
2583,modify logging in pvme test so that  consistent with the other logging minor additional chang
2584,introduce wnopsabi into android makefilesn
2585,binder fix  buildnnnedoffby arve hjønnevåg
2586,ff parser should not pass the xinglame header frame to dec noden
2587,arm msm  recover from a hung  bus stuck in busynn nedoffby thomas tsai thomastsaihtccomn nedoffby san mehat sangooglecomn
2588,arm msm trout fix touchscreen power onoff sequencennlevel shifter gpio was not set to be an outputnnnedoffby mike chan
2589,small spanish language correctionn
2590,removing import statements from aidlgenerated java filesnnaidl generates unnecessary import statements these cause warningsnwithin eclipse when the default eclipse warnings settings are usednthis is inconvenient since the generated java files are notneditable some pesky organisations have a zerowarnings policyntoo so  no option but to fiddle with the eclipse settingsnnthis patch ensures that all usages of class names within thengenerated code are fullyqualified in practice they were nearlynall fullyqualified already and this patch also removes thengeneration of the import statements since they are redundantnif  using fullyqualified names everywherennthis should fix issue  in the google code android issues  would appreciate if somebody who knows exactly how  could confirm that  no reason  statementsnwould have been necessary except for the bits  fixed i thinknunqualified names were used much more frequently in early versionsnof aidl which might explain why import statements are generatednso eagerlyn
2591,improving comments in makewindowssdkshnnthis commit adds notes about some cygwin packages which i found werenrequired and a few other things which cropped up it has no functionalnchangesnnlist of packages amended as per request by raphael mollnralfandroidcomn
2592,preview wrapper copy userspace structs to kernelnnthis patchn the userspace structs is not copped this patch trying to do thatnnnedoffby stanimir varbanov  dominic curran
2593,getactualaacconfig add mime type as input to process properly rfc  type streams minor additional chang
2594,preview wrapper get crop fixnnthis patchn fixes get crop ioctl to return properlynnnedoffby stanimir varbanov  dominic curran
2595,remove an extra call of resetdata from threadlogoff in androidsurfaceoutputn
2596,preview wrapper cleanup remove tabsnnthis patchn code cleanup and more readblennnedoffby stanimir varbanov  dominic curran
2597,getactualaacconfig add mime type as input to process properly rfc  type streamsn
2598,preview wrapper mutex using cleanupnnthis patchn init preview wrapper protect mutex on driver timennnedoffby stanimir varbanov  dominic curran
2599,getactualaacconfig add mime type as input to process properly rfc  type streams minor additional chang
2600,adds missing copytofromuser in resizer wrappernnsome the usermode structures were being manipulated directly in thenresizer wrappers ioctl handlernadded the use of copytouser where appropriatennalso removes an unused user pointer arg that was being passed tonrszstartnnnedoffby dominic curran
2601,adds missing copytofromuser in preview wrappernnsome the usermode structures were being manipulated directly in thenpreview wrappers ioctl handlernadded the use of copytousercopyfromuser where appropriatennalso removes an unused user pointer arg that was being passed tonprevdopreviewnnnedoffby dominic curran
2602,use the mirrorsn
2603,video and timer gets stuck on repositioning while the audio continuesn
2604,add a few missing headersnnfixes build with gcc  alexey zaytsev
2605,improving comments in makewindowssdkshnnthis commit adds notes about some cygwin packages which i found werenrequired and a few other things which cropped up it has no functionalnchangesnnlist of packages amended as per request by raphael mollnralfandroidcomn
2606,failures in javabased mediaframework unit test casesn
2607,add proper probe function provide hardware informationnnnedoffby farmer tseng  san mehat
2608,readframebuffer injectevents permissions to  permissions are those that are required to write a remotecontrolnsolution for an android device currently  marked  which i believe means no thirdparty can use them thisnpatch alters them to being  instead this means third partynsoftware can use them but a large warning will pop up explaining thatnthe user is compromising control of their device again assuming  things rightnnsome other pointsnn i have not amended the strings associated with these permissionsn partly because  ok and partly because it involvesn translations for what  worth the engb strings aren   frame    application to usen read the content of the frame    keys and controln    an application ton deliver its own input events key presses etc to othern applications malicious applications can use this to take overn the  i tend to think that the  description is fine but then  label and description should probably have   changed to  since nontechies tend not to know whatn a frame buffer means also it has two verbs in itnn however if you agree  still inclined to submit that as an separate commit because i think the current text is probably goodn enough for now and the latter patch will be complex as it willn involve translations question is there anyone in the androidn project who can help with translations or would the committer ben expected to patch each of the filesnn currently there are no thirdpartycallable apis which use then readframebuffer permission the only way to use it is to arrangen to send a  transaction code to the surfaceflinger which willn reply with a parcel containing the screen shot obviously this isn not an official api but it can be done through some minor hacksn obviously thirdparties calling things this way raisesn compatibility issues in the future so i am preparing a separaten patch which will provide some more official api which  calls that transaction codenn the same sort of issues apply to event injection and again  submit a separate patchnn i get the impression that the screenshotting stuff has been left inn surfaceflinger just for occasional use inside google and was nevern really intended to be made publiclyaccessible you may thereforen want to reject this patch on the grounds that  exposing internaln functionality which you  want to expose i could understandn that but  be really grateful if you can find some othern  way to grab screenshots short of becoming root andn snaffling  or if  anything i can do ton spruce up the screenshot code let me knownn the screenshotting code does not allow a screenshot if there is an  window on screen which presumably means drm stuff so thatn should not be a concern about this changenn i have a couple of other patches in the pipeline which willn a allow grabbing parts of the screen andn b provide an asynchronous callback to the client whenever then screen changesnn as you can guess this is for a thirdparty remotecontrol productn specifically  for a vnc server perhaps surprisingly manyn people want to control their mobile devices there are already an couple of attempts at android vnc servers the one insiden surfaceflinger and httpcodegooglecompandroidvnc neithern of these i believe will work on real devices so there is clearly an need for a vnc server for testing purposes toonn  mentioned that i plan to submit several patches  assumingn  like many small patches rather than one big one but thenn again it seemed best to send both permission changes together letn me know if  guessed wrongn
2609,fixing verb in permdescreadframebuffer englishnnthere were too many verbs in this sentence ideally this patch shouldnalso be applied to some of the other languages german seems ok butnfrench not and  as far as my linguistic abilities go  fixed the french since  only  sure i  mess it upnni chose read not use because this permission does not allownwriting to the frame buffer it currently only controls thenscreenshotting functionality inside surfaceflingern
2610,code cleanup in pvmfnodeinterface minor additional chang
2611,code cleanup in pvmfnodeinterface minor additional chang
2612,preview wrapper cleanupnnthis patchn converts from dprintkpreviewer to devdbgn adds whitespace for readabilitynnnedoffby stanimir varbanov  dominic curran
2613,handle more nonstandard omx component state transition errorsn
2614,fix for failure on resumption from long pauses during rtsp streamingn
2615,arm msm htcacoustic use smem and rpc to write acoustic tablennnedoffby iliyan malchev
2616,arm msm htcacoustic remove allocsmem on opennnremoves allocsmem as a side effect of opening the driver for the first timennnedoffby iliyan malchev
2617,arm msm htc clean up the acoustic drivernnnedoffby iliyan malchev
2618,arm msm audmgr avoid leaking audio manager handlesnna race condition would allow audio manager handles to be leaked innsituations where the driver was rapidly closed and reopened eventuallynleading to the baseband being incapable of creating a new handle andnthen a panic and rebootnnnedoffby brian swetland
2619,arm msm audioin add audpre parametersnnnedoffby iliyan malchev
2620,unialized variable iplayelementindex of structure pvpplaybackposition causing repositioning problemsn
2621,arm omap  camera turn off  complexio on standbynnthis fixes the issue in which a double powerup reports incorrect valuennwithout this on second camera open  see this on consolenn  complex io power command not yet takennnbut the power is indeed taken nntodo deeper investigation needs to be done with hw teamnnnedoffby sergio aguirre  dominic curran
2622,update mediaionoderepositionduringpreparedtest test case to run till eosn
2623,fix reset sequencensn clear configuration structuresn add phy reset checknnbased on changes done on  version of isp drivernnnedoffby sergio aguirre  dominic curran
2624,typo in the omx node log statementsn
2625,arm msm disable swfi when camera is runningnnnedoffby iliyan malchev
2626,ccdc optimize config size functionnngroup common settings and just enabledisable videoport settingsnnnedoffby sergio aguirre  dominic curran
2627,composer node file writer hang issue minor additional chang
2628,kcm tool fix for the keyboard output permissionsnnthis patch adds read permission for everyone to the output files of thenkcm tool the compiled keycharmap files need to be able to be read byneveryone this fixes a problem at startup being unable to read thenkcmbin files located at
2629,setfsiparam extension interface is implemented it was previously stubbed out fsi vol header or spspps is sent to the encoder as preferred encoding parameters minor additional chang
2630,removal of  videoparser noden
2631,omappreviewer fix error paths on open and nnthis fixes some potential problems when some of the open stepsnfailnnit is a preventive patchnnnedoffby sergio aguirr
2632,composer node file writer hang issuen
2633,cam add sensor information private ioctl in camera drivernnthis patch allows the user to query sensor pixel clock active sizenand the full size with the help of new  pallavi kulkarni  sergio aguirre  dominic curran
2634,removal of  videoparser node minor additional chang
2635,av sync issue on simple playback and timer goes beyond the limit with video playback only audio stopsn
2636,use allocpagesexact for af and  modulesnnthere is no need for  af and  to use the pool of memory set asidenin omap for use by dmaalloccoherentnnthus move to using dmaable memory allocated using getfreepagesnnnedoffby dominic curran
2637,av sync issue on simple playback and timer goes beyond the limit with video playback only audio stops minor additional chang
2638,reset  framenum on every configurennthe  framenum should be reset when every the  module isnreconfigurednhowever in current implementation if the current buffer size isnbigger then the new configuration then memory is reused rathernthan reallocated and framenum for each  buffer is not resetnnthis means that the frame number for the active buffer was alwaysnresetn    aewbstatframecount   the framenum in all stats buffers was not resetnthis caused a buffer mismatchnnthis this patch unconditionally resets the framenum field fornall buffersnnnedoffby dominic curran
2639,revert arm msm  recover from a hung  bus stuck in busynnthis reverts commit  want to revert this for now so we can test the fix fornthe touchscreen power onoff sequencen
2640,ai  import updated translationsnnautomated import of cl
2641,ai  import updated translationsnnautomated import of cl
2642,add getbuffercount api to overlay objectsnnnedoffby rebecca schultz zavin
2643,add support for camera preview to be in overlay surfacesnnnedoffby rebecca schultz zavin
2644,ai  import revised translationsn do not mergennautomated import of cl
2645,fixed problem when  and  butnconfigshmem was not set this caused the following link errornslabc undefined reference configashmem used to depend onnconfigshmem configtinyshmem which is wrong changed to depend onnconfigshmem  configtinyshmem i do not know the design of ashmemnto know if this is the correct dependcy or if only configshmem isnrequiredn
2646,fixed problem when  and  butnconfigshmem was not set this caused the following link errornslabc undefined reference configashmem used to depend onnconfigshmem configtinyshmem which is wrong changed to depend onnconfigshmem  configtinyshmem i do not know the design of ashmemnto know if this is the correct dependency or if only configshmem isnrequirednnnnedoffby sbranden
2647,enforce at most one child on scrollviews and add linearlayoutsnnthis changeset fixes  scroll view can only have one child and editor should enforcen thisnnfirst it modifies the view rules for scrollview and horizontalview tonrefuse to add children to the view if there is already a childnthere it also updates the drawing code to not offer drop previewsnother than the target highlighting rectanglennsecond it modifies the new xml file wizard to insert a verticalnlinearlayout as the new child when a scrollview ornhorizontalscrollview is created this was already done by the viewnrules when the scroll views were dragged in from the palettenid
2648,bluetoothpan add connect disconnect shownnadds part of bluetooth pan serviceprofilenin android frameworknid
2649,allow application to query whether any permissions are displayablennthe package installer application hides the appsecuritypermissionsnwidget if the package being installed  request any permissionsnhowever if the package is requesting only signaturelevel permissionsnthe widget is displayed even though it  list themnnthis results in the display showing allow this application to nonpermissions required ideally this would be invisiblennso this patch adds a method which the app can use to query whether anynof the permissions in the list are displayable rather than justntesting for an empty listnid
2650,add getbuffercount to overlay halnnnedoffby rebecca schultz zavin
2651,add a few missing headersnnfixes build with gcc  on debiannnnedoffby alexey zaytsev
2652,add a few missing headersnnfixes build with gcc  on debiannnnedoffby alexey zaytsev
2653,add a few missing headersnnfixes build with gcc  on debiannnnedoffby alexey zaytsev
2654,build   bruce bear
2655,define android and set correct cflags variablennnote disable stackprotector until bionic is fixednid  bruce bear
2656,buildstlportsh work around for link issues with skeleton librariesnid  bruce bear
2657,packagereleasesh fix incorrect name for stlport librarynid  bruce bear
2658,code cleanup unused import statement local vars and static finalsnid
2659,fix signature checkingnnthis fix adds some flexibility to the platform signature checkingncapability and also ensures that the behavior matches the commentninlinenncurrently the platform documentation indicates that signatures mustnmatch exactly for applications to be upgraded this limits scenariosnlike transitioning the key used to sign a particular application errorncodes when upgrading applications published to the market indicate thatnapplications should have at least one signature in common not an exactnmatch although the behavior of the market is different and matches thenpublished documentation a common signature should be sufficient tonsupport upgrade scenariosnnmore importantly this change adds flexibility to signaturebasednpermissions currently signatures must match exactly between thendeclaring and requesting applications for the successful granting ofnpermissions this limits how the  signaturebased permissions can be used with this changena common subset is required to ensure permissions are properly grantednwhich should be sufficiently securenid
2660,buildstlportsh allow buildjobs to be setnid  bruce bear
2661,buildstlportsh fix various incorrect pathsnid  bruce bear
2662,mk validate ndkplatformsroot regardless of whether it was set or guessednid  bruce bear
2663,stagefrightmediascanner call endfile for midi and ogg filesnnaddstringtag caches nonascii metadata strings for laternprocessing and then endfile will be called at the end ofnprocessfile to convert nonascii strings from  charsetnto  if  processfile failed to call endfile when thenprocessing file is a midi file or an ogg file this patch fixesnthis problem to populate metadata correctlynnreviewed by brad fitzpatrick marco nelissennid
2664,code cleanupnt removed unused import statementsn removed unused local variablesn removed coding convention warningsnid
2665,code cleanupnt removed unused import statementsn removed unused local variablesn removed unused private methods andnid
2666,code cleanup unused import statements local varaiables and removed from camera appnid
2667,need to dup file descriptor when reading from the binder for native handlesnnwhen reading a native handle that has passed through the bindernthe fds have to be duped to prevent them from getting closed when the bindernobject is destructednnnedoffby rebecca schultz zavin
2668,arm tegra  include idle time in irqsoffpreemptoff tracersnnsurprise bonus change rename tegraenteridle to more accurately reflectnwhat it doesnid  todd poynor
2669,leds add led and destroyled to led triggersnnthis patch adds led and destroyled function pointers tonthe ledtrigger structure the functions are called once fornevery led for each trigger led is called duringnledtriggerregister or ledclassdevregster and destroylednis called during ledclassdevunregister ornledtriggerunregisternid  colin cross
2670,arm  panda enable onboard ethernetnnnedoffby mike lockwood
2671,improve painting of combined selection and hovernnwhen the mouse is over a rectangle we highlight this hovernrectangle by painting a semitranslucent white rectangle on top of itnnwhen a view is selected we highlight it by painting a semitranslucentnblue rectangle over itnnthis means that if you move the mouse over the selection you get bothnof these effects added together which dilutes the underlying selectednwidget too muchnnthis changeset tries to improve this situation by defining a differentnvisual style to be used for the combination of hover and selectionnwhere the opacity is much lower for the hover in this casennthis changeset also reduces the existing hover by about  opacitynid
2672,assume that all permissions are displayablennthe appsecuritypermissions widget  display signature levelnpermissions if the package being installed only requests signaturenlevel permissions we end up displaying it unnecessarily andnconfusingly so rather than testing the length of the list  to query the widget to find out if any of the permissions arendisplayablenid
2673,disable stackprotector until bionic is fixednid  bruce bear
2674,build libintla before using itnn fix for commit  author doug kwan  also install libintla and libibertyn build libsupca for armn changeid   bruce bear
2675,fix buildnid
2676,improve view cookie handlingnnthe layout editor is passed a viewinfo hierarchy by the layoutnlibrary for older versions of the layout library it can be handednhierarchies where the view cookies which point back to xml modelnobjects corresponding to the rendered views that are missing ornambiguous for that reason it has various algorithms to try to piecenthings back together and for example handle  scenarios as bestnit cannnthis  necessary with layout lib version  and higher since as ofnversion  these scenarios are handled on the layout lib side and thenlayout editor is passed back special cookies like the mergecookie tonproperly handle the various scenariosnnthis fix makes the layout editor look up the layoutlib version and ifndealing with version  or higher it takes a simpler path to build upnthe hierarchynnthis is also necessary to deal with the latest version of layoutlibnwhich passes a new type of view cookie which the older  handlenid
2677,whitelist for debuggabletesttestnodebuggablennbug  a whitelist to let exceptions for froyo through in anfuture release there will be no whitelistnid
2678,add a way to get the adapter binding through the project callbacknid
2679,update test to track layoutlib changenid
2680,sdk manager  refactor window implementationnnthe previous patch based the implementation of thennew window on top of the old updaterwindowimplnalthough that works since there are many things inncommon in practice the goal is to get rid of thenold one eventually so  easier to not add andependency that needs to be removed laternid
2681,adding  to internalmodifiertargets to fix make   added the  pseudogoal aka internal modifierntarget to have make dex all java modules unfortunately the newnpseudogoal  added to internalmodifiertargets so no actualnphony goal was added resulting in the obviousnn make no rule to make target  stopnnerror message when running make  this commit changesninternalmodifiertargets to also include  so that thenpseudogoal is treated just like  and
2682,fixing a monkey crash in stknnmonkey test has reports nullpointer exception innthe residinput case added a null check to avoidnfuture exceptionsnid
2683,usb gadget fmtp mtp driver cleanupnnuse a work queue instead of a separate thread for file transfer ioctlsnnote the file transfer must be done on a kernel thread rather than innprocess context so vfsread and vfswrite will use the correct address spacenfor the buffersnnenforce requirement that only one ioctl call may be active at a timenand remove mutex in mtpsendevent that is now no longer necessarynnsynchronize around use of shared variables to avoid smp issuesnnfix mismatched calls to fget and fputnnnedoffby mike lockwood
2684,fixing a bug that email app fails to read emails with parseexception innnonenglish locales such as japanesennsimpledateformatparse fails to parse    month names like feb cannot be parsed with mmmnformat in such localesn
2685,barnid
2686,leds triggers timer create sysfs files during lednncreate the sysfs files as well as the structure that backsnthem during led and remove them during destroylednalso adds a mutex to avoid races between the sysfs storenfunctions and activatedeactivatennmoving the sysfs file creation and removal out of activatenand deactivate allows userspace to chownchmod the filesnonce to set access policiesnnthis change introduces a minor abi change the contentsnof the sysfs files delayon and delayoff do not reset whennthe trigger is deactivatednid  colin cross
2687,leds triggers gpio create sysfs files during lednncreate the sysfs files as well as the structure that backsnthem during led and remove them during destroylednalso adds a mutex to avoid races between the sysfs storenfunctions and activatedeactivatennmoving the sysfs file creation and removal out of activatenand deactivate allows userspace to chownchmod the filesnonce to set access policiesnnthis change introduces a minor abi change the contentsnof the sysfs files gpio inverted and desiredbrightnessndo not reset when the trigger is deactivatednid  colin cross
2688,enabling cell broadcast smscb support in the platformnnadding a simple api enabling applications to control smscb receptionnimplementing parsing assembly and dispatching of smscb messages over gsm and umtsnid
2689,initial oma drm forward lock contributionnnoma drm forward lock agent is plugged into thenopen drm framework forward lock agent implementation containsn forward lock engine to communicate with frameworkn converter to encrypt the original file into a special formatn decoder to feed the decrypted data for renderingn lightweight unique keyencryption mechanismn documentationnid
2690,pm allow programming power  via bypass interfacennnedoffby mike chan
2691,fix bogus use of  toolchain on  linuxnnin order to support some  configurations the makefile forced ancustom   bit toolchain on linux this should of course not bendone if the architecture  actually a derivative of
2692,extract client rules engine into top level classnnthe ideside implementation of the iclientrulesengine interface wasnnested within the rulesmanager class and has grown a lot overntime this changeset moves it out as its own top level class therenare no semantic changes just a straightforward refactoring operationnid
2693,add apache http client librarynthis library is a requirement for the new sdkmanager featurensupport for authenticated sitesn changeid  license apache  url httphcapacheorghttpcomponentsclientganid
2694,always include disassembler for target in buildnndisasc requires machine dependent disassembly for the targetnarchitecture to be included in the link makefilecommon addsnmachine dependent disassembly for the host architecture but not thentarget thus makefiletarget needs to add the target disassemblynfile iff the target and host architecture are different this wasnnot done for  targets so add that also add a guard to preventnarm disassembly from being included twice on an arm hostnid
2695,add support for authenticated addon serversndisplays a login prompt if necessarynnote this code depends on apache httpclient librariesnbuild files had been modified in order to add this dependencynhttpclient libraries had also be added on prebuilt projectn prebuilt   rebased and fixed in order to work with
2696,adjust tests to work without hintingnid
2697,expose versionname property for aapt tasknnthe new property makes it possible to create ant build scriptsnthat programmatically determine and set the versionname attributenduring build similar property already exists for versioncodennnedoffby tero saarni
2698,fix device buildsnnthis patch ensures that the eglcfg file specific to ournhardware opengl emulation is only copied to the system imagesnof emulatorspecific build productsnnthis fixes a conflict for devicespecific products which providentheir own hwspecific eglcfgnid
2699,tegra video add support for tiled surfacesnid  michael i gold
2700,loglevelfilter button will be uncheckable in logcatnid
2701,typonnfixed a typo diplay should read displaynid
2702,autozoom views the first time they are openednnnow that we default to the tablet screen size creating a new layoutnusually opens up a view which only shows the top left part of thendesign view and horizontal and vertical scrollbarsnnthis changeset adds autozoom such that the first time a view isnopened the view also autozooms note that thettype of zoomingnperformed is zoomoutonly it never zooms in so a small phone layoutnwill continue to be shown at  we already perform autozoom innseveral other scenarios such as changing orientationnid
2703,indicate tmpfilter has been enabled by changing background colornid
2704,fix rebuild script do not mergennimportant this patch is a backport from the internal master treen do not merge it backnnthis patch fixes the rebuild script to not use hardcoded ubuntunpackage urls this was problematic because some of these becameninvalid when ubuntu increased the version number of some of thesenpackages and moved various ones to securityubuntucomnninstead we know download the  corresponding to a givennrelease and parse it to extract the versioned deb url to use fromnthe mirrornnalso add commandline options parsing you  need to define ndknin your environment anymore instead pass the path to the toolchainnsources directory as innn  pathtotoolchainsrcnnalternatively use  to specify the path to your ndknand the script will automatically download and patch the toolchainnsources from androidgitkernelorg for you as innn   default the script creates a tarball now  you can use  to indicate an installation directorynas innn    note the generated toolchain binaries still do not runnproperly on glibc  only the machine code they generate we hopento solve this in the future with another patchnnuse help for complete usage informationnid
2705,skip bluetooth tests if the device  support bluetoothnid
2706,add missing sysroot librariesnnthis adds a few missing libraries to our custom  toolchain sysroot in ordernto be able to build the opengl hardware emulation test program and later completenimplementationnnyou can check this by defining  in your environmentnafter this patch is submitted we will be able to remove the hack under thenfollowing build scriptnn developementtoolsemulatoropengltestsutrendererandroidmknn add a onlysysroot option to the build script that can be used ton only rebuild a new sysroot without recompiling the full toolchainn which can be quite longnid
2707,new plugin supporting ndk with cdtnnprovides the add native support menu item for android projectsnprovides build integration for ndkbuild and android toolchainsnno debug support yet but  in the worksnincludes a new feature for this that brings in cdt at install timenscanner discovery currently  work on windows but does on maclinuxnfixed to adhere to android coding standardsnid  doug schaef
2708,fix rebuild script do not mergennimportant this patch is a backport from the internal master treen do not merge it backnnthis patch fixes the rebuild script to not use hardcoded ubuntunpackage urls this was problematic because some of these becameninvalid when ubuntu increased the version number of some of thesenpackages and moved various ones to securityubuntucomnninstead we know download the  corresponding to a givennrelease and parse it to extract the versioned deb url to use fromnthe mirrornnalso add commandline options parsing you  need to define ndknin your environment anymore instead pass the path to the toolchainnsources directory as innn  pathtotoolchainsrcnnalternatively use  to specify the path to your ndknand the script will automatically download and patch the toolchainnsources from androidgitkernelorg for you as innn   default the script creates a tarball now  you can use  to indicate an installation directorynas innn    note the generated toolchain binaries still do not runnproperly on glibc  only the machine code they generate we hopento solve this in the future with another patchnnuse help for complete usage informationnid
2709,simple code cleanupnnwe had a number of constants for attribute values which had the prefixnvalue but which were really attributes and should have the prefixnattr we already had the equivalent attr constants so get rid ofnthe value constants and clean up the usage slightlynid
2710,add missing sysroot librariesnnthis adds a few missing libraries to our custom  toolchain sysroot in ordernto be able to build the opengl hardware emulation test program and later completenimplementationnnyou can check this by defining  in your environmentnafter this patch is submitted we will be able to remove the hack under thenfollowing build scriptnn developementtoolsemulatoropengltestsutrendererandroidmknn add a onlysysroot option to the build script that can be used ton only rebuild a new sysroot without recompiling the full toolchainn which can be quite longnid
2711,arm  add  lines to muxnnnedoffby erik gil
2712,fixed issue  contentprovider query sdk docs deprecatedn
2713,ai  import revised translationsn  import of cl
2714,ai  fix issue  shareduserid requests not being checked for matching signatures on apkn to address issues where we could leave halfinstalled applications around if there was a failure during the install we split getpackagelp into two phases the first would create the record and only after doing all verification checks would we call insertpackagesettinglp to do the remaining part of the original implementation and actually insert the record into the data structuresn unfortunately it was only in insertpackagesettinglp that we would set the shareduser field of the packagesetting structure so when before that we went to verify certificates we  think it had requested a shared user id and let it through without checkingn this fix simply sets the shareduser field when the packagesetting structure is first created so we will actually check against its certs we still also set this again in insertpackagesettinglp but there is no harm in this because the only time we call this function is in that big install func which just passes in the same shared user that it had when first getting the packagen  import of cl
2715,ai  pick up a couple of edited translationsnnautomated import of cl
2716,ai  correctly format phone numbers in call log instead of leaving raw numbersn caches editable and locale values to minimize allocations and caches formatted values along with other contactinfo details we need to be extremely careful with this change as it impacts a performancesensitive codepath scrolling through the call logn  import of cl
2717,ai  pick up  modified translationsnnautomated import of cl
2718,ai  import us spanish translations and a few japanese changesnnautomated import of cl
2719,update netlinkrelated kernel includesnid  dmitry shmidt
2720,eliminate redefined offsetof warningnid  bruce bear
2721,libc enable iptosmincost fixup gethostbyaddr protonnmake netinetiph have iptosmincost which matches whatn kernelcommonlinuxiph has to saynfixup gethostbyaddr  arg to match what man has to saynid
2722,video tegra reset hdcp failure count on hotplugnid  erik gil
2723,prevent nfc crashloop if firmware cannot be  crash just run off whatever firmware is in the chip nownid
2724,ndk  build unneeded tool chainsnid  bruce bear
2725,rebuildallprebuilt add verbose optionnid  bruce bear
2726,disable plugins if setpluginsenabledfalse callednnold deprecated method for enablingdisabling plugins wasnignoring flag parameter and causing plugins always to be loadednfixes issue   tero saarni
2727,fix invalid caching of project callbacknid
2728,fix bug in projectwide render target selectionnni ran into a scenario where selecting a render target caused the newntarget to be loaded but then the selection jumped back to thenprevious value the reason for this is that there is a codepath fromnthe dropdown callback which ends up calling syncrenderstate beforenthe old value has been saved so syncrenderstate will read thenprevious value and sync it back to the dropdown the fix is easy nmake sure we save the render state before notifying clients of thenchangenid
2729,wrapper script to generate a complete ndk imagenid  mark d horn
2730,add autoformatting of xml and improved manual formattingnnthis changeset improves the formatting of xml edited by the layoutneditor in two  it improves the way the layout editor handles insertion andndeletion into the xml document it looks up the indentation of thensibling and parent elements and attempts to correctly indent newnelements based on the existing surrounding formatting and it alsonattempts to clean things up correctly on element  it adds a new user option for turning on automatic xmlnformatting when this is on it will invoke the eclipse xml formatternon portions of the xml after each edit this will ensure that thendocument adheres to the  preferred formatting settings maximumnline width tabs versus spaces line breaks before attributes etcnid
2731,merging monkeyrunner changes from master into  commit of the followingnncommit  bill napier  mon mar     add ial and final move events on dragnn changeid   vijay yellapragada  wed mar     fix a npe when arguments are not properly understood by monkeyrunnern add the ability to pass boolean types for intent extras   fix an improper flag being passed to am startn pass the key and value to am start instead of just the valuenn changeid   bill napier  thu mar     remove trailing comma that was causing compile problemsnn changeid   bill napier  wed feb     allow loading monkeyimages from a local filesystemnn changeid
2732,refactor a method to extract an emulator portnid
2733,gpu pvr update to ddk   erik gil
2734,fix dos endoflines in winusb inf filennthe file has a mix of unix and dosmode endoflinesnthis cl just fixes the endofline to make it a consistent dosmodenthere is no change to the actualy contentnid
2735,frameworksbase fix to ensure actual delay in a vibrate patternnnthe function delay times out soon when interruptedexception isnraised during the wait call as the value of bedtime is notnupdated in the while loop fix is to update the same in the whilenloopnn it might also timeout as value of duration  updated properlynto reflect the elapsed timenid
2736,sort palette contentsnnthe palette has many of the android views in a seemingly randomnorder this changeset ensures that they are ordered alphabeticallynid
2737,androidwebkitctswebviewtesttestsetinitialscale sets screen density value  for browser to work with qvga devices the value needs to be set to  to support chinese charactersn
2738,androidwebkitctswebviewtesttestsetinitialscale sets screen density value  for browser to work with qvga devices the value needs to be set to  to support chinese charactersnid
2739,frameworksbase fix to recycle parcel objects obtained by usagestatsnand refresh value of mfileleaf before using itnid
2740,staging binder fix use of unialized variablennunder an extremely rare condition the variable returnerror maynnot be set this patch ializes the value to a known badnvalue and checks before return to ensure returnerror has beennsetnnnedoffby nick kralevich
2741,ai  import revised translationsn do not mergennautomated import of cl
2742,fix accountmanagertesttesthasfeaturewithcallbacknnbug  testhasfeaturewithcallback as private since its not a testncts was picking it up as a test and trying to run it but failingnbecause that method takes a parameternid
2743,ai  import a bunch of revised translationsnnautomated import of cl
2744,net wireless  update to version  fix crash during specific scan handlingn fix potential insmod crash by increase registration timeout to  secn added max time restriction to pno scan timern new iwpriv apstadisassoc to disassoc stas in softap moden add new setting to softap apsetcfg to enable hidden ssidn fixs bugs for softap apsetmacfltr iwpriv commndn add stas rssi filed to softap apgetstalist iwpriv commndnnnedoffby dmitry shmidt
2745,ai  import more revised translations into cupcakennautomated import of cl
2746,misc pmem do additional checks for negative valuesnnthis change adds serveral bugif statements to ensure  not using negative values when referencing arraysni  believe the current code allows this and thesenchecks will help ensure that  no future regressionsnnthis addresses the following coverity findingsnn coverity  coverity  am not aware of any way that these bugif statements can bentriggerednnnedoffby nick kralevich
2747,staging binder fix use of unialized variablennunder an extremely rare condition the variable returnerror maynnot be set this patch ializes the value to a known badnvalue and checks before return to ensure returnerror has beennsetnnthis addresses coverity finding  nick kralevich
2748,revert tegra video nvmap printk if nvmap alloc failsnnthis reverts commit
2749,arm defconfig msmdefconfig enable various debug options disable swapnnnedoffby san mehat
2750,usb musb reset controller at timennunder some circumstances it appears that various bootloaders leave the musbncontroller in a weird state so reset it at nnnedoffby paul eastham
2751,release mutex in failure casesn
2752,arm omap muxing for gpio  paul eastham
2753,fastboot add help message for continue commandnnorigchangeid  bruce bear
2754,add enablegraphite option to build scriptnngcc  and up supports graphite optimization and cloog and pplnare required this change attempts to support some combinationsnof ppl and cloogcloogppl libraries since cloog and ppl arenwritten in c it implies we might suffer from c abi breakagenproblems when host environment changes that is a wellknown issuenin gnulinux distributions thus we have to drop runtime libstdcndependency by statically linking libstdcnid
2755,remove some broken paint testsnnbug
2756,fix parser line numberingnnorigchangeid  bruce bear
2757,fix paintmeasuretext testsnnbug  of hardcoding values just check that the returned valuesnof the overloaded methods make some sensenid
2758,assembly coded  and   lu hongjiu  mark gross  bruce bear
2759,wakeup irq stats add kstatincrwakeirqsnnexposes kstatincrwakeirqs as an interface to arch code fornincrementing a count of how many times an interrupt has beennidentified as a sleep wakeup sourcenid  todd poynor
2760,add voldfstab to mount the sd cardnnorigchangeid  jun nakajima
2761,arm show wakeup irqsnnadd wake column to procinterruptsnid  todd poynor
2762,define obinary for nonwindows platformsnnall tools aapt aidl dexdump etc need this flag to opennbinary files or they risk reading corrupted data on windowsnna bunch of these tools just conditionaly define obinary inntheir c files seems it would just make sense to define it globallynnorigchangeid  bruce bear
2763,arm tegra add stats for wakeup irqsnid  todd poynor
2764,iandroideffectc is actually a c filennthe file uses new and delete it requires fnorttinto correctly build for android since fnortti is onlynavailable with the  ia toolchain for g wenrename the filennorigchangeid  bruce bear
2765,libc fix the wrong return value of syscallnnaccording to intel abi spec there is no need to save eax ecx edxnon the stack worse popping eax will wipe out the return valuenid
2766,check fastboot oem command line lengthnnorigchangeid  bruce bear
2767,eclipse crashes in layout editor when browsing  propertiesnnthis changeset attempts to fix issue  the root bug is an swt bugnwhich can cause a jvm crash in some scenarios however it seems to bentriggered by code which performs a gradient paint in the propertynsheet which is in fact done to work around another swt bugnnusing a gradient is not necessary a plain background paint will do nso this changeset simplifies the code to only fill the background itnalso leaves the selection flag on the event alone such that othernparts of the list such as category items are not affectednid
2768,set the modes for rc files in systemetcnnorigchangeid  bruce bear
2769,remove broken webkit testsnnbug
2770,debuggerd reorganize to facilitate ia commitnnorigchangeid  bruce bear
2771,remove broken widget testsnnbug
2772,debuggerd ia versionnnorigchangeid  lei li  bruce bear
2773,get rid of utilsexecutablepathh which now lives in the simulatorn
2774,add mspacemergeobjectsn
2775,allow adb to use andoridserial env variable to specify the device to talk tonnoverridden by sn
2776,arm msm sdcc make slot status irq be a resourcennalso convert all sdcc irq resources to be named no longer pass statusirqnin the platformdatannnedoffby dima zavin
2777,adb add adb reboot commandnnthis will allow rebooting the device via adb on any build including user buildsnan optional argument can be providednfor example adb reboot bootloader or adb reboot recoverynnnedoffby mike lockwood
2778,change strategy for freeing objects in the sweepnndlfree in dlmallocc is fairly expensive it checks the previous andnnext block to see if the curent block can be merged into one of thenfree blocks and if it does merge that involves manipulating theninternal free listsnnthe sweep phase of the gc is already visiting free objects in addressnorder and has a list of objects to be freed the new strategy isnnloop over the list of objects to be freed merging when possible andnonly calling free when a either the list has run out or annonadjacent free object is foundn
2779,adb use correct language id when retrieving usb serial numbernnnedoffby mike lockwood
2780,arm  add  mux configurationnnnedoffby dmitry shmidt
2781,adb remove adbd from simulator buildnnit no longer compiles without recent kernel headersnnnedoffby mike lockwood
2782,adb update call to registerusbtransport in mac and windows buildsnnnedoffby mike lockwood
2783,adb on linux detect usb devices for which adb does not have permissions to communicate withnnadb devices will now list devices without adequate file system permissions in devbususb asnnlist of devices attachedntno permissionsnnnedoffby mike lockwood
2784,adb fix infe loop in linux host device discoverynnnedoffby mike lockwood
2785,adb print better error message when there are insufficient permissions for a devicennnow a command like adb shell will print insufficient permissions for deviceninstead of device not found if adb does not have permissions to communicate with the devicennnedoffby mike lockwood
2786,pm more config options for configvc from board filennmore prm register values can be altered from the board filenwithout the need for hardcodingnnnedoffby mike chan
2787,usb host ehcitegra wait for sof before resumennwait for start of frame interrupt then wait  us before startingnport resume workaround for hardware issue that can cause the sof tonbe sent out at the same time as the phy speed changenid  colin cross
2788,combined patch from master branchnn tfrom jack ren  tdate tue  mar    tsubject patch  sync with korgmaster commit  patches are applied in one timenntcommit    romain guy  thu feb     merge fix for a crash when gc weak referencesnntcommit    raphael moll  tue feb     merge open dexdump files in binary modenntcommit  raphael moll  wed feb     open dexdump files in binary modennt requires change  from systemcorent which defines obinary globallynntcommit  mattias petersson  tue dec     fix for a crash when gc weak referencesnnt when a weak reference had been cleared there was a small risk thatnt the vm crashed when the cleared reference was garbage collectednnt this is an example of code that can cause the problemnt integer referent  new  wref  new  wrefclear set the referent to nullnnt when a garbage collection starts all objects are scanned lookingnt for objects that can be collected during this phase a list ofnt weak references is created a check is performed to ensure thatnt only references with a nonnull referent are added to this listnt in most cases for the example above the referent will be nullnt at this point and it will never be added to the list but ifnt the timing is extremely bad it looks like it is possible for thent reference to end up on the list before the referent has been setnt to null and the referent is set to null a little while laternt this means that we now have a reference on the list with a nullnt referentnnt a bit later in the garbage collection flow the list of weaknnts is traversed in order to clear the references thatnt can be collected here we got the crash because the code assertednt that the referent of the references in the list should bent nonnull and in some rare cases it actually was null the fixnt is simply to remove the assertnntcommit    andy mcfadden  mon nov     am  am  s ours two patchesnnt commit  two patchesnid  bruce bear
2789,pick layout themes from manifest registrations and target sdknnthis changeset changes the way the layout editor picks themes when anlayout is opened it used to just pick the first available theme innthe theme choosernnnow it performs the following checks in ordernn does this layout have a persisted theme setting from a previous runn of the tool if yes use itn can the activity for this layout be determined if so look at then manifest registration for the corresponding activity and if itn specifies a theme use itn if not does the manifest specify a default theme for the projectn if so use itn if not is the target sdk version or the minimum sdk version ifn the target is not specified at least api level  or higher if son the default theme is themeholon if not the default theme is themen if the file to be opened is included from some other layout usen the nodecorations versions of the default layouts egn themenotitlebar or themeholonoactionbarn at the end of this resolution the computed theme is stored as then persisted theme setting for this layout so the above algorithm willn only be computed once we might want to tweak this such that itn distinguishes between a default computation of a theme and a manualn user choice of a themen if the file is opened as show included in eg rendered within ann outer file then the theme chosen is the one for the outer filennduring startup this information will be asked for each and everynlayout being reopened so there is now a manifestinfo class attachednto the project which keeps manifest information around it checks thentimestamp of the androidmanifestxml file and refreshes itsninformation lazily if necessarynnall themes mentioned in the manifest are listed in a special sectionnat the top of the theme chooser below the entry for the defaultncomputed described abovennthe code to look up the associated activity of a layout is using ansimple heuristic it looks for usages of the corresponding rlayoutnfield and prefers references from methods called oncreate or innclasses whose superclass name ends with activity i tried a differentnapproach where i searched for usages of activitysetcontentviewintnbut this failed to identify a number of cases where the activity wasndoing some simple logic and  pass the layout id directly as anparameter in setcontentview so i went back to the basic approachnid
2790,update to allow  build for fi on gingerbreadnnalso handles most todotxt items and contains some rewriting of the dispatch codenalso adds a newline to the end of files that did not previously end with a newlinenid
2791,properly configure kxml parsersnid
2792,cts modify loadurl method that wait until getprogress returns  it appears that the updates returned by getprogress are not accurate unless there is a webchromeclient set on the webview as seen in the code of callbackproxyonprogresschangednid
2793,merge branch  of gitandroidgitkernelorgplatformcts into gingerbreadn
2794,correct erroneous double freenid
2795,merge branch  into
2796,modify the device to enable to get the state as slideopenslideclosennthis modify is for the devices which have a slidable hw keyboard with backlightnnfor example of current issuesn backlight of hw keyboard  turn on when the device starts up with slideopenn home screen  display with proper orientation when the device starts up with slideopennid
2797,make sure files opened from xml wizard go to the wysiwyg editornid
2798,avoid array overrun we can now mount the sdcard partition on our boot sdcardsnnorigchangeid  bruce bear
2799,net wireless bcmdhd fix config fw and nvram pathnnnedoffby dmitry shmidt
2800,build speedup do not use shell  function to look for notice filesnnthe gnu make wildcard function can be used to look for a specific file andnis much faster than invoking the find command through $shell nnsince noticefilesmk is included by baserulesmk for each and every modulenin the build tree this represents a considerable speedup for example whennbuilding the fulleng product from the aosp tree the noop make goes  seconds to  seconds with this patch appliednid
2801,net wireless bcmdhd add spinlock ializationnnnedoffby dmitry shmidt
2802,fix linux sdk buildnnthis is a temporary patch until we update the prebuilt tree accordinglynto include libxcbso for linuxnid
2803,net wireless bcmdhd fix params in  callnnnedoffby dmitry shmidt
2804,add support for data binding in the layout editornnthe layoutlibapi is changed to allow passing information regardingnadapter content and querying eclipse to fill the itemsnid
2805,net wireless bcmdhd allow wext supportnnnedoffby dmitry shmidt
2806,add repeat count config to  adapterbindingnid
2807,add pageup and pagedown hot keysnid
2808,adb improved support for running adb over tcpipnnadded new commandsnnadb connect  to connect to a device via tcpipnadb tcpip  to restart adbd on the device to listen on tcpipnadb usb to restart adbd on the device to listen usbnnnedoffby mike lockwood
2809,add keycodes pageup and pagedownnnthis is useful for applications like web browsernid
2810,bug  add adbwinusbapidll to prebuilt for windows sdkn
2811,adb fix emulator supportnnnedoffby mike lockwood
2812,changes to support selecting only contacts with phone in pickactivitynrequires the changes innpackagesappscontactssrccomandroidcontactscontactslistactivityjavan
2813,added toolchain for superh architecturennadded codesourcery provided sourcery g lite editon toolchainnfor superh  uclibc big endian libraries are deleted in this submissionnnyou can get the original source from codesourcery websitenhttpwwwcodesourcerycomn
2814,fix broken   commandnid
2815,update to add support for only selecting contacts with phones requiresnchanges in frameworksbaseapicurrentxml andnframeworksbasecorejavaandroidprovidercontactsjavan
2816,cts fix fps calculation for androidhardwarectscameratesttestpreviewfpsrangebycamerann fps should be calculated as a moving average to avoid inaccuraciesnn when variable framerate is active and depending on the lightn conditions the framerate can get very low this should ben taken in to account during the process of discarding then measurements and leave just enough data this way the checksn and calculations that follow can proceed without any issuesnid  sundar raman
2817,added new edify functions for retouching and undoing retouch extensions to ota script to supply retouch file lists into updaterscriptn
2818,compressed retouch files using time to decide on location of libraries  bits of entropy  offset windown
2819,adding options to select between nbamr wbamr and aac encoder typesn
2820,adding retouchapplyc target executable will be folded into updater in the next stepn
2821,removed retouchapplynow folded into updaterinstallcn
2822,adding wbamr and aac encoder typesn
2823,apparently a typo resulting in loosing mobile data connection after a whilenprobably connected to issu
2824,use stale ndk libraries for iannia builds will break due to the bionic dsohandle bug if stale libraries arenused for now just guard the defns against ia buildsnnorigchangeid  bruce bear
2825,opengl implementation codec common codennthis change adds the libopenglcodeccommon which holdsnshared code between the encoder and the decoder parts of the openglncodec the library is built as static with both a target version andna host versionnid
2826,add  for ia virtualbox buildsnnorigchangeid  bruce bear
2827,emulator opengl opengl es  encodernnthis change the opengl target side encoder library  library includes api defion files for  code generationntool and a serrounding code to handle opengl specific sematics such as client statentrackingnid
2828,consistently and properly define offtdefined and sizetdefinednnorigchangeid  bruce bear
2829,android emulator opengl opengl es  decodernnthis change adds the opengl host side decoder library  library uses the  api defintion part of  librarynused by emugen to generate the library code it also includesnthe generated code is wrapped with the gldecoder class to handle openglnspecific semanticsnid
2830,qemu emulator bios files empty versions replace with the real onesnnorigchangeid  bruce bear
2831,android emulator opengl unit testing render control apinnthis adds minimal rendering control api codec that is used by opengl codecnunit tests the api is used to pass messages regarding resource creationnsurfaces opengl context and swapbuffers notificationsnthe actual encoder and decoder code is generated us
2832,check in prebuilt toolchain
2833,android emulator opengles unit test gles wrappernnthis adds opengl es implementation driver that selects whether to usenthe native android emulator opengl impelementation or use a remotenhost side renderer this driver is used to selectivley run applications usingnthe remote renderer the selection is based on the applicationprocess name andnis configured using etcglesemulcfg in the emulator sidennthis change also installs etceglcfg that is used by the android opengl wrappernto select an opengl implementationnid
2834,update pcbios binariesnnreplace the  bios binaries with real onesnngenerated by running make in externalqemupcbiosnat  externalqemupcbiosreadme for build requirementsnnorigchangeid
2835,android emulator opengl unit test host side renderernnthis adds  a host side unit test renderer utrenderer is used tontake a command stream over a socket connection and render it into an opengl windownthe renderer uses the  decoder library and the utrendercontrol api to parsenthe command streamnthe utrenderer uses an external plugin opengl impelementationnid
2836,update  virtualbox kernel imagennthis image was generated using the following repositoriesnon androidgitkernelorg and corresponding  kernelqemugitn    externalqemugitdistribbuildkernelshn  was generated by invoking the script withnn pathtobuildkernelsh   image is only intended for emulation with the virtualboxnprogramnn remove obsolete config filen update readmennorigchangeid
2837,android emulator opengl host side egl wrappernnthis adds an egl wrapper used by the test rendering to load an eglnimplementation that matches the opengl es impelmentation that it usesnthe library is a simple wrapper that direct egl calls through a dispatchntable that is dynamically loaded from an egl shared library implementationnid
2838,update  goldfish kernel imagennthis image was generated using the following repositoriesnon androidgitkernelorg and corresponding  kernelqemugitn    externalqemugitdistribbuildkernelshn  was generated by invoking the script withnn pathtobuildkernelsh  image is only intended for emulation with th
2839,fix missing nlnnorigchangeid  bruce bear
2840,replaced invalid unlock code error with a lock screen type neutral onennthe unlock screen would say that the user drew an invalid unlock patternneven when a pin or password lock had been configured this fixes issu
2841,fix missing nlnnorigchangeid  bruce bear
2842,commiting modified files as welln
2843,make sure we print a warning message if unhandled relocaions ever appearn
2844,not all failures to fopenrootpath are seriousnexample  open cacherecoverycommandn
2845,arm process add display of memory around registers when displaying regsnnthis is extremely useful in diagnosing remote crashes and is based heavilynon original work by  san mehat  michael davidson
2846,power wakelocks fix buffer overflow in printwakelocksnid  erik gil
2847,supress audio recording in camcordernnthis is a temporary patchnni will abandon this in  weeks timennsubmitting on behalf of ricardo martinez  anu sundararajan
2848,power prevent spinlock recursion when wakeunlock is callednnnedoffby mike chan
2849,increase teh number of shared libraries so that can be openednnincreasing the number upto  on behalf of jorge solano  anu sundararajan
2850,add opengl headers and librariesnnthese are required for the host libraries used to support gles hw emulationnnthis also fixes buildhardytoolchainsh to properly copy simple symlinksnlike libglso   into the final sysrootnn a few missing symlinks which  impact the buildnnorigchangeid
2851,bluetoothpan add bluetooth pan settingsnnadds bluetooth pan serviceprofilenadds bluetooth tethering support for multiplenremote bluetooth devicesnid  christian bejram
2852,pam phonetic to acoustic mapping module in pico tts engine has an array that is not ialized completelyntherefore pico tts engine sounds an abnormal noise from time to timennnoteneach indexes are j and jni and j are correct otherwise  is not ialized completelynid
2853,emulator kernel add devqemupipe kernel drivernnthe kernel images provided in this patch were built by using the sourcesnfrom androidgitkernelorgkernelqemugit with the following hashnn  add a kernel driver for the devqemupipe guest devicensee  for the correspondingnsource code patchnnthe corresponding emulator virtual hardware support i
2854,correctly calculate the  scrollto position when usingnexpandablelistviewnnthe current code calculates the target as a flat list position but thennincorrectly uses it as a group index by passing it tongetpackedpositionforgroup as a result if there are expanded itemsnwe will potentially scroll to the bottom of the list much too earlynnthis patch assumes that the desired behavior is having the fast scrollnfeature target the individual groups the alternative would be to targetneach individual flat list item while scrollingnid
2855,toolchainsnnorigchangeid
2856,added resource qualifiers for rtlltr languagesnnthis patch adds two new resource qualifiers that can be usednto replaced the languagecountry pair when the resources shouldntarget either all righttoleft rtl languages or allnlefttoright ltr languages since these new qualifiers arenconsidered less specific than a languagecountry pair theynprovide an extra level of fallback just above the defaultnresources eg when the following resource folders existsnnreslayoutrtlnreslayoutarnnthe valuesar will be used instead of valuesrtl when egnthe locale areg is set in the same manner the followingnsetupnnreslayoutnreslayoutltrnreslayoutennnwill cause the layouten to be used when the locale is egnenus the layoutltr will be used for all other ltr languagesnand layout will be used for all other rtl languagesnid
2857,add glreleated runtime librariesnnthis patch adds various libraries needed by libglso to our  used to build sdk binaries these are needed to build variousnunit tests of our opengl hw emulationnnnote these runtime libraries are only needed because wen directly link lgl to our test executables and the linkern refuses to do it if it  find all libglso dependenciesnn these libraries are not needed to run the final executablenn as long as a working libglso is installed on the host systemn the program should run just finennthese libraries are taken from ubuntu packages and are mitstylenlicensed for example seenn
2858,cts fixes a possible out of memory exceptionnn image sizes can vary quite a bit some cameras mightn support up to  picture sizes which can resultn in very large bitmaps  vm stack size mightn not be able to handle arrays of this sizen in these cases an out of memory exceptionn is possiblen related to test cases testpreviewpicturesizescombinationn testtakepicture and testjpegthumbnailsizebycameranid  emilian peev
2859,debuggerd show function names in tombstone backtracesnnthis change enables debuggerd to provide backtraces with functionnnames in tombstone files and log messages it does this by readingnthe image file that the address is found in and parsing the dynamicnsymbol table to try to extract the symbol corresponding to the givennaddressnnthis works best when wlexportdynamic is added to the ldflagsnof each library and executable because this will cause all symbolsnto be added to the dynamic symbol table if this flag is not presentnit will still work but it will only be able to identify functionsnwhich are part of the external api of the libraryexecutablennorigchangeid
2860,add a new multiflash command to support huge image flashingnnin the current fastboot flash command the whole image will bendownloaded first into image buffer on the device side before actuallynflashing into nonvolatile memory therefore the size of imagenbuffer on the device side enforces a limitation on the size ofnimage that can be flashed successfullynnwith this commit when executing fastboot flash fastboot willnsend getvar maxdownloadsize command to get the size of imagenbuffer on the device side if the size of image is larger thannmaxdownloadsize multiflash command is triggered to flashnimage it will divide huge image into several smaller partsnwhose size is maxdownloadsize or smaller those smaller imagesnare downloaded and then flashed one by one into device sidennto fully support this feature fastboot client software running onnthe device side needs to support getvar maxdownloadsize and newncommand multiflash if device side  supportngetvar maxdownloadsize and multiflash the old fastboot flashnwill be used as before without breaking image flashing on the existingndevices all changes are transparent to usernid
2861,dbus is not fully implemented disable it for nownnorigchangeid  bruce bear
2862,enlarge usb bulk transfer size for faster downloadsnnthe default usb transfer bulk is fixed as  in fastboot util code fornwindows and linux enlarging the bulk size can greatly improve the imagendownload speed via usbnnfor windows adjust the max bulk size to  to maximize the usb transfernspeed with this change the usb transfer speed can be doubled to  linux adjust the max bulk size to  to maximize the usb transfernspeed according to maxusbfsbuffersize defion in driversusbcoredeviocnnfor osx the maxlentosend is already  in codenid
2863,build the host version of libdiskconfignnorigchangeid  bruce bear
2864,extract style refactoringnnadds a new refactoring extract style which will show the user thenattributes for the current selected elements or if invoked from anneditor context the attributes overlapping the current caret or editornselection the user can select which attributes to extract and thesenare then added as a new style in the stylesxml file in the projectnwhich is created if necessary the user can optionally replace thenattributes that were extracted and the user can also optionally setnthe style attribute on the elements to the new style both are on byndefault this is integrated with the refactoring quick assistant asnwellnid
2865,emulator  kernel fix sdcard emulationnnthis patch provides a new kernel image containing the fix for sd cardnemulation atnn  image was generated using the following repositoriesnon androidgitkernelorg and corresponding  kernelqemugitn    externalqemugitdistribbuildkernelshn  was generated by invoking the script withnn pathtobuildkernelsh  image is only intended for emulation with th
2866,fix memory leak of skmovie classnnmovie class  have finalize methodnso memory leak of skmovie class of native skia occurs when movie class is releasedni add finalize method to movie class moviejava and jni destructor method to skmovie class moviecppnid
2867,fix rebuild script do not mergennimportant this patch is a backport from the internal master treen do not merge it backnnthis patch fixes the rebuild script to not use hardcoded ubuntunpackage urls this was problematic because some of these becameninvalid when ubuntu increased the version number of some of thesenpackages and moved various ones to securityubuntucomnninstead we know download the  corresponding to a givennrelease and parse it to extract the versioned deb url to use fromnthe mirrornnalso add commandline options parsing you  need to define ndknin your environment anymore instead pass the path to the toolchainnsources directory as innn  pathtotoolchainsrcnnalternatively use  to specify the path to your ndknand the script will automatically download and patch the toolchainnsources from androidgitkernelorg for you as innn   default the script creates a tarball now  you can use  to indicate an installation directorynas innn    note the generated toolchain binaries still do not runnproperly on glibc  only the machine code they generate we hopento solve this in the future with another patchnnuse help for complete usage informationnnorigchangeid
2868,add missing sysroot librariesnnthis adds a few missing libraries to our custom  toolchain sysroot in ordernto be able to build the opengl hardware emulation test program and later completenimplementationnnyou can check this by defining  in your environmentnafter this patch is submitted we will be able to remove the hack under thenfollowing build scriptnn developementtoolsemulatoropengltestsutrendererandroidmknn add a onlysysroot option to the build script that can be used ton only rebuild a new sysroot without recompiling the full toolchainn which can be quite longnnorigchangeid
2869,tethering bluetooth tetheringnnbluetooth tethering using netdnbug fix in nativedaemonconnectorjava events was put on the command response queuenid  christian bejram
2870,use openssl engines in wpasupplicantnnthe android openssl tree directs us to remove the engines subdir so  try to use engines in wpasupplicantnid
2871,dma errata  dma errata correctionnnthis errata is valid  errata  impacts all  es  errata  impacts only  dma may hang when several channels are used in  not impacted so remove the errata fix for  issue reported on  check reported by nishant kamatnnthis is already merged in linuxomap as commit  vikram pandita  nishant kamat  tony lindgren  anand gadiyar
2872,pm add voltage levels to prmsetupvc previously prmsetuptimennexpand configurevc to support configurable voltage levelsnnnedoffby mike chan
2873,rc fixes typo sytem  systemn
2874,cgroup add generic cgroup subsystem permission checksnn rather than using explicit euid   checks when trying to moventasks into a cgroup via cfs move permission checks into eachnspecific cgroup subsystem if a subsystem does not specify  handler then we fall back to doing our checks the old waynn this way nonroot processes can add arbitrary processes tona cgroup if all the registered subsystems on that cgroup agreenn also change explicit euid   check to capsysadminnnnedoffby san mehat
2875,fix sdksetup for building android on dreamn
2876,added for androidshn
2877,arm  add gpio setting for wifin
2878,addedupdated provider settings for yahoorelated mail domainsnnspecifically added configuration settings for international yahoondomains eg yahooca yahoode yahoofr etc including partiallynor wholly owned yahoo subsidiaries as well as partner domains from  telecom and rogers whose email services are managed by yahoonnfor domains supporting imap changed to imapssl for mail handling tonsupport a better user experience on mobile devicesnid
2879,make core ialization replying to the ui at the end of ializationnnalso this cl contains a minor fix to formatting boot options passed to the kernelnid
2880,make adt use the new layoutlib apinnadt now exclusively use the new apinthe older platforms that still use the old api arenaccessed through a compatibility layer provided by the classnlayoutbridgewrapper that converts the old to the new api bothninput and outputnnthe wrapper and the loading code for the bridge have movednto layoutlibutils but into the idecommon packagenlayoutlibutils is to be renamed idecommon laternnsdkloadstatus has moved into idecommon too  used by the bridge loading code as  movenmore code into idecommon  ok to have it there anywaynnalso did some minor fix to the apin missing implementation of viewinfon made a singleton for success state of sceneresultnid
2881,rename layoutlibutils into idecommonnid
2882,rename layoutlibutils into idecommonnid
2883,mmc sdhci fix  wide support capabilitynnnedoffby dmitry shmidt
2884,video tegra mark a  handle as unused when it isnid  erik gil
2885,fix text is cut in edit word edit box when adding word to dictionarynnwhen a word is added to dictionary its display is cut in edit box ofnedit word dialog on some screensnid
2886,video tegra delay hdmi hotplug detection until after resumenid  erik gil
2887,refactor to make model rendering reusablennthis changeset refactors the code in graphicaleditorpart a bit to makenthe part which renders a model into an image reusable this will benused by an upcoming changeset to provide previews of palette items asnyou drag themnnthe refactoring is straightforward even though the diffsnunfortunately  show it i basically split up the largenrecomputelayout method into smaller separate chunks validating thencurrent file validating the model and validating the sdk and lookingnup the bridge and added a new render method which can take just anmodel separate from the  own model and render itnid
2888,handle onpaueonresume race in streamstarternnan illegalargumentexception is thrown from unregisterreceiver in onpausenif the bindtoserviceonserviceconnected has not completed on onresumenntracenncaused by javalangillegalargumentexceptionn receiver not registered comandroidmusicstreamstarter$ androidappactivitythread$
2889,net wireless  fix softap startstop race conditionsnnnedoffby dmitry shmidt
2890,fix sometimes mexpandedview will appear while screen transformingnnwhile watching youtube and receiving a call after hang up the callnmexpandedview may flash when screen transform from phone to youtubenid
2891,video add rgb disable handlernnadjust pinmux on disable in order to save powerleakagenid  james wylder  erik gil
2892,update cts result xml schema to describe current  formatnid
2893,video tegra call disable with interrupts disablednid  erik gil
2894,revert premature toolsatree changenid
2895,added support for default http proxy to be selected automaticallynid
2896,fix various warningsnid
2897,select rename estimateaccuracy to selectestimateaccuracynnmake it a subsystemspecific identifier because we wish to amke itnnonstatic in the next patch epoll make epollwait use the hrtimernrange featurenid  shawn bohrer  al viro  davide libenzi  thomas gleixner  andrew morton
2898,epoll make epollwait use the hrtimer range featurennthis make epoll use hrtimers for the timeout value which preventsnepollwait from timing out up to a millisecond earlynnthis mirrors the behavior of select and pollnid  shawn bohrer  al viro  davide libenzi  thomas gleixner  andrew morton
2899,arm fiq debugger allow selection of target cpunid  colin cross
2900,added support for default http proxynid
2901,bugfixes for handling of https connections over http proxynid
2902,use new androidnetproxy method to select http proxynid
2903,remove groovy closures from the tool integration apinnremove groovy closures from the tool integration api and replace withndedicated singlemethodinterfaces which can also be invoked asnclosures from groovy but which also would allow nongroovynimplementations to work as view handlersnnalso add warning to the javadoc for the interfaces that this isnneither a public nor a final apinid
2904,usb host fix tegra ehci suspend in otg modenid  benoit gobi
2905,arm tegra clock add pllu to common clock tablenid  benoit gobi
2906,arm fiq glue align fiq stacksnid  colin cross
2907,mmc add ignore mmc pm notify functionalitynnnedoffby dmitry shmidt
2908,remove address range check for librariesnnthe prelinklinuxarmmap might be device specific which willncause native heap stack traces not to work on some devicesninstead a check that the library name conforms tonsystemlibso has been added to ignore libraries likensystemframeworkframeworkresapknid
2909,control state snapshots from android consolennthis patch exposes  save load delete and list commands fornstate snapshots on the android console a level of indirection isnadded by means of the outputchannel construct this allows us to shownthe output of the qemu commands on the console rather than on thenmonitor while minimizing the differences with the upstream codebasennthe new commands are exposed only when the configuration constantnconfigandroidsnapshots is not
2910,allow uppercase and dashes in builddevicenid
2911,adt using the new layoutlib apinid
2912,fix detection of host endiannessnnthe host endianness in androidconfiguresh was backwards assumingnthat  means that the host is bigendian howevernthe script also failed to use the result which is probably whynnobody noticed now hostwordsbigendian is defined innconfighosth if hostbigendian i
2913,minor update to the layoutlib apinid
2914,fix parser line numberingnid  bruce bear
2915,remove unused imports from wirelesssettingsjavanid
2916,unused import statements removed and also an unused private static variable removednid
2917,mms fix for sending long sms to multiple recipientsnnwhen a long sms is sent to multiple recipients it is sent only to the firstnrecipient mms app checks extra extramessagesentsendnext for true beforensending sms to other recipients since same pending intent is used for allnfragments this is never true fixed this issue by using differnet pendingnintent for last fragment with extra extramessagesentsendnext set to truenid
2918,add cacheutilc to built sources for ppcnnthe file cacheutilsc contains code that is referenced in anbuild for a powerpc hostnid
2919,added new bytecodes for the  fast interpreter buildnid
2920,replaced sdcard with environmentgetexternalstoragedirectorynid
2921,replaced sdcard with environmentgetexternalstoragedirectorynid
2922,fix for code review mohammad shamsinid
2923,minor update to the layoutlib apin
2924,add confighosth for ppc generated by androidconfigureshnid
2925,add sdlconfigh for ppc generated by androidconfigureshnid
2926,make adt work with the new layoutlib apinid
2927,radiogroup now adds radiobutton children that  direct children but can be children of child viewgroupsnid
2928,build mmx stuff on powerpcnid
2929,upstream integrate tcg changes for remaining archesnncommit  integrated upstreams tcg changes for   this commit pulls the equivalent changes for thenremaining archesnid
2930,enables  as a valid targetarchvariant for the simulator buildnid
2931,bluetooth add btpower  socket optionnnadd btpower socket option used to control the powerncharacteristics of the underlying acl link when the remote endnhas put the link in sniff mode and the host stack wants to sendndata we need need to explicitly exit sniff mode to work well withncertain devices for example  on plantronics voyager  this causes problems with hid devicesnnhence moving into active mode when sending data irrespectivenof who set the sniff mode has been made as a socket option byndefault we will move into active mode hid devices can set  socket option to prevent this from happeningnncurrently this has been implemented for  sockets this has beenntested with incoming and outgoing  sockets for hid and  on discussions on linuxbluetooth and patches submitted bynandrei emeltchenkonnnedoffby jaikumar ganesh
2932,patch to backup settings using backupagenthelpernid
2933,patch newfsmsdos refine spc tablennset sector per cluster to new value according to below tablennfor     sector per clustern  mb to  gb  sectors per clustern  gb to  gb  sectors per clustern  gb to  gb  sectors per clustern more than  gb  sectors per clusternnwith old table  card formatted on phone  be accessed by windowsnwith old table fsck will allocate huge memory for  and  cardsnid  ethan
2934,bluetooth reassigned copyright to code aurora forumnnqualcomm inc has reassigned rights to code aurora forum accordinglynas files are modified by code aurora forum members the copyrightnstatement will be updatednnnedoffby ron shaffer  marcel holtmann
2935,getting used to git patch to backup settings using backupagenthelpernid
2936,patch avoid forcing  cluster size to  c  was added to take card of  cards with new spc tablen no longer need this hacknid  ethan
2937,media tegra avp fix a mutex leak on an err path in lib loadnnalso hold the mutex for longer on cleanup while deletingnthe libs nvmap client not strictly necessarynid  dima zavin
2938,visual adjustments to the layout feedbacknnthis changeset makes a number of adjustments to the visual feedbacknshown during layout dragging  dropping selection etcnnthese  render text on top of a translucent mask white on a transparentngray rectangle this ensures that the text is readable regardless ofnwhat content is under the text we  just use the background colornfor the normal swt drawstring for two reasons first we need toncontrol the alpha of the background only since we want the text to benopaque and the background to be translucent and second we oftennwant to draw multiple lines of text so we need to manually draw anbackground rectangle which accommodates the maximum width of all thenlines such taht we  have a ragged  paint the outline mode lines using solid translucent lines andnadjust the bounding box computation in this case by  pixel such thatnwhen you have adjacent boxes such as in linearlayout you  endnup with two thin lines next to each other creating a thick  change the drawingstyle internal api from foreground andnbackground colors to stroke border and fill interior withnindividual alphas this makes the color defions simpler fornexample we  need two separate styles one for the selectionnborder and one for the selection  make the hover more subtle using no border and just a lightntranslucent gray rectangle to only slightly draw attention to the viewnunder the  change the appearance of selection to light blue and use a longndashed border around it the anchor lines are more faint and morentranslucent to make them stand out  change the appearance of the droppreview to use a dash patternednborder identical to the selection border but colored orange insteadnthe matching border pattern will hopefully reinforce that thendroppreview line is where the selection also dashed will  use green to show available drop zones the grid surrounding antarget in relativelayout and the positions between elements  for invalid drops use a white x on a red background as the  i replaced the ovalx pattern from the layouthelpers and replacednthem with the orange dashed insertposition lines i also adjusted thenlinearlayout to draw the bounding boxes such that the middle of thenbounding box rather than the top left edge are aligned with theninsert positionnid
2939,proguard default config filennit is located in $sdktoolslibproguardcfg and automaticallynput in ant project create and update if project is not already setupnfor proguardnid
2940,implement attachcore optionnid
2941,inputdevice adjust orientation according to rosfhwrotationnnthe touchscreen events are not rotated by rosfhwrotationnthe patch fixes this issuen
2942,propagate envp parameter to the real mainnnthe envp parameter is used for the call to qemucacheutilsnso make sure the main function actually gets itnnif sdl wraps main there is no envp parameter so pass null insteadnthis behavior is copied from upstreamsnid
2943,arm tegra duplicate vde clock for aes in   varun wadekar
2944,fix endianness bug in skinimageloadnnthe file androidskinimagec includes sdlconfigh but notnconfighosth therefore using hostwordsbigendian will notnwork but using sdlbyteorder willnid
2945,bluetooth defer sco setup if mode change is pendingnncertain headsets such as the motorola  will reject sco and esconconnection requests while the acl is transitioning from sniff modento active mode add synchronization so that sco and esco connectionnrequests will wait until the acl has fully transitioned to active  hci command exit sniff mode  plen  handle  hci event command status  plen  exit sniff mode  status  ncmd  hci command setup synchronous connection  plen  handle  voice setting  hci event command status  plen  setup synchronous connection  status  ncmd  hci event number of completed packets  plen  handle  packets  hci event mode change  plen  status  handle  mode  interval  mode  hci event synchronous connect complete  plen  status  handle  bdaddr  type scon error connection accept timeout exceedednnnedoffby ron shaffer  marcel holtmann
2946,improvements to the new layoutlib apinnmove to classes instead of interfaces so that the layoutlibnapi code can provide default implementationnnthis will reduce the testing on the adt side about whether a methodnis present for the current api level or notnnalso moved all the parameters of startlayout actually renamed createsceneninto a sceneparams classnid
2947,mmc sdio fix enablehs and enablewide in sdioresetcommnnnedoffby dmitry shmidt
2948,arm fiqdebugger make fiqdebugger be in debug mode by defaultnnadds a config option that controls whether or not the console is on atnboot defaulting to nonid  dima zavin
2949,arm tegra correct device defion of second  controllernnnedoffby iliyan malchev
2950,revert bluetooth hack do not use powersave featurennthis reverts commit  jaikumar
2951,arm tegra  update pmqos for   colin cross
2952,revert arm tegra driver for spdif audionnthis reverts commit  iliyan malchev
2953,added a hook for loading vendor specific defionsnnthis hook makes it possible for vendors to both redefinenexisting defions and add new defions to the buildnsystem a vendor specific defion will override thencorresponding default defion if it exists this cannfor example be used if a vendor wants to use a custom toolnfor signing apks thereby requiring to override thendefion of how apks are signednid
2954,fix missinterpretation of tenthofsecondnnwhen the play tone command from sim tool kit has a duration timenwith the time unit of tenth of seconds this is missinterpretednby stkapp as ten times seconds see  ts  pag
2955,fixed systemcrash when displaying accountlistnncatch exception thrown when iconlabel is not set in accountnauthenticatornid
2956,allow changing the page size from command linenid
2957,added state snapshot support for qemud service boot propertiesnid
2958,omitting big endian caused corrupt charactersnnwhen sending a terminal reponse to sim containing unicodencharacters big endian must be explicitly stated tonavoid corrupt charactersnid
2959,fix icon painting transparency for the palettennthe icons shown in the palette do not have transparency applied tonthem which means that you end up with white squares on a whitenbackground this looks okay in the outline view where the icons arenshown on a white background but it does not look good in the palettenwhere they are on a gray backgroundnnthis changeset fixes the icon generation a bit such that it records antransparent pixel for these icons  not an ideal solution since wenonly have onoff transparency not an alpha channel which means thatnwe  have a smoothly antialiased edge of the circles regardlessnof the background luckily a light color seems to work fine for bothncasesnnwhile i was at it i also adjusted the font positioning slightly on thenmac platform for some letters that needed itnid
2960,use a typed comparison of floating point field values rather than just a string comparisonnthis addresses toolchain issues se
2961,libstagefright fix handling of  atom in  per the  specs the contents of the skip atom are irrelevantnand can be ignored currently the parser attempted to parse the skipnatom which  have any structurennattempting to parse the skip atom causes a problem if the bytes immediatelynfollowing the atom type which denote the size for most other atomsnform a extremely large number in that case we add this large number tonthe offset eventually we get out of this atom because we  parsenit but we fail the   in the previous recursive levelnsince    would not be truennthis change completely ignores the contents of the skip atomnid
2962,arm tegra add graphics host apertures to iomaphnid  gary k
2963,net wireless  add fw reload event processingnnnedoffby dmitry shmidt
2964,arm tegra add syncptthresh interrupts to irqshnid  gary k
2965,arm tegra add graphics host to devicescnid  gary k
2966,net wireless  enable keepalive featurennnedoffby dmitry shmidt
2967,load state snapshot rather than booting to start emulatornnthis patch adds support for an optional file snapshotsimg in thendata directory of an avd this file should be an image formatted withnthe  file system and will be mounted on hdb when the emulatornstarts up if present the emulator will attempt to load the snapshotnnamed defaultboot from this image rather than going through thenfull boot procedurennto control the behaviour of this functionality this patch introducesnthe following new command line options for the emulatornn snapstorage  override the default location of then snapshot storage filen nosnapstorage do not load the snapshots file even if an explicitn path is givenn snapshot  instead of loading defaultboot load the staten snapshot with the given namen nosnapshot do not load a snapshot but force a full bootn sequence even if a snapshots file is mounted useful forn creating snapshotsnnnote that this functionality is experimental and will be enablednonly if the constant configandroidsnapshots innandroidconfigconfigh is set to  before building it is turnednoff by defaultnid
2968,not able to read sim phonebook without  patch allows us to access sim phonebook on sim cardsnwithout  file the patch simply ignores to  file if it  exist or the file id isninvalid  this also allows us to gracefully handlenincorrectly configured efadn files which  records while the  file  existnid
2969,media video tegra wait for remote ack on disconnectnid  dima zavin
2970,media video tegra add debugfs entry for tegrarpcnnfor now just includes the existing ports the peer ownersnand the port and peer statenid  dima zavin
2971,video tegra move nvhosth to machtegraincludenvhosthnid  gary k
2972,media video tegra add avp port transport info to debug dumpnid  dima zavin
2973,video tegra  drivernnthe graphics and display hardware on tegra socs is accessednthrough a command dma frontend called  driver clients place commands into memory objects callednstreams and submit a stream on one of  channels the assignmentnof streamstochannels depends on the hardware modules programmednby the stream for example all streams which program the  are submitted on channel   hardware includes two synchronization primitives tonallow command streams to synchronize access to memory or tonhardware engines shared across channels eg the  blitternsync points and module mutexes both primitives can also benused to synchronize with the cpunnthe  driver performs power management for all modulesnbehind the host block once a module is idle ie thenlast stream which accesses it has completed indicated byna syncpoint and has remained idle for an extended periodnof time the  clock and power gate island if thenmodule is uniquely powergated is disabled and will benautomatically reenabled when a new stream is submitted fornthat modulennincludes channel debugging support originally implementednby erik gilling  author antti hatala   gary k
2974,arm tegra dvfs fix locking on external dvfs callsnid  colin cross
2975,video tegra add  support to drivernnincludes changes bynnantti hatala   king   gilling   hatala  tegra dc use nvhost driver for  power managementnngary king  tegra fb add ioctl to flip dc windows to nvmap handlesnnerik gilling  tegra dc increment syncpoints following window flipsnvideo tegra drain syncpt waits on display disablennoriginal commit messagesnnvideo tegra dc use nvhost driver for  power managementnnincrementing the frame done syncpoint value from the display interruptnrequires that the host module is powered on as the syncpoint state isnsaved and restored automatically by the host driver a cpu increment ofna syncpoint in the powered down state will be lostnnalso adds checks for host module being powerednnvideo tegra fb add ioctl to flip dc windows to nvmap handlesnntegra userspace graphics drivers may allocate framebuffers usingnnvmap rather than rendering to the common framebuffer this maynbe done to support deeper buffer pipelining color formatsnand pixel layouts other than the ial bootup framebuffernetcnnto use this ioctl a caller must first specify an nvmap fdnwhich is already open in the calling process so that thensubsequent flip ioctls may be properly validated flips are performednasynchronously with flip completion notifications provided back tonthe caller via the  syncpoint mechanismnnbased on earlier changes made by antti hatala  erik gilling   gary k
2976,arm tegra dvfs add lock to dvfsregnid  colin cross
2977,arm tegra ventana add  consumer for avddlvdsnid  gary k
2978,arm tegra cleanup empty functions in machfbhnnadds static inlinenid  erik gil
2979,arm tegra ventana add graphics supportnnregister the   grhost pwmbacklight and carveoutndevicesnid  gary k
2980,libstagefright fix for grey frame displayed on seek in http streamingnnif seek is signaled while cache read is in progress this frame shouldn not be added to the cache currently this frame is written to the cachen and subsequently gets sent to the decoder after flushnif this frame is not a sync frame it results in grey frame artifactsn at the outputnadded code to release this buffer and prevent it from being pushed ton the cachenid
2981,video tegra add stride calculation for complex tiling requirementsnnsome tegra engines place restrictions on the strides that are supportednfor tiled surfaces engines which do not have general dividers in theirnaddressing logic restrict strides to be an odd multiple of a poweroftwonnumber of tiles where the odd multiple must be   and the poweroftwonmust be   tegradccomputestride to compute the smallest stride which meetsnthese requirements that is large enough to fit the requested surfacenwidth and color depthnid  gary k
2982,for issue  allow library prelinkingnid
2983,pthreadmutextimedlock addednid
2984,force disconnect of all devices when adb connection is lostnnbug
2985,arm tegra dvfs add config options to disable dvfsnid  colin cross
2986,libstagefright add support for  file playbacknn changed all  bit offt types to a a sfofft type which is  bitsn because seek  support  bit offsets using lseek instead forn seeking in filesourcenid
2987,initial support for multiple pdp and  in mobile data state trackernn interface changes in phonejava phone notifier and telephonyn registry no support yet in data connection trackernn keep separate states interface and apns for  and  in mobile network staten tracker connectivity servicenetwork state tracker is unchanged and is not awaren of separate   interfacesnn actionanydataconnectionstatechanged intent is broadcasted whenever theren is a change in the state associated with   a new extra fieldn  introduced and will reflect the state of  onn  existing extra field  will be set as  if atleastn one pdp is active on any ip versionnn listendataconnectionstate phone state listener call back is backward compatible asn state will be set as  if atleast one pdp on any ip version is activenn backward compatibility is maintained as existing applications that usen actionanydataconnectionstatechanged intent and listendataconnectionstaten notifiers will remain unaffectednid
2988,adding null check on cursor c in mediaprovidergetalbumartoutputurinnthe cursor c in mediaprovidergetalbumartoutputurinmediaproviderquery can clearly return nullnnadding a null check setting albumarturi to null in that casenshould solve the problem and should be safe as the only callernof getalbumartoutputuri expects and handles a null returnnid
2989,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
2990,pthreadmutextimedlock tests addednid
2991,merge branch  of gitandroidgitkernelorgplatformsystemextras into mutextimedlockn
2992,arm tegra dvfs fix dvfs disable config optionnid  colin cross
2993,sdk manager support separate addonxml schemannthis splits  into  xml schemasnone for the sdkrepository and one for the sdkaddonnnthe sdk manager is then modified to only load   from the sdkaddon whils the  everything including  if the old  or  are being usednid
2994,frameworksbase add new linksocket apisnid
2995,patch init make sure the last parameter to execve is nullnnwe alloc exactly the number of parameters in parselineactionnwhen these parameters are for execve which request the argvnterminated by a null it may fail randomly depends on whatnis there after the end of the buffer we allocatednnextend the buffer to hold one more pointer and make surenit is null to fix this bugnid  ethan
2996,support for virtualvoicecall over sco  party apis added for starting andnstopping a virtual voice call over sconnwith review comments implementednid
2997,fix adt to build with the new layoutlib apinnalso make the custom cleaning of the layoutlib loopernonly done through api  newer bridge can do their own clean upnid
2998,arm fiq glue align fiq stacksnid  colin cross
2999,serial tegrahsuart fix void return type on writel accessorsnnnedoffby colin cross
3000,use deleted node object in setsizescreenwidthandscalennthe call to forcelayout may cause the node object to bendeleted avoid crash by check that the node object isnstill valid when forcelayout has returnednid
3001,arm tegra usbphy correct utmi power off sequencennusbwakeoncnntendev is only valid when usb controller is in device modennalso only one of usbwakeoncnntendev and usbwakeondisconendev bitsncan be set at any one timenid  jay cheng
3002,mmscontrib test commitnid
3003,revert default result to pass for froyonnbug  the default result back to pass again for froyo to masknthe failing  fixing thenjunittestcaseadapter tests to pass would require a change tonandroidtestinstrumentationtestrunner so  just have tonlive with masking these failures for now the test runner throwsnan exception because the test case names are not actual methodsnof the junittestcaseadapter class the runner then aborts andnreturns no status and thus the result of the test was the defaultnresult which used to be fail but now is being changed to pass innorder to mask these failures for froyonid
3004,flex for linuxppcnid
3005,media video tegra add ref count for remote clock requestsnid  dima zavin
3006,add resolvercontroller classnnadded a resolvercontroller class that handlesnthe communication with the dns resolver innnetdnid
3007,fixed to close the socket channel already opened when there was no adb responsenid
3008,adding null check in handleappcrashlockednnadding null check in handleappcrashlocked when retrieving the topnrunning activity to avoid crash of system server process thisnhas been observed very rarely in internal crash reportsnid
3009,remove unused resources from browsernid
3010,extractfiles grab wifi firmware and confign
3011,collect ftrace data in bugreportnnnote this would probably double the size of the report but itnwill also provide very valuable infonid
3012,emulator opengl directory rearrangmentnnmove systemopenglcodeccommon into sharedopenglcodeccommon so  codencan be shared among more components of the projectnnmove testsutrenderertimeutils into a the common areannannotate errlogh and gldecodercontextdatah with the project license statementnid
3013,systembluetoothbludroidremove the  second delay after starting bluetoothdnnremove the  second delay which is not required for bluetoothdnwe wait for  secs to get the adapter path in androidserverbluetootheventloopcppnwhich will handle the bluetoothd delaynid  bheemsen kulkarni
3014,fixed to close the fileinputstream when the syncprogressmonitor find the cancel message while there is something to readnid
3015,converted large ifelse blocks to switch statements seems more readable andncompiler can now convert to a lookup table for speed also correctednsome small formatting issuesnnremoved trailing whitespaceid
3016,added methods to support dns cache per interfacennadded some methods to networkmanagementservicenas part of the work to implement a dns cachenper interfacenid
3017,video tegra flush fbflip workqueue on blank and suspendnid  erik gil
3018,fix prebuiltmk to support signing with platform keynni tried to sign a prebuilt package using the platform key to getnandroiduidsystem access permission but buildcoreprebuiltmknonly support presigned keywordnnthis patch only applys for the packages in apps class andnthe keys such as platform and testkey can be used for signingnnsee the example androidmk below for the proper usagenninclude $clearvarsnlocalmodule  vendorsettingsnlocalmoduletags  optionalnlocalsrcfiles  $localmoduleapknlocalmoduleclass  appsnlocalmodulesuffix  $commonandroidpackagesuffixnlocalcertificate  platformninclude $buildprebuiltnid
3019,video add short video mode decode to fbmonnid  erik gil
3020,appsmusic fix memory leak due to excessive jni global referencesnnwhen the music app is destroyed the adapter cursor is not closedndue to which cursor leaks are observed everytime music applicationnis started close the adapter cursor ondestory when the adapter isnnot sent to another activity to avoid cursor leaks and jni globalnreferencesnid
3021,implement listcores ui optionnnalso fixed a bug in iolooperselectc iolooperdelwrite was buggynalso switched iolooperselectc to use mallocfree instead of qemuxxxnid
3022,cursor leak in sharelinkcontextmenunnclosing was not closed after handling sharelinkcontextmenuid addedntry final to close cursornid
3023,fix for dial request when there is already an active callnnwhen there is one active call and the user tries to place secondncallthe active call should be put on hold first and after receivingnhold response the dial request should be placed for second callnid
3024,net wireless  fix watchdog termination after   dmitry shmidt
3025,swt for linuxppcnid
3026,add screen size and density to report headernnbug  logical screen size like small or normal and the logicalndensity with density bucket the density bucket is a guessnid
3027,increment version to
3028,arm  use pmqos to prevent dmacallback delaysnnnedoffby iliyan malchev
3029,look for platformversion  instead of  version are now typically  which fails thentest in opencore to decide what to build this change would laternfail to distinguish  but it is likely that android willnreach version  befor
3030,net wireless  fix race conditions for sysiocthreadnnnedoffby dmitry shmidt
3031,remove bogus argument to setdatasourcenid
3032,fix handling pointers in emugennnmoved  attribute from variable to type fieldnthe types input file now includes new column specifying if a type is a pointer or notnpreviously emugen declared as pointer only types which included  character but did notnprocess well the case of   pointer to pointernnfixed the gltypes and utrendercontroltypes accordinglynfew other fixes to glattrib and glinnid
3033,video tegra fix crash when no hdmi modes are supportednid  erik gil
3034,add transient visibility mode for empty containersnnwhen you add a new container such as a linearlayout it is usuallyninvisible the reason for this is that an empty layout has  width  height there are two existing features in the layout editor to dealnwith this  outline mode which renders rectangles around allnviews and  padding mode which adds  pixels of padding to allnviews in combination these two modes will create a rectangle fornempty layouts making them visible and usermanipulatable you cannfor example select or drop into themnnthis changeset attempts to make dealing with these types of containersneasier and more discoverable it adds a new temporary mode where emptyncontainers and only empty containers are automatically padded andnhave their outlines painted and more importantly this is only donenin some limited scenarios when you drag into or drag within thenlayout canvas as soon as you finish the drag empty containersndisappear againnnunlike padding mode we  enlarge the design surface itself sincenthis mode comes and goes easily and frequentlynnin addition to this there is special handling for selection if younselect a zerosized element which for example is automatically donenwhen you drop a new layout and which can also be done by clicking innthe outline then the element is also revealed similar to thenshowempty mode but in this case only the selected item and not anynother invisible containers are shownnid
3035,unregister listeners from disposed widgetnnthis changeset fixes a couple of exceptions on shutdown which stemnfrom the fact that once a widget is disposed  an error to attemptnto remove listeners from itnid
3036,add proguard support in the release build mode of adtnnthis is only activated if defaultproperties contains a proguardconfignpropertynid
3037,new layoutlib apinnthis is the new api to move to a stateful layoutlib allowingnfor faster actions on an inflated layoutnid
3038,arm  add more elaborate error countsnnthis patch replaces the error counter with two separate error counters one fornlate dma callbacks and another for overruns during recording or underrunsnduring playback the ioctls tegraaudioingeterrorcount andntegraaudiooutgeterrorcount now take a pointer to a struct containing bothnerror countersnnnedoffby iliyan malchev
3039,fix the build with a proper currentxml api filen
3040,change hide to dismiss to avoid memory leaknid
3041,add omitted state for cts testsnnadd a new omitted state for tests this is different from notnexecuted to fix a problem where cts would keep retrying to runnthe not executed tests over and over againnnin a prior change i switched the default test result from pass tonnot executed in the test result parser since i  want skippedntests to be reported as passed or tests that failed horribly tonreport pass this worked fine when running a specific package pnbut started to fail when running the entire plan plan cts thisnis because there are two code paths where one infely retriesnif there are any tests not marked as not executed but the othernjust retries once tests with the new annotations thus caused anninfe loop of retrying by setting tests to omitted byndefault the tests  be retried over and overnid
3042,arm tegra hdmi fix an incorrect register writennnedoffby iliyan malchev
3043,make the emojifactory access from multiple processesnnthe current emojifactory implementation has a problem in its waynof handling instance when it will be used from more than two processesnthe current implementation emojifactory is created by the systemnprocess and a japanese ime will get this instance and use itnproblem is that in the timing of system gc emojifactory will be freednafter this if japanese ime will use emojifactory it will refer thenfreed reference and cause errornid
3044,without sd card the shutdown sequence was delayednnif the memory card is not inserted or removed fromnthe phone the shut down process is very long itntakes almost  seconds for the phone with memoryncard the averige is  secondsnnmake sure to send onshutdowncomplete even if an sdncard is not mounted and no unmount is donenid
3045,adding classpath container entries to exported apk filennthe patch fixes the following   problem is resolved with adding thencomandroidideeclipseincludeinapk attribute in classpath containernusing the orgeclipsejdtuiclasspathattributeconfigurationnthe patch works in the following  by default it work as currently classpath entries   jre container and android container are never includednthey are provided by  the user can rightclick any container or some entry in containerncall include in apkexclude from apk actions and they will benincludedexcluded tofrom exported apk filennwhen the user adds the comandroidideeclipseincludeinapk attributenonce it can be edited using standard  build pathnpreferences pagennnotensometimes package explorer  refreshed correctly if you use thenbuild path preference page and you can see wrong theninclude in apkexclude from apk actions i suppose that  bugnin eclipse workaround is to refresh container and project in thenpackage explorer viewnthe include in apkexclude from apk actions are correctlynid
3046,allow data connections after a noreattach message from the networknnin the current code there is a check whenever an application triesnto setup a data connection if the connection is automaticallynattached by the platform or not however this check doesn’t takeninto account that the platform might be disconnected by the networkntogether with a return code which asks it not to attach againnnthis fix solves the problem when the network sends a deattachnrequest with the command that reattach is not required thisnwould cause the network to never reattach due to the noautoattachnproperty gprs state check was removed as well when trysetupdatanis called the phone will try to attach if possiblenid
3047,libstagefright add check for zero chunk  file with chunksize of zero causes a infe recursive callnof parsechunk of the parser resulting in anr added check to handlenthis casenid
3048,arm tegra dma fix a typonnnedoffby iliyan malchev
3049,backport upstream fix to disable inlining of merge sections in icf fornarm back endnid
3050,fix case where testrunended was called twicenid
3051,arm stop irqsoff trace on return to usernnif the irqsoff tracer is in use stop tracing the interrupt disableninterval when returning to userspace tracing userspace executionntime as interrupts disabled time is not helpful for kernelnperformance analysis purposes only do so if the irqsoff tracernis enabled to avoid overhead purely for lockdep which   todd poynor
3052,arm tegra tegrahsuart fix a typonnnedoffby iliyan malchev
3053,add a new kvp to control audio output in trickplay moden
3054,additional work to change default to treat compiler warnings as errors in makefilesn
3055,remove unused youtubeupload activityn
3056,cpm changes and new player engine unit test casesn
3057,player engine test executable does not print correct input filen
3058,remove tests not applicable for opencoren
3059,aac playback  decrease license countern
3060,fix for running a test number multiple times in makefile target for running parallel player engine tests minor additional chang
3061,remove unused api defions from playerdriver classn
3062,extracted components from oprofile  to be run on the phonen
3063,omx component support for additional decodern
3064,revert aac playback  decrease license countern
3065,update values of actionpower constants to match established practicen
3066,add a new kvp to control audio output in trickplay mode minor additional chang
3067,add track id as input parameter to the addtrack  composer apin
3068,generate logs in separate logfile when running player engine tests in a rangen
3069,fix for running a test number multiple times in makefile target for running parallel player engine testsn
3070,temporary port reconfig buffer should be invalidated upon component reset aac and  omx componentsn
3071,omx encoder node returns failure if omx components returns failure for omxindexconfigcommonrotate parametern
3072,implement support for iframe request in omx encoder noden
3073,change default to treat compiler warnings as errors in makefilesn
3074,add support for aac dual monon
3075,makefile updates to support internal source control versioningn
3076,additional updates for opencore changelog for
3077,add logic to the omx encoder to choose another component if one failsn
3078,net avoid sleepinsidespinlock in pppolac and pppopnsnnsince recv and xmit are called with a spinlock held routines which mightnsleep cannot be used this issue is solved by following changesnnincoming packets are now processed in backlog handler recvcore instead ofnrecv since backlog handler is always executed with socket spinlock held thenrequirement of pppinput is still satisfiednnoutgoing packets are now processed in workqueue handler xmitcore instead ofnxmit note that kernelsendmsg is no longer used to prevent touching deadnsocketsnnin release locksock and pppoxunbindsock ensure that no thread is innrecvcore or xmit then socket handlers are restored before releasesocknso no packets will leak in backlog queuennnedoffby chiachi yeh
3079,move movecmdtocurrentqueue and movecmdtocancelqueue methods to base node aac and amr parser nodes have been changedn
3080,resolves issue  go to problem in source from logcatn
3081,when server response  contain contentlength header resuming download  work for pdln
3082,method in androidcamerainputcpp returns unhandled exceptionn
3083,source  handling of cpm cmds in reset is incorrectn
3084,atom  is not skippedn
3085,net fix msgiovlen in pppolac and pppopnsnnalthough any positive value should work which is always true in both driversnthe correct value should be  chiachi yeh
3086,mediascanner has some api calls which are missing the interfacen
3087,early and late sync margins changed for better av syncn
3088,change  and clean targets to better handle missing makefiles from changed  rulesn
3089,version updates for sdkinfo header files and playerdriver documentation updatesn
3090,compiler warning fixesn
3091,cap lower bound player engine watchdog timer duration to default valuen
3092,hardcoded values in  atom in the composern
3093,enable filewriter for  composer noden
3094,remove code inside pvplayfromfilesupport and pvrecordtofilesupportn
3095,adt  generate items on drop in absolutelayoutnid
3096,make the emulator build on snow leopardnnforce the minimum platform version to leopardnid
3097,net activitystats add statistics for network transmission activitynnwhen enabled tracks the frequency of network transmissionsninbound and outbound and buckets them accordinglynbuckets are determined by time between network activitynneach bucket represents the number of network transmisions that werenn sec or longer apart where n is defined as   bucket indexnnthis network pattern tracking is particularly useful for wirelessnnetworks ie  where batching network activity closely togethernis more power efficient than far apartnnnew file procnetstatactivitynnoutputnnmin bucketsec countn                  mike chan
3098,net activitystats add statistics for network transmission activitynnwhen enabled tracks the frequency of network transmissionsninbound and outbound and buckets them accordinglynbuckets are determined by time between network activitynneach bucket represents the number of network transmisions that werenn sec or longer apart where n is defined as   bucket indexnnthis network pattern tracking is particularly useful for wirelessnnetworks ie  where batching network activity closely togethernis more power efficient than far apartnnnew file procnetstatactivitynnoutputnnmin bucketsec countn                 mike chan
3099,contactsbadge when there is no data to display show it to the userninstead of showing an empty badgennto testncreate an empty contact only with a name and click the android symbolnon the contactnold version empty badgennew version textview showing no datanid
3100,allow configstacktrace to be enabled by itselfnnthis allows us to get a kernel stacktrace for a thread though procnalso enable it by defaultnid  arve hjønnevåg
3101,net activitystats add statistics for network transmission activitynnwhen enabled tracks the frequency of network transmissionsninbound and outbound and buckets them accordinglynbuckets are determined by time between network activitynneach bucket represents the number of network transmisions that werenn sec or longer apart where n is defined as   bucket indexnnthis network pattern tracking is particularly useful for wirelessnnetworks ie  where batching network activity closely togethernis more power efficient than far apartnnnew file procnetstatactivitynnoutputnnmin bucketsec countn                 mike chan
3102,fixed logassert compilation errors in native debug buildsnninvoking logassert logalwaysfatal or logalwaysfatalif variadic macrosnwithout the printf format string arg caused compilation errors because thenvariable arg list vaargs was eventually passed tonandroidlogassert func in place of a required parameter this errornonly occured in debug builds because logassert is a noop in releasenbuilds this change allows debug builds to succeednid  chris pearson
3103,mmc goldfish disregard endcommand on cmdtimeoutnnnedoffby san mehat
3104,gdb patch that fixes the single stepping problemn
3105,enable building for simulatorn
3106,update currentxml for the build to succeedn
3107,androidmk generate preloadedclasses for policymid onflynnthe change fixes preloadedclasses issue for policymid and providenthe ability for a target to specify its own targetpreloadedclassesn
3108,yaffs better handling for partially written pages and blocksnnpartially written pages where a power interruption terminated the writenare problematic if we try to write into them because the programming cannbe corrupted or worse still may look ok but fail to sticknnif we are uncertain as to the state of the block this patch checks thenfirst page write carefully this checks that the that the page is erasednbefore trying to write to it and then does a verification afterwards ifneither of these fail then we stop allocating off this block and let thengarbage collector clean up the block and recycle it for reusennpartially written blocks are also potentially a problem because they mightnalso have been left in a strange state yaffs resumes page allocation fromnwhere the last allocation left off but this patch rather skips allocationnfrom the rest of this block this has the impact of causing slightly morengarbage collection but that should be insignificantnntogether these two modifications should help to improve lowlevel robustnessnid  charles man
3109,arm msm mahimahi debounce power keynid  arve hjønnevåg
3110,ensure that clearsilver is built as the native host bit width on os x as well as linuxnid
3111,build host tools as  on all darwin machinesnid
3112,emit shell prompt even when in noninteractive modenid
3113,improve linenoisec compatabilitynn  flush characters when switching into and out of raw mode thisnavoids eating characters that follow  such characters can occurnwhen pasting multiple line input or when scripts are driving inputnn try to be slightly cleverer about calculating the length of the promptnso that prompts with embedded  characters are handled ok this isnan area that really needs to be replaced with a query of the cursornposition from the terminalnn as a hack just assume the screen is very wide if we  know hownwide it is this allows dexpropt to work correctly it was gettingnconfused by the editing commands emitted when the endofline was reachednid
3114,bogus testnid  chris pearson
3115,rework the multiapk log filesnnmove away from a single log file used forn tell the dev what file was created with that propertiesn used to increment minor versioncode for specific apksn used to detect config change from what export to anothernnthere are now three files for each case with the last twonusing a never changing filename only a new build log filenis created at each exportnid
3116,ssh testnid  chris pearson
3117,updating runaetest make target for loggingn
3118,fmu video mio does not set video subformat type correctlyn
3119,updates to player engine and media output node for gapless playbackn
3120,using sample duration in addition to timestamp for syncronizationn
3121,updated pvplayerenginereleasemetadatavalues to properly handle clip index argumentn
3122,fix unialized memory in  engine unit testsn
3123,minor bug fix to support movie fragments  files with empty sample description tables and common pe node code refactoringn
3124,removed unused code osclmempoolallocatorhcppn
3125,include pvlogger library in oscl buildn
3126,imagebutton example  work default state should be at the lastnsee resresdrawablebuttoninsetxmln
3127,fix abi ordering for the multiapk build infonid
3128,sh fix problem with stray  character that was introduced in previous changenid  mike lockwood
3129,fix user dist buildsnnrevert use linenoise to add simple editing and history to the android shellnnthis reverts commit
3130,eliminate a compiler warning signedunsigned lengthnid
3131,prohibit listening ports on devicesnnbug  that devices do not have any listening ports open bynscanning files in the procnet directorynid
3132,added vendor id for httpwwwonthegovideocomnid
3133,canvasdrawvertices correct color rangechecknnthe rangecheck in drawvertices previously checked that the colorncount was equal to the vertex count however the vertex count isnspecified in array elements and  two array elements pernvertex for the positions but only one array element per vertexnfor the colorsnncorrect the code so the check is consistent with the element countnid
3134,fix the ssid display issuennreproduce  set a special ap name that contains  looks like  connect to this  the display of ssid will be incorrectnid
3135,add new variable targetshell  ash default or mkshnnbesides that add enough magic to build everything taggednas shell$targetshell and permit ashmksh as not unusualnid
3136,build ash as ash with shellash tag install sh symlinknnnedoffby thorsten glas
3137,fix that inputdevicereaderthread that got killed during startupnninputdevicereaderthread could be killed if a key or touch eventnwas received before iation made by policythread was made tonsolve this the start call for the inputdevicereader thread wasndelayed until alization of the policythread was done innthe windowmanagerservicenid
3138,silenced compiler warning seen only in debug buildsnid  chris pearson
3139,for the generic board set systembinsh to mksh to test the transitionnid
3140,add support for locale filters in multiapk exportnid
3141,trim the mime type portion of contenttypennfixes parsing of contenttype headers like textplain  unit tests for whitespace and the charset parametern
3142,linker fix the undefined weak symbols  not sure if this is a correct fix or notnalso need to find out why  does not have this issuen
3143,security fix typo in recovery eocd detectionnnthis issue results in the ability to modify the contents of a signednota recovery imagen
3144,regulator support disabling of unused regulators by machinesnnat present it is not possible for machine constraints to disablenregulators which have been left on when the system starts for examplenas a result of fixed default configurations in hardware this means thatnpower may be wasted by these regulators if they are not in usennprovide intial support for this with a latecall which will disablenany unused regulators if the machine has enabled this feature by callingnregulatorhasfullconstraints if this has not been called then printna warning to encourage users to fully specify their constraints so thatnwe can change this to be the default behaviour in futurennnedoffby mark brown  liam girdwood  rebecca schultz zavin
3145,input add crash modifier to keyresetnnif the specified key is also down when the keyreset sequence is depressedna bug will be triggered rather than a resetnid  paul eastham  rebecca schultz zavin
3146,productmk add a macro isinheritedfromnnthe macro is used to test if a product makefile is inheritednfrom another product makefilenid
3147,bootanimation  open nonexisting bootanimationzipnnwhile booting from aosp image logcat always complains as followingnwzipro  unable to open zip  such file or directorynwzipro  unable to open zip  such file or directorynnthis patch avoids opening nonexisting filesnid
3148,pixelflinger fix function naming typo gglbitbltinnfrom the functionality the function gglbitblti implemented bitblocknimage transfer operation in which several bitmaps are combined intonone using a raster operator renaming to gglbitblit should benexplicitnid
3149,libpixelflinger  specific objects are not used removennthis patch attempts to remove the generation of  contains the  specific object   is not actually used by other projectsnid
3150,do not merge update cts version to
3151,fixing emulator crash on  fixes a crash when starting the emulator on  after it hasnbeen built using  and when the androidproductoutnvariable is not definednnthe bug is discussed  the fix is proposed by david turner  patch just includes the proposed fix i have confirmed it fixesnthe problem for me the same code built as a linux emulator alsoncontinues to work i have been unable to test on darwin as i  havena handy os x machinen
3152,support various sysfs interface for backlight adjustmentn
3153,ctsverifier test list infrastructurennbug  a button to the main activity that launches a list activitynshowing the list of manual tests that can be run the test listnactivity queries for activities that support intents with thencategory androidctsintentcategorymanualtest categorynnadd some simple tests using activitymonitor to make sure thatnthe whole thing somewhat works its not entirely necessarynbut it was useful to learn about activitymonitor and be ablento play around with the androidmanifestxml to see what breaksnnlaunch emulator and use the following command to build installnand run out path omitted for brevitynnmmm ctsapps  install r outctsverifierapk  install r outctsverifiertestsapk  b path ctsappsctsverifiernid
3154,add better error handling for savepicture and restorepicturennif an exception occurs when storing the file treat this as an errornand always fail to try to prevent corrupted pictures to be stored tonthe file systemnnclose files if they were opened the caller might want to perform othernfile operations on the file and if it is still open these may failnid
3155,moved parsing and broadcasting code to bluetoothhandsfreejava fromnheadsetbasejava adjusted headsetbase constructor calls to remove contextnid
3156,backed out api changes from apicurrentxmlnmoved intent constants to bluetoothheadsetjava from bluetoothdevicejavanmoved parsing and broadcast code to bluetoothhandsfreejava from headsetbasejavanid
3157,move memchecker ialization from mainc to vlandroidc corennalso move qemumallocc to common core and ui sourcesnid
3158,corrected buffer overflow when parsing procwakelocksnnthe androidosprocessparseproclinearray in androidutilprocesscppnwrites up to bufferendindex this sometimes caused an assert to bentriggered in newstringutf when the output from procwakelocks wasnlarger than  bytes the buffer was also increased in order to benable to parse all wakelocks completelynid
3159,support changing style parent in overlaysnnpackage overlays makes it possible for vendors to tweak the look ofnthe platform and the applications without touching any platform ornapplication code directly this makes package overlays an importantnmechanism in the android build systemnnthere is currently a limitation that forbids changing the parent of anstyle if vendors could change the parent of eg ‘calendartheme’nfrom android’s vanilla ‘theme’ to ‘vendortheme’ then vendornspecific adjustments could be done without changing any code directlynnfrom looking at the code it can be seen that the parent value of anstyle is stored temporarily in resourcetableentrymparent whilenoverlays are gone through in buildresources and processed innresourcetableentryassignresourceids at first after all overlaysnhave been handled so there aren’t any obvious reasons why changingnparent in an overlay should be forbiddennid
3160,arm trout defconfig replace   confightcheadset in defconfignnnedoffby san mehat
3161,drivers misc remove redundant  redundant  entry in kconfignhas been confusing to a lot of peoplenmodified driversmisckconfignnnedoffby pavan savoy
3162,making sure calendarprovider closes cursor even if the cursor count   after querynid
3163,arm msm htcheadset import new headset driver from htcnnnedoffby san mehat
3164,arm msm trout switch to new headset driver in troutnnnedoffby san mehat
3165,use stride for source and target buffers when copybit is enablednid
3166,arm msm audmgr avoid leaking audio manager handlesnna race condition would allow audio manager handles to be leaked innsituations where the driver was rapidly closed and reopened eventuallynleading to the baseband being incapable of creating a new handle andnthen a panic and rebootnnnedoffby brian swetland
3167,bad test patch see if upload worksn
3168,gpu ion add ion memory managernid  rebecca schultz zavin
3169,arm msm htcpwrsink generify drivernnnedoffby san mehat
3170,arm msm mmc switch to htcpwrsink power reportingnnnedoffby san mehat
3171,gps gpsqemu added daylightsaving information is unavailble to brokendown time structnnthis fixes a problem where mktime after a first call always returns  thisnresults in an  on androidlocationlocation objects and thus fails to triggernonlocatiodn
3172,arm msm sapphire camera fix sensor orientationnnnedoffby iliyan malchev
3173,added support for the  toomanychildren rulesnndefined a new maxchildcount attribute in extraviewmetadataxmlnthis attribute is checked when dragging an element from the palettento the canvas if the maximum number of children of the target nodenis already reached the source element can not be draggednnthe layoutopt rules are n scrollview and horizontalscrollview can have only one childn listview and gridview can not have any childnid
3174,register dumping debug supportnneasy to usenn enable  include  call a regdump fucntion   erik gil
3175,turn off palette previews during unit testsnnset the default palette mode to icontext rather than preview duringnunit test runs since each test run will create a blank workspace thenpreviews have to be recomputed each time which adds a couple ofnseconds also there are some problems on windows when the previewingncode runs under unit tests which this will work aroundnid
3176,capture branch historyn
3177,java editor save actions for sdkuilibnn remove trailing white spacen remove unused nonnls tagsnid
3178,clicking in the layout editor does not show its propertiesnnin eclipse  the property sheet implementation no longer listensnto selection events it only listens to postselection eventsnnthis is fixed in eclipse  but we want to work on  too so worknaround eclipse issu
3179,textview  show context menu for doubletapnnuse the mechanism longpress uses to prevent the context menunfrom being shown hideing the selection was not working properlynnalso prevent a tripletap from being seen as two doubletap eventsnid
3180,add support for aapt crunchcache in adt and antnnthis change lets adt and ant use the crunch cache systemnset up in change  this commit is separate becausensdk and framework are separate git repositoriesnid
3181,add proper styleable supportnid
3182,fix for the handling of sms delivery report in case of cdma networknnalthough the carrier metropcs has cdma networkit does not support smsndelivery reportnid  papiya
3183,disable postcomp in adt except on export or debugnnthis patch adds a check in postcompilerbuilder so if a flag isnnot explicitly set as is done by exporthelper and launch thennit will skip and not do packaging this should speed up the incrementalnbuild on file save at the cost of slightly longer builds when pushingnto the debuggernid
3184,add ndk crtbeginsoo and crtendsoo if they existnid
3185,custom sort property sheet categoriesnnthe property sheet is hardcoded to sort property categoriesnalphabeticallynnunfortunately this means that for most widgets the first propertiesnlisted in the property sheet is deprecated nnthis changeset adds a custom sorter to the propertysheet and sortsnthe deprecated category to the bottom it also sorts the miscncategory second to last which means that  usually see the typenof the widget eg button or edittext at the topnid
3186,fix phone sort in configuration choosernnwhen trying to figure out the best device to use to render a givennlayout we sort all the potential candidates the sort wouldnfavor lower densities before higher onesnnthis new sort gives us flexibility in which density are highernprioritynthe current order is high med xhigh lownid
3187,modified overlaydestroy so that camera application can be restartednnmodified overlaydestroy so that camera application can be exited gracefully and then restarted without anynissues in the destroy method we are now calling overlaydataclose and we are also closing the duped filendescriptor the duped fd must also be closed for the kernel to release the device completelynnnedoffby anu sundararajan
3188,update mcctablenn add code  for indian add default timezone for most countriesn fix country code for slovenian change the coding as there are almost as many timezones as countriesn add official language for many countries based on wikipedian add wifi channels for many countries based on wirelessregdbn fix serbia name montenegro as been independent sinc
3189,platomap add mcbsp wakeupen configurationnnsubmitted on behalf of shivank sinha  jared suttl
3190,arm msm mdp missing image type when checking if src has alphannthe workaround for a hardware bug in tile fetch is requried only if thensrc image has an alpha channel this code failed to check for onenimage type when checking for alphannnedoffby rebecca schultz zavin
3191,gps gpsqemu added daylightsaving information is unavailble to brokendown time structnnthis fixes a problem where mktime after a first call always returns  thisnresults in an  on androidlocationlocation objects and thus fails to triggernonlocatiodn
3192,gps gpsqemu corrected alignmentn
3193,mm add minfreeordershift tunablennby default the kernel tries to keep half as much memory free at eachnorder as it does for one order below this can be too agressive whennrunning without swapnnnedoffby arve hjønnevåg
3194,ignore pause and seek for live streamingn
3195,arm msm camera move msmcamerac and  under msmnnnedoffby iliyan malchev
3196,merge branch  into
3197,arm msm camera rename all instances of struct  to struct  there were a number of instances where a  struct or enum wasn named foot instead of foon there were variables that ended on t this patch removes the trailing tn from these namesn renamed the old struct mmvferespt to struct msmvfecallback this isn more descriptive and avoids a name clash with the alreadyextant structn msmvferespnnnedoffby iliyan malchev
3198,mm add minfreeordershift tunablennby default the kernel tries to keep half as much memory free at eachnorder as it does for one order below this can be too agressive whennrunning without swapnnnedoffby arve hjønnevåg
3199,omap resource fix race in registerresourcennchecking if the resource is already registered and adding to the listnmust be atomic or bad things can happennnnedoffby mike chan
3200,arm msm fiq add ability to unselect an fiq irqnnnedoffby san mehat
3201,arm mmc msmsdcc add  option to poll for pio data after the first interruptnnnedoffby san mehat
3202,arm msm fiqdebugger add ability to enable disable debugger at runtimennnedoffby san mehat
3203,codesize reduction on android by hiding unexported symbolsn
3204,arm mmc msmsdcc add  option to poll for pio data after the first interruptnnnedoffby san mehat
3205,remove unneeded makefile segments of streaming manager from pv build systemn
3206,arm msm nand fix style violationsnnnedoffby san mehat
3207,arm mmc msmsdcc fix a bug where  only read the fifo once per interruptninstead of checking the status again for more datannthis change also adds a debug counter to track the number of interruptsnthis change savesnnnedoffby san mehat
3208,make camera optionalnid
3209,add resize support to the layout editornnthis changeset adds resizing support to the layout editornnfirst the normal selection overlay is replaced with a selectionnrectangle which also has selection handles in the corners and in thenmiddle of each edge moving the cursor over one of the selectionnhandle will show a directional resize cursor and dragging the handlenwill iate a new resizing gesture this also made it possible tonremove the selection fill  used until now so the layout editornwill interfere less with the visual look of the layoutnnduring the resizing operation the current size is displayed in theneclipse status barnnthe resizability of widgets is determined by metadata so for examplena zoomcontrols widget is not resizable a rating bar is onlynhorizontally resizable a tablerow is only vertically resizable andnmost widgets are resizable in any directionnnthe parent layout is involved in the resizing operation currentlynthe resizing gestures will only update the width and height propertiesnexcept for absolute layout which will also set the x and ynproperties if you are dragging a left or top edge in a follow upnchangeset this will be extended to for example make relativelayoutnallow resize dragging to snap to new edges and the resize will benapplied as a set of new constraints on the resized widget  be able to drag the right hand side of a widget and drag itnover to attach to some other widget or edge independent of what thenleft edge or vertical edges are bound tonnthis changeset also adds the ability for viewrules to provide anmessage or error message back to the ide during a drag or resizenoperation for resizing this is used to display the new size howevernit is now also used to display more useful messages in a couple ofnolder scenariosn attempting to drag anything into a listview will display a messagen that adapterviews much be configured via java coden attempting to drag anything into or within an absolutelayout willn warn that absolutelayouts are deprecatednnnote that resizing will currently set the size to specific pixel dipnsizes in the next changeset i will add guidelines which in additionnto those described for relativelayout above will add guidelines fornsignificant sizes such as the parent size the preferrednwrapcontent size of the widget and possibly other hardcoded sizesnin the same layoutnid
3210,fix button backgroud display border only when the width of image is less than  pixelsnnroot causenrenderskinbuttoncpp by default will assign border width as  pixelsnif the width of image less than  pixels there is no enough pixels to display  backgoundnit will cause the button display with border onlynsolution ncheck sum of margin left and margin right it should be less than  widthnotherwise assign margin left and margin right as   the width   assign margin a
3211,add table layout actionsnnadd add row and remove row layout actions to the tablelayout andnto the tablerow view rulesnnalso add  rows into tableview created through the palettennwhen  is  also make it add these tablerows when creating a tablelayoutnthrough the new xml file wizardnid
3212,telephony display message to indicate pinpuk status changesns done to display retry counter on wrong entry of  message to indicate code  blocked  verification as per certain carrier requirementsnid
3213,converted a variable from char to const char nremoves compiler warnings with some compilersnid
3214,telephony handle colpcolrcnap mmi stringsnncurrently colpcolrcnap interrogation is not supported and incorrectlynprocessed as ussd request changes done to reject the mmi command andnnotify user regarding the unsupported commandnid
3215,working version after refactoringnid
3216,to optimize searching finalize method during classloadingnnwhen dalvikvm loads a class it calls the  in classc the loadmethodfromdex function then callsnthe loadmethodfromdex function in a loop to load every directnmethod of this class the loadmethodfromdex function will usendvmcomparenamedescriptorandmethod which is implemented by usingnstrcmp to compare method name to check if the current method isnthe finalize method defined by java and set thenclassisfinalizable flag if true the problem is that afterndalvikvm has found the finalize method in a class it still callsnstrcmp to check the following methods which is unnecessary thisnpatch simply optimized it by checking the classisfinalizable flagnbefore calling strcmp so that the classloading is slightly fasternid  xiaoximeng
3217,added copyrightnid
3218,add list view previewnnuse the new layoutlib facility to specify adapter view bindings tonassign default listview item layouts to listviews andnexpandablelistviews this is also used to provide a preview ofnlistviews in the palettennnote that the list preview is always showing the default list viewnitems a later changeset will add the ability to pick a custom layoutnto be used for listview renderingnnthis changeset also contains a refactoring which pulls the cyclicndependency validator out into a standalone class this validator willnbe used not just for include drop support but also for the layoutnselector when picking layouts to preview in a listviewnnfinally the calendarview has a new iviewrule which sets its defaultnwidth and height to fill parentnid
3219,set arm flags for non arm buildsnnorigchangeid  bruce bear
3220,pull cnam related code and data into connection classnnthis change allows to expand cnam support to gsm devices as well currently cnam support is available on cdma devices onlynadds setting cnam data in gsmconnection class the same way as in cdmaconnectionnsimplifies cdmaconnection class as a resultn
3221,set arm flags for non arm buildsnid   bruce bear
3222,emulator opengl added glutilspixelbitsize function to glutilsnnmoved pixel size calculation from glclientstate to glutils to be usednoutside the client state scope needed for the rendercontrol encodernwhich will follow in next commitnid
3223,phone display supplementary service notificationsnndisplay ss notifictions to user as per  t
3224,telephony display supplementary service notificationsnndisplay ss notifictions to user as per  t
3225,sdk manager command line install  in noui mode the update sdk command was missingnthe addon filter type egn$ android update sdk noui filter addonnnthis restores it and adds a unittest to make surenthe cmd line check is in sync with the array  adds a new command line option list sdk to listnall possible packages that can be found and updated fromnthe remote sites the list has indexes which can thennbe used with the update sdk filter option to picknspecific packages to installnnexamplenn$ android list sdknpackages available for install   android sdk tools revision   documentation for android sdk api  revision $ android update sdk noui filter  will install all doc packages as well as thenpackages  and  mentioned in the list sdk  changed the obsolete flag to list not only obsoletenpackages but actually all packages this works around thenissue that the sdk manager tries by default to only shownunknown platforms that are higher than whatever is currentlyninstalled so there was no way with the ui to install annolder platform eg if you had api  installed it wouldnnot list apis  for new  revisit this behavior laternnsdk issu
3226,strip whitespace from project name to activitynnalso moved the capitalize method from descriptorsutilsnto the adtutils method with the other general stringnutilitiesnid
3227,add downloadmanager testnnbug   enqueue query remove methods andnthe actiondownloadcomplete broadcast receivernid
3228,removing some native new operationsn
3229,fix field names for annotationdirectoryitem in documentation dexformathtmlnnthe names of the annotatedmethodsoff and annotatedparametersoff fields  with their purpose size is consistent with how count of type fieldsnare named elsewhere in the filen
3230,arm msm defconfig add htcpwrsink to defconfignnnedoffby san mehat
3231,ignore pause and seek for live streaming in android
3232,dx incorrectly writes registers as a signed  in the dex debug infonnthis has no functional effect because reading the signed  valuenas an  still produces the same value but the encoding  byte longer in some casesn
3233,arm msm  send stop command to finish  transfer on timeoutnnnedoffby san mehat
3234,when pe node receives status code  from server report pvmferrorredirect with new url and status coden
3235,arm msm audio switch driver to new htcpwrsink reportingnnnedoffby san mehat
3236,adding blank line to provide consistency to the coden
3237,correcting the description of  in the  decoder apin
3238,resolving issue with imagemedia bug  blank line to provide consistency to the coden
3239,arm trout switch from troutpwrsink  htcpwrsinknnnedoffby san mehat
3240,video playback is distorted not normal during playback for somes clips android emulatorn
3241,arm mmc msmsdcc fix a bug where  only read the fifo once per interruptninstead of checking the status again for more datannthis change also adds a debug counter to track the number of interruptsnthis change savesnnnedoffby san mehat
3242,arm  enhance elan touch support for multiple panelsnnnedoffby san mehat
3243,track selection metadata trackinfoselected needs to be added in aac amr and  source nodesn
3244,arm mmc msmsdcc remove old debuggingnnnedoffby san mehat
3245,arm msm nand add support for  gbit hynix samsung partsnnnedoffby san mehat
3246,arm msm board add new camera sensor and camera platform device interface headersnnnedoffby san mehat
3247,arm mmc msmsdcc add  option to poll for pio data after the first interruptnnnedoffby san mehat  mmc msmsdcc adjust max of spin iterations and add  delaynnnedoffby san mehat
3248,arm msm vibrator initial support for msm pmic vibratornnnedoffby san mehat
3249,mmc add per device quirk placeholdernnsome cards have quirks valid for every platforms using currentnplatform quirk hooks leads to a lot of code and debug duplicationnnso we inspire a bit from what exists in pci subsystem and do our ownnper vendoriddeviceid quirk we still drop the complexity of the pcinquirk system with special section tables and so onnthat can be added later if needednid  pierre tardy  linus walleij  ohad bencohen  chris bal
3250,fix for intent droiddoc failurennin some infrequent cases the two uses of indexof in ishidden appear to returnntrue to indicate that hide or pending is present in the doc string for intentnwhen this is not the case this change replaces the use of indexof with ancustom coded verson which handles less cases and proves more reliable underntestnid
3251,mmc extends card quicks with mmcsd quirks matching the cidnnthe current mechanism is sdioonly this allows us to createnfunctionspecific quirks without creating messy kconfig dependenciesnor polluting core with functionspecific codenid  andrei warkentin
3252,mmc support for block quirksnnblock quirks implemented using corequirksc supportnid  andrei warkentin
3253,made view activity robust to null and unknown types of im providern
3254,arm msm sapphire fix rounding in sapphiresetbacklightlevelnnpreviously all values less  turned the backlight completely offnnow  is off and values   are the lowest dim valuennnedoffby mike lockwood
3255,handle fragment tags in included contextsnnthis changeset fixes the support for rendering userchosen layouts  tags in a couple of scenariosn where the fragment is part of a layout that surrounds the currentn layout eg show included inn where the fragment is part of a layout that is included from then edited layoutnnin both cases the fragment is read from a layout that is parsed withna plain pull parser rather than the full xml node model used fornedited layouts so to fix this the contextpullparser now looksnspecially for  tags and handles these speciallynnin the second scenario the parser is constructed by layoutlib so wenhave to use the project callback to anticipate requested parsers andnsupply our own fragmentcapable pull parsers insteadnid
3256,merge branch  of gitandroidgitkernelorgplatformcts into
3257,video tegra use longer retries for hdcpnnuse  seconds for  failures on hdcp  attempts at  eachnid  erik gil
3258,fix debuggerd consumed all the internal storage issuennthe original code  take care of the case of unsigned intnoverflow this will result in the infe dumping thenmemory to the tombstone file when the p is  to solventhis issue we check the advanced address if  overflowednthen we break the loopnid
3259,fix fd leakingnid
3260,sdk manager  details vs obsolete better sort by apinn remove details and go back to the obsolete filternn refactor constants for all icons namesnn rework sortbyapi to refresh inplace this allows the tablen to preserve its state expanded selected checked whenn being refreshed inplace not done for the sortbysource moden yetnid
3261,telephony fix to support fdn available or unavailable statusnnduring the ialization ril reads the ust or sst file to verifynwhether fdn service is available and based on the status fdn willnbe enabled or disabled this fix will provide the fdn serviceninformation by reading rilrequestqueryfacilitylock responsenid
3262,telephonyprovider do not ignore seletion when quering currentnn mms uses current and apnname when quering mmsc but telephonyprovider ignores apnsnamenin result mms would get wrong mmsc if there are two more apns for certain mccmnc in apnsconfxmlnid
3263,phone fix to enabledisable fdn feature based on fdn serivce availabilitynnduring the ialization ril reads the ust or sst file to verifynwhether fdn service is available and based on the status fdn willnbe enabled or disablednid
3264,hack arm tegra pinmux drive strength just for ddcnnwhen programming ddc pingroup use  for the pull up drive strengthnoffset instead of  offset for pull down drive strengthnid  jon mayo  erik gil
3265,avoid memory leak in the shutdown confirmation dialognnhow to  lock the  open the phone options menu by long pressing the powern  tap power off to display the confirmation  repeat step  and  a few times without closing then confirmation dialognneach time the confirmation dialog is displayed a newninstance is created a stack of confirmation dialogs arencreated on the screennnthis is fixed by making sure the previous dialog isndismissed before launching a new dialognid
3266,cleaned refactored and optimizednnmultiple changes across the whole project includingnn conversion of ifelse blocks to switch where appropriaten conversion of ifif blocks to ifelse where conditions are exclusiven conversion of for loops over arrayscollections to foreachn final modifier where readability is aided and is not overwhelmingn removing unused importsn other performance changesnnsome issues still remainn no single tab style for switch blocks some case lines are indented others notn many places deprecated classes and methods are usednid
3267,add account type check for invisible sync adaptersnnthe invisible sync adapters array is modified tonstore the sync adapters instead of their authoritiesnso that sync now function will only synchronizenthose with the same account type as the currentnaccountnid
3268,video tegra reset hdcp failure count on hotplugnnuse tegranvhdcpontegranvhdcpoff in hotplug handler to clean upnstate machinenid  erik gil
3269,usb  fix minor reporting goofagennfix a reporting glitch in the  usb transceiver codenit  properly distinguishing the two types of activenusb link id grounded vs not in the current code thatndistinction  much matter in the future this bugfixnshould help support better usb controller communicationsnnprovide a comment sorting out some of the cryptic bits ofnthe manual different sections use different names fornkey signals and the register defions  help muchnwithout the explanations and diagramsnnback ported from kernelorgncommit  david brownell  greg kroahhartman  moiz sonasath
3270,leds add cpld driver for ledsnnnedoffby san mehat
3271,fix p vs s typo in aapt messagennwhen trying to print an xmltree or xmlstrings from aapt the errornmessage if the resource  exist erroneously printed a pointerninstead of a stringnid
3272,arm sapphire initial import of sapphire board supportnnnedoffby thomas tsai  san mehat
3273,arm msm camera do an axi reset together with the vfe resetnnnedoffby iliyan malchev
3274,arm msm camera clean up and fix camera sensor drivernnnedoffby san mehat
3275,arm msm iomap add entries for hsusbbase ssbi and tsscnnnedoffby san mehat
3276,usb gadget android allow usb charging to draw up to  instead of  rebecca schultz zavin
3277,modifying changelog testing gerrit uploadn
3278,arm msm camera do an axi reset together with the vfe resetnnnedoffby iliyan malchev
3279,usb twl disable vusb regulators when cable unpluggednnthis patch disables usb regulators   and  the usb cable is unplugged to reduce power consumptionnadded a depencency from  usb driver to twlregulatornnback ported from kernelorgncommit  jouni hogander  kalle jokiniemi  greg kroahhartman  moiz sonasath
3280,arm msm defconfig enable machsapphire  ledscpld in defconfignnnedoffby san mehat
3281,dspbridge remove long busywait loops on pwrst transitionsnnremove busy waiting on suspend and self hibernation paths bynremoving udelaysnndecrease the total timer waiting on power transitions to be lessnthan  seconds defined to wait for power transition approx  secsn required  nishanth menon  fernando guzman lugo  omar ramirez luna
3282,arm omap add  mux configurationnnnedoffby dmitry shmidt
3283,fix the call sequence in function  camera sensornt  should be called before closing mclk otherwise  will always failnnnedoffby san mehat
3284,fix incomplete reference to settingsactionnetworkoperatorsettingsnid
3285,add missing default category for settings and networksettings activitiesnnthis allows external applications to directly open these settings pagesnid
3286,arm asm trout remove duplicate code from boardtroutcnnpmem adsp camera   and ramconsole platform devicesnare now ialized in deviceshtccnnnedoffby mike lockwood
3287,add kvmimg build target for
3288,merge commit  into freebsdportnnconflictsntenvsetupshn
3289,off mode support for  patch adds the changes on  board and pm filesnin order to allow  library to detect if the systemnis coming back from off mode statennnedoffby axel castaneda gonzalez  subramani venkatesh
3290,mtd msmnand remove htc debug codennnedoffby dima zavin
3291,merge commit  into freebsdportnnconflictsntcoreconfigmkntcoreenvsetupmkntcoremainmkntcorepathmapmkntcoretasksapicheckmkntenvsetupshnttoolsapichecksrccomandroidapicheckerrorsjavanttoolsapichecksrccomandroidapicheckmethodinfojavanttoolsdroiddoctemplatesassetsandroiddevelopercorecssn
3292,adds a context menu option in messenger to send an im message to anyncontact listed that has a current presensennpatch  minor changes moved some stuffnpatch  more formatting changes stupid tabsnpatch  moved constant values a little closern
3293,the hc emmc connected to  on the  platform reports a wrong extcsdrevndue to this the mmc core does not setup access mode correctly this results in datancrc errors upon a write access making the card unuseblennthis patch provides a hack to workaround this issue and makes the card usable on the  having this card level issuennthe workaround is made specific to   under the configurable option  is kept disabled by defaultthis needs to be enabled to get support for emmc on  madhusudhan chikkatur
3294,fix the obvois wrong test in methodispublic functionn
3295,merged latest changes from korgmastern
3296,mmc expose mmcswitch to higher driversnnneeded for sandisk workaround manipulate extcsdnid  andrei warkentin
3297,mmc fix erasetrim for certain sandisk  argument is passed through   andrei warkentin
3298,put some new iconsnn ddms and one of hierarchy viewer perspectiven feature about for traceviewhierarchyviewern use the  icon for the resource view in adtn use the emulator icon for the emulator control view in ddmsn use the new android icon for the adt wizardnnalso standardized on  for the icon namesnadt uses androidpngnid
3299,location provider fixes test the provider without assuming presence of any particular provider on the devicenid
3300,allow saving log files in different directorynnif testlog path is not specified then use configroot instead tonretain old behaviornid
3301,fixed issue  the onsyncstateupdated method so that thencheckbox gets checkedunchecked properlynnpatch set  updated with a fix ive tested and that i have hadnmerged with  works greatnnpatch set  removed whitespacenid
3302,dss set dssctrl to power on value in resetnnsince the dsscore block does not have a sysc reset register dssctrlnhas to be manually reset if this is not done and the bootloadernleaves a clock routed to one of the dsi plls an imprecise externalnabort is generated when hwmod ilzes a dependant blocknid  erik gil
3303,unmount is too brutalnnunmounting sd card with  would kill processes beforenbroadcasting mediaeject not giving them a chance to reactnnthis change removes the killing of processes in mountservicenthus letting them handle mediaeject they get  seconds tonreact if they ignore mediaeject and keep their files opennthey will be killed at a later stage in  ifnforce is truenid
3304,net reorder incoming packets in pppolac and pppopnsnnppp handles packet loss but does not work with out of order packetsnthis change performs reordering of incoming data packets within ansliding window of one second since sequence number is optionalnreceiving a packet without it will drop all queued packetsnncurrently the logic is triggered by incoming packets so queuednpackets have to wait till another packet is arrived it is done fornsimplicity since no additional locks or threads are required fornreliable protocols a retransmission will kick it for unreliablenprotocols queued packets just seem like packet loss timecriticalnprotocols might be broken but they never work with queueing anywaynnnedoffby chiachi yeh
3305,control add apis to access wkup pad registersnnthe current  can be used tonaccess only the core pad registers in  wakeup padnis seperate from the core group so adding apis to accessnthe wakeup pad registers also added apis for  bit accessnto the core pad registersnnnedoffby sricharan  santosh shilimkar
3306,moved iostreamh to be used in external api for libopenglrendernnthis change includes four  moved iostreamh into hostincludelibopenglrender this directoryn will include the api interface into the libopenglrender which will ben used later by the emulator and we need this interface to use  updated andoridmk files to include the new directory location of iostreamhn in the  added new function read to iostream which reads a message without a givvenn  updated tcpstream to use cutilssocketsh instead of using directly the socket api for portability reasons it now compiles on windows as wellnid
3307,arm  mux adding pin muxing for gpio  and  rebecca schultz zavin
3308,fix crash reporting on  platformnnmake sure that crash frame gets printed in one linenid
3309,omap  default recommended bppnnintilialise default recommended bpp to  this value enables propernmemory allocation for vrfb and vrfb rotationnnnedoffby subramani venkatesh
3310,arm msm sapphire fix touchscreen power onoff sequencennnedoffby farmer tseng  san mehat
3311,add perresource mutex for omap resource frameworknncurrent omap resource fwk uses a global resmutexnfor resourcerequest and resourcerelease callsnfor all the available resourcesit may cause deadnlock if resourcerequestresourcerelease is callednrecursivelynnfor current   resource the changelevelnimplementation is  using resourcerelease to remove  constraintnthis function may call resourcerelease again to  constrait if target  level is less than  this scenario the global resmutex down operationnwill be called again this will cause the secondndown operation hang therennto fix the problem perresource mutex is addednto avoid hangup when resourcerequestresourcereleasenis called recursivelynnnedoffby chunqiu wang
3312,arm msm nand add support for  micron partsnnnedoffby san mehat
3313,pm register snapshot for idle pathnnnedoffby mike chan
3314,arm msm defconfig disable oprofile in defconfignnnedoffby san mehat
3315,arm msm smdrpc unique wakelock names for rpcreadernnnedoffby mike chan
3316,fixes to previous commitn
3317,arm msm set mmapminaddr to  nick pelli
3318,fixesn
3319,omap resource make updateresourcelevel thread safennthe updateresourcelevel is called outside ofnthe mutex lock protection block due to an out of datenspin lock mechanism now mutex is used so moventhe updateresourcelevel into mutex protection blocknnnedoffby chunqiu wang
3320,arm msm htc clean up usb support in trout and sapphire board filesnnnedoffby mike lockwood
3321,fixes to previous commitn
3322,arm defconfig msmdefconfig enable cpufreqstatnnnedoffby mike chan
3323,fixes to previous commitn
3324,arm msm sapphire add support for button backlightnnnedoffby san mehat
3325,only use obinary if it is defined windows compatibilitynid  bruce bear
3326,revert check unknown sources is enabled by defaultnnthis reverts commit
3327,merge commit  into freebsdportnnconflictsntadbgetmypathwindowscntdebuggerdutilitycntfastbootfastbootcn
3328,do not package scala files as resourcesnid
3329,fix make dist to create img and other zip files on mastern
3330,free memory allocated by strdupnid
3331,added code to set bios patch for  emulationnnin order to emulate properly  one needs to passnparameter specyfying the location of bios and vgabiosnfiles the code searches through paths specified in avdnfile and choses the directory where both biosbinnand vgabioscirrusbin are presentnid
3332,patch set   marco sinigaglia
3333,omap dss set dsscontrol to default value on nnbecause dss does not have a reset bit setting dsscontrol to  is needednin order to have deterministic clock routing on nid  erik gil
3334,restart framecount on reallocation when configuringnnthis is based on a proposal from mms for resetting the framecountnproperlynnnedoffby sergio aguirre  dominic curran
3335,arm msm camera more clean up temp  add msmdrainqueue macros and use themn remove all enumerations from msmcamerahn add an ioctl to unblock the frame threadn drain queues selectively for frame and control threadsn add sensorcfgdatatmaxsteps which is not used at all right nownnnedoffby iliyan malchev
3336,correct coefficient gain order for rggbnnthis is necessary for making gains be applied correctly as we arensending a rggb image to preview all the time nownnnedoffby sergio aguirre  dominic curran
3337,arm msm camera major cleanupnn add msmdrainqueue macros and use themn remove all enumerations from msmcamerahn add an ioctl to unblock the frame threadn drain queues selectively for frame and control threadsn add sensorcfgdatatmaxsteps which is not used at all right nown note  is not currently usednnnedoffby iliyan malchev
3338,arm msm camera ignore timeout from control threadnn ioctls from the control thread may time out before then config thread has a chance to react which will bring then config thread out of sync with the control thread the bestn solution for now is to ignore the timeout values this willn have the side effect that bugs in userspace in the config andn control threads will cause the control thread to block forevern on an ioctl unless interrupted by a signalnn remove an unnecessary copy from user space for zerolengthn user buffersnn disable msmcamera debugnnnedoffby iliyan malchev
3339,clear notify flags when isp is runningnnthis patch allows for the locking for future stats to happennas the notify flag is used for protecting the case in whichna locking is waiting forever when the interrupts are disablednnnedoffby sergio aguirre  dominic curran
3340,arm msm camera cfggetafmaxsteps  autofocus support cleanupnn replaced incorrect efault codes with eio and einval where appropriaten fixed some indentationn added poweron and poweroff for autofocus module on  sensornt this needs to be improved power on and off only when we do afn removed superfluous debug from samsung sensor driver  in msmcamerac commented out errorrecovery code in msmcontroln added cfggetafmaxsteps support for all camera sensorsnnnedoffby iliyan malchev
3341,imagebutton example  work default state should be at the lastnsee resresdrawablebuttoninsetxmln
3342,remove references to  in  references to  from camera ispnnnedoffby pallabi parveen  dominic curran
3343,add kvmimg build target for  the  common kerenl binary here it was built with vesa fb so that  generic platform can use this kernel to boot androidn
3344,merge commit  into freebsdportnnconflictsntmakefileandroidntsocketshn
3345,add kvmimg build target for   generic platform will use  as rc and will use  and
3346,temporarily solution for swt and eclipse on freebsdnnandroid sdk uses outdated sources of swt and eclipse librariesnfor which prebuilt versions on freebsd are not ready yetnthus using newer versions to be able to build whole sdknnusing swt  instead of  eclipse  instead of
3347,arm msm camera add support for flash disabled more fixesnn msmcameracnt check for overlap in msmpmemtableaddnt fix a copytouser bugnt add msmcamioctlflashledcfgn  implement  renames     register updaten  updatesnnnedoffby iliyan malchev
3348,change some occurrances of inline into static inlinennthis eases compilation as c to avoid undefined or multiply defined symbolsnnreapply parts of change  this change had been merged beforenbut parts of it was overwritten by the opencore  code drop wherenthis change  been merged properlyn
3349,add kvmimg build target for  will be built based on  generic devicen
3350,merge commit  into freebsdportn
3351,arm msm camera add more checks to the pmemlookup functionsnn added checks for failure for the following functionsn msmpmemregionlookup msmpmemframeptovlookupn msmpmemstatsptovlookup msmpmemframevtoplookupn msmpmemstatsvtoplookupn added explicit checks for cmdgeneral in several casesn where vfeconfig is calledn with the exception of msmconfigvfe where both cmdgeneral andn cmdstatsdisable are accepted all other noncmdgeneral are rejectedn as errorsnnnedoffby iliyan malchev
3352,make a global const array static to fix compilation as cnnreapply change  this change had been merged beforenbut was overwritten by the opencore  code drop where this  been merged properlyn
3353,add kvmimg build target for  create a bigger image with some more extra blocks and inodes so that we can run with kvm qemu or liveusbn
3354,allows build of emulator on freebsdnnincludes defion of ipprotoicmpn
3355,arm msm camera unify mutex handling clean up codennnedoffby iliyan malchev
3356,merge commit  into freebsdportn
3357,arm msm camera split device nodesnnthis splits  into  allows us to handle the camera separately in user space from a proprietarynconfiguration daemon and a separate daemon for control for snapshot effectsnetc and receiving framesnnnedoffby iliyan malchev
3358,remove extern from table defionsnnthis fixes warnings when compiling as cnnlocal prototype declarations are added where no suitable ones arenavailable in headersnnreapply parts of change  this change had been merged beforenbut parts of it was overwritten by the opencore  code drop wherenthis change  been merged properlyn
3359,optimize the delay in mmc power up path for vdds stability remove the delay in power down pathnas the delay in the power up sequnce takes care of itnmeasurements taken on a sdp with  power icnnnedoffby madhusudhan chikkatur
3360,arm msm camera reduce the number of kmallocs in frame callbacknn in msmvfesync remove one kmalloc in the frame callbackn get rid of msmcamvfen rename msmvfephyinfo  msmvfephyinfotnnnedoffby iliyan malchev
3361,arm msm camera clean up locking of queues in  iliyan malchev
3362,guidelines for matchparent and linear layout weight fixesnnfirst add guidelines to allow snapping to matchparent ornfillparent depending on the api levelnnsecond fix the linear layout resizing scheme to handle corner cases anbit better corner cases such as resizing to a smaller size than thenwrapcontent bounds or resizing inside a layout that is full alsonsplit up the resizing code into a computemethod and an applymethodnsuch that we can display feedback for the current weight during thenresizing operationnid
3363,fix wifiinfotestnndo not listen to supplicant state change for wifi disable actionninstead depend on wifi state changed actionnnbug
3364,opencore  updaten
3365,buildfixnid
3366,adding api documentation for opencor
3367,libpixelflinger build neon optimized routine per target configurationnnthe variable targetarchversion variable has been renamed tontargetarchvariant and  is the exact target enablesnarm neon instructionsnnalso do include header  to get arm optimizednroutines compilednid
3368,cpufreq interactive support shared cpu scalingnid  todd poynor
3369,opencore  updaten
3370,imagebutton example  work default state should be at the lastnsee resresdrawablebuttoninsetxmln
3371,walk the inheritance heirarchy looking for deprecated superclassesnit makes no sense that a class would become deprecated because its superclassnbecame deprecated this resulted in nonsensical deprecation warnings fornclasses that  actually deprecated like webview simply because theyninherited from something that wasn
3372,opencore  updaten
3373,opencore  updaten
3374,extended aaptexeclooptask to support custom argumentsnndevelopers now can specify arguments that are not nativelynsupported by aaptexeclooptask but are supported by aapt toolnn here is an examplenn  $aaptn  $versioncoden   $resourceabsolutedir      $versionname   versionname is used to set version name of apknwithout modifying androidmanifestxml filenid  ievgenii nazaruk
3375,make sensors optionalnid
3376,remove  from rebuildallprebuiltshnnthis toolchain is now completely obsoletenid
3377,merge remote branch  into manualmergennconflictsnttoolshostsrccomandroidctsversionjavanid
3378,update toolchain sources git datennthis patch modifies the git revision date when downloading thentoolchain sources through downloadtoolchainsourcesshnnunfortunately the old date  include a patch crucialnfor canadiancross build support ie building windows binariesnon linuxnid
3379,add a new getparser method to iprojectcallbacknnthis is used to make the implementation easier with access to thenxml file path in the resourcevaluenid
3380,dropdown list for example projects looks strange on linux project wizardnnse
3381,move tools to  and adt to
3382,added caching for preprocessed pngsnnadded a cache management system for preprocessed png filesnalong with unit tests the cache system will be used ifnthe nocrunch flag is passed to aapt during the packagenphase the cache can be updated by a call to   usage statement also put in benchmarking codenid
3383,video tegra attempt hdcp on dvinid  erik gil
3384,cpufreq enable all cpus in shared policy masknnensure all cpus enabled in shared policy whenever the cpu callbacknis called otherwise the governor cpufreqgovstart event is invokednwith a policy mask that only includes the first cpunid  todd poynor
3385,fixed logic errors for generating system librariesnnwhen the symbolexcludes is set to match all characters the   in a nonzero exit code and the symbolsinclude  isnnever executednexample   doublequotes around calls to  the variable assignments are set to the entire list of results notnjust the first data item in the listnnadded missing library   tonthe api levle  sample code  was failing to compilendue to missing symbolsnid  mark d horn
3386,arm machmsm nand add virtual kpanic mtd partition supportnnadds an option to snag a portion of a specifiednpartition into a virtual partition named  usefulnfor platforms which do not have a kpanic partition but wantnto take advantage of configapanic logging as this is not a realnnand partition both the snagged and new partitions should benerased when switching tofrom a kernel with this option enableddisablednn warning ndo not enable if you are using a recoveryota scheme in whichnthe recovery kernel needs to access the partition you are snaggingnfrom if you do not heed this warning you may end up with ancorrupted ota image and there be dragons just  do itn warning nnnedoffby san mehat
3387,drivers apanic android kernel panic handlernntthis driver triggers when the kernel panics and attempts tonwrite critical debug data to the flashnnnedoffby san mehat  apanic checkpatch fixesnnnedoffby san mehat
3388,net fix msgiovlen in pppolac and pppopnsnnalthough any positive value should work which is always true in both driversnthe correct value should be  chiachi yeh
3389,cam add sensor information private ioctl in camera drivernnthis patch allows the user to query sensor pixel clock active sizenand the full size with the help of new  pallavi kulkarni  sergio aguirre  dominic curran
3390,arm msm camera allow the control node to be opened multiple timesnn created new msmcontroldevicet structure for control nodesn msmcontroldevice points to an msmdevicetn moved ctrlstatusq from synct into msmcontroldevicetn restored the timeout in msmcontroln moved msmcamioctlctrlcmddone to msmioctlcontroln fixme the  frontendn added a respfd to msmctrlcmdt which the control thread setsn so that the config thread knows to which control device to sendn a msmcamioctlctrlcmddonennnedoffby iliyan malchev
3391,translation suggestionnnnedoffby chang m
3392,preview make full range available for contrast and brightnessnnthis patch is needed for the application makes use of a more granularnsetting of these valuesnnnedoffby sergio aguirre  dominic curran
3393,opencore  updaten
3394,use allocpagesexact for af and  modulesnnthere is no need for  af and  to use the pool of memory set asidenin omap for use by dmaalloccoherentnnthus move to using dmaable memory allocated using getfreepagesnnnedoffby dominic curran
3395,arm msm enable new camera implementationnnnedoffby iliyan malchev
3396,reset  framenum on every configurennthe  framenum should be reset when every the  module isnreconfigurednhowever in current implementation if the current buffer size isnbigger then the new configuration then memory is reused rathernthan reallocated and framenum for each  buffer is not resetnnthis means that the frame number for the active buffer was alwaysnresetn    aewbstatframecount   the framenum in all stats buffers was not resetnthis caused a buffer mismatchnnthis this patch unconditionally resets the framenum field fornall buffersnnnedoffby dominic curran
3397,arm msm camera add nonblocking control ioctlnnnedoffby iliyan malchev
3398,arm msm defconfig msmcpufreqondemandmax set to   cpu able to run at top speednnnedoffby chang m
3399,allow upscaling cases in size negotiationnnthis allows the size negotiation between the sensor and  happen without restricting upscaling casesnnit will focus on the size delta onlynnnedoffby sergio aguirre  dominic curran
3400,when switch input mode also hide the input barn
3401,fix reset sequencensn clear configuration structuresn add phy reset checknnbased on changes done on  version of isp drivernnnedoffby sergio aguirre  dominic curran
3402,net avoid sleepinsidespinlock in pppolac and pppopnsnnsince recv and xmit are called with a spinlock held routines which mightnsleep cannot be used this issue is solved by following changesnnincoming packets are now processed in backlog handler recvcore instead ofnrecv since backlog handler is always executed with socket spinlock held thenrequirement of pppinput is still satisfiednnoutgoing packets are now processed in workqueue handler xmitcore instead ofnxmit note that kernelsendmsg is no longer used to prevent touching deadnsocketsnnin release locksock and pppoxunbindsock ensure that no thread is innrecvcore or xmit then socket handlers are restored before releasesocknso no packets will leak in backlog queuennnedoffby chiachi yeh
3403,arm configs update msmdefconfig to enable ppp related optionsnn enabled pppolac for  vpn connectionn enabled pppmppe for pptp vpn connectionnnnedoffby chungyih wang
3404,arm omap  camera turn off  complexio on standbynnthis fixes the issue in which a double powerup reports incorrect valuennwithout this on second camera open  see this on consolenn  complex io power command not yet takennnbut the power is indeed taken nntodo deeper investigation needs to be done with hw teamnnnedoffby sergio aguirre  dominic curran
3405,allow multiple opensnnthis patch reverts the limitation of allowing one open at a timennthe lock was added as an intent to avoid weird behaviour while havingnmultiple isp users simultaneously because  no adequatenmulticontext handlingnncurrently the ispget function only allows one ref count on the isp modulenhowever applications may need to keep a handle to camera driver open  open a handle to the preview wrapper which indirectly calls ispgetnnnote this is not the cleanest way to fix this ultimately we intend to merge the preview wrapper into the camera driver so that it has a  interface however for now this is a quick fixnnnedoffby sergio aguirre  dominic curran
3406,emulator opengl added bind texture to eglimagesurfacennadded functionality to bind an eglimage to a texture bothnin the system and host sidesnid
3407,emulator opengl pool of fixups to the system componentsnnthose fixes make the system load without failurenalso the flinger and bootanimation are runningnid
3408,change scope on settingsprovidermdatabasehelper and databasehelpernthis change will allow the databasehelper to be inheritted and extendednwithout the need to make futher changes to the existing implementationn
3409,emulator opengl pool of fixups to the host sidennthose are the host side fixups required for the system to loadnwithout failure to the point of bootanimation is runnid
3410,emulator opengl more few fixups needed for the system to loadnid
3411,emulator opengl fix bug when rebinding the same contextnnwhen rebinding the same context the resoult was that thensurfaces got unbinded from the contextnfixed that situation and added an optimization to do nothingnin case of rebinding the same context to the same binded surfacesnid
3412,trivial implementation of  import commandn
3413,opengl renderer fixed colorbuffer texture creationnnthe created texture format which represents the color buffer mustnbe of type glrgb or glrgba also for the  surface formatsnid
3414,emulator opengl added glfinishroundtrip implementationnnthis is to allow glfinish to wait for the host render to finishnid
3415,emulator opengl small change to support more surface attributesnid
3416,emugen exclude unsupported functionsnndo not include unsupported functions in the generatednfunction tablenid
3417,emulator opengl added glfinishroundtrip to
3418,update the logic in the encoder node when choosing an omx encodern
3419,internal source control fix in sdkinfomkn
3420,add support for scanning wav and amr filesnid
3421,update sdkinfo header files and playerdriver with  versionn
3422,pe dl manager and other pvplayer components changes to support rtmp streamingn
3423,update qualcommcamerahardwarehcpp to a cupcakecompatible versionnnthis fixes the dream buildsn
3424,optimized avc  omx output buffer handling without memcopyn
3425,remove omxtest valueadd test files from opencore packagingn
3426,put shoutcast pls support inside macrosn
3427,aac utility getaacaudioinfo add suport for adts clips parsingn
3428,add support for junitlike xml log output to test framework for hudson parsingn
3429,emulator opengl fix gralloc color buffer uploadsnnuse the correct opengl pixel type enum when uploadingncolor buffer content to hostnid
3430,emulator gralloc removed compilation warningsnnjust removes anoying compliation warnings in the hminializationnid
3431,fix double closing file descriptorsnid
3432,opengl translator conformance fixesnn fix destructor of eglcontext to delete its share group if neededn fix available eglconfigs not to choose configs with  or configs which do not support rgban fix conformant bit on eglconfign fix typo in glbindbuffern fix glvertexattribpointer to send correct offset to gl with vbonid
3433,opengl translator fix eglgetconfigattribnnfix renderable type parameter for eglconfignid
3434,telephony return notsupported for rilrequestgetneighboringcellidsnncurrently rilrequestgetneighboringcellids causes the ril to crashndue to backward compatibility issuesnthis fix is a temporary hack to make the api return requestnotsupportedncommand exception till the compatibility issues are fixedn
3435,emulator egl translator fix eglgetprocaddressnnfixed eglgetprocaddress when called for eglnextension functionsnalso fixed a typo in the egl extension stringnid
3436,emulator opengl use eglgetprocaddress in egl dispatchnninitialize egl extensions functions in the egldispatchntable using eglgetprocaddress instead of dlsymntry dlsym if eglgetprocaddress failednid
3437,emulator opengl implement glgetstringnnadded rcgetglstring token to rendercontrol to queryna gl string constant from the current context from the hostnimplement glgetstring functinality in egl so that the stringnvalue can be cached in the context structure and alsonimplementation can be shared between  and  fixed clientapi context ialization check inneglmakecurrent the check was for the previously boundedncontext instead for the newly bounded contextnid
3438,emulator opengl fix crash in grallocfreennfixed bug in list implementation in grallocfree which caused a crashnalso removed some log printsnid
3439,emulator opengl added support for configsize  to fbconfigchooseconfignnfixed a bug in fbconfigchooseconfig implementationnid
3440,arm msm remove unnecessary mutex from camera drivernnnedoffby iliyan malchev
3441,arm msm sapphire add support for  camera sensornnnedoffby iliyan malchev
3442,arm msm camera return the correct value from msmgetpicnnnedoffby iliyan malchev
3443,arm msm camera conditionalize cdbg under configmsmcameradebugnn replaced those cdbg that report errors with prerrn added macros to report errors when copyfromtouser failsn simplified  prototypennnedoffby iliyan malchev
3444,arm msm camera simplify msmcamioctlenablevfe hook up disablevfenn simplified cameraenablecmdt to include a fixedsize name field  charsn enable ioctl msmcamioctldisablevfennnedoffby iliyan malchev
3445,arm msm camera ial commit disablednnnedoffby iliyan malchev
3446,arm msm report adsp events ifdef configmsmadspreporteventsnnnedoffby iliyan malchev
3447,arm msm amss   swaps vfeclk and vfemdcclknnnedoffby iliyan malchev
3448,shows a toast when a delivery report has been receivedn
3449,arm msm camera fix a dspqueue reference in  iliyan malchev
3450,arm msm add an idle wakelock to the camera drivernnnedoffby iliyan malchev
3451,ndk  update libcso and libstdcsonnthis patch updates the system c and c libraries used fornthe  abi we remove the old binary targetting api level  since we  support  on it anyway and put new onesngenerated from the aosp tree with the  build productnnthis is necessary to be able to prebuild stlport binaries fornthe  ndknnthe binaries corresponding to the aosp platformbionicgit treenusing the following  when build
3452,buildstlportsh fix  build of stlport binariesnnthis fixes the script that rebuilds the stlport binaries tonwork when targetting the  abi eg with  we simplynneed to target api level  once we have the proper binaries underndevelopmentndkplatformsnnimportant this patch depends onnn
3453,avoid double tap after screen is awakenednnavoid double tap after screen is awakened after it was turned offnwith fingerear at screennnsome drivers will never send the touch event that endsclear thenongoing touch at screen off and therefore the first touch will notnbe handled when the screen has been turned on againnid
3454,unshare ums when sd card is removednnif sd card is removed without unmounting when in usb mass storage modenthe ums share is not properly closed and the device files  and  left in use this causes erratic behaviour on subsequent operations onnthe card ie mounting and formatting will failnid
3455,fix  buildnnthis is a backport of  obsolete emulator modulesnnthe corresponding modules have all been moved to developmenttoolsemulatorsystemnalready note that we use a global variable make trick to prevent the same modulenfrom being built twice so removing these files  break the buildsnnanother patch should remove the global variable make trick fromndevelopmenttoolsemulatorsystem after this patchnid
3456,selection cursors is not reversed and crash is preventednnwhen a user extends a selection using the keys shift and left arrownand the selects the word the crusors are no longer reversed sonthe user can no longer cause a crash by dragging the end cursor tonthe right if the selection starts at the end of the wordnid
3457,close files to prevent resource leakagennthese two files open files to parse them and do not explicitly closenthem the result is that on machines with large amounts of memorynthe heap just continues to grow without gc kicking in to close thenfiles this change explicitly closes the files such that the resourcenleakage  happennid
3458,arm tegra add support for  and  are two clocks output by  they belong to  and  pin groups respectively the clocks can be sourced directlynfrom the oscillator at  which is the configuration being used or bynone of several different plls as determined by the config setting for thenrespective pin groupnnthis patch adds support for  called  after the pin groupnnnedoffby iliyan malchev
3459,scolling using arrow keys with paddingnnit was impossible to reach the end of a large test when scrolling downnusing the arrowkeys when the scrollview had padding a common examplenof this would be an alertdialog with a text that is too long to fit onnthe screennid
3460,arm tegra add platform devices for  and  iliyan malchev
3461,downloadtoolchainsourcessh add gitreference optionnnthis patch adds the  option to the scriptnused to download the toolchain sources this is useful to speednup the  operation if you maintain a local copy of thentoolchain repositories on your own machinennone can trivially create such a reference with the repo toolnienn cd toolchainreferencen repo u gitandroidgitkernelorgtoolchainmanifestgitn repo syncnnnow invoke the script withnn pathtodownloadtoolchainsourcessh  that the reference is only used as a cache for recentlyndownloaded git objects ie the script will always load any piecennot in the reference from the external git repositorynnyou can refresh the reference periodically withnn cd toolchainreferencen repo syncnnthe checkoutbranch state of the reference  matter git clonenwill only use its git content to pick object files from their
3462,buildgccsh support building  with gnu libstdcnnthis patch allows buildgccsh to properly generate an  toolchainnwith a working gnu libstdc this is done by providing a few local toolchainnpatchesnid
3463,exclude backupagenthelper classes from proguardnnto use the backup api in froyo an app needs to typicallynextend this helper class and the class is only referencednfrom the androidmanifestxml so ideally we should excludensuch classes from proguard by defaultnid
3464,arm tegra harmony remove android platform devicesnnnedoffby colin cross
3465,usb host tegra remove programing ptc bits based on bus speednnprogram ptc bits as normalop is enough when resumenid  jay cheng
3466,arm tegra harmony add framebuffer platform devicennnedoffby colin cross
3467,remove sensormanagertest brokentestsnnbug  tests required sensor events to be generatednid
3468,arm tegra add api for enabling the usb physnnmoved usb phy ialization codenadded support for  utmi phynupdated the registers as recommended by nvidia to be much closer to passing the integrity testsntodo add support for  ulpi phynnnedoffby benoit gobi
3469,usb gadget use usb phy apinnnedoffby benoit gobi
3470,implement absoule wait in ioloopernid
3471,arm tegra add  idlemode  idle mode powergates the main cpu complex requiring anfull processor state save and restore from a reset vectornnprocessor context area is allocated during platform ializationnfrom the kernel and mapped into the hotplug page tables which alsonserve as the ial page tables for the  main processor resetnnrestoring the processor from  requires calculation of a systemnand apbclockdependent cpu power good timer value on  is a good baseline value for this and the apb clock is running  these values need to be unhardcoded for other platformsnnnedoffby gary k
3472,media video tegra properly drop refs to sclk on cleanupnid  dima zavin
3473,arm tegra add cpuidle drivernnsupports clockgated  smp idle mode and powergated  idlenmode when all slave processors are offlinennlatency for  idle state is calculated as a  weighted movingnaverage to allow for future variations due to eg cpu frequencynscalingnnwhen  is an allowed state ie slave cpus have been taken  will perform an hrtimer peekahead this avoids waiting for thenfirst processor tick following an  in order to run expired hrtimersnwhich was causing a  tick delay for most userspace  wakeup time and latency uses a  hardcoded offset to account fornthe cpu powergood timeout this is reasonable for harmony but should benunhardcoded for other platformsnnnedoffby gary k
3474,fix drag image mouse coordinate handlingnninstead of processing drag events using the top left corner of thendrag image use the mouse cursor coordinate and fix the absolutenlayout rule to compute the top left corner insteadnid
3475,usb gadget add support for otgnnbased on work by nvidiannnedoffby benoit gobi
3476,arm tegra fix platsmpc for  colin cross
3477,add drop shadow to dragged itemsnnadd in a drop shadow to items dragged from the palette the primarynreason we need this is that some views in some themes only rendernlight content on top of a transparent background which makes themnnearly impossible to see on a gray background eg over the palettenwhen you iate the drag the drop shadow helps add contrast itnalso makes the drag look better since it helps the drag preview imagenstand out from the background and visually appear to be lifted on topnof itnnsince  doing more image processing now i moved the existingnnonswt image manipulation methods into a separate imageutils classnnthis changeset also fixes the way we pick the color to crop out whennusing older layout libraries without transparency support we nownpick a pixel closer to the bounds of the rendered view such that wenfor example can handle themes like the dialog themenid
3478,usb gadget fmtp return zero result for successful file transfernnreturning number of bytes transfered does not work for files   gignsince ioctl result is a signed integernnnedoffby mike lockwood
3479,arm tegra header describing  registersnnnedoffby iliyan malchev
3480,make wifi work on dreamnnupdate dreamspecific files to match the rest of the master branch in itsnpostcupcake state which allows wifi to work out of the boxn
3481,arm tegra cpufreq lower frequency in suspendnnadds a suspendprepare notification hook to drop the frequency tonthe lowest possible during suspend this allows pllx to turn offnalso prevents the cpufreq driver from attempting regulator callsnafter suspend has started the regulator api can call into driversnthat have already been suspendednnnedoffby colin cross
3482,video tegra remove old tegra fb drivernnnedoffby erik gil
3483,video tegra add tegra display controller drivernnnotable ommisionsnt support for anything but lvds panelsnt inegration with nvhost driver to sync updates with  fb physical geometry is not setnt lacks interface to set overlaywindow xy  changesnt suspendresume supportnt move code into driversvideotegradcnt modularize output supportnt clean register dumping add debugfs register filent code review feedbacknt make the display controller register the framebuffer devicesnnnedoffby erik gil
3484,arm tegra clocks add pllp as additional cpu clock statennnedoffby colin cross
3485,arm tegra cpufreq add  as lowest cpu frequencynnnedoffby colin cross
3486,update the eclipe pluginsfeatures version numbernid
3487,arm tegra generic driver for  audio ial implementationnn  settings are passed through the board filen supports playback no recording yetn works in dma and pio nondma modes toggle through debugfsn does not perform volume and audiopath controln exports  out where  is the  interfacen assumes that  is used such that  is tx and  is rxnnnedoffby iliyan malchev
3488,update changestxt to reflect proguardcfg changenid
3489,fix warningnnnedoffby colin cross
3490,add preferences to the list of not proguarded classesnid
3491,arm tegra move display clocks from tegrafb to tegradcnnnedoffby erik gil
3492,improvements to linearlayout feedbacknnwhen you have a small and empty linear layout and you drag somethingnlarger such as a button into it the drop feedback is a bitnconfusing the drop feedback rectangle is larger than the linearnlayout so the bounds are outside the layout this changeset addressesnthis by forcing the bounds of the drop preview to be at most thendimensions of the linearlayout itselfnnsecond the fix i applied last week to show the last insert positionndid not work in all cases in particular when the drag originatesnoutside the canvas itself to determine if we are inserting at thenlast position look at the number of target node children rather thannthe number of potential insert positions since in some cases thennumber of insert positions will be smaller than the number ofnchildrennnfinally there was a theoretical bug that if one of the draggednelements did not nonzero bounds then the insert position would benwrong this is also fixed by this changesetnid
3493,arm tegra display controller clock max is  erik gil
3494,arm halibut support for  enable msmfbn add  devicen add simple power supply drivern enable fake battery devicennnedoffby iliyan malchev
3495,arm msm htc ialize htcacoustic and htcheadset only for trout and sapphirennnedoffby iliyan malchev
3496,arm halibut enable msmfbnnnedoffby iliyan malchev
3497,make theme selection take rendering target into accountnnif the current rendering target is less than api level  then  the holo theme even if the project itself has   as an sdkntargetnid
3498,add zipalign verification testnnbug  a test that runs on the host side that checks that allnapks under systemapps are zipaligned it uses ddmlibnand hosttestlib to get a listing of the apks and thennpull each apk and runs zipalign on it finally check fornzipalign in the path like adb is checkednnsince adding a host side test involves updating thenbuildctspy script the core cts makefile in the buildnproject and updating test defions in the developmentnproject  created a new suite called hostsidetestsnwhere new host side tests can be easily added withoutnrequiring modifying all those separate areasnid
3499,reset sinitialized when calling androiddebugbridgeterminatennthis will allow calling again after a terminatenid
3500,remove obsolete emulator modulesnnthe corresponding modules have all been moved to developmenttoolsemulatorsystemnalready note that we use a global variable make trick to prevent the same modulenfrom being built twice so removing these files  break the buildsnnanother patch should remove the global variable make trick fromndevelopmenttoolsemulatorsystem after this patchnid
3501,prevent immediate screenoff after callanswernnacquire the full wakelock with onafterrelease flag to ensurenscreen stays on for a little longer therefore preventnimmediate screenoff after callanswernid
3502,fix hyperlinks plugin unit test on windowsnid
3503,preview items on palette dragsnnthis checkin renders previews of android views as you drag them fromnthe palette using the current theme settings you have for thenassociated editor if you are using version  or later of the layoutnlibrary you get full alphablending on the rendered views so fornexample in an analog clock you see right through it and on oldernversion it simply crops out the edge colornnthe preview image is semitranslucent and the image is centered undernthe mouse pointer the drag feedback operations all relate to the topnleft corner of the dragged item so they are passed in the mousencursor minus the delta to the top left corner of the imagennthe size of the preview is also used to provide bounds for the dragnfeedback such that we can show a preview rectangle rather than justnthe insert point over layouts that support drop feedbacknnsome views  be rendered eg quickcontactbadge and some  have any pixels painted eg all the empty layouts and innthat case we fall back to showing the palette item itself the iconnand label as   also a new utility class for swt common utilities like imagenconversionnid
3504,prevent immediate screenoff after callanswernnacquire the full wakelock with onafterrelease flag to ensurenscreen stays on for a little longer therefore preventnimmediate screenoff after callanswernid
3505,preemptoff tracer trace the preempt disableenable at preemptschedulennpreemptschedule uses the notrace versions of the preemptionndisableenable routines for setting the preemptactive flag to avoidna race condition per commit  this causes the preemptoffntrace to not be properly terminated when the preempted thread isnrescheduled since the original fix only converted the preemptnreenable to use the notrace version for symmetry call the tracingnversion instead the corresponding preemptoff start will bentraced by the preemptdisable in schedule although this maynbe relying on a fragile state of affairs and it may be best to alsonadd a direct call to trace a preempt disable after preemption isnsafely disabled and the race avoidednid  todd poynor
3506,minor layoutlib api change for the data binding project callbacknid
3507,integrate  into  do not mergennfix incorrect orientation at bootnnthe goldfish  event driver is very picky about thenstate of the virtual device it talks to essentially it cannonly listen to hw events if the corresponding irq is raisednafter it has completed some ial setupnnif the irq is raised before the driver will refuse to listennto events and any interaction becomes impossiblennwe changed the way our ui windows are built and managednpreviously and this had the unfortunate effect of sendingnone hw event too soon which in the old code would raisenthe irq prematurely this resulted in an input freezennto work around this the ui code was modified to not sendnthe ial hw event but this resulted in bad orientationnof the home screen at the end of the boot sequencennthis change allows the virtual device to wait for the kernelndriver before raising the irq in the case any hw event hasnbeen buffered it also removes the hack in the ui codenallowing the send of the ial hw event at startupnnbonus minor changesn esound probe fix error messagen console fix compiler warningsn libpng proper handling of mmx supportn androidconfiguresh fix ignoreaudio handlingn the option  do anything if the audio development packagesn are properly installed on the systemnid
3508,sort elements alphabetically in code completionnnattributes were sorted but not elements layout descriptors werenmostly sorted already but with all views before viewgroups thenmanifest elements were in the order they must appear in the manifestnfilesnid
3509,added buildquery and buildunionsubquery methods without misleading selectionargs parameternnthe signatures of the existing buildquery and buildunionsubquery methods include a selectionargsnparameter that is not actually being used in the method implementations this parameter leadsnto the misconception that sql paramter substitution is carried out by these methods i addednnew variants of these methods without that parameter and deprecated the old variantsnid
3510,arm halibut add simple power supply drivernnnedoffby dima zavin
3511,add support for national language tables in sms alphabetsnnimplementation of the national languages feature for    and  specifies how nationalnlanguages are implemented in sms   specifies thenactual language tablesnnthe change also contains some tests for the national charactersnsupportn
3512,arm halibut add  devicennnedoffby iliyan malchev
3513,added generic hook for loading vendor specific tasksnnwith this change it is possible for vendors to create rules that depend onntargets defined in androidmk filesnnthis makes it easier to decouple functionality from the core buildsystemnvery much as is done within the build git for tasks like creating sdk addonngenerating eclipse classpath file etc can then be done for vendors as wellnnyou can add targets that could perform poststeps on produced modulesneg do static verification or documentation on modules of a certain typenyou can eg create a target that would resign and upload all apks to anbinary repositorynid
3514,fix for a launcher crashnna forced close will occur in launcher homescreen if younare holding the edge portion of the touch screen and slidenclose or open the touch screen this is caused by thendisplay changing configurations but the touch events arenpassed through the framework so the coordinates will benwrong which causes a out of bounds exceptionnnadded a bounds check for the pointer index on actionupnid
3515,arm halibut enable fake battery devicennnedoffby iliyan malchev
3516,update viewinfo in the layoutlib apinn support for view and layoutparamsn support for default property value mapnid
3517,do not merge fix failing test testwifiinfoproperties for nontelephony devicesnndevice can still have a valid networkid even after disconnectionnif it was associated with ap getwifistate is a better check tonget valid statenid
3518,dont use the default locale when formatting sql statementsnnit is not safe to use the default locale when using stringformatnto produce sql statements some locales will break the sqlnand as a consequence crash the appnid
3519,error in search engine scriptnnthe script that generates the search engine xml filenallsearchenginesxml contains an error when handlingnunicodesnnthe matching  matches to many charactersnfor example  will incorrectly become  insteadnof  script match between  and  chars instead of  to
3520,charsequencecreator cannot handle null stringnntextutilswritetoparcel can handle null as input charsequencenbut createfromparcel will throw nullpointerexception transformingnto and from parcel should handle null in the same waynid
3521,display not updated when starting new activities in the same tasknnthe problem occurs when the activity process has not yet beennstarted and we keep starting new activities in an existingntask make sure to not ask for showstartingicon to be shownnwhen many activities are started fast in the same tasknid
3522,update mcctablenn add code  for indian add default timezone for most countriesn fix country code for slovenian change the coding as there are almost as many timezones as countriesn add official language for many countries based on wikipedian add wifi channels for many countries based on wirelessregdbn
3523,emulator remove the global make variable trick for emulatorspecific system modulesnnremove a sad trick that was used to smoothly move the platformspecific emulatornmodules from sdkemulator to developmenttoolsemulatorsystem without creatingnbuild conflictsnnnow that the sdk modules have been removed we can get rid of the guard variablenid
3524,geocoder return null when  no backend servicennapi documentation says geocodergetfromlocationgetfromlocationnamenwill return null or empty list when there is no backend service availablenid
3525,fix layer maximum number excess of surfaceflingernnthe layer maximum number is decided  by numlayersmaxsharedbufferstackhnbut userclientgettokenforsurfacesurfaceflingercpp allows  layers by following judgementnn if name   judgement must be followingnn if nam
3526,pmem correct the first open check to pmem devicenndue to the change   has been assigned to the miscdevice structure but not nullnid  xinyu chen
3527,updated framebufferserivce to handle aligned frame buffersnndue to hardware requirement the line length in the frame buffernmust sometimes be aligned in order not to send rubbish datancausing the screen capture picture to look funny in ddmsnthe extra bytes added for alignment must not be sent fromnthe framebufferservicenid
3528,fixed anr in dirlistnnthumbnails are no longer used fixed very unlikely anr in dirlistndirectory listing is a file operation even for an empty directorynby moving directory listing to an async tasknthe async task is needed because the user may have updated fromnandroid  where thumbnails are usednid
3529,send out failiure reason when connect to an apn failsnnwhen a connection to an apn failed the platform will not sendnthe failure reason out this is not convenient for the uppernapplications as some application may want to do show the usernan error dialog or make some decision based on the failurenreason some mobile carriers have requirements concerning thisnnfixed by sending out the failure reasonnid
3530,gle yet another reference to eventoffsetxynid
3531,use env var comandroidddmsbindir for ddmsnnthe env var is used if the system property is not definednwhich is convenient to start ddms in debug mode from eclipsenid
3532,adt tools location traceview is a batnnthis prevents adb from starting under windows sincenadt is trying to verify the presence of traceviewexenwhen  actually traceviewbatnid
3533,use view bounds to speed up image croppingnnuse the view bounds from the layout result as an ial croppingnsize this saves us from looking at a lot of empty pixels when wenrender small views this also means we can attempt rendering a largernsurface for the preview which makes accidentally cropping large viewsnless likelynnalso fix a couple of other suggestions from previous commitnid
3534,fix build dragsourceevent has no offsetxy in swt
3535,fixed execvp binbash argument list too long problemn
3536,arm  defconfig enable regulator frameworknnenable regulator support for  in defconfignnnedoffby madhusudhan chikkature  vikram pandita
3537,fix to catch the  will return null if no characters were read before the end of the reader has been reachednand then   will occur nullpointerexceptionnid
3538,fixes for  testsnnload necessary functions from gl dispatch for  usage of global names in some functionsncombine the shaders and programs namespace to onenid
3539,to prevent the reference to null pointernnwhen the  obejct is null the reference to member variable using that object should not be executednid
3540,opengl translator added eglrenderabletype attribnnfixing bug in eglchooseconfig there was no referer toneglrenderabletype this caused the eglchooseconfig to failnwhen an attribute eglrenderabletype was specified innthe attriblistnid
3541,to prevent the reference to null pointernnwhen the  obejct is null the reference to member method using that object should not be executednit is possible that the  object has null because of the upper code in case imsilength   or imsilength
3542,opengl translator glsl es translationnnthere are some differences between glsles and desktopnglsl this change translate the glsles shader sourcento be compatible with the desktop glsl languagenid
3543,implementing mac os support for  libsnid
3544,add enablegraphite option to build scriptnngcc  and up supports graphite optimization and cloog and pplnare required this change attempts to support some combinationsnof ppl and cloogcloogppl libraries since cloog and ppl arenwritten in c it implies we might suffer from c abi breakagenproblems when host environment changes that is a wellknown issuenin gnulinux distributions thus we have to link to static cnruntime library libstdc to avoid depending on the host versionnndefault nonid
3545,opengl translator ialize dispatch with dummy functionsnninitialize the gldispatch with dummy function instead ofnnull pointer in case the function does not present on thenhost opengl library prevent ugly segfault when a call tonsuch function is madenid
3546,audioflinger enable  optimized resamplernnpreviously the optimized asm option is only enabled  is defined which is assigned in  than  series targets this patch checks the arm cpunfeature about halfword multiply instructions to enable  optimization routines properlynid
3547,to prevent the reference to null pointernnthe installprovider method returns null when fail to get instance of holderprovidernin this case prov is null and referencing of provasbinder causes system crashnid
3548,runas bump the size of the internal packages list buffernnthis patch increases the size of the internal buffer used by runasnto store the content of datasystempackageslist from  to  has been reported that on some systems  was too small thisnresulted in a truncated file being loaded and the inability to debugnnative applications properly either because the application was notnfound in the list or because the tool reported a  due to badformat issues when parsing the truncatednfilennse
3549,to prevent the reference to null pointernnit is possible that the referencing to keytobytearray is occured when key is nullnto prevent the referencing to null pointer check if the key is null or notnid
3550,removed oldobsolete file glescontextcppnid
3551,to prevent the reference to null pointernnit is possible that the referencing to filegetparentfilemkdirs is occured when getparentfile function return nullnto prevent the referencing to null pointer check if the return value of getparentfile is null or notnid
3552,add gles  extension implementation to translatornnthis fix addes to the translator the implementations of thes
3553,to prevent the reference to null pointernnwhen the mstoragemanager is null the reference to member method using mstoragemanager should not be executednid
3554,implement gloesdrawtexturenid
3555,to prevent the reference to null pointernnwhen the cb is null the reference to member method using that object should not be executednid
3556,add  extensionsnnimplement extensions for  missing entry point for  eglimage extensionnid
3557,emulator opengl some system egl fixes after a reviewnid
3558,gles translator implementationnnthis is the  on top of opengl implementation on the hostngldispatch dispatch table to host opengl implementationnglesimp includes gles entry points implementationnid
3559,emulator opengl implement eglchooseconfig functionalitynnadded new rendercontrol command to request the host to executenthe chooseconfig functionalitynid
3560,host translator egl implementationnnthis is the egl implementation for the host eglgles translatornneglimpcpp includes the egl entry points implementationnthreadinfocpp defines the perthread info which is shared to egl and glesneglosapih platform dependant interface functionsnegllinuxapicpp implements the glx platform of eglosapineglwindowsapicpp implenents the windows platform of eglosapi this has not been compiled yetnid
3561,emulator opengl system  first commitnnthis is the first commit for the  implementationnit also includes needed fixes in emugen to support const typesnalso changed glfinish defion in glin to match thendefion as in glhnid
3562,in serial skip over port as well if numbers found after colonnid
3563,emulator opengl implemented getprocaddress in  changed emugen to generates glftableh needed forngetprocaddress implementationnadded notapi attrib to  glattrib to exclude from thengenerated ftablenid
3564,move getviewparentindex from rendersession to bridgennalso update the iprojectcallback to handle expandablelistviewnid
3565,opengl translator moved some types out of eglplatformhnnsome native types like nativefbconfig and nativecontext areninternal to the translator implementation and should notnexist in the interface headersnmoved those types from eglplatformh into eglinternalplatfomhnid
3566,to prevent the reference to null pointernnif keycode value is keyeventkeycodeback and mdecor is null then  will occur exceptionnid
3567,opengl translator make glcommon static librarynnthis change turns glcommon to be static instead of sharednlibrarynremoved the sglobalnamespace static object from objectnamemanagernand moved it to live inside the egldisplay object which is sharednfor all display space objects   and eglnid
3568,first commit of the system egl implementationnnat this point systemegl should build without errorsnid
3569,motoya changed two kinds of japanese font  design image was changed to the full   fullwidth zero to  fullwidth  characters were  double exclamation  double question  question exclamation  exclamation question  black left pointing  black right pointing  white left pointing  white up pointing  white right pointing  white down pointing indexnid
3570,emulator opengl create and destroy surfacesnnalso fixed link failurenid
3571,initial version of easy monkeyrunnernid
3572,added dependency injection frameworknnthis framework is aimed at giving the developer an api forndependency injection which is simple to use and understand wherenas little time as possible is spent configuring the frameworknwhile still providing all of the essential features it is alsonspecifically optimized for use on android and besides performancentuning it incorporates transparent access to android resourcesnnthe api is currently hidden from public access using hidensee javadoc at corejavaandroidinjectducttapejava for moreninformation on how the framework is usednid
3573,handle egl contextnnadded eglcontext functionality to  accelerated egl implementationnid
3574,arm tegra flush console before rebootnnif the consolesem was held while the system was rebooted the messagesnin the temporary logbuffer would not have propogated to all the consolendriversnnthis force releases the console sem if it failed to be acquirednid  dima zavin
3575,emulator opengl moved gralloc buffer handle struct to be sharednnwe need to share the cbhandet between gralloceglgles moved itninto the opengl system common libnalso added eglswapbuffers implementationnid
3576,this is a common library for the  translator librariesnn it includes code that is shared with all three componentsnn threadinfoh defines a structure of information stored in the tlsn translatorifaces defines the interface between egl and its client apis gles and  objectrnamemanager manages the set of opengl objects in share groups name spacenid
3577,video tegra add option to autodetect bitdepth from bootloadernid  erik gil
3578,win sdk split the winsdk makefile and script into  partsnnthe main makefilescripts to build the windows sdk is still thisnone here in developmentbuildtools however it defers to a newnmatching set of files in sdkbuild to build and packagenthings that depend on the sdkgit or externalqemugitnnthis will make it easier for us to prepare sdks based onna toolsrn branch that  cut at the same time than thenplatform branchnnthis is a multipart changeset the other part is in sdkgitnnthis change also defely removes support for buildingnthe windows sdk under cygwin only building a specific subsetnof individual binaries is supported at this pointnid
3579,nohz fix ondemand governor not always ramping up on  loadnnon systems that perform the context switch with interrupts enabledneg arm getcpuidletimeus could get stuck returning the lastnidle time when the cpu is busy if an interrupt occurs whilenswitching to the idle thread and this interrupt wakes up a threadnneedresched will be set on the idle thread but since we have notnfinished switching to the idle thread ticknohzstopschedtick willnbe called idlecpu is true since the head of the runqueue is thenidle thread but needresched returns false since we are stillnrunning in the context of the old threadnnfix this by not calling ticknohzstartidle when returning from anninterrupt while the idle thread is in its schedule  arve hjønnevåg
3580,win sdk split the winsdk makefile and script into  partsnnthe main makefilescripts to build the windows sdk is stillnin developmentbuildtools however it defers to a newnmatching set of files here in sdkbuild to build andnpackage things that depend on the sdkgit or externalqemugitnnthis will make it easier for us to prepare sdks based onna toolsrn branch that  cut at the same time than thenplatform branchnnthis is a multipart changeset the other part is inndevelopmentgitnid
3581,change the adblocation ddms extension to provide more tools locationnnpreviously ddms used the adb location to find the location of other toolsnbut adb moved to a different tool foldernnadblocator extension changed to toolslocation and provide explicitnlocations for all the tools ddms cares about this way the logicnof the tools location is only in adt instead of being duplicatednin ddmsnid
3582,usb gadget android allow usb charging to draw up to  instead of  rebecca schultz zavin
3583,merge branch  into
3584,fix issue  double click handlingnnsurprisingly swt will deliver a double click event even if you clicknbutton  then  in rapid succession this changeset ensures that onlyna double click on button  warps to xmlnid
3585,linearlayout guide fixesnnwhen wethave bounds fortthe dragged items we show a preview rectanglenwhere the item will appear after the drop we show this rectanglenmidway between the two siblings that share the insertnposition however when you are inserting after the last item in thenlinearlayout there is no reason to show the item midway since atnthis point nothing below the insert position needs to be shiftedndown this checkin changes this such that for the last insertnposition we show the rectangle fully below the insert line or to thenright of it in case of a horizontal layoutnnthis changeset also fixes a bugtwhere the last available not activendropzone would not be shown on a palette dragnid
3586,add shoutcast playlist supportn
3587,helper to perform abortable blocking operations on a socketn asocketconnectn asocketacceptn asocketreadn asocketwriten these calls are similar to the regular syscalls but can be aborted withn asocketabortnncalling close on a regular posix socket does not abort blocked syscalls onnthat socket in other threadsnnafter calling asocketabort the socket cannot be reusednncall asocketdestory after all threads have finished with the socket tonfinish closing the socket and free the asocket structurennthe helper is implemented by setting the socket nonblocking to iatensyscalls connect accept read write then using a blocking pollnon both the primary socket and a local pipe this makes the poll abortablenby writing a byte to the local pipe in asocketabortnnasocketcreate sets the fd to nonblocking mode it must not be changed tonblocking modennusing asocket will triple the number of file descriptors required pernsocket due to the local pipe it may be possible to use a global pipe pernprocess rather than per socket but we have not been able to come up with anracefree implementation yetnnall functions except asocket and asocketdestroy are thread safen
3588,freebsd temporarily fix to be able to build adbn
3589,makefile changes to support codecs assembly filesn
3590,fix the boot the signature needed a v at the endn
3591,remove queue  observer layers from dla apin
3592,fix bug where econnaborted would have always occured on asocketwritennuse pollout for writes duhn
3593,gps provider service changesnnadded support to delete aiding data test featurennadded more data catagories to now at the total of
3594,gps fix  address byte array jni errornnarray cannot be passed from native to java directly using jbyte insteadnid
3595,gps add address field to gps ni notificationnnin some test cases the lcs external address needs to be displayed thenaddress is added to the notification in addition to the existing clientnname and requestor idnid
3596,gps provider service changesnngps engine needs to receive network state changes from android fwnnadded a new method to agpsrilinterface struct for gps engine tonreceive new network state from gpslocationservicenid
3597,gps provider service changesnngps engine needs to receive the current apn from android fwnnadded db query for the current apn also added a new parameternbetween jni hal to the new method in agpsrilinterface structnfor gps engine to receive apn from gpslocationservicenid
3598,new application icons for the various sdk toolsnnthis changeset integrates a new set of application icons by romannnurik for the various sdk tools ddms hierarchyviewer traceview thensdk manager and the eclipse about box iconnnwe have new icons with the same visual look for  andnemulator as well which are not integrated here  is writtennin swing so it  have a way to set a dock icon on the macnother than with a startup script modification to pass xdockiconnwhich means we also need to bundle the icns image outside itsnjar i  find the place the emulator dock image is set so inwill ask around and file a separate cl for thatnid
3599,gps location provider jni typo fixnnupdatenetworkvailability  updatenetworkavailabilityn
3600,gps adding ip address for agpsnid
3601,gps fixes ninetwork initiated call flow issuesns are added to ialize the native layer ni interfacenwhen the primary gps interface is intialized as we may get nincall backs as soon as this step is executednid
3602,gps adding ip address for agpsnid
3603,gps  supportnid
3604,remove requiredfeatures annotationnnremove the annotation since its presence is confusing thenproper way is to just use the packagemanagerhassystemfeaturencheck along with any other api methodsnid
3605,engine audio playback failsn
3606,nohz fix ondemand governor not always ramping up on  loadnnon systems that perform the context switch with interrupts enabledneg arm getcpuidletimeus could get stuck returning the lastnidle time when the cpu is busy if an interrupt occurs whilenswitching to the idle thread and this interrupt wakes up a threadnneedresched will be set on the idle thread but since we have notnfinished switching to the idle thread ticknohzstopschedtick willnbe called idlecpu is true since the head of the runqueue is thenidle thread but needresched returns false since we are stillnrunning in the context of the old threadnnfix this by not calling ticknohzstartidle when returning from anninterrupt while the idle thread is in its schedule  arve hjønnevåg
3607,additional changes to remove queue  observer layers from dla apin
3608,arm  add gpio  to muxnnnedoffby rebecca schultz zavin
3609,media layer node deletion changes for rtsp pvr and broadcast use casesn
3610,engine tc  failuren
3611,changed  to $srcdir in scriptsbuildtemplatennthis change makes sure the srcdir is pointing to only the java source folder and not recursively compile all source folders under the current folder this is useful in having multiple java source folders for main tests etc only the compile target is being affected by this changennnote now you can have projecttests and work with tests as a separate android project only for testing in any case pointing to source explicitly makes sure no side affects arise by recursive compilingn
3612,composer node unit test not able to compose the right clipn
3613,add new shared libraries required to decouple opencore librariesnwith android specific integration modules to the prelink map filen
3614,add new fileformat support in parser parsernode and recognizer to player enginen
3615,decouple opencore libraries with android specific integration modulesn
3616,added code in all the omx components to profile decodersn
3617,fix eclipse setup scriptsnthe fix will work for linux and mac however for windows the ddms icons will have an invalid pathni can address the windows ddms issue in a next cl if necessary by merging in a differentncl from upstreamn
3618,followup to writedecoderspecificinfo in  recording for startreset usecasen
3619,fix for a hang when attempting to stream a nonexisting contentnn streamstarter activity is binding the the mediaplaybackservice as part of this it is registering for the intent asyncopencompleten in the normal scenario after prepareasync completes the onpreparedlistener is fired this ends up broadcasting the asyncopencomplete intentn since the streamstarter activity has registered for the intent it will receive the even on  listener onreceive here the mediaplaybackservicen play is called which starts the actual playback and the playbackviewer intent is sent this starts the mediaplaybackactivity and finish isn called in the streamstarter activity that will kill the activity from this point the mediaplayback activity takes over this activity is the screenn where you see the progress bar and the metadata stuffn now in this scenario there is a failure in the prepareasync command because of this the asyncopencomplete intent is never broadcasted andn hence the streamstarteractivity never finishesnn proposed solutionn register the streamstarter activity to another intent playbackcompleten in onreceive call add a condition that when the received intent is playbackcomplete finish the activityn needs to be broadcasted only if this is a single attempt playback ie if moneshot is truen
3620,code cleanup in framemetadatautilityn
3621,resolve dependency with the newly added shared libraries requirednto decouple opencore libraries with android specific integrationnmodulesn
3622,reorganization of internal modulesn
3623,amrnb opensource contributions   and
3624,removing extraneous  coden
3625,gpsh typo fixnnupdatenetworkvailability  updatenetworkavailabilitynid
3626,telephony mark sim sms as read after importing itnnthe gcf testcase  checks if the status byte of the smsnis marked as read after reading the sms from sim the statusnbyte is marked as read after the sms is imported from the simnif it is not already markednid
3627,enable pppd to support  on qualcomm  modemnnthis change is verified on moto  and   over  both modems are based on qualcomm  which itself does not support  functionn at our lab we set up  wireless network environment including btsbase transceiver station bscbase station controllerpcfpacket control functionpdsnpacket data serving   internetnto support  function of android on cdma network some changes should be made as  all  items and rebuild linux  we commitn enable  to support  function and make the below two change then rebuild pppdn  externalppppppdandroidmkn insert   into localsrcfilesn insert  into localcflagsn  externalppppppdsyslinuxcn between ifdef  and ifndef linuxinhabout line  insert include  insert include  pppdriloptions under systemetcppppeersn under the line of ctnetmycdmacnn add a line  note after  there is a blank then a commaand another  modem mode from network to relay via using at  use the changed  to test under such environment   can log on  websites such as   wwwkamenetetcnnedoffby david dong
3628,hardwareril add new ril interface to specify transmit powernnthe new interface to specify the transmit power is added to meetnthe fcc regulation title  cfr part  on changesn
3629,update nodeliveryreports listnnadd lgt which does not support sms delivery reportnid  papiya
3630,merge require bonding and encryption for pbap servernid
3631,in bluetoothsocketclose destroynative called twice and caused a crashnnin close function destroynative is invoked twice this causes a crash whennthe second thread calls bluetoothsocketclose before first thread setsnbluetoothsocketmclosed flag to truenid  kausik sinnaswami
3632,parallelize test description generalizationnnshaves off  minute from the cts build process on my machineninstead of serially creating an xml for each framework packagencreate them in parallel to distribute the javadoc processesnacross the  coresnid
3633,made host dependent and independent parts of envsetupsh more separatednnmoved host dependent declarations of functions to the begining of scriptd to use gmake on freebsd instead of maken
3634,new layoutlib api to handle data binding in expandablelistviewnid
3635,added updatenetworkvailability to agpsrilinterfacenncherry picked from commit
3636,gps interface modification in gpshnnadded an additional parameter to a method in agpsrilinterface structnthe new parameter will receive an apn string from the callernncherry picked from commit
3637,gps  supportnid
3638,gpsh changennadded support to delete aiding data test featurennadded more data catagories to now at the total of  picked from commit
3639,build reorganization to support new audio codecn
3640,oscl runtime lib support modificationn
3641,engine not all settings are saved across sessions in  gui appn
3642,arm  add pin muxing for gpio  and  rebecca schultz zavin
3643,additional build reorganization to support new audio codecn
3644,arm  add mmc regulator framework supportnnadd support for vmmc configurations for  through the regulator frameworknnnedoffby madhusudhan chikkature  vikram pandita
3645,track ids are huge in particular  clip causing crashn
3646,arm  add support for  mux configurationsnnthis patch reverts changes from  the correct place to do the mux setting is in devicesc filennmux setting is omap specific change and has to happen for all  siliconsnnnedoffby madhusudhan chikkature  vikram pandita
3647,modified readwrite cache for mtd writesize supportnnnedoffby ravi kumar
3648,arm tegra irq implement retriggernid  colin cross
3649,arm mmu add option to map lowmem with page mappingsnnadd a kernel configuration to map the  lowmem pages using ptenmappings rather than the default behavior of  section mappingsnon  processors to support allocating pages with dmacoherentncache attributes the cache attributes specified in the  must match cache attributes specified for other mappingsnto ensure that this is the case the  attributes must benspecified on a perpage basisnnto avoid problems caused by the mm page table allocations exceedingnthe available ial memory when this config is enabled lowmem isnially mapped using sections matches current behavior then remappednusing pages after bootmem is ializednid  gary k
3650,arm mm add page allocator for modifying cache attributesnnarm cpus with speculative prefetching have undefined behaviors when thensame physical page is mapped to two different virtual addresses withnconflicting cache attributesnnsince many recent systems include iommu functionality ie remappingnof discontiguous physical pages into a virtuallycontiguous addressnrange for io devices it is desirable to support allocating anynavailable os memory for use by the io devices however since manynsystems do not support cache coherency between the cpu and dma devicesnthese devices are left with using dmacoherent allocations from the osnwhich severely limits the benefit of an iommu or performing cachenmaintenance which can be a severe performance loss particularly onnsystems with outer caches compared to using dmacoherent memorynnthis change adds an api for allocating pages from the os with specificncache maintenance properties and ensures that the  mappingnof the page reflects the desired cache attributes in line with  architectural requirementsnid  gary k
3651,arm tegra remove innerwriteback memory type from smp startupnnthe memory remapping nmrr registers were configured differentlynby the smp and  startup code from the standard kernelnntemporarily reverting the innerwriteback change for nownid  gary k
3652,tegra add reset in backnnthe tegra  controller requires a reset after an error put thenreset back in the functionnnnedoffby colin cross
3653,arm tegra combine tegrafiqselect with enabledisablenid  colin cross
3654,let console applications have a controlling ttynnwhile boot paramter console was not assigned this change stillnallows terminating console application within a shell by ctrlcnid
3655,libpixelflinger add arm neon optimized  benchmark results on beagleboard ti  at  mhzn  memory bandwidth  mbsn  memory bandwidth  mbsnnit can dramatically improve the performance of boot animationnid
3656,arm mm change to readallocate as default smp cache policynnthe streaming mode optimization which skips cacheline allocationnfor fullydirty lines is frequently defeated when coherent processorsnperfom stores simultaneouslynnthis results in cachelines being allocated in smp which are notnallocated when run in uniprocessor resulting in a significantnreduction in aggregate write bandwidth for example on tegra  with  ddr main memory running memset over a largenbuffer ie  miss on a single processor will achieve  write bandwidth but if the same operation is run in parallel onnboth cpus the aggregate write bandwidth is just  the cache allocation policy to readallocate reduces somenof this performance loss on smp systemsnid  gary k
3657,arm tegra change smp startup to use readallocate cachennmirror the change to  common startup in the  and hotplug statup routinesnid  gary k
3658,video tegra  drivernnthe graphics and display hardware on tegra socs is accessednthrough a command dma frontend called  driver clients place commands into memory objects callednstreams and submit a stream on one of  channels the assignmentnof streamstochannels depends on the hardware modules programmednby the stream for example all streams which program the  are submitted on channel   hardware includes two synchronization primitives tonallow command streams to synchronize access to memory or tonhardware engines shared across channels eg the  blitternsync points and module mutexes both primitives can also benused to synchronize with the cpunnthe  driver performs power management for all modulesnbehind the host block once a module is idle ie thenlast stream which accesses it has completed indicated byna syncpoint and has remained idle for an extended periodnof time the  clock and power gate island if thenmodule is uniquely powergated is disabled and will benautomatically reenabled when a new stream is submitted fornthat modulennincludes channel debugging support originally implementednby erik gilling  author antti hatala  gary k
3659,zlib upgraded to version  april    fixes bugs in gzseek and gzeof that were present innversion  nid
3660,arm tegra add graphics host apertures to iomaphnid  gary k
3661,zlib upgraded to version  march    has many changes over current version  includingnthese improvementsn fixed bugs in  compressbound and deflateboundn wholesale replacement of gz functions with faster versionsn as part of that added gzbuffer gzoffset gzcloser andn gzclosew functionsn faster zhuffmanonly and zrle compression for images and othern specialized compressionn added flush options zblock to deflate and ztrees to inflaten for finer controln added  and inflatemark functions the latter to aidn in random access applicationsn added lfs large file summit support for  file offsets andn many other portability improvementsnid
3662,arm tegra add syncptthresh interrupts to irqshnid  gary k
3663,elfcopy support unordered debuginfo references to debugrangennwhile trying to create shared libraries libelfcopy complainsnnlibelfcopy error range lists in debuginfo section  in ascending ordernlibelfcopy warning range lists in debugranges section start at  patch resolves by implementing the support of unordered debuginfonreferences to debugrangesnninspired by jan  work in binutilsnid
3664,arm tegra add graphics host to devicescnid  gary k
3665,add paragraph support into monkeyrunner documentationnnany strings that contain a newline are now broken up when put into the hdfnthis allows the formatters to do special perparagraph formatting very usefulnfor the html outputnid
3666,arm tegra mirror innercacheable change in tegra startupnid  gary k
3667,libcutils reflect the naming change armhaveldrexstrex in bionicnnthis patch reflect the changes that macro armhaveldrexstrex hadnbeen renamed to armhaveldrexstrex in bionicnid
3668,video tegra add gpu memory management driver nvmapnnnvmap provides an interface for user and kernelspace clients tonallocate and access memory handles which can be pinned to enablenthe memory to be shared with dma devices on the system and maynalso be mapped using callerspecified cache attributes so thatnthey are directly accessible by the cpunnthe memory handle object gives clients a common api to allocate fromnmultiple types of memory platformreserved physically contiguousncarveout memory physically contiguous order   os pagesnor physically discontiguous  os pages that can be remappedninto a contiguous region of the dma  virtual address spacenthrough the tegra iovmm subsystemnnunpinned and unmapped memory handles are relocatable at runtimenby the nvmap system handles may also be shared between multiplenclients allowing for example a window manager and its clientnapplications to directly share framebuffersnid  gary k
3669,bionic rename armhaveldrexstrex to armhaveldrexstrex for consistencynnthe patch follows the naming manner in existing macros with prefixnarmhavenid
3670,video tegra move nvhosth to machtegraincludenvhosthnid  gary k
3671,libpng use gcc visibility to reduce shared library sizennthe change introduced the implementation for macro pngimpexp by usingngcc visibility in defaulting of hidden attributennexperiment on htc passionntarget file outtargetproductpassionsystemliblibskiasonlibpng was statically linked to libskiasonnbefore  bytesnafter  bytesnncode size reduction   bytesnid
3672,video tegra add utility function to compute framebuffer stridennframebuffers will generally not be exactly width bpp  bytes widenon tegra linearlyaddressed framebuffers will generally be roundednup so that the stride is a multiple of  so that they are compatiblenwith rendering from the hardware engines and tiled framebuffersnwill be a multiple of the tile width  a utility function to tegradc to compute the correct stridengiven a width bpp and pixel layout and use this in setparnid  gary k
3673,arm mm add memory type for innerwritebacknnfor streamingstyle operations eg software rendering of graphicsnsurfaces shared with noncoherent dma devices the cost of  cache maintenance can exceed the benefit of having the larger cachenthis is particularly true for outercache configurations like the  change uses the currentlyunused mapping     the tex remapping tables as an innerwritebackwriteallocate outernnoncacheable memory type so that this mapping will be available tonclients which will benefit from the reduced  maintenancenid  gary k
3674,libpixelflinger move codeflinger test function to testopenglcodegennnthere is no need to include codeflinger test function innlibpixelflinger instead it should exist in testopenglcodegennid
3675,doc updated doc for monkeyrunner apinid
3676,video tegra add  support to drivernnincludes changes bynnantti hatala   king   gilling   hatala  tegra dc use nvhost driver for  power managementnngary king  tegra fb add ioctl to flip dc windows to nvmap handlesnnerik gilling  tegra dc increment syncpoints following window flipsnvideo tegra drain syncpt waits on display disablennoriginal commit messagesnnvideo tegra dc use nvhost driver for  power managementnnincrementing the frame done syncpoint value from the display interruptnrequires that the host module is powered on as the syncpoint state isnsaved and restored automatically by the host driver a cpu increment ofna syncpoint in the powered down state will be lostnnalso adds checks for host module being powerednnvideo tegra fb add ioctl to flip dc windows to nvmap handlesnntegra userspace graphics drivers may allocate framebuffers usingnnvmap rather than rendering to the common framebuffer this maynbe done to support deeper buffer pipelining color formatsnand pixel layouts other than the ial bootup framebuffernetcnnto use this ioctl a caller must first specify an nvmap fdnwhich is already open in the calling process so that thensubsequent flip ioctls may be properly validated flips are performednasynchronously with flip completion notifications provided back tonthe caller via the  syncpoint mechanismnnbased on earlier changes made by antti hatala  erik gilling   gary k
3677,adtgle call layoutscenedispose when needednid
3678,mkbootimg add support for optional page size parametern
3679,remove nonapi references from attrsxmlparsernid
3680,contact icon cannot be replaced when set from gallerynnit is not possible to replace a contact icon for thendefault account typenthis fix adds the default account type to the check that isnmade before trying to add or replace a contact iconnid
3681,net wireless  update to version  increase default listen interval to  beaconsn add logic to adjust skipdtim if listen interval  dtim dtimskip ton avoid data lost due to fact that packet maybe not retrieved during listenn interval and ap may toss itn fix problem with hidden ap setting after ap reconfiguren add new softap optional parameter as country to pass country code to softapnnnedoffby dmitry shmidt
3682,fix compile errors in telephony testsnnsimple fix of package names for two test cases currentlynthey do not compile in an idenid
3683,parallelize listcores implementationnnmodify the implementation of listcores to perform all  requests in parallel using a generic looper andnand asyncconsoleconnector per probed port with a globalntimeout of half a secondnnthis is also a demonstration of the new asynchronous helpersnid
3684,restrict make version to   turns out that gmake  on mac osx crashes with segmentation faultnat some pointnid
3685,build add spare size flag to
3686,add depth component to icon animationnnwhen the gallery application positions the thumbnailsnin a gridview they are placed in the same zplanenwhen a configuration change occurs the icons presentna zfighting visual artifactnnthis patch adds a z component to the thumbnails when they arenanimated as to mitigate this effect this is speciallynnoticeable in a gpu architecture using deferred renderingnid  rodrigo obregon
3687,build add nand page size option for boot and recovery imagen
3688,userspace rpc librarynnnedoffby iliyan malchev
3689,serial tegrahsuart fix void return type on writel accessorsnnnedoffby colin cross
3690,net wireless  fix scan timeout for abg casennnedoffby dmitry shmidt
3691,net wireless  improve way to detect bt sco connection for btcoexnnnedoffby dmitry shmidt
3692,net wireless  use nondfs channels only for usnnnedoffby dmitry shmidt
3693,cleanup gre preloadnngre used to preload the groovy baseview rule to improventhe first selection speed we  need that now that wenswitched to a nongroovy enginenid
3694,arm tegra clocks add pllp as additional cpu clock statennnedoffby colin cross
3695,arm tegra cpufreq lower frequency in suspendnnadds a suspendprepare notification hook to drop the frequency tonthe lowest possible during suspend this allows pllx to turn offnalso prevents the cpufreq driver from attempting regulator callsnafter suspend has started the regulator api can call into driversnthat have already been suspendednnnedoffby colin cross
3696,arm tegra cpufreq add  as lowest cpu frequencynnnedoffby colin cross
3697,arm tegra  clean up  support for recording audionn add audioinstream identical to audiooutstream may merge them latern add support for dma and pio recordingn add ioctls for  to start and stop recordingnnnedoffby iliyan malchev
3698,tegra remove reset during n
3699,arm tegra suspend save debug uart statennnedoffby colin cross
3700,arm tegra centralize macros to define debug uart basennnedoffby colin cross
3701,fix the build by hand apling jbqs currentxml change because my attempt to merge failedn
3702,merge commit  of gitandroidgitkernelorgplatformbuild into ftbn
3703,arm tegra suspend convert uart readlwritel to readbwritebnnnedoffby colin cross
3704,arm tegra suspend restore lcr during suspend fix warningsnnthe lcr register must be modified during suspend to read the dividernvalue after getting all the necessary values out of the  put lcr register back the way it wasnnalso fixes warningsnnnedoffby colin cross
3705,arm tegra iomap make all debug uarts the same typennnull is not an integer the rest of the debug uart addresses arennnedoffby colin cross
3706,enable wifi supportnnnedoffby iliyan malchev
3707,make the boot animation center alignedn
3708,add perview custom ialization logicnnthis changeset adds support for adding customlogic to ializenviews both to add children and default attributes and to customizenlayout attributes when added to a new parentnnfirst there is a new oncreate hook which is called to notify a viewnrule that an instance of its corresponding view has been created thisnlets the viewrule perform custom ialization of the object thenviewrule is told what type of insertion occurred such that it canndistinguish between a newly created view a view that is the result ofna copypaste and a view that is part of a move operationnnthe changeset adds a number of new viewrules which take advantage ofnthisn a tabhost rule creates the various skeleton children that aren required such as a tabwidget child with id androididtabs and an framelayout child with id androididtabcontentn a dialerfilter rule creates the mandatory edittext children hintn and primaryn the horizontalscrollview rule creates a horizontal linearlayout childn the imagebutton and imageviewbuttons ialize the src attributen to a sample imagen the mapviewrule ializes the apikey attributennin addition views are also notified when a new view is added as anchild such that they can perform additional customizations in thenform of an oninsert eventnnthe most important application of this is linearlayoutrule which usesnthis to set reasonable defaults for the layoutwidth and layoutheightnparameters it uses metadata which is currently built into adt butnwould ideally migrate into our xml config files to determine whetherna given child prefers to grow horizontally grow vertically both ornneither depending on the surrounding parent context for example annedittext will default to filling the parent width if it is in anvertical linearlayout but it will not grow vertically in a horizontalnlinear layout and so on various other rules also use the oninsertnevent to tweak children attributes a scrollview will for examplenalways ialize its single child to match parentnnviews can now also add plain menu items into the context menu and thentableviewrule adds one such action add row which appends a new rowninto the tablennthe palette preview code also invokes these creation hooks such thatnif you for example drag a dialerfilter it can properly render sincenthe mandatory children are created up front this required variousnchanges to the preview code to be able to handle xml edits by thenrulesnnfinally this changeset includes various other misc changes that inperformed at the same timen removed swt dependency from the viewrule classes swt rectangle usen in rectn fixed absolutelayout unit test issue  fixed positioning of the preview outline in linearlayout when onlyn one of the dimensions are clipped due to a smaller target layoutnid
3709,video add fbedidaddmonspecs for parsing extended edid informationnnmodern monitorstvs have more extended edid information blocks which canncontain extra detailed modes this adds a fbedidaddmonspecs functionnwhich drivers can use to parse those additions blocksnnnedoffby erik gil
3710,video tegra fill in transparency info in  fb modennalso remove incorrect support for   erik gil
3711,arm tegra add hdmi to iomaphnnnedoffby erik gil
3712,add callback before the rendering target changesnid
3713,arm tegra add hdmi clock aliases for display controllersnnnedoffby erik gil
3714,update adt changelog with current changesnid
3715,arm tegra ventana add suspend support to ventanannadd support for system suspend to ventana currently  dram innselfrefresh cpu powergated core power active is usednid  gary k
3716,arm tegra ventana register gpiokeys devicenid  gary k
3717,panjittouch fix warning control reaches end of nonvoid functionnid  gary k
3718,fix hvbat for swt layout issuennsdk bug
3719,fix a fileobserver jni bugnthe path string in fileobserver jni will not be automatically releasednin the while loop then it will cause too many local refs in the refntable when received too many file changed notificationsevents thenprocess will be killed for failed adding to jni local ref tablentest  androidappactivitynimport androidosbundlenimport androidosfileobservernimport androidutillognnimport javaiofilenimport javaioioexceptionnnpublic class testapp extends activity nn public static final string  fileobserver observernn overriden public void oncreatebundle icicle n superoncreateiciclen setcontentviewrlayoutmainnn  fileobservertmpn overriden public void oneventint event string path n ifevent  fileobservercreaten logetag file created path n else ifevent  fileobserverdeleten logetag file deleted path n n n n observerstartwatchingnn file  filetmpatxtn for int  n try n fcreatenewfilen catch ioexception e n n fdeleten n  last  lines of the lognedalvikvm  failed adding to jni local ref table has   vm abortingn
3720,use the rfkill kernel api to power updown bluetoothn
3721,improve thai characters detection speedn
3722,add proprietary camera library to the extract scriptnnnedoffby iliyan malchev
3723,fix build broken documentation linknid
3724,build add nand page size option for boot and recovery image generationn
3725,fix unable to show no media notification on status barnnvold notify mount service before system boot completed and willnnot notify again therefore there will be no missing sd cardnindication on the status bar the solution is to check the medianstatus when mount service receive the boot complete intent andnupdate the status barnid
3726,adding the new tree viewnid
3727,build failed with g v  msg  error invalid conversion from ‘const char’ to ‘char’nstrrchr provides two prototypes the one used returns const char instead of charnid
3728,remove adtplugin dependency from attrsxmlparsernnthe adtpluin was used just for logging instead thenattrsxmlparser takes an ilogger adtplug implementsnilogger and can be used directly in unit tests toonnfor unit tests there is a new stdsdklog conveniencenclass that prints to stdoutstderr formerly mockstdloggernfrom the sdk manager was doing thatnid
3729,telephony remove references to mexitecmrunnable objectnnfree mexitecmrunnable object while destroying cdma phonenid
3730,perform caseinsensitive matches in mimetypematches to support  which use uppercased contenttype fixed formattingn
3731,void avoid duplicate codenid
3732,net wireless  set first channel passive scan to  msnnnedoffby dmitry shmidt
3733,enhancement activitycreator generates  project for instrumentationnnactivitycreator script is enhanced to generate  project along with the main project the current behavior of generating activity is extended by generating activitytest in  folder the  folder follows the example provided asis in  apidemos was used as reference project to mimic the project layout for building tests using instrumentationnnfrom  project typen adb shell am instrument w yourpackagetestsandroidtestinstrumentationtestrunnernto run all tests using android instrumentationtestrunnernnnote  is a separate androidproject by all means it has its own androidmanifestxml buildxml src res etcnnamendntfixed style issues javadocntfixed buildtemplate to generate testsbuildxmlntremoved buildteststemplate since its obsolete nown
3734,usb gadget rndis  use devgetstatsnnsince  spinlockbh has been added to devtxqstatsfold sondevgetstats cannot be called from atomic contextnnreplaced it by  to copy the stats directly thisnwill work if the device driver does not need txq tx stats   benoit gobi
3735,build add spare size flag to
3736,vold replace strsep by strtokrnnit permits more white spaces between words in voldfstabnid
3737,abort system suspend on a disabled pending wakeup irqnnif a wakeup irq has been disabled  bail out of system suspendnif it is found pending at checkwakeupirqsnid  todd poynor
3738,arm tegra dma single buffered continuous dmann added single buffer continuous dma mode in addition to then double buffer continuous dma mode that is already implementedn changed the queuing of next buffer to be more flexible forn continuous dma it can now get inflight right after a transfern starts or whenever the client enqueues a buffernnnedoffby iliyan malchev
3739,vold avoid mismatch wrong device with same prefixnnsuppose we have two devices whose devpath arenn   the first is the target device the current implementation willnmismatch the later devicennsince we hope to match the target device and its partitionsnwhose devpath arenn  the correct devpath should have the expected prefixnfollowed by  or
3740,added androidhw optionnid
3741,improve performance when getting styled stringnnthe style used in the composing text for input methodsntakes a long time to create this is experienced as anlag when composing the first wordnnthe bottleneck lies in the  calls tonnativeindexofstring which does a linear search throughnthousands of stringsnid
3742,clear binding when the current input method is deadnid
3743,the lastest version i
3744,changed dexpreoptconfigmk to use new correct pathn
3745,initial wack at getting escalating volume alarmsn
3746,fix outoftree module buildnnnow you can build correctly withnmak
3747,store the event arguments an array of integer and string as annintent extra with no conversion to another type it contains integernand string so it can be serialized with no risk of throwing a runtimenexceptionnid
3748,store the event arguments an array of integer and string as an intentnextra with no conversion to another type it contains integer and string sonit can be serialized with no risk of throwing a runtime exceptionnid
3749,fix for  build  error ‘skpixelrefregistrarregistrar’ names the constructor not the  error ‘skpixelrefregistrarregistrar’ names the constructor not the typenid
3750,allow safe deletion during iteration of an arefsetnn make arefsetforeach take the name of an existing type variablen which avoids an annoying typecast in each statementnid
3751,fix generic looper implementationnn allow looperrun to return a value that indicates whyn it exitednn add looperrunwithdeadline and looperrunwithtimeoutn in the case where you want to run only for a limited timenn  can be used to poll then event state and return asap after firing all the callbacksnn fix ioloopermodifynid
3752,introduce asynchronous operation  contains generic helpers to read writenand connect to  contains a helper class to connectnto android console port asynchronouslynid
3753,vold set state back to idle on formatting errornnon formatting error due to some reasons the state is left atnformatting therefore the user is unable to mount the sdcardnagain the patch sets the state to idle no matter formattingnerror or notnid
3754,update of drm frameworknnaccess permission handlingn introduce an internal function which allows the desired process ton access decryption flow this new function is just for reference andn each oem manufacturer should implementreplace with their solutionsnnew api getmetadatan this api is for retrieving media metadata from containerbased drmn such as oma forwardlock content this api asks drm agent to retrieven media metadata hiddein inside of drm special containernnew api acquirerightsn this api wraps acquiredrminfo and processdrminfon if drm agent has valid implementation of both apisn application can acquire drmrights only by calling this apinbug fix in event loop of oninfolistenern separate oninfo event loop from mail thread loop so as to avoidn the issue that message is not dispatched when mail thread is busyns are made by semc and sonynid
3755,arm tegra centralize macros to define debug uart basennnedoffby colin cross
3756,debug database locks from the main threadnnadded debug functionality for printing stack traces when locking thendatabase from the main thread this is very useful for detectingnpotential anr problems and increasing ui reponsivenessnid
3757,arm tegra suspend save debug uart statennnedoffby colin cross
3758,added files for adb to be compilable updated makefilen usbfreebsdc is more stub than fullworking  getmypath receives two parameters now some changesn to be more correct with size of buffern
3759,updated comment about binbash vs usrlocalbinbash issuen
3760,fix typo  picasa not picassan
3761,make the boot animation center alignedn
3762,fix build breaknid
3763,arm tegra  clean up  support for recording audionn add audioinstream identical to audiooutstream may merge them latern add support for dma and pio recordingn add ioctls for  to start and stop recordingnnnedoffby iliyan malchev
3764,add parser for hostport addressnid
3765,tegra add reset in backnnthe tegra  controller requires a reset after an error put thenreset back in the functionnnnedoffby colin cross
3766,adt tools location traceview is a batnnthis prevents adb from starting under windows sincenadt is trying to verify the presence of traceviewexenwhen  actually traceviewbatnid
3767,video tegra checkpatch changesnnnedoffby erik gil
3768,video tegra add suspendresume hooks to outputsnnallows board specific code to handle panel nnnedoffby erik gil
3769,make aaptgroupentrygetmncname accept   is a valid network code and is used bynsome operators see httpenwikipediaorgwikimobilenetworkcodennremove the test that checks if atoi returns zeronthe string is validated to contain only numbersnalreadynnalso discuss
3770,tegra remove reset during n
3771,dropbox read until the end of stream has been reachednnread the requested length or until the end of the input streamnhas actually been reachednid
3772,arm tegra iomap make all debug uarts the same typennnull is not an integer the rest of the debug uart addresses arennnedoffby colin cross
3773,check the parent for null in editdeletennthere is a reproducible error in contacts when the deletenaction is triggered more than once and thereby crashing thenapp that is fixed by addeding a null check of parentnnalso preventing the mlistenerondeleted from getting mutiplencallbacksnid
3774,arm tegra suspend restore lcr during suspend fix warningsnnthe lcr register must be modified during suspend to read the dividernvalue after getting all the necessary values out of the  put lcr register back the way it wasnnalso fixes warningsnnnedoffby colin cross
3775,customization of sat application namennoperators want to promote their features through thensim toolkit application the naming for sim toolkit isntoo generic and operators want to customize the name innorder to make the  purpose more understandable fornthe end usernid
3776,arm tegra suspend convert uart readlwritel to readbwritebnnnedoffby colin cross
3777,adt extract attrsxmlparser in comandroididecommonnnthis is a purerefactoring cl that moves attrsxmlparserninto an idecommonresourcesplatform package in a next clnthe parser should be cleanup to remove some references tonexternal classes eg adtplugin is only used for logging sonit will become an ilog referencennthe goal of the resourcesplatform package is to allow other idesnto parse the manifest schema an utility class would be providednhere that would then be used by androidtargetparser the rest of thendata parsing widgets resources etc is a nongoal maybe laternid
3778,usb gadget fmtp support for file transfer length greater than  gigabytesnnfor backward compatibility with ptp mtp is limited to a  file sizenwhen transferring files greater than  gig mtp uses  as the file sizenand the receiver reads until it receives a short packetnnexpanded size of mtpfilerangelength to  bits and added support fornwriting zero length packetsnnnedoffby mike lockwood
3779,video tegra include linuxpmh in machtegradchnnnedoffby erik gil
3780,misc kerneldebugger add help commandnnnedoffby dmitry shmidt
3781,arm  add software downsampling for recorded data fixesnndownsamplingn add ioctls to downsample recorded datan supported frequencies are    and  downsamping to stereo and monon default is  mononnfixesn fix crashes from dequeuing dma requests twicennnedoffby iliyan malchev
3782,arm fiqdebugger add help commandnnnedoffby dmitry shmidt
3783,arm tegra  combine audioinstream and audiooutstreamnnnedoffby iliyan malchev
3784,arm tegra add a header defining tegra  wake padsnnwakeup from  is latched at the pads rather than in the interruptncontroller since the pad numbers  correspond to any othernsane numbering or naming system provide a new list of definesnto make board code easier to read and maintainnid  gary k
3785,arm tegra suspend rescale power timers for  cpu power timers were only rescaled to  ticks when  this rescaling is desired for both  and  so move itnto common codennoriginal author alex frid  gary k
3786,added readme file to explain the directory structuren
3787,fix  make dns worknnthis adds apn settings for the generic buildn
3788,adds ability to choose jdk version on freebsd via commonjavacversion  added fallback to jdk  when building sdk make  updated findjdktoolsjarsh to be more solid scriptn added ability to find toolsjar for exact jdk versionn on  updated droiddocmk to specify jdk version beforen executing of droiddocn
3789,a fairly obvious  syntax error missing closing bracen
3790,on  debian etch  does not crossreference libncursesnnhost executable   undefined reference to  undefined reference to  undefined reference to  undefined reference to  undefined reference to  undefined reference to  undefined reference to  undefined reference to  undefined reference to  ld returned  exit statusn
3791,improved thai chars detection with masking and minor bug fixesn
3792,globaltime compute the  position when the application is launchednnfix to calculate the  position when the application is startednthis ensures that the day and night difference is displayed if thenapplication is started within a minute after the system has been upnid
3793,update androidutils with misc new featuresnnthis introduces a few new features to androidutils that willnbe used in later patchesnn  to handle assertionsn  to handle dynamic arraysn  slightly updated more docsn  implements a set of pointersnid
3794,arm tegra  remove debugfs add sysfs interfacenn removed debugfs interface for toggling dman added it under sysfsn also added attributes for settings the attention levels of the  fifosnnnedoffby iliyan malchev
3795,implementation of event loop abstractionnnthis patch adds androidlooperh which provides annnabstraction for event loopsn androidlooperqemuc implements it on top of the qemu main event loopn androidloopergenericc implements it on top of an iolooper objectnnthe main idea is to move the uirelated code to use the abstractionnto handle timers and asynchronous network ionnnote code compiles but has not been heavily testednid
3796,frameworksbase swap width and height of temporary buffer only withnorientation changenncurrent code swaps the width and height by assuming that aspectnratio of the buffer width and height will be same as that of thenlayout clip width and height that is not always true the check to orientation changenid
3797,video tegra add skeleton host bus supportnnthe host or  bus sits between the cpu core and the   camerandisplay and mpeg encoder functions it contains provides dma channelsnhardware mutexes and synchronization pointsnnnedoffby erik gil
3798,frameworksbaseopengl add null checknncheck for the validity of the attrslist in eglchooseconfig before usingnit this avoids a crash during tests in which the attributes are nullnid
3799,video tegra add host bus support to display controllernnnedoffby erik gil
3800,fix  test cases makefilennit was being put into systemapps rather than dataappsnlike the other test casesnid
3801,packagesapps hide the wallpaper when the allapps view is displayednnthe wallaper consumes cpu even when the all apps view is in focusnhide wallpaper when the all apps view is displayednthis improves performancenid
3802,adtgle platform selection when rendering layoutsn
3803,arm tegra  configure inout buffer sizes from user spacenn add ioctls for configuring buffer threshold and dmatransaction sizes fromn user spacen buffer sizes are provided in orders of magnituden allocate maxsized buffers during probe and allow the user to resize themn only within the original allocation to avoid the risk from kmalloc failingn due to kernelheap fragmentation and also to avoid race conditions on dman shutdownn in tegraaudiowrite moved the call to startplaybackifnecessaryn immediately after writing to the fifo otherwise when the fifo size isn smaller than what the user is trying to write the user will block beforen playback is startedn silenced printk spew on spinning on  registers after transactions aren completedn cleaned up a  style violation in downsamplennnedoffby iliyan malchev
3804,adtgle platform selection when rendering layoutsnid
3805,net wireless  force scan when driver is loadednnnedoffby dmitry shmidt
3806,arm tegra  clean up handling of statenn use consistently the various state flagsn active is set only when there is a read or write in flightn recordingcanncelled is set only when recording is stopped via the ioctln dmahasit is used to determine whether dma is already in flight do notn use the state of the fifos for this eg if the tx fifo is empty do notn assume that playback is stoppedn added a stopcompletion implemented for readers only so that readersn closing a stream can wait until dma or pio transactions are stoppedn split  into  where then ctl versions have the ioctlsn introduced an error count per audiostream error count is reset on open cann be read back  reset through an ioctlnnnedoffby iliyan malchev
3807,frameworksbase add commands to change visibility of wallpapernnin the current architecture the wallpaper remains alive even when its notnvisible provide commands to change visibility of wallpaper this changenimproves performancenid
3808,vold fix an offset one bug that makes partition  unusablenid
3809,arm tegra  allow preloading of the tx fifo with datannadd an ioctl to allow the tx fifo to be loaded with data before playbacknstarts playback can then be started by calling write on the fifo evennwith a length of  this will cause the pending data to be played outnnnedoffby iliyan malchev
3810,globaltime perform a null check on the gtview object on resumenncreate a new gtview object if the object is null when resuming the appnthis fixes the null pointer exception encountered when resuming the appnafter receiving an mt callnid
3811,usb gadget fmtp zero length packet fixesnnsend zero length packets at end of transfers that are a multiple of thenbulk max packet size as required by mtpnnnedoffby mike lockwood
3812,arm tegra  do not reset the  fifo unnecessarilynnthis patch removes redundant  fifo resets which also cause blips on playbacknit also moves the fifo attention levels to struct audiostreamnnnedoffby iliyan malchev
3813,telephony add support to send screen status to stk appnnscreen idle intent is sent from the activitymanagerservicento appsstk when an activity is finished or moved to backnscreen busy intent is sent when an activity is startednid
3814,added changes to support idle screen availabilitynnadded changes to support idle screen for proactive commandsnsuch as displaytext and idlemodetextnndepends on
3815,fixes for the location manager cts testsnnif the gps feature  declared on the system it should not be required to return a gps providernid
3816,fix various warningsnni ran the latest version of findbugs on our codebase and fixed somennot all of the warningsnni also ran with eclipse   and updated our compiler warningnsettings for the new warnings that are availablenni also fixed some dos line endings in some files formatted with crlfninstead of lfnid
3817,first cut of ndk stack utilitynnthis utility is intended to parse crash dump file printing references to thencrash frames in  formatnnall source files under elff folder are snatched as is from the elff librarynunder externalqemuelff so they  really require any reviewnid
3818,arm  add carddetect importnnnedoffby dmitry shmidt
3819,add processed kernel header for msmsnd drivernnnedoffby iliyan malchev
3820,adb add inq mobile usb idnid  andrea
3821,telephony pinpuk mmi code support for cdmannadded mmi support for change  and unlock
3822,make  report sprint as operator namenid
3823,fix issues related to uartomapserial drivernnthis patch fixes issues related to uart register configuration and usesntrm programming model to avoid any corner issues that might affect uartnand adapts serial pm framework support for dma mode for errata  support for cts on wakeup also adds proper alignment forncoding standardnnnedoffby ulrik bech hald  govindraj raja
3824,superh add configuration to libffinid
3825,arm omap resource make resourcerefresh thread safennneed to lock the resmutex when traversing the reslistnnnedoffby mike chan
3826,mmc host sdhci support runtime enabledisable of clocknncurrently the sd card clock is running any time the ap is not  this patch allows the clock to only be enabled when the cardnis being accessednnbased on an nvidia   greg meiste  todd poynor
3827,copy oncecreated rjava into library projectsnnthis change adds functionality in aapt to allow specification ofnlibrary projects to copy the generated rjava file into rathernthan regenerating the file for each library projectnid
3828,adding support to adt and ant for smart rjava gennnthis change lets adt and ant make use of the newnextrapackages flag in aapt to allow for all the rjavanfiles to be generated using only one call rather than one callnper librarynid
3829,renamed some resource enumqualifiers to be more consistent with the platformnid
3830,arm tegra sdhci add new flag for runtime clock disablennthe rtdisable flag can be used to disable the sdhci clock whennnot needednid  greg meist
3831,mmc host sdhci tegra support runtime enabledisable of clocknncurrently the sd card clock is running any time the ap is not  this patch allows the clock to only be enabled when the cardnis being accessednnbased on an nvidia   greg meiste  greg meiste  todd poynor
3832,mmc omaphsmmc add add explicit carddetect processingnnnedoffby dmitry shmidt
3833,fix cmdline parsing and some commentsnid
3834,add support for the new widthheight resource qualifiersnnalso add television to the dock mode which is really ui modenid
3835,mmc host sdhci fix for  bit quirksnnneed to update the quirk defines for  bit support currentlynbits  are all being inadvertently set updating thesendefines allows the quirks bitmask to be set properlynnconflictsnntdriversmmchostsdhcihnid  greg meiste  todd poynor
3836,fix resizer crop offsetnnthe wrong width was being used to calculate the start of the crop rectanglenthe crop width was being used to calc the offset into the imageninstead of the original image widthnnsince the correct offset is already calculated and stored in thenglobaln ispobjtmpbufoffsetnthen use this value rather than calculate it againnnthe wrong width was causing digital zoom functionality to failnnnedoffby dominic curran
3837,set wififirmwareloader for dreamopen otherwise wlanloader is nevernexecutedn
3838,fix typo in adb commandline helpnnandroid developers are not expected to hav
3839,added new hostos type  freebsd some related changesn
3840,honor refcount in resume pathnnfixed bug where we were reenabling clocks in resume function even though our reference count was zeronnnedoffby dominic curran
3841,process files on the fly for freebsd compatibilitynnadded applyfreebsdpatches and applyplatformpatches defionnin defionsmk to process paths to interpretators at file headersnfrom binbash to usrlocalbinbash that allows keep source treenunchanged and shared with main repositaryn
3842,update proprietary files for dream to include audio supportnnnedoffby iliyan malchev
3843,imagebutton example  work default state should be at the lastnsee resresdrawablebuttoninsetxmln
3844,install voldconf for emulator againn
3845,add missing const qualifier to table declarations in headersn
3846,findjdktoolsjarsh now can guess path to toolsjar on freebsdn
3847,update  scriptsnnupdated the sleepwakeup sequence as recommended by david derricknused broadcast command and configured the type register remap registernbased on original patch by lesly a mnnnedoffby mike turquette  lesly a m
3848,remove extern from table defionsnnthis fixes warnings when compiling as cnnlocal prototype declarations are added where no suitable ones arenavailable in headersn
3849,set shell to usrlocalbinbash on freebsdnid
3850,add includes for prototype declarations of tablesn
3851,remove explicit requirement on binbashnnbinbash  exist in freebsd instead this will usenthe right bash shell from buildcoremainmkn
3852,sdp file rtsp streaming support androidn
3853,get rid of conditionals in  compilation files localmkn
3854,partially reverting removing unncessary code from rtspparcom protocoln
3855,remove unncessary code from rtspparcom protocoln
3856,support for  in omx decode and codec config parser utilityn
3857,build and return code changes to support new cpm pluginn
3858,additional followon for rtspparcom protocol cleanupn
3859,fix for a possible crash in oscltimer that could be caused by a dividebyzeron
3860,version updates for sdkinfo header files and playerdriver documentation updatesn
3861,modifications in omx decoder testapp for parameter negotiationn
3862,data type inconsistency in code of omx test appn
3863,need the ability to disable cpm in source nodesn
3864,nodes getting scheduled extra number of timesn
3865,removing macros from rtsp parcom source filesn
3866,fix in the author engine to setresetresume the clock in the various internal statesn
3867,use a circular buffer in velocitytrackernnoptimizes the frequently called addpoint method while keeping thensame velocity computationnnthx cyril mottier for help and testsn
3868,omx support for  simple main and advanced profilesn
3869,update sdkinfo header files and playerdriver with  versionn
3870,additional followon to eliminate memcopies of output buffers in omx componentsn
3871,disable build of improvider as it relies on proprietary filesn
3872,console app and gui app fixesn
3873,engine memory leak fixn
3874,additional followon for rtspparcom protocol cleanupn
3875,add new android nature for export projectsnnalso renamed nature constant to naturedefault to makenthe distinction between the two naturesnid
3876,cts would report  many files  because it did not close xml output filesnid
3877,adt  access attributeinfo from groovy scriptsnnthis cl extracts iattributeinfo from declarestyleable this usednto be the metadata extracted from an attribute declared in attrsxmlnnthe interface that is now available to groovy scripts lets themncheck whether an attribute is a reference a string etc for annenum or flag that means having access to the defined values toonnin the case of the absolutelayout drop we use this info to check ifnan attribute is a reference for example when duplicating anrelativelayout dropped in an absolutelayout we need to create newnids and the relativelayout is prone to have inner selfreferencesnthat can be automatically adjusted that waynna large part of the cl is about refactoring the various manuallycreatednattributes in the descriptors for resources xml and such in thisncase the iattributeinfo that is made available via the attributedescriptornis not used but it made sense to keep this consistent in case we wantnto expose it later and to avoid having to care about special casesnid
3878,add proper comment to multiapk export buildxml templatenid
3879,cts would report  many files  because it did not close xml output filesnid
3880,fix libraryproject link for library whose name  a valid path varnid
3881,fix incorrect calculation of start and end indices of changed textnn the problem is taht the calculation of indices does not take then difference in original and modified text lengths into accountn if reportextractedtext is called from the ondraw functionn minputmethodstate is not resetnnthe error can occur when the user is editing formatted text using a full screen editornone example of formatted text is phone numbers eg dashes are added to north americannnumbers by the phonenumberformattingtextwatcher classnif the two first digits are removed from the number  the new number becomes  is due incorrect calculation of start and end indices of the changed text the error is innthe textview class and the problem is that the calculation does not take the difference in originalnand modified text lengths into accountnid
3882,usb gadget android allow functions to handle setup requestsnnnedoffby mike lockwood
3883,usb gadget android android usb gadget improvementsnnsupport for specifying the list of usb functions from platform datannthe main androidc gadget driver no longer has hard coded referencesnto the massstorage and adb functionsnnsupport for computing the product id based on tables in platform datanand the currently enabled functionsnnmoved the adb enabledisable logic from androidc to fadbcnnnedoffby mike lockwood
3884,this work fixes infe loop when omx initdecoder failsn
3885,recognizer has been modified to further check the brand information inside ftyp atom and not declare  dcf files a
3886,cleanup for  ialization null checksn
3887,separate clock for rendering mios for  lipsyncn
3888,retrieve duration metadata in mediascanner through metadataretrievern
3889,raw support for pvmi mio file input output minor additional chang
3890,if the avc decoder reports an error in the last frame of a sequence the openmax component does not flush the  outputn
3891,raw support for pvmi mio file input outputn
3892,usb gadget android allow functions to handle setup requestsnnnedoffby mike lockwood
3893,interemulator networking add interfaces in the correct ordernid
3894,creates proper ifch and dhcph headers for libnetutilsn adds ifcsethwaddrn adds hwaddr command to netcfgn code reuse dhcpconfigure calls ifcconfigure inetntoa is used for printingn consistency use netxxxdnsx properties in favor of dhcpxxxdnsx propertiesn see related change to wifistatetrackern updated systemcorenexus to use new headers although not sure ifnanybody still uses nexusnid
3895,remove libnetutils dependencynid
3896,http playback reports error for low bitrate connectionn
3897,updates netutils to use new libnetutils headersn updates wifistatetracker to track netxxxdnsx properties for name serversn removes dhcp from wifinative use networkutils insteadnid
3898,added missing etheraton and etherntoanid
3899,added missing etherntoa and etheratonnid
3900,added missing etheraton and etherntoanid
3901,fix for running a test number multiple times in makefile target for running parallel player engine testsn
3902,fixed omx base dec node to handle  sample size and updated fmu to retrieve metadata for new file extensionn
3903,mediscanneralbumart supportn
3904,base node should add itself to scheduler only in a valid created staten
3905,add dependency of librt to android  buildsn
3906,implemented additional apis in cpm pluginn
3907,mediaoutputnode module unit test failuren
3908,codesize reduction for fmun
3909,fix for compiler warnings in mediaoutputnode and player engine test appn
3910,compiler warning in pvloggercfgfileparsercppn
3911,use style attributes for tab layout in tabwidget and tabhostnnnew attribute have been added to the tabhost style in order tonsupport changing the attribute for tab layout in the tabhostnthis attribute is used in the tabhost classnnnew attributes have been added to the tabwidget style in order tonsupport changing the attributes for tab drawables in the tabwidgetnthese attributes are used in the tabwidget classnid
3912,add feature list to cts report headernnbug  the packagemanager to check which features the device hasnenabled add them to the xml in separate block   and display them innthe report with ascii check boxes like x androidhardwarecamerannin the future the list of features could be gleamed fromnthe xml files in frameworksbasedataetcnid
3913,added correct orientatio handlingnndialogs for custom labels in contactedit are now handled correctlynwhen you press phonenumber type and select custom aninput dialog pops up there was an error whennchanging orientation in examplenopen the keyboard on the  the dialog was gonenwith an internal windowleaked exceptionnnow the dialogstate the edittext state and the type for the custom labelnare preserved by storing them in statenthe customlabel dialog now also has a ondismisslistener so the privatenvariable will always be null when there is no dialog to save ressourcesnand we do not leak a contextnid
3914,activedocumentloader causes crash in webcoreframebridgecppnnthis is a fix for a crash found in real phones there is cases whennactivedocumentloader can return null probably related to closing of anframe or canceling of a requestnid
3915,enforce english formatting for the geo string sent to the emulatornid
3916,video tegra add utility function to compute framebuffer stridennframebuffers will generally not be exactly width bpp  bytes widenon tegra linearlyaddressed framebuffers will generally be roundednup so that the stride is a multiple of  so that they are compatiblenwith rendering from the hardware engines and tiled framebuffersnwill be a multiple of the tile width  a utility function to tegradc to compute the correct stridengiven a width bpp and pixel layout and use this in setparnid  gary k
3917,add easymock for list of windows sdk targetsnnalso correctly sorted the windows sdk target listnid
3918,serial tegrahsuart fix dma receive drop err in dma callbacksnid  colin cross
3919,revert inputmethodservice fix ignore case in showinputmethodpickerfromclientnnthis reverts commit  source project cl  change unexpectedly started preventing users from changing inputmethodnnhow to  long press  button in  select input  no window will opennid
3920,arm tegra dma drop err argument to dma callbacksnid  colin cross
3921,fix bluetooth settings activity memory leaknn there were two leaks in bluetooth settings one when rotating then phone and other when scanning for bluetooth devicesn
3922,arm tegra dma prevent doublequeued requestsnid  colin cross
3923,error in compound cachecontrol headernna cache control header containing both nocache and maxage attribute does notnbehave as expectednncachecontrol nocache  set expired to  seconds ignoring the nocache header myninterpretation is that the nocache header should not be ignored innthis casenid
3924,arm tegra fix bytestransferred calculation in dmadequeuereqnnif the dma operation is already complete when dmadequeuereq is callednthe requested transfer size value read back from the hardware alreadynhas a  offset included so the value returned with thendescriptor needs to undo this offsetnid  colin cross
3925,check ctsverifier feature countnnadd a quick test that will warn us when the features go out of syncnid
3926,cts would report  many files  because it did not close xml output filesnid
3927,test for checking featuresummary feature countnnadd a test that will compare the packagemanager feature countnto the feature list in the featuresummaryactivity hopefully thisnwill remind us to update it for new releasesnid
3928,spi spitegra drop err parameter to dma callbacksnid  colin cross
3929,add disablenls to building gdb otherwise  failsnbuilding on osxnid
3930,binutils sources for toolchain checked in on  packages that fix assembler bugs and kernel build problem with goldnsee  for detailsnid
3931,new gcc sources for toolchain checked in on  backport a  patch to fix a ra bug   owner jingyun status in upstream   add  option to select linker this cl merges the gcc part ofn this upstream patchn  owner dougkwann status binutils part in upstream gcc part pending approvalnid
3932,video tegrafb enable  clocknid  colin cross
3933,fix some handling of decimal values in the ui to handle nonen localesnid
3934,properly handle floatdouble in loc control when locale is not ennnstringformat uses the decimal point of the current locale whichnwe  want since we pass the result to the emulator which expectsndecimal point to be  does not use the current locale and thereforenfailed to read values put in the ui that used a decimal pointnthat is not  simplified the gps command to use geo fix instead of geo nmeanid
3935,fixed a npe in calendar on emulatornnthis happened when working in the emulator open the calendarnadd a new event with standard values only enter a descriptionnand click done a new notification will pop up with this newlyncreated event click on it and then on the eventdetailna npe will occur because the mcalendarowneraccount seems tonbe null in the emulator now the variable is reset to nif it is null like the ial value when there are attemptsnto save this variable  already a check if  so it willnnot be stored the other calls to this variable are only equalsnid
3936,arm tegra clock add  clock to display devicenid  colin cross
3937,serial tegrahsuart cleanups and bug fixesnntegrastarttx was called directly by the serial core asnwell as from dma and serial interrupts to queue the nextnblock of data separate out the queue next datanfunctionality into tegrastartnexttxnnalso fixes tx pio by adjusting fifo sizes and preventsnlast characters from getting lost by spinning on temtnbefore disabling clocksnid  colin cross
3938,yaffs better control over rename shadowingnnthe shadowing mechanism is used to ensure that the rightninterlocking happens when an object is renamed over an existing objectnnextreme power fail stress testing revealed that garbage collection couldndisrupt the shadowing process causing object lossnnthis fixes the problem and has survived millions of simulated power failuresnid  charles man
3939,optional provisioningnnthis introduces an rorequiresprovisioning property which defaults to falsensuch that by default the platform  require any setup application tonset a runtime provisioned bit and allows all behaviors right away home keynlock screen etcn
3940,merge branch  into yetanothertrynnconflictsntvmandroidmkntvmmterprebuildshn
3941,usb android gadget add remote wakeup attribute to android functionnnadd remote wakeup attribute to configuration descriptor of androidnfunction to advertise remote wakeup capability to hostnnackedby allam suresh reddy  mike lockwood
3942,usb gadget android android usb gadget improvementsnnsupport for specifying the list of usb functions from platform datannthe main androidc gadget driver no longer has hard coded referencesnto the massstorage and adb functionsnnsupport for computing the product id based on tables in platform datanand the currently enabled functionsnnmoved the adb enabledisable logic from androidc to fadbcnnnedoffby mike lockwood
3943,usb composite add flag to usbfunction to hide its interface during enumerationnid  mike lockwood
3944,usb composite allow configurations to handle unhandled setup requestsnnnedoffby mike lockwood
3945,make cdmaimport a branch in every projectnnthis is to facilitate the final development of cdma support andnthe merge of it into the master branchnnnedoffby shawn o pearc
3946,optional provisioningnnthis introduces an rorequiresprovisioning property which defaults to falsensuch that by default the platform  require any setup application tonset a runtime provisioned bit and allows all behaviors right away home keynlock screen etcn
3947,optional provisioningnnthis introduces an rorequiresprovisioning property which defaults to falsensuch that by default the platform  require any setup application tonset a runtime provisioned bit and allows all behaviors right away home keynlock screen etcn
3948,fixing crash when query events in arabic localennit is not safe to use the default locale when using stringformatnto produce sql statements some locales will break the sqlnand as a consequence crash the app change the code so it isnusing selection args insteadnid
3949,timing issue in cts tc testpermissiondiffcertnnthe test case kills an activity that holds some uri permissionsnand then immediately after tests that  no longer possiblento access the uri sometimes the change of access  ablento reach through the system in time before the test casenchecks that the access has been removed and the test case failna delay of  ms in the test case seems to be sufficient for thenchange of access to pass through properly i set it to  secondnto have some marginnid
3950,usb gadget composite fix compile issuesnnin file included from  in function  error implicit declaration of function  in function  error implicit declaration of function  vikram pandita
3951,fix selection hint painting on honeycombnnthe selection hints which for example display the constraints whennyou are in a relativelayout are painted below or to the right of thencanvas the positioning of this text was based on walking up thenviewinfo hierarchy and taking the root  bounds as the boundsnof the canvas image the text was then placed below or to the rightnof this imagennthis no longer works with honeycomb since we now paint an action barnand a system bar and the bounds of these are not included in the rootnviewinfo so as a result the selection hints were painted on top ofnthe system barnnthis changes the algorithm to use the image bounds itself rather thannthe view info boundsnid
3952,tools  require adt
3953,documentation clarify that a filedescriptor must be seekablennin mediaplayer methods with an offset specified must be passed anfiledescriptor that is seekable this change notes that in thenjavadocn
3954,arm common fiqdebugger return enomem if kzalloc failsnid  choi jonghwan
3955,video tegra quiesce hdmi hotplug worker on suspendnnthis keeps the hotplug worker from trying to disable the dc while  suspendnid  erik gil
3956,arm common fiqdebugger check  before kfree  add clkdisablenid  choi jonghwan
3957,stagefright return error if codec takes too long to return a buffernnthere are many scenarios where the codec may not return a valid buffernin such a case the omxcodecread call hangs indefitely thereforenwait call is replaced with waitrelative so that it timesout after anfew seconds and we exit gracefullynid  anu sundararajan
3958,error handling for network plugin api getcontextnntiming issue occured when flash plugin requested applicationncontext through np api while webview is under destructionnnweak reference refering to an already garbadge collected objectnadded null check and error code to avoid crashnid
3959,added detachableasynctask samplenid
3960,error handling in webviewcorecontentdrawnnadding null check in method webviewcorecontentdraw to avoidnsystem crash in case java glue weak reference refers to alreadyngarbadge collected objectnncorresponding method contentdraw on java side is alreadynreturning without action if there is no frame or content to drawnid
3961,introduce an alternative api for asynctasknnasynctask makes it difficult to properly decouple it from an implicitnouterclass activity reference this is especially problematic when annasynctask is to be recovered and in this way resumed uponnorientation change or simply abandoned if the user presses the backnbutton the detachable pattern applied here allows us instead to dividenthe problem into two classes the detachableasynctask which performs thenbackground work and the taskcallbacks which respond to main threadncallbacks the latter class is expected to hold the implicit outerclassnreference but that can be attached reattached or unattached from thenformer as needednid
3962,fix for charsequencecreator test casennthe test case testcharsequencecreator in textutilstest failsnbecause the data position is not reset before callingncreatefromparcelnid
3963,add baseline utility method to  bridgenid
3964,laying out the base for chimpchatnid
3965,throw syncexception if local file is not found instead of filenotfoundexceptionnnbug
3966,extracted chimpchat from monkeyrunnernnextracted chimpchat the library for communication with monkey fromnmonkeyrunnernid
3967,allow swtmenubar module to be buildable on windowsnid
3968,support for multi touch in touchutilsnnadd a method for simulating multi touch drag events the newnmethod is very similar to the corresponding single touch methodnexcept that it instead of single coordinates takes arrays orncoordinates and iterates over themnid
3969,relativelayout assign ids dynamically handle multidrag bugsnnthis cl fixes three issues with the new relative layout  assign ids dynamically before this changeset you  attachn to a node which does not have an id attribute since layoutn params need to name the constraint by idnn this changeset changes this such that you can attach to anyn arbitrary edge and when you commit the drag a unique id isn generated on the fly and assigned to the  handle dragging multiple nodes at the same time the newn constraints code was unconditionally applying the same constraintsn to all the dragged nodes which meant they ended up on top of eachn other this fixes things such that the first node is assigned then new constraints and then all subsequent nodes are attached onen next to the other in a direction depending on which edge youn attached to eg attaching on the right will arrange the siblingsn towards the left out from the  fix a bug in the code to detect and prevent cyclesnid
3970,ensure we copy the pc bios filesnnthis change ensures that building  will copy thenbios files to the right location this is necessary to  after building the system imagesnnbefore this patch one had to make the copy manually note  does not need this the files are actually taken carenof in buildtargetproductsdkmk so will be copied even in casenof the arm sdk buildnid
3971,fix argument list too longnnbug
3972,asoc core  schedule deferredresumework twicennfor cards that have two or more dais  loop over allndais ends up calling scheduleworkdeferredresumework once per dainsince this is the same work item each time the  and subsequentncalls return  work item already queued and trigger the deverrnmessage below stating that a work item may have been lostnnsolve this by adjusting the loop to simply calculate whether to run thenresume work immediately or defer it and then call schedule work or notnone time based on thatnnnote this has not been tested in mainline but only in   support suspendresume on tegra nor does the mainlinentegra asoc driver contain multiple dais it has been compilechecked innmainlinennnedoffby stephen warren  liam girdwood  mark brown   todd poynor
3973,ant tasks and dependency clean upnngive anttasksjar a proper manifest with jar dependenciesnupdate the manifest of sdklibjar with the commonjar dependencynnthe presetup section of buildxml has changed over timenand really we should be able to control it so move it inn$sdktoolsantpresetupxml and import it into buildxmlnid
3974,leave scrollbars visiblennremove the code i added recently which hides the scrollbars when theynare not enabled while i want to restore it later i need to guardnagainst a possible scenario where showing the scrollbars causes thenviewport size to change which can in turn cause the scrollbars to benhidden recursively for   play it safenid
3975,adt builder clean upnn sourceprocessor  empty is tocompileremoved file listn when doing a full build meaning some files were compiledn several timesnn renderscript processor would always indicate that it generatedn resources even if that  the case no file or broken filesn triggering a res compilation even if needed res compilationn typically trigger a post compile refresh that triggers anothern build which normally has no impact but this new buildn also triggered a res compilation through the same issue endingn with a build loop if a rs file was brokenn the sourceprocessors now  return a static compilation typen but a true value based on what they did or failed to donn the post compiler build now properly stops executing if there aren problem markers from previous builders including the jdt onenid
3976,layout actions bar fixesnnthis changeset fixes a couple of layout actions bar  refresh the actions bar after running one of the layoutn actions this for example fixes the issue that if you click ton toggle the layout orientation then the baseline button will appearn for horizontal  fix an issue with the lazyialization of dropdown menus theyn  actually ialized lazily because the code to determinen whether a choice list should be a dropdown or a radio group wouldn cause  fix layout gravity on relativelayouts it was readingwriting then attribute layoutgravity instead of gravitynid
3977,include typeshn since it using sizet in declaration of function it should include typeshn
3978,add build instructions for passionnexus onenid
3979,arm msm gadget add support for registering a callback when connected state changesnnthis integrates the change  driversusbfunctionmsmhsusbc to the  gadget drivernnnedoffby mike lockwood
3980,net wireless bcmdhd fix android define clean obsolete codennnedoffby dmitry shmidt
3981,adjustment for different physical dpi display valuesnnadjustment for different physical dpi display values that can differnfrom the logical displaymetricsdensity valuenid
3982,check the intents for bad datannthis fix avoids npes that may occur if the activity intentndoes not contain expected datanid
3983,net wireless bcmdhd get mac from platform datannnedoffby dmitry shmidt
3984,return statement fixed in bootchartmodenid  riazantsev volodymyr
3985,net wireless bcmdhd fix softap compilationnnnedoffby dmitry shmidt
3986,added multithread supportnnparsing of config files and commands execution can be made innmultithread modenid  riazantsev volodymyr
3987,added some features in service supportnnaddednt deayed service startnt trigger execution commandnt support for virtual servicenid  riazantsev volodymyr
3988,net wireless bcmdhd add setting country code from platform datannnedoffby dmitry shmidt
3989,fix mac buildnid
3990,add lock before calling eglimagennwithout that lock there is a chance of race conditionnwhere while composing a specific index requestbuf withnthe same index can be executed and touch thensame data that is being used in eglimageneg dirty flag in texturen
3991,refactored monkeyrunner to use chimpchatnid
3992,frameworksbase fix to pass resultcanceled for crashed processnid
3993,use enum for converting touchpresstype valuesnid
3994,add commonjar to the sdk buildnid
3995,add missed function pvmfstatustostringnnit is required by pvmf but it is somehow missingn
3996,make zoom level persistentnnmake the zoom level of the layout editor persistent across idensessions this is particularly useful now that we are dealing withnlarger screens such as wxga where you typically need to zoom outnzoom to fit in order to see the whole layout and  annoying tonhave to do this every time you open the idenid
3997,add dummy weak symbol supportingn since some software like ffmpeg involve weak symbols we need a wayn to handle itn this patch handle weak symbol by ignoring it at all since weak symboln means some symbols that is not always existed we can skip it whenn reloacte shared objects it would be fine since the software shouldn handle it when the symbols can not be foundn without this patch linker would be fail to handle weak symbol whenn  value is nonzeron
3998,use different prelink map for build typesn add a new prelink map for debugn modify behavior in selectmk to usen   orn  if   is not existedn
3999,conditional defines omxcorelibrarynnomxcorelibrary is used to define the shared library that will be loadednby omx core wrapper we  want to copy the wrapper everywherenso make it is defined in source code only when it is not defined by othersnprogrammer can create a new wrapper with specified domxcorelibrarynoptions passed to compilern
4000,append local environment variable setting before configure commandn add localconfigenv vairable to allow modules to setup environmentn variable for configuren rename all variables used by autoconf with a local prefixn
4001,support modules with autoconfn a makefile that can handle configuration for autoconfn generate multiple modules with common name prefixn for example ffmpegffmpeg ffmpeglibavcodecso n
4002,cherrypick  from master to  do not mergennmake stringbased hw prop not recognizednncurrently all those strings  set to be viewed by the usernin the avd ui so we ignore themnin the future we should use a specific flag to ignore some likenavdname and allow othersnid
4003,minor layoutlib api fix rename a capabilitynntransparent  custombackgroundcolornid
4004,fix ctsapptestcases to link against sdknnbug  removed the annotations since they are private apisn removed empty tests that do nothingn fixed a couple tests that were using private apisnid
4005,fix the recount problem from dbus  has been already fixed in the master branchnid
4006,tty related changes in phone appnnenable tty support in phone appndo not send dtmf tones in ttyvco and ttyfull modensend tty mode event only after radio is availablenid
4007,package the plugins with debug infonnthis allows us to get useful stack trace from external usersnid
4008,fix androidconfigureshnnthe latest patch broke the script because targetarch is no longerndefined as it should use the  option to force an  buildnwhich currently fails though arm being the defaultnid
4009,usb gadget fmtp fix problems transferring files from device to hostnnexit from sendfilework immediately when a cancel request is receivednnonly busy status if there is a cancel pending that has not been repoorted to userspacenthis avoids a race condition that can occur when mtpread resets the statento statebusy before we report status ok back to the hostnnnedoffby mike lockwood
4010,arm   fix  board and panel files to use correct pin mux namesnnnedoffby rebecca schultz zavin
4011,fix avd detail not displaying correctlynid
4012,auto hide virtual keyboardnnsometimes the virtual keyboard was not hidden when switching betweennapplications an example of this was when launching the browser fromnthe google search  tap the google search widget and enter some text eg  select one search items eg google  browser opens press back  select an item again eg google maps keyboard does notn closennwhen switching application the virtual keyboard needs to find a newnz position window index among the other windows normally it isnplaced on top of the first window that is visible and can get focusncanbeimetargetnnwith a new application being launched there isnan exception a special starting window is placed on top of thenactivity window while the application is starting up since thisnwindow should not get input we need to look below that windownwhen doing this the previous implementation assumed that thenfirst window below always was focusable if it  theninput method was placed above the starting window whichncaused confusion that led to the keyboard not being closednautomaticallynnin the case of the browser it sometimes has a fake titlebarnwindow that can not get focus and that is placed above thenactivity windownnwith this fix we now keep looking through the windows belownthe starting window until we find a window that can receiveninputnid
4013,manifest for
4014,add support for hwlcdbacklightnid
4015,workaround view info cookie bugnnthis changeset works around the case where a viewinfo cookie isnidentical to its parent this is for example the case for anzoomcontrols widget where the child views have mergecookies wholenvalue points to the parent zoomcontrolnid
4016,video tegra fix unplugsuspend timeout in nvhdcpnnif hdcp was turned off either by unplug or suspend the work funcitonnwould wait the full timeout   before exiting thisncauses suspend to timeout and crashnid  erik gil
4017,allow wifi client mode in parallel to mobile data networknnthis patch allows an application to communicate to a wifi network as client mode and to a mobile data network internet in parallel this enables applications to communicate with services on a local wifi network eg cars amplifiers hifisystems and the internet at the same time without having to explicitly reconfigure any devices on the local wifi network in contrast to tethering this patch does not allow devices on the local wifi network to access the mobile data network of the android devicenndescriptionn the user configures in the wifi settings for a specific network that internet access via this network should not be used by default this option is not activatedn after a connection to the wifi network is established both radios wifi and mobile remain activen the default internet gateway as well as the dns servers are taken from the mobile data network so that all internet traffic from applications on the android device will be routed through this interface dns servers from the wifi network are not used in this casen applications on the android device can now communicate with local wifi nodes and the internet simultaneouslynnactorsn wifi network without internet accessn mobile network like  edgen device and applicationnnexamplena media application wants to receive web radio content from the internet and redirect it to a home entertainment system located on a local wifi networknnimplementation detailsn a checkbox was added to the wifi settings dialogn networkstatetracker was modified to include the new function useasdefaultgw the default implementation is true but the wifistatetracker overrides this to get the value corresponding to the settingsn depending on the wifi settingsn the teardown of the old data connection is preventedn default routes are removed after successful dhcpresolutionn dns servers are not addednid  michael fitzn
4018,fix npe on edit unknown avd hardware propertynid
4019,allow wifi client mode in parallel to mobile data networknnthis patch allows an application to communicate to a wifi network as client mode and to a mobile data network internet in parallel this enables applications to communicate with services on a local wifi network eg cars amplifiers hifisystems and the internet at the same time without having to explicitly reconfigure any devices on the local wifi network in contrast to tethering this patch does not allow devices on the local wifi network to access the mobile data network of the android devicenndescriptionn the user configures in the wifi settings for a specific network that internet access via this network should not be used by default this option is not activatedn after a connection to the wifi network is established both radios wifi and mobile remain activen the default internet gateway as well as the dns servers are taken from the mobile data network so that all internet traffic from applications on the android device will be routed through this interface dns servers from the wifi network are not used in this casen applications on the android device can now communicate with local wifi nodes and the internet simultaneouslynnactorsn wifi network without internet accessn mobile network like  edgen device and applicationnnexamplena media application wants to receive web radio content from the internet and redirect it to a home entertainment system located on a local wifi networknnimplementation detailsn a checkbox was added to the wifi settings dialogn networkstatetracker was modified to include the new function useasdefaultgw the default implementation is true but the wifistatetracker overrides this to get the value corresponding to the settingsn depending on the wifi settingsn the teardown of the old data connection is preventedn default routes are removed after successful dhcpresolutionn dns servers are not addednid  michael fitzn
4020,fix proguard template to avoid shrinking xmlonly referencesnnsee  proguard template generated by the adt is flawednid
4021,cherrypick  from master into  do not mergennfix avd detail not displaying correctlynid
4022,displaying a file name to window title when a image is loaded in  toolnid
4023,fix emulator core and ui on windowsnnthere are two parts in this  fixing the windows build missing  replacing readwrite with socketrecvsocketsendnid
4024,handling non telephony device case for testextractmethodsnnnon telephony devices  need phonenumberutils test this test casendoes not consider non telephony models the method testextractmethodsnhas been modified to handle the case of non telephony devicesnid
4025,cherrypick  from master to  do not mergennfix npe on edit unknown avd hardware propertynid
4026,pm increase dpm suspend timeoutnnusbhid devices have a  timeout waiting for the out queue to clearnincreased the watchdog to   benoit gobi
4027,make stringbased hw prop not recognizednncurrently all those strings  set to be viewed by the usernin the avd ui so we ignore themnin the future we should use a specific flag to ignore some likenavdname and allow othersnid
4028,package the plugins with debug infonnthis allows us to get useful stack trace from external usersnid
4029,net fix a bitmask in pppopns and rename constants in pppopns and pppolacnnnedoffby chiachi yeh
4030,add a few missing headersnnfixes build with gcc  on debiannnnedoffby alexey zaytsev
4031,add adt preference to disable skipping of postcompnnthis change adds a preference option to adt  to allow user control of whethernpostcompilation is skipped during a file save andnpushed back until launch or exportnid
4032,kernel printk add non exported function for clearing the log ring buffernnnedoffby san mehat
4033,fix wifi for public cupcake by bringing forward two patches that got missednn add kernel prealloc supportn minor cleanupsnnnedoffby san mehat
4034,fix signal strength issues with wext devices and add some handlingnfor the android driver command mechanism not all commands arensupportednalso add handling for a custom started command from the drivernwhich is used by android to restart wpasupplicant following wifi sleepn
4035,fix signal strength handling so it it correctly converted from thendriver value also impliment some driver commands and add the abilitynto recieve a custom started event from the driver which is forwardednon to androidn
4036,revert  we need to keep the duplicate libraries here to preventnbreaking a few internal branches for nownn remove obsolete emulator modulesnn the corresponding modules have all been moved to developmenttoolsemulatorsystemn already note that we use a global variable make trick to prevent the same modulen from being built twice so removing these files  break the buildsnn another patch should remove the global variable make trick fromn developmenttoolsemulatorsystem after this patchnid
4037,make sure to quote command line paths on windowsnnthe path of the executable should not be quotednnlinuxmacos actually  work if anything is quoted sononly quote on windowsnnstrangely aapt is not affected by this so  touch it for nownid
4038,arm tegra handle timers during  idle ticksnntimer ticks  properly serviced while a cpu is in  idlenalthough the tegra  idle code calls hrtimerpeekaheadtimersnbecause no irq regs have been saved updateprocesstimes is notncalled and thus the timer list is not serviced and neither isnsmp rebalancing etc this can cause significant delaysnscheduling timerbased activity especially on cpu  which isnnot servicing most other irqsnncolin cross suggested a patch based on upstream review feedbacknthat uses clock notifiers to switch to the broadcast clock eventnsource  tegra timer  during  which has a realninterrupt handler defined that calls the clock event handler innirq context allowing timers to be checkednid  todd poynor
4039,dss pmwken to refill dmanndss wake up event must be enabled so the dma request to refill the fifonwill wake up the core domain in lpr mode this feature enables dma idle fornlong time during power saving techniquennnedoffby subramani venkatesh
4040,default the render target to android  for newly opened layoutsnnwhen opening new layouts or opening layouts saved with oldernversions of adt pick a render target that supports layoutlib  manynfeatures such as layout rendering palette previews etc work muchnbetter with layoutlib
4041,video tegra only enable hdmi features if detected from edidnid  erik gil
4042,sysfs enteries to export lpr enable to usernnlpr power saving methods are exported to user by sysfs entiresnimplementing of ioctl will help user application to use the lprnnecho    the lpr on lcdnnecho    the lpr on lcdnnnedoffby subramani venkatesh
4043,video fbmon add hdmi dectetion to fbmod edid parsingnnlooks for ieee registration numver  as per hdmi specnid  erik gil
4044,lpr enable and disable function defintionnnthis patch has defion for lpr enable and disable funtionnnlprenable implements the power saving technique defined in thendocument by implementing fifo merge and thus enabling long idle of thendma which inturn saves power when whole system is in idle statennlprdisable restores the dss into its old state before enabling thenlprnnnedoffby subramani venkatesh
4045,add layout actions toolbarnnadd a new toolbar above the layout canvas and to the right of thenpalette this toolbar shows various layoutrelated actions on itsnleft and the canvas zoom controls on the right the zoom controlsnhave been moved from the configuration panel which has also beennreorganized a little with three of the dropdowns moved up to make morenhorizontal width and take the place of the old zoom controlsnnthe toolbar items vary based on which layout is active the activenlayout is the parent layout of the selection or the root layout innthe canvas if there is no selectionnnsome examplesnn in a linearlayout there are radiobutton icons for switchingn between horizontal and vertical orientation and for togglingn baseline alignmentnn there are toggle buttons for toggling between wrapcontent andn matchparent or fillparent for the layoutwidth and layoutheightn propertiesnn there is a dropdown menu in linearlayout and relativelayout whichn lets you set the layoutgravity to one of the dozen gravity settingsnn there is an action button which brings up a margin chooser dialogn where you can configure the margin settings for the currentlyn selected elements for layouts that support marginsnnthere will be additional actions here in the futurennthis changeset also adds a few new menuaction subclasses and factoriesnto make it possible to do ordered lists of choices it also addsnsorting keys to make it easier for parents and children to interleaventheir actions with simple sorting keys rather than having to appendnprepend or merge their respective result lists in a followupnchangeset i will replace the context menu code to use these as wellnas attempt to make all actions stateless such that they can be cachednand reapplied for different targetsnnsome misc cleanupnid
4046,manifest for
4047,swtjar update url where prebuilt is availablenid
4048,sync internal and external  security patch for chromeosnfix bug in inliningnfix freestanding c library buildn  outofrange branches in  modenfix gcda file corruption problemnhanlde ldflagsfortargets in configure this is a backport of upstremn patch  upstream fix for atom performance at
4049,swtmenubar library for the sdknnthis little epl library provides a way for the sdk apps to integratenwith the mac menu bar that is correctly hook into the about andnpreferences menu itemsnnon other platforms windows linux corresponding items arenadded to the provided menunnthe library provides both a carbon and a cocoa implementationnhowever the cocoa implemented is currently commented out sincenwe only link with a carbonaware version of swtjarnnadded a readme that explain how to use thisnid
4050,add packages used to build the windows sdknid
4051,use swtmenubar in sdk manager  is experimental and not completely hooked upnid
4052,musb dont save context if driver is suspended by runtimenndoing a save context on the suspend handler whennthe clock are cut by runtimepm will causendata abortsnnnedoffby axel haslam
4053,add swtmenubarjar to sdknid
4054,ndk add missing update arm c library for  platformnnthe c library was updated in gingerbread to support the correspondingnheaders were updated but the change was missing an updated librarynused for proper linking of new functions eg pthreadrwlocknnfix for  the record this binary was simply pulled from an avd creatednwith the standard sdk platform image for gingerbreadnid
4055,revert usb otg notifier switch to atomic notifiernnthis reverts commit  we do  writes on usb disconnect and we cannotndo  writes in a atomic context this patch causes thenfolowing errorsnnbug sleeping function called from invalid context at  source      axel haslam
4056,properly handle cpu archabi in avdsnnwhen we introduced  support in the tree there was nongeneric emulator exe able to act as a launcher to the arm  versions of the emulatornnthis exe is now present and packaged with the sdk so we remove thencode to launch either arch specific version and instead make the avdnmanager and adt simply launch the normal emulator once againnthis has the side effect of making adt  able to run on tools  belownnfor this to run though hwcpuarch must be set in the avd if thenarch is not arm the new avd manager sets this properlynnalso fixed some issues from my previous fix to the hardware propertynnow the list contains all of them but  a isvalidforui  usednto not show up some prop in the uinid
4057,check that pthreadrwlockt functions are properly exposed by  is a complement for  adds a missing c library arm binary for gingerbreadnid
4058,fix for  string for usb storage mount buttonnnedoffby bansilal b
4059,update to  releasenid  howard m hart
4060,revert  we need to keep duplicate libraries under sdkemulatornto avoid breaking a few internal branchesnn commit  author david  turner  date thu apr     emulator remove the global make variable trick for emulatorspecific system modulesnn remove a sad trick that was used to smoothly move the platformspecific emulatorn modules from sdkemulator to developmenttoolsemulatorsystem without creatingn build conflictsnn now that the sdk modules have been removed we can get rid of the guard variablenid
4061,cherrypick  from master to  do not mergennfix proguard template to avoid shrinking xmlonly referencesnnsee  proguard template generated by the adt is flawednid
4062,ctsfix databasecursortesttestmanyrowslong test case to use a single transactionnid
4063,cherrypick  from master to  do not mergennworkaround view info cookie bugnnthis changeset works around the case where a viewinfo cookie isnidentical to its parent this is for example the case for anzoomcontrols widget where the child views have mergecookies wholenvalue points to the parent zoomcontrolnid
4064,evan jiang fix build bug when make sdknif you run make sdk under the root path there would be an   locate source filendevelopmentemulatorprebuiltandroidarmkernelqemunmake   guess the kernelqemu path is wrong in the sdkatree filenwith this patch make sdk works okn
4065,merge branch  of gitandroidgitkernelorgplatformframeworksbase into
4066,fix hyphenation in textview attr javadocn
4067,fix spelling mistakes in javadocn
4068,fix hyphenation in textview attr javadocn
4069,fix tiny android buildnna better fix would be to banish this qemu tracing stuff from libhardwarenand also banish it from nonemulator builds but this at least gets thenminimal build building againn
4070,fix spelling mistakes in javadocn
4071,documentation clarify that a filedescriptor must be seekablennin mediaplayer methods with an offset specified must be passed anfiledescriptor that is seekable this change notes that in thenjavadocn
4072,documentation add preposition and clarify permissionsn
4073,add the select fontnnthese patches are to allow to select font set by usernnthese are jnis and java if for font manager and update the statusnbar clock and so after changing font set by usernid
4074,update cts requirement for screen aspect rationnsince android cdd specifies screen aspect ratio must  and  it should be accepatable if we limit applicationnrunning in exactly  restricted area even the actual screennaspect ratio is out of defion give a second chance to callngetdisplaymetrics in order to get the current display metricsnthat are in effect for resources while running aspect ratio testnid
4075,mms handle null exception when there is no camcordernid
4076,dut display the call forwarding number even if it is msisdnnndut displays the number to divert to as  to  when user input msisdn to call forwardnid
4077,highlight current drop target in the outlinennduring a canvas drag  drop operation highlight the current targetnnode in the outline this helps make it obvious which target you arenhitting in cases where  ambiguous such as when you have anhierarchy of parents with mostly overlapping bounds such as antablelayout with tablerows insidenid
4078,interpret keypresses as numbers on ffa phone appnnkeypresses from the hard keyboard on ffa were being interpreted asnletters and not numbers in phone app since inputtype was set to nulld keyboard to phone mode so that keypresses in phone app areninterpreted as numbers belonging to phone classnid
4079,make drop recipient rectangle slightly thickernid
4080,omap tiler tcmsita fix bug in  area allocationnntcmsita allocated  page more than necessary for every  area allocationnthis is now fixednid  lajos molnar
4081,removing duplicit constants defionsnnthese defions duplicated those from iapplicationthread whichnare widely used in framework now only one real constants defionnexists and future divergence is less probablennthis is the part  of refactoring backuprecord class subsequentncommits will follownid
4082,omap tiler separate subtiler operations memalloc areaalloc pinnncreate common structure to hold memory backing of a tiler areanstruct tilerpainfo use this structure in struct meminfonnseparate allocblock  areaalloc  memalloc  pin pinmemorynnsimilarly mapblock  get memory backing   pinnusing already allocated memorynnthis was in preparation for allowing to pin preallocated memory intontiler which is now implemented by mapanyblocknid  lajos molnar
4083,final cleanup of backuprecord classnn changing constructor signature checked attributes go firstn adding proper javadoc documentationn checking value of backup mode and refusing invalid valuesn adding todo item for outstanding issuennthis is the last commit of this seriesnid
4084,omap tiler pin the correct of pages to  areasnnwe may want to pin less pages to a  area than the area size when wenwill preallocate container areas to map arbitrary  memory to tonmake it physically contiguous this patch makes this worknid  lajos molnar
4085,omap tiler expose  mappingunmapping operationsnnexpose kernel methods to map a set of physical pages into tiler  area pin memory and free those areasnid  lajos molnar
4086,adding support for getting gles proc address from eglgetprocadressnid
4087,omap tiler added  area allocation memory pinning operationsnnadded new tiler kernel methodsnntilerallocblockarea allocates a  container area of certain sizentilerpinmemory can pin memorybacking to a  container area or replacenits previous mappingntilerunpinmemory clears the memorybacking of a  container areanntilerfreeblock can be still used to free the container areanid  lajos molnar
4088,adding error handling for xerrors on egl linux implementation egllinuxapicppnid
4089,downloading of a file has a small chance of failing randomlynndue to timing issues a download could be cancelled this happens when thendownloading state machine gets in the wrong state there are two variablesnin the state machine which gets out of sync with each other status andnmhasactivethreadnthe downloadservice thread reads several downloads from the databasenand starts to process them for each applicable download a dowloadthreadnis started for that download mhasactivethread is set to true and thendownload is started when the download is finished the correct statusnis written to the database and mhasactivethread is set to falsenthe problem is that mhasactivethread changes value instantly inndownloadservice but the status for all downloads are read from thendatabase at certain times if the downloadthread changes the value ofnmhasactivethread before that download has been processed in thendownloadservice thread the value of mhasactivethread will be up to datenbut the status value will be out of syncnthe download will then be restarted even if it is already completed thendownloadservice will interpred the download as a resume but the server willnhandle it as a new download the downloading statemachine will then benconfused and terminate the downloadnthis is fixed by synching the changing of status and mhasactivethread betweenndownloadservice and downloadthread the database information in dowloadservicenwill also be reread when it is not up to datenid
4090,add some strings for screen where the text stayed innnwhen the text scrolls the specified widget to the specifiedncoordinates except constrains the x scrolling position to thenhorizontal regions of the text that will be visible after scrollingnto the specified y position has stayed in the screen it is notnscrolled therefore some strings is added to make the text scrollnid
4091,add the select fontnnthese patches are to allow to select font set by usernnthese means that font set list separates from skia to secure tonaccess font list safetynid
4092,load mncmcc configuration value from sim kddicdmannnow support to load mncmcc value from imsi on kddicdmanid
4093,fix intermittent deadlocks during boot observed on a hardware platformnnsince the variable read is atomic the only effect of thensynchronized call would be to block the calling thread until thenholder of the lock releases it and it is possible that some code pathnmight depend on this sideeffect but testing using the cupcakenbranch running on hardware and emulator by many users showed nonproblems with the change review by an expert in the code maynnevertheless be in ordernid
4094,fix a couple of npes in packagemanagerservicen
4095,arm msm disable some debug optionsnnnedoffby arve hjønnevåg
4096,fixes for compiling under openjdkn
4097,manage and play video ringtonesnnthis is a combination of  commits replacing repo changes  the other old changes can be abandonednn add isringtone to video columnsn have ringtone and ringtonemanager also manage and play video ringtonesn api changesn add ringtone apis getmimetype isvideon enhance ringtoneplay to handle video toon deprecate ringtonemanagertypeall in favor of typeallmedian pending a better option see commentsn cosmetics remove unused importn
4098,arm msm  fix check for maximum autoexposure valuennnedoffby iliyan malchev
4099,usb gadget adb queue read requests with length specified by clientnnpreviously we queued  requests rather than the count passed into readnnnedoffby mike lockwood
4100,set permissions properly for any alsa device under devsndn
4101,updated to use  conformant expressionn
4102,updated to use  conformant expressionn
4103,remove code duplication for pthreadcondtimeoutnp use pthreadcondtimedwaitrelative helpern
4104,futex restore one of the fast paths eliminated by  improves futex performance until our userspace code is fixed to usenfutexprivateflag for nonshared futexesnnnedoffby arve hjønnevåg
4105,sdio fix sdioresetcomm error pathnnnedoffby san mehat
4106,arm msm enable cacheflushrangelimitnnwith the default value  will flush the entire cachenif the requested range is more than  arve hjønnevåg
4107,arm optionally flush entire dcache from  cacheflushrangelimit is defined then the entire dcache willnbe flushed if the requested range is larger than this limitnnnedoffby arve hjønnevåg
4108,update desc on hwlcddensity to includ
4109,fix ctswebkittestcaseswebsettingstesttestuseragentstringdefault fail due tontablet device removenmobile from ua stringnid
4110,ondetachedfromwindow is called before onattachedtowindownnmultiple threads are adding messages about the currentnstate of the views to the main looper this can causenondetachedfromwindow to be posted on the looper beforenonattachedtowindow this change will make sure to onlyndispatch ondetachedfromwindow if we have previouslyndispatched onattachtowindownid
4111,fix an npe in inputmethodservice when mextractaction is nullnnthis happens with certain thirdparty imesnnfix
4112,select define fdmasknnfdmask is the type of elements of an fdset searching around it appears thatnthis is in the posix standard although i  have it to hand the posixnstandard also requires that fdset elements be signed longs so we  perfect code search suggests that lots of code uses it alsonnlsb defines itn  immediate benefit to defining it is that libevent requires it to buildn
4113,packagesappsphone set ial focus for simcontactsnnunable to navigate the contacts stored in sim card thru keypad due to there is no intial focusnadd minitialselection to zero which is used to set the ial focusnid
4114,printk do not handle nonsleepable notification in consolecpunotifynn cpudying should not be handled in sleepable contextnnnedoffby minho ban
4115,allow saving log files in different directorynnif testlog path is not specified then use configroot instead tonretain old behaviornid
4116,gpu pvr update to ddk
4117,egl config testnnbug  the egl configurations that have the eglwindowbit enabled and trynto create a glsurfaceview and draw a red or blue triangle on itnif any of them crash then failnid
4118,fix excludes in the change layoutwidget refactoring dialogsnid
4119,resolve a bad mergenid
4120,fix refresh issue in the resource choosernnwhen you switch between framework and project resources in thenresource chooser the icon preview would not get updated sincenapparently no selection event is fired this fixes that issuenid
4121,cleanup leftover merge conflictnid
4122,increment version to
4123,video tegra zero out var before calling fbvideomodetovarnid  erik gil
4124,fix gestureoverlayview handlingnnthis cl fixes a number of problems related to the gestureoverlayviewnnthe first big problem was that gestureoverlayview lives in thenandroidgesture package which is not one of the special builtinnpackages you can omit when specifying the element in layout xmlnfiles this cl both stores a full path in the descriptor xml namenwhich fixes tagtodescriptor lookup without this we were showing thenwrong icon and missing vital attributes in completion and handlesnscenarios where the full path has to be usednnthe second problem was that the descriptor metadata listedngestureoverlayview as a view rather than a layout which meantnthat it was missing information about children which meant  drop into it and it was missing layout params which meantnchildren  be assigned attributes like layoutwidth andnlayoutheightnnalso tweak selection handling for gesture viewsnnthere are a number of places where we need to go from a class name tona view descriptor these are now centralized in a utility method andnsped up with a map lookupnnissues fix
4125,bundle ninepatch tests resources in jarnid
4126,remove testunknownsourcesbydefaulttestnnthis was expected to be removed by merging in the changesnfrom froyo however since the change originated in gbnthe cherrypicking into froyo and removing it in froyonended up as a noop when merging the removal back into gbnthus remove this againnid
4127,arm  fix pin muxing to match kernel stylennnedoffby rebecca schultz zavin  rebecca schultz zavin
4128,arm msm adsp fix heap corruptionnnfor amss versions before  the adsp driver created a lookup tablenfrom module id to module index but used the max index instead ofnthe max id when allocating the tablennnedoffby arve hjønnevåg
4129,update review correction for string and also add started event handlingn
4130,add videoview for video ringtone in portrait and landscape moden support and play video ringtonesn per request in old code comment includ callcard in xml not java sourcennpatchset  finally cleanup ugly sleep codennpatchset  cleaner screen layoutsnnnote that this set of changes moved from donut to master see previousn history in changeset
4131,usb gadget fmassstorage handle setup request correctlynnnedoffby mike lockwood
4132,define  bit types if compiling with  with  defines strictansi but the  bit typesnand type macros should still be defined in this casennthis helps compiling third party code that needs  with the ndkn
4133,allow contacts to have video ringtonesn
4134,add isringtone into sql video tablen
4135,allow video ringtone for default ringtone but not for notificationsn
4136,usb gadget fmassstorage clean up wakelocks on error pathsnnnedoffby rebecca schultz zavin  mike lockwood
4137,usb gadget fmassstorage handle setup request correctlynnnedoffby mike lockwood
4138,net add ppp on pptp network server pppopns drivernnnedoffby chiachi yeh
4139,tiwlan add support for  san mehat
4140,merge commit  of gitandroidgitkernelorgplatformexternalwpasupplicant into defaultn
4141,usb gadget fmassstorage clean up wakelocks on error pathsnnnedoffby rebecca schultz zavin  mike lockwood
4142,add power control driver for ti  bluetooth chipsnnnedoffby nick pelli
4143,tilerdmm dmmpat driver for ti tilernnthis patch adds support for dmmpat ialization and programmingnnnedoffby david sin  lajos molnar
4144,tilerdmm tiler container manager interface defonsnnthis patch defined the tiler container manager tcm interface andnprovides utility methods for implementing a tcmnnnedoffby lajos molnar  david sin  ravi ramachandra
4145,tilerdmm sample tcm implementation simple tiler allocator sitannthis patch implements a simple tiler container manager tcmnnnedoffby ravi ramachandra  lajos molnar  david sin
4146,tilerdmm tiler memory manager interface and implementationnnthis patch defines the tiler memory manager tmm interface andnprovides implementation for a patsupporting tmmnnnedoffby lajos molnar  david sin
4147,tilerdmm main tiler driver implementationnnthis patch contains the tiler driver and implementation of the tilernblock manipulation and mapping functions including information on tilerngeometry as well as tilerviewt object manipulation functionsnnit also contains the makefile and config file for the tiler drivernnnedoffby lajos molnar  david sin  suman anna
4148,enforce permission for using addgpsstatuslistener even though  currently hidden and inaccessible from the sdk  stillnpossible for an android app to use so it needs to check permsn
4149,in removegpsstatuslistener remove the listener for realn
4150,revert screenlayoutsize to screensizenni  noticed that layoutlib actually uses scrensizenthrough the toolscommonprebuiltjar so this api is somewhatnfrozennn somewhat because layoutlibjar actually only uses density andnscreensize but not the other enums yet so the rename of dockmodenis not a problemnid
4151,mmc host sdhci resolve incorrect mergenid  colin cross
4152,fix buildnid
4153,arm mmc msmsdcc add polling command mode remove some debugging add some statsnnnedoffby san mehat
4154,fix typo in javadoc for locationmanagergpsprovidern
4155,arm msm msmserialhs update comments for  supportnnnedoffby nick pelli
4156,clarify rules for package name in documentationnnnowhere in the documentation does it say that the only valid package namesnare ones that match excuse my abuse of regex to explain  change makes clear the rules followed by the packageparsern
4157,convert text to wav using svox texttospeech systemn
4158,fix the send intention for the default email application currently only gmail can be used in this configurationn
4159,fix typo in adb commandline helpnnandroid developers are not expected to hav
4160,add more options for cameran
4161,fix logic inversion in listview javadocnnthe javadoc for isitemchecked getcheckeditemposition andngetcheckeditempositions stated the return was valid if conditionsnwere the inverse of what the method checked fornnthis was pointed out in android issu
4162,autotools building of svox piconnfor linux distributions and moren
4163,fix configuration documentation for new constantsnn added keyboardnokeys link to javadoc for keyboardn added navigationnonav link to javadoc for navigationn
4164,refactoring and cleanup of pendingthumbnailrecordnnthe most important part of this patch is marking  fieldnas  this is necessary because the field is read out ofnsynchronized blocks in activitymanagerservice contrary to othernfieldsnid
4165,remoteproc program additional  addresses into ducati iommunnadditional  addresses such as tiler ivahd  and config  per region are mapped into the ducati mmu to enable mm usecasesnnthe memory mapped for the data sections of the ducati image havenbeen increased to allow mm camera integrationnnnedoffby suman anna
4166,make sure the last parameter to execve is nullnnextend the buffer to hold one more pointer and set it is nullnid
4167,kconfig reduce dynamic carveout memorynnreduce the dynamica carveout memory from  to  most of the ducati memory is coming from bootargsnnthe dynamic carveout will be used by ipc and code sectionsnonly for nownnnedoffby suman anna
4168,removing unused codennit was quite expensive threasure huntingnnthis is the part  of refactoring backuprecord class subsequentncommits will follownid
4169,kconfig select ipcomx modules by defaultnnthis patch enables the required ipc and omx modules by defaultnso that application developers need not select thesennthis is not a production patch but only a convenience patchnnnedoffby suman anna
4170,the final story for backuprecord classnnfield  is now immutable which is easier for programmersnminds as well as for compiler vm and jitnnclass is final now no reason for subclassingnnthis is the part  of refactoring backuprecord class subsequentncommits will follownid
4171,removing tostring return value cachingnnthe value must not be cached just because informationnused for it are not immutable if anybody wants tonimprove performance here heshe must simply not usenobjects of backuprecord just for loggingnnthis is the part  of refactoring backuprecord class subsequentncommits will follownid
4172,tilerdmm linking tiler driver into the linux kernel buildnnthis patch links the tiler driver into the linux kernel buildnand config systemnnnedoffby lajos molnar  david sin  suman anna
4173,video tegra add debouncing to hdmi hotplugnid  erik gil
4174,tilerdmm add userspace interfacesnnthis patch adds the userspace interface to the tilerndrivernnthe changes also track tiler allocations per processnand are cleaned up when the respective file handle isnreleasednnnedoffby david sin  lajos molnar  suman anna
4175,tilerdmm add support for mapping kernel allocated buffers into tilernngetuserpages is not effective for kernel allocated buffers we fall backnto  for thosennnedoffby mark tyl
4176,send omx instance endpoint with omxdisconnect msg to service mgrnnnedoffby g anthoni
4177,kconfig select mailbox by default for rpmsgnnthe rpmsg driver has a dependency on omap mailbox driver and sonmailbox driver should be built in by defaultnnnedoffby suman anna
4178,rpmsg support tiler buffer address translationnnsupport user space virtual address to ducati address translationnfor tiler buffers in the rpmsg omx drivernnnedoffby aditya monga  suman anna
4179,logical error if multiple receivers are dead only the first one will be addednfound in
4180,javadoc used startapplication which doesnt exists changed to createapplicationn
4181,removed usage of tabs for indentionn
4182,change the way the phone app determines when to skip rings while ringing fornincoming phone calls to fix a problem where a long ial delay before thenfirst ring a busy phone would cause the phone to needlessly skip successivenrings in short the phone app was considering the synthetic delay time asna period where it was actively ringing causing the phone to not queuensuccessive ring events triggered by the ril which themselves would have beenndelayed so would not have overlappednnfor a more thorough explanation please see the writeup
4183,prevent indexoutofboundsexception on tostring if vibrate array is empty non nullnexample notificationvibrate  new
4184,add  to http headersn
4185,example for displaying alerts was missing an for theme attributen
4186,fixed typo  is for ldap  is for urin
4187,fixed potential dead locknna obvious logic error before return statementn
4188,value for windows condition is missing a dot before exe adbexe should be adbexen
4189,text specifies androidcodename which doesnt exist should be androidversionnamen
4190,arm  mux pin muxing for hdqsionnnedoffby rebecca schultz zavin
4191,added weburlpattern for montenegro menid
4192,mmc sdhci fix  wide support capabilitynnnedoffby dmitry shmidt
4193,build standalone ui program emulatoruinnthis changes introduces a new program called emulatoruinthat only contains parts necessary to display the ui andnremoves anything related to cpu emulationnnthis is only a skeleton right now since it is not capablenof launching a core or displaying anything meaningfulnexcept the skin trackball respond to commands egnchange layouts with  and  changes will introduce core launching communicationnetcnid
4194,vold remove forcing cluster size to  for fat formattingnn when force cluster size to  for  card fsckmsdos willnallocate around  memory for  card it will allocate  memory consuming so much memory will cause oom in some casenid  ethan
4195,cleanup warnings in the standalone ui buildnid
4196,update of drm frameworknn overload opendecryptsession with uri parametern in order to accept uri of drm contentn following api is addedn decrypthandleopendecryptsessionconst char urin unify texisting three event types of processdrminfon so that caller of drm framework does not have to handle many event typesn let drmmanagerservice call loadunload plugins api so thatn client of drm framework does not have to manage plugin loadunloadn trivial fix in drmmanagerclientjava is also incorporatedns are made by sony corporationnid
4197,return error code when composing pdu failsnnwhen the pducomposer fails to make the message bodyna successful result code was still returnedn
4198,add support for chunked encoding when downloading mms pdusnnsome networks use chunked encoding for mms delivery meaning thatnthe content length is not known beforehand the android mmsnapplication did not support chunked encoding so downloading mmsnon these networks would simply failnnthe change adds chunked encoding functionality by reading datanfrom the stream until eof instead of relying on the contentlengthnhttp headern
4199,nullpointerexception at handlemessagegsmphonejavannnullpointerexception atncomandroidinternaltelephonygsmgsmphonehandlemessagegsmphonejavanfailing to retrieved the imsi number from sim card could lead tonan exception a null pointer check will prevent thisnid
4200,honor  attribute for providersnna provider defined in an androidmanifestxml file may set its  to false the default value is true indicating that onlynactivities running in the same process as the provider may access itnexcept root and the system process which are always granted accessnthis patch fixes an error which caused the exported attribute to benignored thus granting any process accessnid
4201,adt use annotations from sdklibnnthe removes nullable and visiblefortesting from adtnand replaces them by their new versions from sdklibnid
4202,fix more style issues from chang
4203,patch arm fix build error in  assembler  error  resolve  text section  is caused becausenntsection datantsection textntsection textntpreviousnndoes not return us to the text section but the data section thisnmakes use of previous dangerous if the ordering of previous sectionsnis not knownnnfix up the other users of previous pushsection and popsection arena safer pairing to use than section and previousnnnedoffby dmitry shmidt
4204,some fixes for bionic on  now it actually runs but only in armmoden
4205,binutils fix build error due to improper use of asfatalnnthe build error with binutils without this patch  warnings being treated as  in  errornformat not a string literal and no format argumentsnnthat is because of the asfatalnid
4206,fix a couple of bugsnnusing filetourl is dangerous because the reverse operationnurldecoderdecode which for example is used by urlclassloader tonproduce a path from urls  always succeed for example on anfilename like tmptest use filetouritourl insteadnnthe second problem looks like an unintentional instead of
4207,adt fix visibility of method so that eclipse tests can access itnnalso added an annotation to indicate why it has been madenpublicnnsdk bug
4208,add monkeyrunner script and libs to sdknid
4209,fix isusbmassstorageconnected will always return truennafter ums mounted isusbmassstorageconnected will always return true even if usb is  because mumsenabling will always be turenid
4210,video msm kgsl allocate uncached buffers as writecombinednid  dima zavin
4211,spi tegra increase delay between cs and clock startnnsome spi devices require a delay between the cs and when the clocknstarts increase sssetup to accommodate these devicesnid  greg meist
4212,increasing the changes of a device connecting properly and making sure things are disposed of properlynid
4213,use  when using certificatesnnwhen using certificates the server racoon checks whether the subjectaltnamenmatches the given identifier using the address as identifier is thereforenimpossible for roadwarriors using the  dn looks like a reasonablenalternativenid
4214,arm fix build error in  assembler  error  resolve  text section  is caused becausenntsection datantsection textntsection textntpreviousnndoes not return us to the text section but the data section thisnmakes use of previous dangerous if the ordering of previous sectionsnis not knownnnfix up the other users of previous pushsection and popsection arena safer pairing to use than section and previousnnnedoffby dmitry shmidt
4215,fix showing wrong punctuation key as comma  showing comma key when clicking punctuation keyncorrect the output label at skbphonexmlnid
4216,fix bug in constraint displaynnneed explicit parens to ensure proper groovy evaluation ordernthis short script shows the difference between the old andnnew  def id   def it   def strings   strings  id it  id  println strings   $ strings   strings  id it  id  println strings   $stringsnnstrings      hellonid
4217,bionic add arm optimized strcpynnreference results of the experiments on qualcomm   c coden prc thr usecscall samples errors        optimized coden prc thr usecscall samples errors        work was derived from arm ltdnid
4218,display sdkplugin incompatibility messagesnnhmm this used to work but the lines displaying the errornmessages are gonenid
4219,arm tegra  add  ioctl for setting bit formatnnadded an ioctl to set the bit format for  between dsppcm mode andnnormal mode set by board filennnedoffby iliyan malchev
4220,inputmethodmanagerservice fix acore crash on boot upnnat bootup while starting the service if the default input method is not setnit is trying to disable the icon even before the statusbar variable and the inputnmethod icon are ialized hence ializing them before building the input method listnid
4221,disable assembly dct for  builds in libjpgn
4222,core addition to framebuffer support for  and genericn ability to have a system property specify location of desired framebuffern
4223,sdk manager fix detection of emulator in tools local  because the constant used did not haventhe extension anymorennnote this was only an issue on windows since  need the exe extension in emulatornnalso this  fix the missing emulatorexe in aospnbut digit has the cl for that so in aosp one need to manuallyncopy toolsemulatorarm to toolsemulator for the local toolsnpackage to be correctly recognizednid
4224,add menu to  experimental do not submitnid
4225,video tegra add debouncing to hdmi hotplugnid  erik gil
4226,qemud prevent recursive closure of clientsnn add androidhwqemudpipehnid
4227,hwgoldfishpipec new support code for qemud fastpipesnid
4228,goldfishtrace hook with goldfishpipeh functionsnnnote that this is also forces tracing support during machinenialization measurements show that this  have anynsignificant impact on emulation performancenid
4229,add opengles pipe implementationnid
4230,arm add config file for tegra socs running androidnid  gary k
4231,hwandroidarmc initialize qemud pipes properlynid
4232,array size of  spectrum reordering routine is incorrectnid
4233,vlandroidc init opengles pipe on startupnid
4234,panjittouch add early suspend support to panjit  touchscreennid  gary k
4235,startpreview only after setting fps range paramtersnnstarting the preview before setting fps range causesnfirst supported fps range to be set while preview isnrunning in a differentdefault fps range this canncause teh fps range for the first supported fps rangento be inaccurately measurednnnedoffby akwasi boateng
4236,prepend ccache if  already therennbug
4237,frameworksbase handle null from toprunningnondelayedactivitylockednnstartactivityuncheckedlocked tries to move the target task to frontnwhen it is not at front toprunningnondelayedactivitylocked is usednto find the current task however null value  handled thisnnull causes an unhandled exception leading to the android frameworknrebootnid
4238,tegra ventana add adb supportnid  gary k
4239,arm tegra ventana add  consumer for avddlvdsnid  gary k
4240,arm tegra ventana add graphics supportnnregister the   grhost pwmbacklight and carveoutndevicesnid  gary k
4241,arm tegra add fiq debuggernid  colin cross
4242,fix cts result xsdnnfeatureinfo and processinfo go inside a deviceinfonid
4243,arm use lazy cache flushing on  smp  processors like  broadcast the cache maintenancenoperations in hardware this patch allows thenflushdcachepageupdatemmucache pair to work in lazy flushing modensimilar to the up casennnote that cache flushing on smp systems now takes place via thensetpteat call syncicachedcache and there is no race with otherncpus executing code from the new pte before the cache flushing tooknplacenid  catalin marinas  rabin vincent  gary k
4244,arm allow lazy cache flushing via  for highmem pagesnncurrent flushdcachepage implementation does not allow lazy cachenflushing for highmem pages introduced by commit  on thenassumption that the temporary kmap mapping would disappear a subsequentncommit  allows flushdcachepage to handle highmem pages sonwe can allow lazy cache flushing even for highmem pagesnid  catalin marinas  nicolas pitre  gary k
4245,select rename estimateaccuracy to selectestimateaccuracynnmake it a subsystemspecific identifier because we wish to amke itnnonstatic in the next patch epoll make epollwait use the hrtimernrange featurenid  shawn bohrer  al viro  davide libenzi  thomas gleixner  andrew morton
4246,epoll make epollwait use the hrtimer range featurennthis make epoll use hrtimers for the timeout value which preventsnepollwait from timing out up to a millisecond earlynnthis mirrors the behavior of select and pollnid  shawn bohrer  al viro  davide libenzi  thomas gleixner  andrew morton
4247,msm gpio request the  clkdata lines at probenid  dima zavin
4248,telephony uninstall cat menu when refresh reset receivednid
4249,arm assume new page cache pages have dirty dcachennthere are places in linux where writes to newly allocated page cachenpages happen without a subsequent call to flushdcachepage severalnpio drivers including usb hcd this patch changes the meaning  to be pgdcacheclean and always flush the dcache for a newlynmapped page in updatemmucachennthe patch also sets the  bit in the dma cache maintenancenfunction to avoid additional cache flushing in updatemmucachenid  catalin marinas  rabin vincent  gary k
4250,arm synchronise the i and d caches via setpteat on smp systemsnnon smp systems there is a small chance of a pte becoming visible to andifferent cpu before the cache maintenance operations innupdatemmucache this patch follows the  and powerpc approach ofnsynchronising the i and d caches via the setpteat function in thisncase there is no need for updatemmucache to be implemented sincenlazy cache flushing is already handled by the time this function isncallednid  catalin marinas  rabin vincent  gary k
4251,refer to change  context option to a contact listed in the mms thread list to send a im if they have a current presensen
4252,wlan bugfix for btwlan coexistencennif wlan is available but bluetooth is notnold code caused a crashnid   christian bejram
4253,usability fix for the layout actions barnnthe layout actions bar shows actions of two typesnn actions which edit attriubutes of the current layout typicallyn the parent of the currently selected views for example then orientation or baseline attributes of a linearlayoutnn actions which edit the layout parameters of the selected views forn example the weight attribute of children in a linearlayoutnnone thing which was missing is adding in layout actions for views thatnare children for example the tableview now has an insert rownaction if you select the table itself rather than a child withinnthe table you would not see the insert row action similarly if youndrop a new linearlayout you cannot toggle its orientation attributenit  be shown or if it is within another linearlayout you willnsee an orientation toggle but it controls the parent not the newlynselected linearlayoutnnthis changeset addresses this by adding a new section of actions onnthe right hand side of the actions bar which contains the layoutnactions which apply to the selection regardless of the parent typennfor example if you have a linearlayout containing a tablelayout andnyou have selected the tablelayout you will first see the linearlayoutnactions then the linearlayout layoutparams actions which will benapplied to the tablelayout and finally the tablelayout layoutnactions insert and remove rownnthis changeset also improves the tablelayout insert row action toninsert the row before the current selected row if any rather thannunconditionally appending it to the end it also selects the tablenafter creation to make it more obvious where it was added the newnability to select nodes from layout rules is also used in a couple ofnother placesnid
4254,add  which implements an integerkeyed map of pointersnnthis will be used later to support qemud fast pipesn
4255,small refactoringnid
4256,simplify async utils by removing extra loopio parameternnthis patch removes the loopio parameter from asyncreaderrun bynstoring the ial pointer passed to asyncreader inside thenobject itselfnnsame treatment is performed forn asyncreadern asyncwritern asynclinereadern asyncconnectorn asyncconsoleconnectnid
4257,integrating objectnamemanger into gles implementationnid
4258,supporting eglkhrimagebase   extentionsnid
4259,server thread may not update the current value immediately after request url on testaccessloadsimagesautomatically casensolution add one second delay before assert functionnid
4260,removing spagetti debug codennyes i tried to extract it refactor and control the executionnby debug constant but in fact that code simply does not havensensenid
4261,wlan bugfix for btwlan coexistencennif wlan is available but bluetooth is notnold code caused a crashnid  christian bejram
4262,change another occurrance of inline into static inlinen
4263,completed implementation of trigger for n
4264,goldfishtrace hook with goldfishpipeh functionsnnnote that this is also forces tracing support during machinenialization measurements show that this  have anynsignificant impact on emulation performancen
4265,add opengles pipe implementationn
4266,hwandroidarmc initialize qemud pipes properlyn
4267,vlandroidc init opengles pipe on startupn
4268,qemud prevent recursive closure of clientsnn add androidhwqemudpipehnid
4269,hwgoldfishpipec new support code for qemud fastpipesnid
4270,goldfishtrace hook with goldfishpipeh functionsnnnote that this is also forces tracing support during machinenialization measurements show that this  have anynsignificant impact on emulation performancen
4271,add opengles pipe implementationn
4272,hwandroidarmc initialize qemud pipes properlyn
4273,vlandroidc init opengles pipe on startupn
4274,arm msm smdqmi get authtype from apn parameter to qminetworkup functionnnauthtype was hardcoded as  parse this from the apn parametern
4275,fix for android issue  datepickerdialogupdatedate does not update the title of the dialogn
4276,arm  add pin muxing for gpio  mike lockwood
4277,emulator opengl first commit of gralloc implementationnnthis is the emulator opengl implementation of grallocnnnote that it is currently build only if buildemulatoropengldrivernis defined this is because the other driver peices eglgles arenstill missingnid
4278,fix sysroot path for  under windowsnnmissing needed macro to correctly expand thensysroot path under cygwinwindowsnid  mark d horn
4279,fix sysroot path for  under windowsnnmissing needed macro to correctly expand thensysroot path under cygwinwindowsnid  mark d horn
4280,emulator opengl add openglosutils library a set of os utilsnnthis is just a set of os dependant functionality needed by thenemulator opengl host renderer it currently has implementation fornlinux and windows onlynnosdynlibrary dlopendlsym abstractionnosprocess interface to launch a new process wait and kill itnosthread abstraction interface for creating a threadnid
4281,enable ndk testing under mac os xnnthe  command works differently under mac os xnthan under linux updated the command to work for bothnmac os x and linux to enable testing under both osesnid  mark d horn
4282,power  fix resetting of discharge reasonnnfix the code that clears disreason when a discharge reason is nonlonger applicable this fixes a bug where if more than one dischargenreason is raised charging will not restart until the power isndisconnected and reconnectednid  vernon tang
4283,allow ndk testing at a specific api levelnnseveral of the ndk tests have a default api levelnset using the defaultproperties file ie  testing should start at api level  or maybe   mark d horn
4284,emulatgor opengl first commit of the host renderer librarynnthis is a library which includes all the opengl renderer functionalitynit is packaged in a library so that both the renderer process and the emulatornprogram will be able to use that functionalitynnnotesn  glproch and gldispatchhcpp in this commit will be replacedn with the decoder autogenerated dispatch in a later commit then autogenerated dispatch is currently missing some extension functionsn required for the renderern  look at hostincludelibopenglrenderrenderapih for the externaln interface defined for this library to be used by the emulatornnthe following is a description of each componentnnframebuffer the main object which manages the framebuffer and color buffersn this is a singleton which get ialized through its ializen static function it ializes the opengl renderer and must ben called first this ialization function is not thread safe son it must be called before any thread that is calling to thisn library is creatednnfbconfig includes a static set of configs supported by the renderer which getn ialized during framebuffer ialization phase alson an instance of this class includes the a description of one framen buffer configuration supported by the renderernnrendercontext encapsulate a rendering context statenncolorbuffer implements a color buffer object as a texture which can be bindn as render target or sourcennwindowsurface implements the functionality of a native window which can ben bound to a rendering context and its target colorbuffer cann be specified and replacednnthreadinfo holds perthread informationnnegldispatch loads the egl plugin library all egl calls are made throughn this dispatch table which get ialized during ializationn phasenngldispatch loads the gles plugin library all gles calls are made throughn this dispatch table which get ialized during ializationn phase this will be replaced by the autogenerated code of then decoder nnrenderthread implements a thread that reads command tokens from an iostreamn and decode itnnrendercontrol implements the host side implementation of the rendercontroln api when a rendercontrol token is decoded from the streamn it is dispatched to this implementationnnrenderserver implements a tcp server which listens to port number andn launcges a renderthread for each new connectionnid
4285,tweak setviewport stuff for fwdcompatnid
4286,emulator opengl the host renderer executablennthis is the host renderer executable it is a small process whichnjust calls into libopenglrender library the process is invokednthrough the openglrenderer function of libopenglrenderernid
4287,code completion improvements inside custom viewsnnthis cl fixes several issues when using code completion inside a tagnthat is a custom view in that case we  have a valid descriptornwhich specifies the allowable children which meant completing insidenany of the children even if they are standard android widgets wouldnnot locate names and attributes this fixes that along with handlingndots in tag names which caused other code completion problemsnid
4288,emulator opengl small test app for the emulator renderer apinnthis sample program simulates the use of the renderer api as it shouldnbe used from the emulator program it opens a sdl window ialize thenrenderer process events on the window and terminate the renderer when thenwindow is closednid
4289,dbus fix the recount problem from dbus  has been already fixed in the master branchnid
4290,remove  supportnnthe  was deprecated a long time ago now remove any supportnfor it from the ndk to simplify thingsnid
4291,emulator opengl rendercontrol api encoderdecodernnthat adds the rendercontrol api encoderdecoder which is used fornguest to host control commands see systemrendercontrolencreadmenfor more info about the api itselfnid
4292,emulator opengl openglsystemcommon library shared between gralloceglglesnnthis is a static library of utilities shared between the emulator openglnsystem components gralloc egl gles in includes host connection functionalitynand access to opengl tls infonid
4293,improve error handling for missing and broken custom view classesnnwhen a view class cannot be found during rendering the error lognlists the class as missing and presents the class as anhyperlink clicking the link will open the new class wizardnnthis cl changes this such that there are multiple links insteadnn fix build path this opens the java build path preference page inn the options dialog for the current project where you can fix then build path of the project since a more common source of missingn classes is a problem with the class pathnn edit xml this switches to the xml tab where you can edit the namen of the custom view tag a missing view is often a typo in the viewn namenn create class this opens the create class wizard as beforennsimilarly for broken classes where the class is found but cannot beninstantiated correctly the following hyperlinks are offerednn open class which shows the class in the editornn show error log which will open the ide error log where youn typically can find a full stack trace from the failed invocationnnin addition this cl  creating a custom view from the error output of the layoutneditor creates it in gennby ensuring that the gen folder is not one of the fragment rootsnpresented to the new class wizardnid
4294,extensionsnnthis fix adds support for opengles  extensions in the codecnlayer this fix also includes bug fixes in glencoder clientstatenand gles android wrapper modulesnid
4295,ignore pause and seek for live streamingn
4296,arm msm adsp fix msmadspwrite to not call  arve hjønnevåg
4297,sched add tunable to reduce impact of newfairsleepersnnnedoffby arve hjønnevåg
4298,arm msm rmnet tracks total awake time when the rmnet is activennexports data in  time expressed as ms awakennnedoffby mike chan
4299,dealing with with tz handler in threadsafe mannernnthis is a utility class but it uses shared static field mhandlernaccross method calls the content of the field is not immutablenbut it can be changed however the changes are not protected bynany synchronization so race conditions might occure this patchnadds a synchronization of mhandler creation and subsequent usagenwhen necessary so it is ensured that methods are alwasy callednupon the right instance of handlernid
4300,net wireless bcmdhd switch to  dmitry shmidt
4301,fix divisionbyzero when reading partition tablesnnwhen fsckmsdos was asked to analyze a device that containedna partition table in its first sector fsckmsdos was doing andivisionbyzero because of mostly zeroed out fields thisnfix postpones the division until it is necessary whilenother tests already present detect the zeroed out fields andnso fsckmsdos fails in a controlled fashionnid  sebastian rasmussen  christian bejram
4302,net wireless add configwificontrolfunc optionnnnedoffby dmitry shmidt
4303,merge remote branch  into  dmitry shmidt
4304,normalize output of xmltree contentnnmake the output from aapt dump xmltree normalized so that it is unambigouslyndisplayed regardless of the content of the strings previous patch left outnhandling of xml element contentnid
4305,suggest similar class names or missing pkgs in the error consolennif the layout xml file contains typos the rendering will fail and thencanvas will list the missing classes along with hyperlinks to create annew class configure the build path etcnnthis changeset looks for typos in the view names and if it finds ansimilar real view class either among the android views or among thencustom views in the current project then it will add a hyperlinknsuggestion to fix the xml by editing the name to the correct spellingnnit also handles the scenario where you have typed in a custom viewnclass name correctly but have forgotten to include its packagennin a followup changeset this functionality will be available from thenxml editing quick assistant as wellnid
4306,remove errant tag terminatornnelement androidwidgetquickcontactbadge had two closing markersnid
4307,hide classnotfoundexceptions from the error consolennwhen a class is not found during rendering the name of the class allnby itself with no other explanation will show up in the errornconsole  because we include all the render errors therennhowever class loading failures is handled specially in the projectncallback where the names of missing and broken classes are recordednand later presented in a special way with hyperlinks therefore  need this first error listing of the missing class especiallynsince  confusing since it just lists the class name all by itselfnnthis changeset simply hides classnotfoundexceptions from the errornconsole since they will be listed in a cleaner way by the separatenmechanismnnnote the exception will go to the ide log as before it just  in the uservisible error console shown below the layoutneditornid
4308,separate monkeyrunner core logicnn refactored the monkeyrunner code to separate core logicn from the jython wrapper the core logic is now usablen directly from java wo the pollution from jythonn the existing monkeyrunner classes are now just a thinn and dumb wrapper atop the corenid
4309,adding proper hashcode implementation for periodicsync classnnthis class overrides equalsobject but does notnoverride hashcode and inherits the implementationnof hashcode from javalangobject therefore thenclass is very likely to violate the invariant thatnequal objects must have equal hashcodesnnthis patch adds a propert hashcode method implementaionncompliant with general contract of equals and hashcodenmethods and compliant with weak defion of equality ofntwo bundle objects implemented in syncstorageengingequalsbundle bundlenid
4310,custom view class completionntodo handle  attribute completion as well this should be generic also this code should all go into the layout subclass of the content assistnid
4311,detect when bt pairing dialog is incorrectly shownnn show a dialog when a pairing dialog intent is shown whenn an insecure connection is made between devices then pairing dialog should only be shown when trying to maken a secure connectionnn fix a bug where the results from the secure client orn insecure client tests were not being recordednid
4312,arm  add mmcplatformdata to hsmmcnnnedoffby dmitry shmidt
4313,update monkeyrunner script to find swtnid
4314,net wireless bcmdhd allow error debug prints from the beginningnnnedoffby dmitry shmidt
4315,separate monkeyrunner core logicnnrefactored the monkeyrunner code to separate core logicnfrom the jython wrapper the core logic is now usablendirectly from java wo the pollution from jythonnthe existing monkeyrunner classes are now just a thinnand dumb wrapper atop the corenid
4316,net wireless bcmdhd remove obsolete debug messagesnnnedoffby dmitry shmidt
4317,pbap fix for call history property parameternnuse correct strings for call history property parameternvalues taken from pbap  the same values are also innpbap   christian bejram
4318,arm msm adsp retry msmadspwrite when a queue is fullnncommit  replaced an  a  in two places which sped up msmadspwrite considerablynin those cases where we did not have to wait for the dsp to get readynfor a command this had the side effect that backtoback dsp commandsncan be rejected by the dsp for a given dsp module and queue number whennthe dsp is still busy processing the last command for that queue thisnpatch retries sending the command  times for up to  in suchnsituationsnnnedoffby iliyan malchev
4319,allow listpreference summary to use entrynncurrently when listpreferences are used in a preferenceactivity the summarynvalues are set to the same as the current index in mentryvalue this patchnadds the ability for a string substitution to be used in the summarynwhich points to the corresponding entry in mentries to aid innlocalizationnnfor example a preference may be named color with the following attributesnin the locale de germannnmentryvalues  red green blue nmentries  rot grün blau nmsummary  die farbe ist $snngetsummary returns die farbe ist grünnid
4320,set permissions for devmsmsndnnnedoffby iliyan malchev
4321,arm msm adsp combine old and new adsp implementationnnadspch and adspnewch are close enough and it makes sense to combinenthem the differences are featurized under configmsmamssversion   the new adsp implementationnnnedoffby iliyan malchev
4322,add audiohardwarebase class to libhardwarennnedoffby iliyan malchev
4323,arm msm smdrpcrouter log rpcs from the  help track down a possible problem with spurious rpcs waking the ap unnecesarilynnnedoffby mike lockwood
4324,fixed to display correct date format user selected on status barnid
4325,arm tegra pinmux remove typedef enums for checkpatchnnnedoffby colin cross
4326,qemuprops nal end of property listnid
4327,input keychord count bits to determine number of keys currently downnnthe previous method of keeping a counter was not tolerant of flakyninput devices that sometimes fail to send key up eventsnnnedoffby mike lockwood
4328,arm msm sapphire give  back to the system with radio updatennnedoffby iliyan malchev
4329,stop using javaextdirs to modify classpath for androidbatnnif the original value of javaextdirs contains space then thenvalue is lost and we lose access to optional crypto packagesnnthe new mechanism uses a mix of classpath for main packagenand swt whose path is computed automatically for otherndependencies we use the classpath attribute in the manifestnof sdkmanagerjarnid
4330,allow makefile to pick up environmental cflagsfortarget andncxxflagsfortarget so that  libraries can be builtnwithout modifying the makefilesnid  export  export  add  to the configuration command build a cn supportive toolchainn
4331,improved logging when  an error creating the directories in getfilesdirnnimproved logging when  an error creating thendirectories in getfilesdirnndue to mkdirs only returns false on  better to output the directory path so the devnknows the path that can not be creatednsee also issu
4332,arm tegra add fiq supportnnnedoffby iliyan malchev
4333,mmc sdhcitegra always call sdhci suspendresume functionsnnnedoffby dmitry shmidt
4334,mmc sdhci skip mmc suspendresume ops for sdio devicennenabledisable sdc irq instead of requestfreenmask all sdc interrupts on suspendnnnedoffby dmitry shmidt
4335,qemuprops nal end of property listnid
4336,net wireless  add memory barriers to wait functionsnnnedoffby dmitry shmidt
4337,do not merge check hardwareid propertynnassert that the hardwareid property is set to something sanenfor nontelephony devicesnid
4338,adding an improved version of the accelerometer tester which works morenreliably also a first cut at a magnetometer tester but this requiresnrealworld testing to make sure it actually worksnid
4339,arm tegra add support for fiq debuggernnnedoffby iliyan malchev
4340,frameworksbaseremove callbacks on selectionnotifier when adapterview is invalidatednnremove callbacks on selectionnotifier while invalidating adapter view asnit was causing selection notifier to post itself continuously in thenmessage queue even after the view is invalidatednid
4341,arm add generic fiq serial debuggernnnedoffby iliyan malchev
4342,porting unsubmitted cupcake sax testsnnremoved useless lines renamed variables and added additionalnchecks to make sure listeners were being callednnsquashed commit of the followingnncommit  wed nov     integrate unsubmitted cupcake change  tcts add testcase for androidsax packagenid
4343,issue  subject field disappears while adding attachment to mmsnid
4344,fixed issue  added support for custom cursorjoiner comparatorsnnthis change refactors cursorjoiner to support cursors sorted bynnonstring types andor in descending ordernid
4345,fix copyright headersnnbug  change google  the android open source  remove the license header for google when there was already ann android open source project headernid
4346,add positions to format specifiersnid
4347,export project creationnid
4348,net wireless  fix setsuspend behaviornnnedoffby dmitry shmidt
4349,this is the first set of build system changes to supportnarchitecture versions other than  general approach is to provide targetarchversion to complementntargetarch this defaults to the current  the variablenvalues should match the architectures as defined by gcc theynare passed directly to marchnnthere is a block of defines for each supported architecture versionncurrently  and  each block defines a set of featuresnusing  variables it also specifies a set of c preprocessorndefines to pass to the compiler finally it defines a default cpunas for architecture versions the default cpu should match a cpunthat gcc knows aboutnna targetcpu variable is provided the architecture version cannset a default value for this or the user can specify it eithernthrough a boardconfigmk or command linennmarch and mtune cflags are now set using information outlinednabovennsupport is added for architectures that do not support thumb specificallynwe change the   target to simply compile as arm codeninstead and we change the interworking flag passed to the compilernnfinally we ensure that the systemcoreincludearchlinuxarm directorynis added to the default include path which allows the use of asmmacroshnheader file described in review  the way in which this done isnconsiderably uncleanhacky if someone can suggest a better way pleasenlet me known
4350,issue  filed disappers while adding attachment to mmsnid
4351,check ctsverifier feature countnnadd a quick test that will warn us when the features go out of syncnid
4352,issue  field disappears while adding attachment to mmsnid
4353,this is the first in a series of changesets to enable compiling fornarm architectures other than  changes androidconfigh to add specific  defines forndifferent functionalityinstructions available in the different armnarchitecture versionnnasmmacrosh uses these defines to create conditionalised macrosnthat assembly programmers can use to make code more portablennfurther changes will update specific asm files to take advantage ofnthese defines and conditional macros to use the macros assemblyncode should include  commits to the build system will add iincludearchlinuxarmnto the c flags so that the include is correctly picked upn
4354,sdk manager local package list can be emptynid
4355,testnid
4356,arm tegra hack initialize avp resume address to  during suspendnnif the avp has not been started the avp resume address must benforced to  to prevent a crash during resumennnedoffby colin cross
4357,revert video tegra add utility function to compute framebuffer stridennthis reverts commit
4358,arm tegra android remove pmem driver from tegradefconfignid  todd poynor
4359,spi tegra upstream   changesn from thierry redingn add select tegrasystemdma to kconfign from grant likelyn add oneline description to headern inline references to drivernamen inline references to busytimeoutn open coded bytesperwordn spireadlwritel  spitegrareadlwriteln move transfer validation to spitegratransfern  requestmemregion iomem as platform bus does that for usn exit  devexitnnnedoffby erik gil
4360,video tegra clean up fb flipping codennnedoffby erik gil
4361,arm tegra suspend remove avp hack warningnnavp resume address will always be set to  and the actual avpnresume will take place in the avp rpc drivernid  colin cross
4362,cts test set fullscreenmode as false before checkingnncommentnthe following test was failing during the view test casesnandroidviewinputmethodctsbaseinputconnectiontesttestreportfullscreenmodennreasonnthe mfullscreenmode is set as true when the test check for false statusnnsolutionnthis patch will set as false before it check for the false status as itnis implemented for true conditionnid  solaiyappan saravanan
4363,video tegra include linuxpmh in machtegradchnnnedoffby erik gil
4364,ctsverifier suid file scannernnbug  an activity for the ctsverifier a collection of manual testsnthat scans for suid files this was not made into unit test becausenit is not comprehensive enough to guarantee that all suid files arenfound furthermore there is no way to say what the official list ofnbinaries should be permitted across all android devicesnnhere is a shortcut command for developing just this activity andnavoiding the welcome and manual test list screensnnmmm ctsapps  install r outtargetproductgenericdataappctsverifierapk  shell am start n comandroidctsverifiersuidsuidfilesactivitynid
4365,video tegra add suspendresume hooks to outputsnnallows board specific code to handle panel nnnedoffby erik gil
4366,misc kerneldebugger fix handlesysrq callnid  todd poynor  erik gil
4367,video tegra nvmap fix read failures super user and noref pinningnna  vs  error when checking the operating region of the read andnwrite ioctls was causing failures when reading the last byte of a handlennthe superuser node knvmap  registered correctly due to a cutnandpaste error and the regular user node was assigned superusernprivelegesnnnoref pinning  correctly validating that the specified handlenexisted before pinning it which caused the reference count for thenhandle to become imbalanced on a subsequent unpinnid  gary k
4368,tegra sdhci enabledisable sdclk source in setclock hostopnid  todd poynor
4369,arm tegra clock disable pllxlockenable in suspendnnif the pllxlockenable bit is set resume hangs very early clearnit before entering suspend plllockenable is always set justnbefore waiting for the plllock bit so there is no need to resetnit during resumenid  colin cross
4370,adt  restore relative position of elements in absolutelayout dropn the idragelement to not carry the original inode sincenthis is not available when crossing eclipse instances insteadnencode the info we need in the transfernid
4371,patch set sector per cluster to new value according to below tablennfor  mb to  gb  sectors per  gb to  gb  sectors per  gb to  gb  sectors per clusternmore than  gb  sectors per clusternnwith above setting fsckmsdos will consume reasonable memory duringncheckingnand vold no longer need to force sectors per cluster valuenwith c  see the other change for voldnid  ethan
4372,vold remove forcing cluster size to  for fat formattingnn when force cluster size to  for  card fsckmsdos willnallocate around  memory for  card it will allocate  memory consuming so much memory will cause oom in some casenn the c  option was added to deal with  cards if formatnthem without forcing cluster to  they will shown as no space whennconnecting to windows pcnn this change will depend on another change in newfsmsdos whichnwill set cluster size to  for   cards so that will take carenof the   card issuenid  ethan
4373,gdb build static expat internally do not install expatnnthis patch prevents expat from being installed into destinationndirectory also only static version of expat library is requirednnfsfstyle changelognnt makefiledef hostmodules build static expat internallynt makefilein regeneratenid
4374,wait for idle state before mounting on insertnnas soon as we recive the insert event we try tonmount the mmc sending a volume mount commandnbut the volume manager sometimes is still onnpending state and the insertion mount willnfailnnthis patch calls the domount command on insertnonly after the state has changed to idlenthis way the mount will not fail because thenstate is pendingnid  axel haslam
4375,fix fastscroller overlay position bugnafter  overlay shows up at the topleft instead of centernid
4376,fix drag and drop handler to handle reentrynnif you drag from the palette over a linear layout view you get dropnfeedback however if you drag outside the linear layout and then backnin you often  get any more feedback this happens pretty easilynwith nested layoutsnnthe problem is that the feedback object is ialized and reset innondropenter but the actual guideline computation happens innondropmove since only drop move is handed the mouse coordinates thenbug happens because when you leave and return to the drop zone thenfeedback object is reset and then the drop feedback is painted allnbefore the ondropmove code has been called againnnthe fix is simple on drop enter also call ondropmove immediatelynsuch that the layout helpers are given a chance to ializenthemselves with the entry mouse position before they are consultednfor drop feedback datannthis changeset also contains a fix for linearlayouts when there arenno children place the guideline at  or  depending on whethernthe layout is horizontal or vertical without this fix the line isnplaced in the center of the view which is misleading since that isnnot where the view will be placed upon dropnid
4377,sdhci always pass clock request value zero to setclock host opnnto allow the setclock host op to disable the sdclk source when notnneeded always call the host op when the requested clock speed isnzero do this even if  already equals zero becausenthe sdhci driver may set that value without calling the host opnto force an update at the next nonzerospeed callnid  todd poynor
4378,remove overrides to unbreak the cts buildnid
4379,arm tegra pinmux add drive strength controlsnnnedoffby colin cross
4380,disabled verbose loggingnid
4381,removing override annotations to fix the cts build which is stil
4382,disabled verbose loggingnid
4383,during the test mediarecordertest testrecordervideo is for the informationnif you are holding your phone and the cts test fails put on the floor if you must passnthe former is that if you are taking things taking the latter to the floor when the screen is blacknnbecause the size is too small to maxfilesizenif your phone holding the record for the file size exceeds  cts test failsnnaccordingly the size of maxfilesize  is hoping to change ton
4384,check telephonymanagergetdeviceid returns nullnntelephonymanagergetdeviceid should return null for nontelephonyndevices add that assertion to the test leave the tests thatncheck that wifi is supported on a nontelephony device thoughnbecause at least one form of wireless data networking must bensupportednid
4385,disabled verbose loggingnid
4386,msmsnd driver to allow setting audio output volume and mute status from the kernelnnnedoffby iliyan malchev
4387,start position must be smaller than getcount valuenid
4388,added final keywords to some variablesnremoved unused packagemanager calld access way to static variablesnid
4389,replaced internal getter calls with private variablennregarding tonhttpdeveloperandroidcomguidepracticesdesignperformancehtmlinternalgetsetnid
4390,rewite of networkinterface class to allow proper handling of  addressesnid
4391,updated message list to spawn threads where required added progress dialogs for multiitem processesnand added additional menu items  all    and   changed list refreshnthrottle minimum to  second to provide a better user experience with dialogsnid
4392,workaround for issue  email readunread marker work wrongnnfixes problem where  account messages get marked unread after server sync if they havenattachments or images and have been marked read from the message list in lieu of enteringnthe emailnid
4393,remove  name and old revision history from comments in findfile scriptn
4394,androidadb usb gadget driver for adbnnnedoffby mike lockwood
4395,sdk manager simplify getenv var to override urlsnnsdktesturls is a semicolonseparated list of urls that can be used tonseed the sdk updater list this is only meant as a debugging and qa testingntool and not for user usagento be used the urls must either end with the or end with the canonicalnfilename expected for an addon list addon repo or full reponthis lets qa use urls ending with to cover all casesnid
4396,make the systembinsh link so installerc worksnnthe recent change to systemcoresh  broke installerc this is easilynfixed by restoring systembinsh as a symlink to ashnid  bruce bear
4397,fix issue  the delete key does not always worknnadd backspace as a key handler for the logical delete actionnmost macs have a delete key that actually corresponds tona backspace action so we must handle swtbs not justnswtdel i  make this code macspecific since havingnboth backspace and delete work in the canvas editor to deletenthe selection seems usefulnid
4398,arm tegra spi suspendresumennsaverestore  registernnwait for inprogress transactions to complete before suspendnnreject and warnon transactions when suspendednid  todd poynor
4399,fix for use of unpredictable register combinationnnuse of the ldrd instruction form ldrd rt  rn rm has restrictionsnon the register combinations specifically if rt or  is equal to rn ornrm the behaviour is defined a
4400,arm tegra clocks duplicate usbd for utmip padsnid  benoit gobi
4401,add missing termios defns to bring on par with armnid
4402,usb host fix kernel warning on probenid  benoit gobi
4403,arm only allow  user mode on cpus that support itnid  arve hjønnevåg  dima zavin
4404,move boardspecific configuration to the board filen
4405,move loading of boardconfigmk earlier in the chainnnin order for the boardconfigmk file to be able to providenboardspecific configuration to the rest of the build system itnhas to be loaded earlier in the chain as it stands now  after the combo is selected and that makes it very hardnto configure characteristics for the board without having to gonand edit things like linuxarmmknnby moving the loading of boardconfigmk earlier the file can benused to provide cc defines or compiler optimization flags thatnare not only architecturespecific but alsonarchitectureversionspecific case in hand arm has severalnvariants    etc gcc supports differentnflags based on the specific version of the architechture  using  patch  change anything in the build system it onlynmoves stuff aroundn
4406,bug fix  alertdialogbuilder setmultichoiceitems losing checked state for invisible items in uinwhen backed by a cursor please refer to the issue tracker for more detailsn
4407,add  rule to delete intermediate build filesnnthis build rule might be useful to developers who wish to switch amongndifferent android targetsnid
4408,call the main program constructors for dynamic binariesnid  lu hongjiu  bruce bear
4409,phone clean up radio technology constantsnid
4410,telephony clean up radio technology constantsnn remove all redundant radio technology constants and put them in a single placen to add a new radio technology just modify phonejava and rilhnid
4411,toolboxls sort file and directory listsnnsorts file and directory names properly in  accept group flags eg  instead of   accept flags in any position on the command line eg  foo  worksnid
4412,some assorted webkit test fixesnnbug  tests call a loadurl method that waits until getprogressnreturns  however it appears that the updates returned byngetprogress are not accurrate unless there is a webchromeclientnset on the webview as seen in the code ofncallbackproxyonprogresschanged setting the client shouldnfix the flakiness of the testsnncall setinitialscale in websettingstest so that the testfindnextntest will have to scroll to find the next instance of the wordnall since the default scaling in qvga will zoom out to showntwo cases of all which  require scrollingnid
4413,privatesystemtar  getting setnid  bruce bear
4414,remove extraunneeded copy of fenvhnid  bruce bear
4415,use proper variable typingnid  bruce bear
4416,sync up line disciplines with armnid
4417,add defines for caif supportnid  mark gross  bruce bear
4418,openssl fix build fail with binutilsgoldindirect linkingnnwhile building openssl with the  linker it always fails due tonbinutilsgoldindirect linking the important difference from gnu ldnis that  is the default behavior binutilsgoldnnthis patch adds the proper linkage to satisfy linkernid
4419,adt  tests for simpleelementattributenid
4420,update atom string routines to latestnid  lu hongjiu  bruce bear
4421,fix time zone info in kernel is nothing after rebootnnif systz is not set correctly the timestamp ofnfilesystem will be inconsistent with  timenuntil time zone is set from  ui set kernelntimezone while ializing alarmmanagerservicenid
4422,detect conflict due to change in numberlist of abi being exportednna change in abi number or one replacing another in the abis of a projectnwould trigger a change in the generated build info so we forcenincrement of versioncode in this casennalso now display the actual project property that changed and isncausing a conflict for better troubleshootingnid
4423,this is the first set of build system changes to supportnarchitecture versions other than  general approach is to provide targetarchversion to complementntargetarch this defaults to the current  the variablenvalues should match the architectures as defined by gccnnthere is a block of defines for each supported architecture versionncurrently  and  each block defines a set of featuresnusing  variables it also specifies a set of cnpreprocessor defines to pass to the compiler finally it defines andefault cpu as for architecture versions the default cpu shouldnmatch a cpu that gcc knows aboutnnsupport is added for architectures that do not support thumb specificallynwe change the   target to simply compile as arm codeninstead and we change the interworking flag passed to the compilernnfinally we ensure that the systemcoreincludearchlinuxarm directorynis added to the default include path which allows the use of asmmacroshnheader file described in review  the way in which this done isnconsiderably uncleanhacky if someone can suggest a better way pleasenlet me known
4424,fixed volative typo in
4425,fix build on some linux machinesnnthis adds lpthread on linux for aapt and localize which appear to benneeded on some linux distrosnnnedoffby jeanbaptiste queru
4426,improve visual feedback for relative layout and frame layoutnnimprove the visual feedback for the relative layout and the  whentthere is multiple selection  drawtadjacent boxes  not how things will look once you drop instead drawnoverlapped boxes for example if you drag a button and a clock thenbutton will be placed on top of the clock not next to it in  replace the center ovalx pattern with the stippled orange linenpattern and make some fixes to relative layout such that when wenhave bounds the preview rectangle is positioned correctly for thenparentrelative boundsnid
4427,mmc make pmnotifier obey deferred resumenid  dima zavin
4428,volume keys need to be wake keys in order for them to work when the screen is offnnbug
4429,add a new   command for early debuggingnid  bruce bear
4430,making sure the old hierarchy viewer works with categorized propertiesnid
4431,refactor stripper allow a stripper other than soslim to be specifiednid  bruce bear
4432,explicitly request ipdownvpnnid
4433,adding a cts verifier activity to summarize features reported by the devicencan be used to sanitycheck reported features at a glancenid
4434,create boottarball just like systemtarballnid  bruce bear
4435,bluez use another code for  mmxnid  jaehyung ahn  bruce bear
4436,create systemtarball either with  or gznid  bruce bear
4437,when buildingconfiguring gdbserver for static lc must be last on gcc linenid  bruce bear
4438,logwrapper switch from root to usergroup log after forking childnnnedoffby mike lockwood
4439,this is the first in a series of changesets to enable compiling fornarm architectures other than  changes androidconfigh to add specific  defines forndifferent functionalityinstructions available in the different armnarchitecture versionnnasmmacrosh uses these defines to create conditionalised macrosnthat assembly programmers can use to make code more portablennfurther changes will update specific asm files to take advantage ofnthese defines and conditional macros to use the macros assemblyncode should include  commits to the build system will add iincludearchlinuxarmnto the c flags so that the include is correctly picked upn
4440,this is the first set of build system changes to supportnarchitecture versions other than  general approach is to provide targetarchversion to complementntargetarch this defaults to the current  the variablenvalues should match the architectures as defined by gccnnthere is a block of defines for each supported architecture versionncurrently  and  each block defines a set of featuresnusing  variables it also specifies a set of cnpreprocessor defines to pass to the compiler finally it defines andefault cpu as for architecture versions the default cpu shouldnmatch a cpu that gcc knows aboutnnsupport is added for architectures that do not support thumb specificallynwe change the   target to simply compile as arm codeninstead and we change the interworking flag passed to the compilernnfinally we ensure that the systemcoreincludearchlinuxarm directorynis added to the default include path which allows the use of asmmacroshnheader file described in review  the way in which this done isnconsiderably uncleanhacky if someone can suggest a better way pleasenlet me known
4441,adding property and profile viewers miscnid
4442,cleanup stuff for the ui  move dns server registration entirely to the  move memcheck option ialization entirely to the  move qemuhelp routine used by both core and ui to common qemuhelpc filenid
4443,making sure the old hierarchy viewer works with categorized propertiesnid
4444,adt  remove source elements after a  move operationnid
4445,tempnid
4446,set the modes for rc files in systemetcnid  bruce bear
4447,video tegra lock around dc suspendresumenid  erik gil
4448,video tegra fix  command decoding debug printsnnnedoffby erik gil
4449,video tegra dump current pushbuffer from channel debuggernnnedoffby erik gil
4450,arm tegra add  delay after unclamping in powergateon sequencennnedoffby erik gil
4451,video tegra checkpatch changesnnnedoffby erik gil
4452,sdk manager xml schema for addonslistnid
4453,for gdvmbootclasspathstr if user uses xbootclasspatha or p withntypo may result in redundant cpe and dalvik will crash defely thusndalvikvmooclassc is modified to add a functionnstatic bool isredundantcpeconst char filename const classpathentry cpenfor checking the redundant cpe then the function processclasspath willnuse it to find out the redundant cpe and drop from the list to prevent thencrash of dalvik vmnid
4454,sdk repo remove useless xsi namespace from unittest xmlsnnall the sample xmls still declare a linen   use that namespace anymore so we  need that linenid
4455,fix up uses of gas printf like functions so that the format stringnis a constant string back port part of the following upstream   the patch tcarmc compile properly on glucid and ghardynid
4456,android on freerunner supportn
4457,android on freerunner supportn
4458,android on freerunner supportn
4459,android on freerunner supportn
4460,ant ensure sdk path ends with dir separatornnsdk bug
4461,stagefright handling playback negative seek scenarionnthis patch has change to fix the issue while performing the stagefrightncommand line b  option tests they were failing as negative offset wasncalculated and used for seek in the sf middleware omx codecreadnwe have condition to check the parameters if the seek value is   android assert is triggerred which leads to the issuenactually as per the test app the test has to seek and continue decodingntill the eof hence have modified the seek position handling accordinglynid  prasanna kumarmr
4462,lowmemorykiller  unregister notifier from atomic contextnnthe lowmemorykiller registers an atomic notifier for notfication of whennthe task is freed from this atomic notifier callback it removes thenatomic notifier via taskfreeunregister this is incorrect becausenatomicnotifierchainunregister calls syncronizercu which cannsleep which  be done from an atomic notifiernnfix this by registering the notifier during and only unregister itnif the lowmemorykiller is unloadednid  rabin vincent  christian bejram
4463,workaround for issue  email readunread marker work wrongnnfixes problem where  account messages get marked unread after server sync if they havenattachments or images and have been marked read from the message list in lieu of enteringnthe emailnid
4464,modify clearheader script to recognize armlinuxandroideabintargetnid
4465,remove defion of getpagesize in order to build c librarynfor android toolchain this is a local work around the long termnsolution is to change the getpagesize defion in bionicc howevernto be compatible with current bionicc and sysroot we have to donthis local workaround inside gcc after getpagesize in bioniccnis changed and ndk constains that change we can revert this clnid
4466,droiddoc fix compiler warningsnid
4467,inputmethodservice fix ignore case in showinputmethodpickerfromclientnnfix to avoid posting msgshowimpicker innshowinputmethodpickerfromclient when ignoring the request from thenclientnid
4468,sdk manager remove usercasdkroot  never enabled the ui for it as the sdk pathnis dicated by where the manager is started from  time to clean it upnid
4469,sdk manager manage url sites grouped in categoriesnnsources are now grouped in categoriesn android official siten all  party addons which list is remotely fetchedn local overrides from getenv sdkupdateruserurlsn useradded addon urlsnnsdksources plural sources is the collection of all urlnsites each one being an sdksource that contains a collectionnof packagesnsdksourcecategory is the category of a given sdksourcenneach source has its download url but also an uivisible namenwhich is displayed if known this is used for our defaultnandroid source and for  party remote addonsnfor all source overrides eg user added or from the getenvnvars  simply display the url in the treenid
4470,arm goldfish enable pfkey protocolnnnedoffby peter collingbourn
4471,add in monkeyrunner target and dependent libs to sdk buildnid
4472,make sure all marker types are removed during cleannid
4473,arm msm  request  gpios on first usenid  dima zavin
4474,revert revert net fix configrps option to be turned offnnthis reverts commit
4475,frameworksbase use  float method to compare float valuesnnin some cases float value comparision  yeild desired resultsncausing more time to be spent in the loop of generate the loop isnexecuted by the focus  looper thread and subsequentnmessages corresponding to key press  serviced by the looperncausing a ui freezennexample iterations having value of  for positionnresulted in a value of  for dir the same results with a valuenof  with  floatcompare methodnid
4476,telephony remove references to mexitecmrunnable objectnnwhen cdma phone is destroyed mexitecmrunnable object is not beingndestroyed so the cdma phone instance is still remaining this leadsnto phone crash as it tries to access cdma phone object even thoughncdma phone is not active fix is to remove the callbacks ofnmexitecmrunnablenid
4477,some changes to perform ial building steps on  added applyfreebsdpatches and applyplatformpatches defionnin defionsmk to process paths to interpretators at file headersnfrom binbash to usrlocalbinbash that allows keep source treenunchanged and shared with main repositary updated shell variablento proper value if system is  added  with some tuning of variables for  added new hostos type  freebsd some related  findjdktoolsjar now can guess path to toolsjar on  removed interpretator header on shell scripts that are not called directly innorder to make it more portable and independent of shell pathn
4478,android on freerunner supportn
4479,android on freerunner supportn
4480,fixing values for smsstatuspending and smsstatusfailednnsmsstatusfailed was defined as  and smsstatuspending wasndefined as  according to    the range of tpstnvalues for   is   while the range  error still  is   the latter range is whatnis defined as  values equal or greater than  arenreserved and should not be usednnapparently the values of these constants were mistakenly leftshiftednone bit hence smsstatuspending is changed into  andnsmsstatusfailed is changed into
4481,arm only allow  user mode on cpus that support itnid  arve hjønnevåg  dima zavin
4482,add bluetooth feature testnnbug
4483,merge sdk manager manage url sites grouped in categoriesn
4484,bluetoothhandsfreejavanadded mechanism to broadcast vendorspecific headset eventsnnbluetoothheadsetservicejavanreformatted codenid  broadcasts should include the bluetooth company idnid
4485,bluetoothheadsetjavanadded actionvendorspecificheadseteventnextravendorspecificheadseteventcmd extravendorspecificheadseteventargsnnbluetoothassignednumbersjava new filena home for bt assigned numbers beginning with the company idsnnheadsetbasejavanreformatted some codennatcommandhandlerjavanfixed comment typosnid  extravendorspecificheadseteventcompanyidnfixed a minor comment typonid
4486,updated message list to spawn threads where required added progress dialogs for multiitem processesnand added additional menu items  all    and   changed list refreshnthrottle minimum to  second to provide a better user experience with dialogsnid
4487,discarding duplicate part of concatenated sms on receptionnnif receiving the same part of a concatenated sms message severalntimes the duplicates were all stored this could lead to a crashnfurther on since the message could be considered complete before allnparts were actually received causing some pdus to be null in thendispatched intent the change adds a check to see if the same part isnalready present and if so simply discards the duplicaten
4488,net wireless  fix unregisterearlysuspend in dhddetachnnnedoffby dmitry shmidt
4489,net wireless  fix dhdbuswatchdog race conditionsnnnedoffby dmitry shmidt
4490,fixing issue  adt layout editor  handle tabwidgetnid
4491,problems sendingreceiving mms tears down mms apnnnthe mms apn incorrectly tears down when connected this is due to annerror in the code checking if the phone is connected to a mms apn inntransactionsettings the default path is used but this causes thenselection parameter to be ignored in telephonyprovider the result isnthat when connected to a nonmms apn it believes it is connected to anmms apn the fix is to simply remove default in the uri and constructnthe where clause manuallyn
4492,arm only allow  user mode on cpus that support itnid  arve hjønnevåg  dima zavin
4493,net wireless bcmdhd fix race conditions for sysiocthreadnnnedoffby dmitry shmidt
4494,net wireless bcmdhd fix scan timeout for abg casennnedoffby dmitry shmidt
4495,net wireless bcmdhd fix memleak in  dmitry shmidt
4496,net wireless bcmdhd allocate skb with gfpkernel flag if possiblennnedoffby dmitry shmidt
4497,net wireless bcmdhd prevent working thread to run during suspend pathnnnedoffby dmitry shmidt
4498,net wireless bcmdhd reduce listen interval to  from  dmitry shmidt
4499,net wireless bcmdhd allocate skb with gfpkernel flag if possiblennnedoffby dmitry shmidt
4500,net wireless bcmdhd prevent working thread to run during suspend pathnnnedoffby dmitry shmidt
4501,net wireless bcmdhd reduce listen interval to  from  dmitry shmidt
4502,add two more layout actions for linear layoutsnnadd two more  clear all weights this removes all the layout weights in an layout and converts and  views to  assign all weight this adds all the weight in the layout to then selected views and removes it from the remaining viewsnid
4503,modified  internal build configurationn
4504,merge commit  into freebsdportn
4505,adding additional playready testcasesn
4506,merge commit  into freebsdportn
4507,adding shoutcast playlist file  to the player engine unit tests test data used by test cas
4508,merge commit  into freebsdportn
4509,aac utility getaacaudioinfo add support for adts clips parsingn
4510,merge commit  into freebsdportn
4511,merge commit  into freebsdportn
4512,build system support for
4513,create cdmaimport branch off masternnthis is a temporary development branch to track the ialnrevisions of cdma support within the android platformnnnedoffby shawn o pearc
4514,merge commit  into freebsdportnnconflictsntfastbootfastbootcn
4515,modified include directive for endianh to be correct on  changed errors to existing on freebsdn
4516,adding new playready testcases minor additional chang
4517,this change provides an alternative on passing test cases ranges to a unit testn
4518,merge commit  into freebsdportn
4519,adding new playready testcases minor additional chang
4520,merge commit  into freebsdportn
4521,port omxbasenode omxvideonode and omxaudionode to new node interfacen
4522,merge commit  into freebsdportn
4523,this change provides an alternative on passing test cases ranges to a unit test minor additional chang
4524,merge commit  into freebsdportn
4525,reassingning local variable if mstringblocks was ialized here npe is thrown otherwisenid
4526,eliminating dead logic bitmap state simply cannot be null herenid
4527,context cannot be null here code relies on that everywherenid
4528,increase the java heap size for droiddocnnincreasing the java heap for droiddoc generation from  to  reduces build times by about  minutes for fastnbuild servers this can reduce build times by around  fornslower workstation class machines the build is reduced with nonother obvious undesirable side effectsnid
4529,libagl enable clz instruction generation for textureobjectmanagernid
4530,net wireless bcmdhd fix race conditions for sysiocthreadnnnedoffby dmitry shmidt
4531,use real eri stringsnid
4532,fix debuginstructioncounttestnnbug  the assertion to allow for additional instructionsnto be executed besides the ones caused by the addtestncalls the additional instructions could come duringncontext switchesnid
4533,revert mmc subtract boot sectors from disk size for emmc  devicesnnthis reverts commit  reverted commit incorrectly calculates the size of emmcndevices in some all casesnnthis revert may cause problems in cases where the bootloader wasnbugcompatible and puts a gpt partition at the incorrect end ofnthe emmc devicennnedoffby colin cross
4534,camera resolve conflict between setpreviewfpsrange and setpreviewframeratenn currently camera interface shares two different methods to set framerate n previewfpsrange and previewframerate many existing camera applicationsn and cts tests expects that camera hardware has  default framerate settingn thus camerahardware should provide default values for both frameraten methods at the same time camera application usually gets default parametersn array from camera hardware changing just one of the framerate parameters and thenn sends modified parameters array back to hardware but camera hardware cannot recognizen which parameter is the correct one to use for  framerate setting one of them is obsoleten the only possible way to solve this is every hardware implementation to implementn  own workaround of this conflict by tracking framerate setting changesnn general solution simple sanity check is added in android core when applicationn uses one method to set framerate data owned by other method is deleted at the same timen
4535,removing duplicit constants defionsnnthese defions duplicated those from iapplicationthread whichnare widely used in framework now only one real constants defionnexists and future divergence is less probablenid
4536,fix for startup npenid
4537,omapserial add support for sw flow control cts wakeup mux fixnnthis patch enables sw flow control for the omapserial driver it also fixes anbug in the mux configuration of cts line used as wakeupnnauthor govindraj raja  ulrik bech hald
4538,irq disable autoidle for functional clock of intc modulennprevents intc from getting into a bad statenmpu intc does not process interruptsnhaving per in ret and core in on seems to aggravate thisnnnedoffby girish s g  mike chan
4539,added a new option in the settings to specify the number of sms messages at which the message will be converted to an mms this fixes  that carriers or manufacturers might want to impose fixed limits on this setting or eliminate it altogether this can be done by either modifying the string array with the possible settings or removing the option from preferencesxml entirely there is also a hardcoded private int maxmmsthreshold that specifies the upper limit for this setting the user will not be able to exceed this value not even by hacking the preferences file on the devicennsee also this thread on androidplatform
4540,not able to play  file with invalid  tagsn
4541,arm msm camera  correct for overexposure on snapshotsnnnedoffby iliyan malchev
4542,removed unused fields from license acquire status classn
4543,not able to play  file with invalid  tags minor additional chang
4544,port omxbasenode omxvideonode and omxaudionode to new node interface minor additional chang
4545,arm msm htc avoid usbmassstorageplatformdata symbol collisionnnnedoffby mike lockwood
4546,version updates for sdkinfo header files and playerdrivern
4547,merge  from master to  do not mergennrelativelayout assign ids dynamically handle multidrag bugsnnthis cl fixes three issues with the new relative layout  assign ids dynamically before this changeset you  attachn to a node which does not have an id attribute since layoutn params need to name the constraint by idnn this changeset changes this such that you can attach to anyn arbitrary edge and when you commit the drag a unique id isn generated on the fly and assigned to the  handle dragging multiple nodes at the same time the newn constraints code was unconditionally applying the same constraintsn to all the dragged nodes which meant they ended up on top of eachn other this fixes things such that the first node is assigned then new constraints and then all subsequent nodes are attached onen next to the other in a direction depending on which edge youn attached to eg attaching on the right will arrange the siblingsn towards the left out from the  fix a bug in the code to detect and prevent cyclesnid
4548,make this virtual function nonpure temporarilynnthis makes it easier for now to deal with situationsnwhere derived classes  have an implementationnid
4549,update changestxt for adt
4550,fix build restore older behaviorsnid
4551,net wireless bcmdhd get rid of android definennnedoffby dmitry shmidt
4552,merge  from master into  do not mergennproperly handle cpu archabi in avdsnnwhen we introduced  support in the tree there was nongeneric emulator exe able to act as a launcher to the arm  versions of the emulatornnthis exe is now present and packaged with the sdk so we remove thencode to launch either arch specific version and instead make the avdnmanager and adt simply launch the normal emulator once againnthis has the side effect of making adt  able to run on tools  belownnfor this to run though hwcpuarch must be set in the avd if thenarch is not arm the new avd manager sets this properlynnalso fixed some issues from my previous fix to the hardware propertynnow the list contains all of them but  a isvalidforui  usednto not show up some prop in the uinid
4553,merge  from master to  do not mergennadd adt preference to disable skipping of postcompnnthis change adds a preference option to adt  to allow user control of whethernpostcompilation is skipped during a file save andnpushed back until launch or exportnid
4554,update player engine unit test tc  to reflect new default content for metadata testingn
4555,initalize omxcomponentbase member variablen
4556,buildspecific access needed for  console appn
4557,add api to  engine to support selection of codecs and their preference ordern
4558,fir up and downscaling issues by defining new coefficientsnnthis patch rewrites the scaling  to improve image quality while you perform up and down  indirectly fixes sync lost error on yuyv or rgb images while you performnupdown scalingnnthe changes involve in redefining coeffiecients fornfor fir register h hv and vnthese coeffiecients are selected based on the ratio of the originalnwidth and height with respect to output width and height respectivelynnnedoffby viswanathan venkatesh  subramani venkatesh
4559,net wireless bcmdhd prevent using wext in case of  dmitry shmidt
4560,merge remote branch  into  dmitry shmidt
4561,when distributing linear layout weights also set size to  you use the layout actions bar distribute weights in anlinearlayout in addition to setting all the weights to the samennonzero value also set the size the height for a vertical linearnlayout and the width for a horizontal one to  to ensure that thenwidgets are all given the same total size rather than sharing thenremaining space evenlynnin addition when adding new widgets to a linearlayout see if allnelements in the linear layout already have nonzero and equal weightsnand if so duplicate this weight value on the new widget as well andnsimilarly also duplicate  if usednid
4562,omap  dispc fix irq selection in omapdispcregisterisrnnin omapdispcregisterisr replace hardcoded dispcirqframedonenwith conditional irq selection variablennthis looks to be incorrect due to a pior merge conflict resolutionnnnedoffby mark tyl
4563,when distributing linear layout weights also set size to  do not mergennwhen you use the layout actions bar distribute weights in anlinearlayout in addition to setting all the weights to the samennonzero value also set the size the height for a vertical linearnlayout and the width for a horizontal one to  to ensure that thenwidgets are all given the same total size rather than sharing thenremaining space evenlynnin addition when adding new widgets to a linearlayout see if allnelements in the linear layout already have nonzero and equal weightsnand if so duplicate this weight value on the new widget as well andnsimilarly also duplicate  if usednid
4564,net wireless bcmdhd fix scan timeout for abg casennnedoffby dmitry shmidt
4565,net wireless bcmdhd fix memleak in  dmitry shmidt
4566,net wireless bcmdhd add missing dhdgetdtimskip declarationnnnedoffby dmitry shmidt
4567,adding new playready testcasesn
4568,merge commit  into freebsdportnnconflictsntmakefileandroidn
4569,buildspecific access needed for  console app minor additional chang
4570,merge commit  into freebsdportn
4571,add a new rtmp streaming test case for playstopplay usecasen
4572,merge commit  into freebsdportnnconflictsntmakefileandroidntandroidconsolecn
4573,encode avc  atomn
4574,removed not needed anymore  option updated to be compilable on freebsdn
4575,produce an xml logfile indicating a failure for  unit tests even when a segfault occursn
4576,merge commit  into freebsdportn
4577,pv build system changesn
4578,added option to build link with libutiln
4579,merge commit  into freebsdportn
4580,pv build system modificationsn
4581,merge commit  into freebsdportn
4582,updates to the license interfaces license status and return codes to provide the flexibility for a user to register to an authentication servern
4583,buildspecific access needed for  console app minor additional chang
4584,merge commit  into freebsdportn
4585,this change lets pv player engine return extension interfaces from content policy manager plugins to layers above player engine applications could use such extension interfaces to drm maintenance related activities viz metering device activation etcn
4586,merge commit  into freebsdportn
4587,arm  add setrate handler to sgx clocknid  girish s g
4588,dspbridge add ability to recover from dsp fatal error in the kernelnid  rebecca schultz zavin
4589,add support for new frame ratesnnfor sensor sony  increase the number of frame rates supportednfor base sizes upto  new frame rates aren     frame rates are in addition to the existing frame rates ofn    fpsnnnote for the  base size the max frame rate still remains  dominic curran  sergio aguirre  pallavi kulkarni
4590,add hcid to the input group this gets avrcp  not sure if this is really the correct fix but it works for men
4591,a testnntry to make an uploadn
4592,arm gic add gicdistrestore gicdistexit routinesnnon systems with idle states which powergate the logic includingnthe gic such as tegra the gic distributor needs to be shut downnand restored on entry and exit from the architecture idle codennnedoffby gary k
4593,arm gic add giccpuexit functionnnadd a function to be called during cpu teardown which disablesninterrupts on the processor interface of the cpu which is beingndisablednnnedoffby gary k
4594,sdkmanager  user versionname for new platform packagesnid
4595,arm tegra add support for legacy and apbdma interruptsnnmirror irq enable and disable operations on the legacy ppi systemninterrupt controller since the legacy controller is responsiblenfor responding to wakeup interrupts when the cpu is in  idle modennadd support for the system apb dma controller interruptsnnnedoffby gary k
4596,arm tegra cpu hotplug supportnnto save power smp tegra socs place nonboot cpus in reset when theynare removed from the scheduling cluster using cpu hotplugnnslave cpus save their contexts incl  and vfp state out to anreserved memory region cancel smp operation and write to the socnreset controller to disable themselves this is done with caches andnmmu enabled so care is taken to ensure that all the dirty context cachenlines are cleaned out to the poc before shutting downnnwhen reenabled slave cpus execute a hotplug boot routine which mirrorsnthe ial configuration performed by secondarystartup but afternenabling the mmu return to  which restores thensaved state from the context area and returns to platformcpudienna local page directory is maintained ially a copy of mm bynthe tegra hotplug code to ensure that all necessary context data andntext is properly mapped including   mappings fornthe code which reenables the mmu this page table will also be usednfor the idle and suspend save and resume routines for the master cpunnin pseudocode the hotplug startup routine is basicallynn invalidate icache btac tlb exclusive monitorn enable icache branch predictionn invalidate dcachen invalidate scu tagsn enable smpn setup page tables to tegrapgdn enable mmu  dcachen restore  from context arean change page table pointer to context from shutdownn restore stack registersn return to platformcpudiennnedoffby gary k
4597,arm tegra fix system event timer time calculationnnthe value provided to clockeventdevicesetevent is already scalednappropriately so the rescaling by  is unnecessarynnadditionally due to a cutandpaste error the minimum clockeventndelta was assigned to maxdeltans which prevented ths system fromnbooting after the incorrect scaling was fixednnnedoffby gary k
4598,arm enable configcpuidle supportnnadd archhascpuidlewait and archhasdefaultidle configurationnand expose defaultidle and cpuidlewaitnncpuidlewait implementation based on the implementation in the  treennnedoffby gary k
4599,move jarutils into sdklibnid
4600,remove jarutils from the sdk packagingnid
4601,arm tegra suspend move ialization into a dedicated functionnnperform resource acquisition in a dedicated time function toneliminate sleepinginsidespinlock problemsnid
4602,arm tegra  use waitforevent  entry sequencennusing waitforinterrupt wfi mode in the flow controller as thencondition for entering  can cause the cpu to be powergated beforenall of its pending memory transfers have completed this can causenthe memory controller to wedge itself when the cpu exits  andntake down the entire systemnid
4603,arm tegra  use clkgetrate to read apb frequencynid
4604,arm tegra add cpuidle drivernnsupports clockgated  smp idle mode and powergated  idlenmode when all slave processors are offlinennlatency for  idle state is calculated as a  weighted movingnaverage to allow for future variations due to eg cpu frequencynscalingnnwhen  is an allowed state ie slave cpus have been taken  will perform an hrtimer peekahead this avoids waiting for thenfirst processor tick following an  in order to run expired hrtimersnwhich was causing a  tick delay for most userspace  wakeup time and latency uses a  hardcoded offset to account fornthe cpu powergood timeout this is reasonable for harmony but should benunhardcoded for other platformsnnnedoffby gary k
4605,fix sdcard option by reverting previous commitnnunfortunately the use of attributeconstructor to ialize modulesnmeans we cannot easily put core files into a static library without playingnhorrible linker tricksnnrevert the patch for now another solution will be provided laternid
4606,pass corespecific options to emulator core as cmdline optionsnid
4607,refactoring of apkbuilder to prepare for its integration into sdklibnid
4608,arm tegra add  idlemode  idle mode powergates the main cpu complex requiring anfull processor state save and restore from a reset vectornnprocessor context area is allocated during platform ializationnfrom the kernel and mapped into the hotplug page tables which alsonserve as the ial page tables for the  main processor resetnnrestoring the processor from  requires calculation of a systemnand apbclockdependent cpu power good timer value on  is a good baseline value for this and the apb clock is running  these values need to be unhardcoded for other platformsnnnedoffby gary k
4609,arm tegra add  idle mode wakeup timer sourcennthe  idle state can not be woken by the internal arm timersnso reserve the last apb system timer for use as an  wakeupntriggernnnedoffby gary k
4610,arm tegra add iram and  io aperture mappingsnnadd a macro for the arm  physical address located in the iocpunaperture since the idle and suspend transition code needs to  registers and hardcoding offsets of  everywhere is errornpronennsimilarly add an aperture for iram since suspend code will need tonexecute partially from iram when the dram is in selfrefreshnnnedoffby gary k
4611,revert mmc fix nonarm build due to emmc  changennthis reverts commit
4612,revert fixing  reverts commit
4613,some audio quality verifier fixesnn add writeexternalstorage permissions to be able to store then samples onto the sd cardn fixed a wrong path to the pink noise samplesn center the buttons of the audio quality verifiernid
4614,stuff hardware configuration with paths to image partition filesnid
4615,increase height and width of the status bar to accommodate higher resolution devicesnid
4616,display panel driver cleanupmirroring and rotation supportnnthis  removes all the gpio code in  and addsninto  lcd  pixel clock value is changed to avoid  horizontal mirroring works with the above  vrfb rotation works on bootup by adding default  subramani venkatesh
4617,updatenid
4618,ashmem  require a page aligned sizennthis makes ashmem more similar to shmem and mmap bynnot requiring the specified size to be page alignedninstead rounding it internally as needednnnedoffby marco nelissen
4619,updatenid
4620,adding bluetoothrf and regulator config options to defconfignnsync up  with bluetooth rf and voltage andncurrent regulator config options now the  be uptodate with autogenerated confignnnedoffby leed aguilar
4621,omap removing unused variablennby removing this unused variable we are avoidingnthe following compilation warningnn  in function   warning unused variable  leed aguilar
4622,stagefright aacenc mark codeword as  this the codeword  will be expanded  when passed as a  parameter all code wordsnset into this variable are  iallynnwhen it was expanded to  it could accidentallynoverwrite earlier cached bits in the bitstream writernid
4623,stagefright aacenc make the bits to write in writebits unsignednnthey  as far as i know ever be a signed valuenid
4624,stagefright aacenc safeguard against overwriting bitsnnpreviously if bits above the lowest nobitstowrite werenset they would be ored into the previous cache wordnsetting unrelated bits erroneouslynnthis  noticeably affect the performance of thencodec as a wholenid
4625,stagefright only use  on msvc not on all  compilersnid
4626,libsysutils only accept uevents from the kernelnnaddress
4627,update lists of japanese network operatorsnnntt docomon support delivery report but not support binary andn multipart smsnkddin not support delivery report for all message typensoftbank mobilen not support binary and multipart sms completelynid
4628,stagefright aacenc remove useless inline asm for simple right shiftnid
4629,stagefright aacenc use qdaddqdsub instructionsnid
4630,stagefright aacenc basicop use  typesnnusing  types unnecessarily results in numerous extra signzeronextend operations even when the value is known to fit in  bitsnid
4631,stubsnid
4632,arm msm camera msmpmemthumbail  msmpmemthumbnailnnnedoffby iliyan malchev
4633,pick configuration for java hyperlinksnnwhen you request declaration hyperlinks in an xml file the hyperlinknsupport looks at the corresponding layout  configurationnchooser and uses the current configuration to decide which match tonlist on top therefore if you are looking at a particular languagenand you ask for declarations for a given string resource thentranslation for the current language is listed firstnnin java files there is no corresponding layout editor so it willnjust display the base folder values match rather than anynparticular language or other qualifiers for that matternnthis changeset adds a check to the code which computes a configurationnto use for default matching it now looks for other open layoutneditors in the workspace and for any that are in the same project itnwill use that  configuration instead as the default keynid
4634,fix to android issue  error in datepicker time days beyond the end of the  fixed a related bug that was calling od twicen
4635,updated to better distinguish between options and operandsn
4636,arm omap add embedded sdio supportnnnedoffby dmitry shmidt
4637,updated to better distinguish between options and operandsn
4638,arm tegra use generic ulpi operationsnid  benoit gobi
4639,usb otg add ulpi viewport access opsnnadd generic access ops for controllers with a ulpi viewport registerneg chipidea based controllernid  benoit gobi
4640,androidbat properly copy commonjar to the temp foldernid
4641,mmc core do not leave the interface claimed while adding sdio funcsnnthis is important when wlan driver is doing sdio operations from anothern thread during ializationnthis behavior was introduced as a sideeffect in patchn  mmc fix sdsdiommc ialization frequency retriesnnnedoffby dmitry shmidt
4642,refactor workingset functionnn refactor working set helper methods out of the main npw classn they were not used by the main npw class just by the pagesn and were adding warnings due to internal class accessesnn respect the ui creation structure one method for each top leveln compositenn fix proper toggle the working set composite in the test projectn page based on the main create test project togglenn hack around the fact the add working set checkbox  ialized properly in the test project pagenid
4643,added a new folder action in file explorernnthis action allows the user to create a new folder if the currentnselection in the tree is a folder it executes the mkdir commandnon the device if an error occurs during execution a popup isndisplayednid
4644,increase the java heap size for droiddocnnincreasing the java heap for droiddoc generation from  to  reduces build times by about  minutes for fastnbuild servers this can reduce build times by around  fornslower workstation class machines the build is reduced with nonother obvious undesirable side effectsnid
4645,leds  use nonreentrant  is not safe to call from multiple threadsnuse the nonreentrant workqueuenid  colin cross
4646,arm tegra usbphy resolve ulpi disconnect issuenncorrect phy startup sequencenput the phy in low power modentristate ulpi interface when usb controller is resumingnid  james wyld
4647,arm tegra verify phy clock valid before clearing usbsuspclr bitnnwhen enabling the external ulpi phy the clock from the phy must benvalid before the usbsuspclr bit is cleared in the  controllerninterface register if the clock from the phy is not valid whennthis bit is cleared the ahb clock to the host controller may benstopped preventing any access to the host controllernnreplace hardcoded delay with poll for usbphyclkvalid bitnnedoffby nathan connell   nathan connel
4648,wait until webviewcore ialization is completednnwebviewcore ialization is running on its own threadnnot on ui thread so instrumentationwaitforidlesync may notnwait for the completion of webviewcore ializationnif a key event is sent on webview before the ialization ofnwebviewcore completes then webviewclient will not receive the callbacknid
4649,fixing crash in bluetoothpbapservicennif bluetooth is turned off while there is an pbap connect requestnpending the status bar notification or yesno activity will notndisappear if user selects yes an intent will start pbapservicenagain pbapservice will try to make the device trusted as thisninstance of pbapservice  have any connected device crash willnoccurnnmake sure status bar notification or yesno activity disappears bynsending timeout intent when bluetooth is turned offnalso pbapreceiver should not forward any intents except stateonnif bluetooth is off as this will start the pbapservicenid
4650,fold uevent message origin checking from into libcutilsnid
4651,set sopasscred on the uevent socket needed for chang
4652,set sopasscred on the uevent socket needed for chang
4653,modified so that if the network does not support sms it skips this testnnwhen the network is kddi it skips this testn because kddi mccmnc   does not support sms delivery reportnnwe modified the test case in the same way for the case of ntt docomon since it will skip test with the same reasonn
4654,fix in filelistingservicennusing getfullescapedpath instead of getfullpath in dolsnid
4655,fs partitions efi add forcegptsector  causes the gpt partition search tonlook at the specified sector for a valid gpt header if thengpt is not found at the beginning or the end of the blockndevicenid  colin cross
4656,revert mmc subtract boot sectors from disk size for emmc  devicesnnthis reverts commit  reverted commit incorrectly calculates the size of emmcndevices in some all casesnnthis revert may cause problems in cases where the bootloader wasnbugcompatible and puts a gpt partition at the incorrect end ofnthe emmc devicenid
4657,misccapproxremove forcedetect after failsafe checknid  makarandkarvekar
4658,folder sync and hide featuresnn allow toggling sync state of selected subfolders in exchange accountsn allow toggling of visibility of selected subfolders in folder list for exchange and imap accountsn add select all messages in a foldernid
4659,sdk manager update all  pick highest revisionsnnsdk bug
4660,integrate  into  builder to not stop on java warning markersnid
4661,fix builder to not stop on java warning markersnid
4662,change sslcertificatesocketfactorytesttestcreatesocket hostnnthe test may be flaky because it depends on a live servernswitch to a different server that may be more reliablennbug
4663,improvements to selection new actions  sync fixnnthis changeset adds a new select context menu in addition to selectnall and select none there are new actions to select the parent of thencurrently selected item an action to select all its siblings and annaction to select all widgets in the layout of the same type fornexample invoking this on a button will select all buttons in thenlayout select parent is bound to escape and is particularly usefulnwhen you want to target a layout widget that has children and no freenspace since any mouse click will target one of its children withnselect parent you click on the child and hit escape to reach thencontainernnin addition this changeset fixes selection synchronization forncontext menus until now you had to first select an item then rightnclick on it to see its context menu items the root cause for this isnan swt bug eclipse issue  but we can work around it with anmenudetectlistener which is run when the menu is posted and gives usna chance to sync the selectionnid
4664,for  support rx dma optimizationnnthis patch containsna bugfix for  uart hs support the  uses a divisor  when speed is  optimization for dma in rx mode avoid rx dma reconfigurationnat every dma restart when dma is activennin affected code sections a little code cleanup is includednnnedoffby rebecca schultz zavin
4665,ril add etws primary notification commentnid
4666,when switch input mode also hide the input barnncan function when soft keyboard switchn
4667,fix  on windows add the search path for pcbiosnid  xiantao zhang  yunhong jiang  jun nakajima
4668,uploaded patch set
4669,net  fix unknown escape   choi jonghwan
4670,build  for windowsnid  xiantao zhang  yunhong jiang  jun nakajima
4671,net wireless  convert kmalloc bzero to kzallocnid  choi jonghwan
4672,net wireless  fix buffer overflow  max size is   choi jonghwan
4673,libutils fix an improper constcast in refbasennunder fedora  beta gcc  warnsnn frameworksbaselibsutilsrefbasecpp in member functionn ‘void androidrefbaseweakreftypetrackmebool bool’n  error passingn ‘const androidrefbaseweakrefimpl’ as ‘this’ argument ofn ‘void androidrefbaseweakrefimpltrackmebool bool’n discards qualifiers fpermissivenntrackme is not a const function so  use const in the staticcastnto a weakrefimpl pointernid
4674,add flagautocancel flag for multiple supl notificationsnnadded flagautocancel to notification flags in gpsnetinitiatedhandlerjavanthis is done to clear consecutive notifications in uinid  anshuman pandey  christian bejram
4675,stagefright aacenc simplify the defion of inlinennthis reduces the amount of ifdefs needed into something thatnworks on both gcc and msvc this removes one occurrance of thenlinux ifdef simplifying compiling on various platformsnid
4676,rpmsg build only if ti tiler is presentnneventually the rpmsg will use ion till then itndepends on titiler being configured in the systemnnthis fixes the build   in function  undefined reference to  undefined reference to   error   nishanth menon
4677,stagefright aacenc fix type defions for  bit platformsnnalso  require linux to be defined enable the msvc typedefsnonly within mscvernnthis fixes a lot of warnings about dereferencing pointer  strict aliasing rulesnid
4678,hid magicmouse use hidinput parsing rather than bypassing itnnlet the hid core handle input device setup and hidcompliant reportsnthis driver then only has to worry about the nonstandard reportsnnnedoffby michael poole  chase douglas  jiri kosina
4679,arm tegra usbphy cleanup before sending upstreamnid  benoit gobi
4680,stagefright aacenc zeroialize a structnnthis avoids using unialized data in some cases accordingnto valgrindnid
4681,hid magicmouse  report relxy for magic trackpadnnwith the recent switch to having the hid layer handle standard axisnialization the magic trackpad now reports relative axes this wouldnbe fine in the normal mode but the driver puts the device in multitouchnmode where no relative events are generated also userspace softwarendepends on accurate axis information for device type detection thusnignoring the relative axes from the magic trackpad is bestnnnedoffby chase douglas  jiri kosina
4682,add the  feature to cpu emulation gcc can emit  for optimization purposesnid  jun nakajima  bruce bear
4683,phone fail to play cdmareorder order tonennwhen network sends cdmareorder order tone it is wronglynset to cdmaabbrreorder in eclair which plays for short durationnideally it needs to play cdmareorder tone which plays continouslynid
4684,phone display short namemccmnc if long name is empty in manual searchnnthe operator name for each operator obtained in the manual network searchnshould be derived as per  spec ts   indicationnwhile deriving the name for current operator already registered operator asnper the spec if nitz name has to be displayed then some times the long namencan be empty in mm information since the operator information should be derivednfrom a single source mm inforamtion cannot be combined with other sourcesnlike me db information for long name in such cases short name or mccmnc stringnshould be displayed in the manual network selectionnid
4685,changing mms video default sizennchange the maximum video attachment support for mms  up to
4686,update documentation for getvideowidth and getvideoheightnnref
4687,workaround for spurious rdr interruptnnunder certain rare conditions  bit may be setnand the corresponding interrupt fire even when there is nondata in the receive fifo or the  data transfer is stillnongoing these spurious rdr events must be ignored by thensoftwarenna check for  is introduced in the isr tonprevent further processing of rdr interrupt if the bus is busyn
4688,fixing issu
4689,these changes fix issues related to display text proactive commandnnthe following issues related to displaytext are fixed in this changenref etsi  section  do not send terminal response from stkapp if responseneeded qualifier is falsendesc if immediate response is set then user should not send the terminal responsen from stkapp it is sent immediately from stk  second display text proactive command should replace first display textndesc the dialog box is modified with the subsequent display textn refer to etsi ts  section  proper handling of high priority display with user clear and immediateresponse setndesc when a high priority display text proactive command with user clear flag andn immediate response set then it should be displayed until user clears itnid
4690,arm etm support multiple etmsptmsnnif more than one etm or ptm are present configure all of themnand enable the formatter in the etb this allows tracing on dualncore systems eg   arve hjønnevåg
4691,arm etm return the entire trace buffer if it is empty after resetnnon some socs the read and write pointer are reset when the chipnresets but the trace buffer content is preserved if the statusnbits indicates that the buffer is empty and we have never startedntracing assume the buffer is full instead this can be usefulnif the system rebooted from a watchdog resetnid  arve hjønnevåg
4692,arm  coresight cosmetic fixesnnuse bit macro whenever it is sensible to do sonid  linuxarmkernellistsinfradeadorgncc linuxkernelvgerkernelorgnnedoffby alexander shishkin  russell k
4693,pass generic info events to mediaplayer applicationsnnsome applications desire to have some more pvplayer specificnevents sent out to them one way to achieve this is bynadding new events to mediainfotype in mediaplayerh howevernthat would involve constant additions to the enum so we couldnprobably reduce the number of such changes by sending out genericninfo events with the pvmfstatus coden
4694,arm  etm do a dummy read from ossrr during ializationnnthe first read from etm os save and restore register after the powerndown bit deassertion returns garbagenid  linuxarmkernellistsinfradeadorgncc linuxkernelvgerkernelorgnnedoffby alexander shishkin  russell k
4695,illegalstateexception will be thrown by most media jni apisnit should be caught in asyncplayer otherwise the activityservice will crashnfor example notificationservicen
4696,perform autozoomtofit on device changesnnwhen you change the device in the configuration chooser eg eithernthe screen type or the orientation the layout editor will nownautomatically apply a special version of the zoom to fit scalingnoperation zoom to fit but at most  practice this means that if you have zoomed out a lot for examplento accomodate a tablet in portrait mode and you switch to landscapenit will zoom back in a bit further such that the landscape orientationnfits better without leaving a lot of unused screen space similarlynif you go from a low resolution screen to a higher resolution screennit will zoom out if necessary to keep the picture in view it willnhowever never zoom to more than  so if you go to a lowernresolution screen will not show blurry pixels you will see thennatural size of the imagennthis changeset also contains a fix for the fittozoom code such thatnthe margin handling works properly for zoom factors greater than onenid
4697,add a bitmap encoding of objectreference field offsets to classobjectnnclassc populates a new field with a bit for each of the first  instancenfields to show if it is a reference or not and an escape value if there is anreference field beyond  gc uses the encoded bitmap if available to extract object refererencesnfrom dataobjectsn
4698,arm tegra usbphy fix return valuesnd frequency table into a structnid  benoit gobi
4699,update comment in mediaplayerhnnwhen sending a mediainfo message the second integer is supposednto be an info code instead of an error coden
4700,asoc core  schedule deferredresumework twicennfor cards that have two or more dais  loop over allndais ends up calling scheduleworkdeferredresumework once per dainsince this is the same work item each time the  and subsequentncalls return  work item already queued and trigger the deverrnmessage below stating that a work item may have been lostnnsolve this by adjusting the loop to simply calculate whether to run thenresume work immediately or defer it and then call schedule work or notnone time based on thatnnnote this has not been tested in mainline but only in   support suspendresume on tegra nor does the mainlinentegra asoc driver contain multiple dais it has been compilechecked innmainlinennnedoffby stephen warren  liam girdwood  mark brown   todd poynor
4701,arm tegra adjust failsafe thresholds for capproxnid  makarandkarvekar
4702,nf xtsocket export the fancy sock finder codennthe socket matching function has some nifty logic to get the struct socknfrom the skb or from the connection trackernwe export this so other xt can use it similarly to ho hownxtsocket uses nftproxygetsocknid  jp abgral
4703,add code completion support for drawables animations and colorsnnthis changeset adds in descriptor metadata and xml editors forn drawables resdrawablen animations resanimn animators resanimatorn colors rescolornnthese types have also been added to the new xml file wizardnnthere is some specialized completion support for animatorsn completing on the propertyname property of  willn offer the various integer and float properties in viewsn completion for the interpolator property shows the frameworkn interpolators immediately and on top instead of having to completen the individual resource paths android and anim firstnnthere is also a new quickfix and marker resolution for the aapt errornwhich complains about an unbound prefix this will insert  attributendeclaration on the root elementnnthis cl also includes a fix to make the new xml file wizard preselectnthe current project in more scenariosnnnote this changeset adds new xml editors for these resource typesnit does not attempt to update previous editor bindings for files ofnthe given type so to test this you may need to use open with in thenpackage explorer to pick the right file typenna subsequent cl will try to migrate settings over to these editorsnbut that work will tie into another effort merging all thesendifferent editors into a single editor class that does its own contentntype switching and different viewparts for the other tabsnid
4704,netfilter add xtqtaguid matching modulennthis module allows tracking stats at the socket level for given uidsnit replaces xtownernif the uidowner is not specified it will just count stats based onnwho the skb belongs to this will even happen on incoming skbs as itnlooks into the skb via xtsocket magic to see who owns itnif an skb is lost it will be assigned to  control what sockets of what uids are tagged by what one usesn echo t $sockfd $accountingtag $thebilleduid n  procnetxtqtaguidctrln so whenever an skb belongs to a sockfd it will be accounted againstn $thebilleduidn and matching stats will show up under the uid with the givenn $accountingtagnnbecause the number of allocations for the stats structs is not that bign  apps  per  just do it atomic this avoids walking lists many times andnthe fancy worker thread handling slabs will grow when needed laternnit use netdevice and inetaddr notifications instead of hooks in the core devncode to track when a device comes and goes this removes the need fornexposed ifacestathnnput procfs dirs in procnetxtqtaguidn ctrln statsn  uid stats are obtainable in statsnid  jp abgral
4705,stagefright aacencamrwbenc convert line breaks to unix stylenid
4706,stagefright aacencamrwbenc remove trailing whitespacenid
4707,nf qtaguid remove dup code and reuse more of xtsocketnnin  qtaguid reused xtsocket functionnality by copying the codennow it is getting out of hand so lets just have xtsocket export allnits coolness and use it herennnedoffby jp abgral
4708,stagefright aacenc add missing newlines at the end of filesnnthis avoids compiler warnings about missing newlinesnid
4709,net wireless bcmdhd fix getting mac address from platform datannnedoffby dmitry shmidt
4710,stagefright aacenc fix inline asm constraintsnnoutputonly parameters should use  or  constrains never rnnthis fixes a lot of warnings about the variable  beingnused unializednid
4711,arm automic  support for platform buildsnnthis patches forces the emulatorarm program to emulate a cortex  it detects that it is launching a platform build that was builtnfor the  architecturennthis is done by parsing the buildprop file and comparing the targetnabi to the value  when this is the case this will alsonautomatically adjust which prebuilt kernel image is selected from thenandroid treennnote that nothing is changed for sdk avds in this change they willnstill need to define    in their configininto enable  supportnid
4712,stagefright aacenc fix inline asmnn  write inputonly registersn use temp variables instead of hardcoded regsn  build constants manually specify as asm inputsn remove unnecessary volatile qualifiersnid
4713,emulator build emulator platform images as  that the emulator supports proper  emulation switch tonbuilding all emulatorspecific platform images using this instructionnset in order to benefit from the noticeable speed boost provided  instructionsnnnote that we  build with neon support because emulated neonninstructions are currently slow though they worknnimportant you need to have the following emulator patch in your treen in order to start these platform builds easilynn  the alternative is to do these thingsnn  telling the emulator to emulate an  cpu instead ofn an  one this is normally done with qemu   using an  capable kernel image which is available andn usable with kernel  that the emulator has a special hack that automatically  if  is being used ie if the kernel image name ends with  emulate an  cpu automaticallynnso in reality only  is requirednid
4714,stagefright aacenc use  ssat instructionnid
4715,corebinarymk add missing objectivec objects to the buildnnfor some reason allobjects was not listing objects generated fromnobjectivec sources we need these for the emulator which builds itsnown version of sdl which uses quartz on os xnn fix a typo in transformhostmtoo defionnnthis also explains why  to be reverted since it gets rid of the prebuilt sdl libraries whennbuilding the emulatornid
4716,test for checking package naturesnnbug  that packages on the device are not signed with well knownnkeys that may be used by malicious packages to gain privilegesnid
4717,musb dont save context if driver is suspended by runtimenndoing a save context on the suspend handler whennthe clock are cut by runtimepm will causendata abortsnnnedoffby axel haslam
4718,arm tegra adjust failsafe thresholds for capproxnid  makarandkarvekar
4719,fixes datapartition size problemnnfixes the problem when disksystempartitionsizenavd setting gets overrided by default  mbytesnhardcoded in qemunid
4720,misccapproxremove forcedetect after failsafe checknid  makarandkarvekar
4721,usb host tegra cleanup before sending upstreamnid  benoit gobi
4722,arm omap  adding bluetooth and rf config options to defconfignnsync up  with bluetooth and rf confignoptions now the  will be uptodatenwith autogenerated confignnnedoffby leed aguilar
4723,added more options to the camcorder menunnusers can now set the followingnnvideo quality cif qcif dvdvideo pal dvdvideo ntsc tv ntsc tv pal vga qvganaudio encoder format nb amr aacnvideo encoder format    format   raw amrnnnedoffby anu sundararajan
4724,arm msm camera fix build when cdbg is enablednnnedoffby iliyan malchev
4725,added more proprietary librariesnnwifi and the led lights of the htc dream should work whennextra libraries are extracted from the htc dream and addednto the system imagennthese changes are based on can be seen as an addition to th
4726,tmodified   to enable  driver byntdefaultn
4727,arm  add camera base address and devicennnedoffby erik gil
4728,tmodified   driver by defaultn
4729,use swtmenubar for ddmsnid
4730,set the size of dns cache used by netdnnuse environment variable androiddnscachesizento set the size of the dns cache used by netdnnthe current value is set to be much bigger thannthe default value a final value has to be figurednby measure and testingnid
4731,when possible use filesetexecutable instead of doing an exec of chmodnid
4732,use system property to set dns cache sizennuse system property ronetdnscachesize to setnthe size of the cache if the system propertynis not set the default cache size is defined bynconfigmaxentriesnnthe number of entries in the hash table will be equalnto the number of max entries allowed in the cachenid
4733,fixes disappearing linesnnthis fixes where divider lines under the phone icon dissappearnin the favorite tab of contacts when menu and back are pressednid  madan ankapura
4734,camera fix unstable test result on testpreviewcallbacknnthe callback is called at unexpected timingnto avoid this issue we need to wait for a while before goingnto the next testnid
4735,fixed localwholestaticlibraries handlingnnthe link failed due to a typo in setupmknn add missing documentationnid
4736,emugen a tool to generate wire protocol codennemugen is a tool that can be used to generate code thatndeals with marshalingunmarshaling request tofrom a wireprotocolnits input is an api defintion files and its output is c sourcencode for the client caller and the server callee sidesnnsee readme file for more detailsnid
4737,add endian conversion to make sure framebuffer service works on bigendian devicesnid
4738,arm msm camera add more support for postprocessingnnnedoffby iliyan malchev
4739,closing stream after class preloadingnid
4740,add test case to verify if data sms sent on port can be received correctly because the telephone number may not be available from sim add the functions to enable thenuser to config the telephone number of the testing device in hostconfigxml add the functions in hostconfigjava to read the configurations in hostconfigxml and thenfunctions in testdevicejava to store the configurations in sdcardtelnumber of the testing device add a method in smsmanagertestjava to send data sms locally andnverify if it is received correctlynn modified teststeststelephonysrcandroidtelephonyctssmsmanagertestjavan modified toolshostsrccomandroidctshostconfigjavan modified toolshostsrccomandroidctstestdevicejavan modified toolsutilshostconfigxmlnid
4741,add test case to verify if data sms sent on port can be receivedncorrectly because the telephone number may not be available from simnadd the functions to enable the user to config the telephone number ofnthe testing device in hostconfigxml add the functions innhostconfigjava to read the configurations in hostconfigxml and thenfunctions in testdevicejava to store the configurations innsdcardtelnumber of the testing device add a method innsmsmanagertestjava to send data sms locally and verify if it isnreceived correctlynn modifiednteststeststelephonysrcandroidtelephonyctssmsmanagertestjavan modified toolshostsrccomandroidctshostconfigjavan modified toolshostsrccomandroidctstestdevicejavan modified toolsutilshostconfigxmlnid
4742,performance of tohex improvednn constant array with hex digits instead of recreation of stringn concatenating both values at one gon without necessity of various wrapper objectsnnaccording my benchmark the new implementation is more than  timesnfasternid
4743,write the core hardware configuration file to  content directorynndo not write the  hardware configuration file to a temporary fileninstead stored it under the  content directory with the namenqemuhardwareini for platform builds use $androidproductoutqemuhardwareininnthe purpose of this autogenerated file is to contain all hardware configurationnrequired to properly launch a core from the ui further patches will get rid ofnspecial core commandline options eg androidgui and rely on the content ofnthis file by adding new hw propertiesnid
4744,usb gadget fmtp  block in mtpsendeventnnwe used to wait for the previous interrupt packet to complete before sendingnthe next packet but unfortunately the previous packet will not completenuntil usb is disconnected if the host is not listening on the interruptnendpoint which is the case with libmtp on linux and macnto avoid hanging indefely in this case we now simply return ebusynif the previous interrupt packet has not completed yetnnnedoffby mike lockwood
4745,when unarchiving install files that need x  need w toonid
4746,adding a conditional expression of whether  phonetypecdma or notn
4747,adjust audiomanagertesttestvolume to check for new silent vs vibrate behaviornnsince systemvibrateinsilent is not part of public api test has been changednto check that either vibrate or silent mode is active when volume is adjustednto zeronnrelated framework
4748,revert omap syslink cacheflush modifiednnthis reverts commit
4749,farewell magnetometer testnnthe test  work very wellnid
4750,arm  add camera pin muxingnnnedoffby erik gil
4751,arm msm make msmcameralegacydeviceplatformdata always availablennnedoffby iliyan malchev
4752,arm msm camera replace flashtype with a flash functionnnreplace the old flashtype with a pointer to a function that takes in a flashnlevel from  numflashlevelsnnnedoffby iliyan malchev
4753,making the audio buffer timeout dynamicn
4754,arm msm camera  check suspend flagnnnedoffby iliyan malchev
4755,arm msm add a needsuspend flag to the camerasensor info structnnwhen this flag is set in the board file then the  suspendresume codenis allowed to run otherwise suspendresume is a noopnnnedoffby iliyan malchev
4756,arm msm camera replace fields from msmpmemregion with a msmpmeminfonnnedoffby iliyan malchev
4757,watchdog omapwdt add  config optionnnuseful for when you want to use the watchdog without a daemonnnnedoffby san mehat
4758,tmodified  driver from  is now  driverntand the changes to platform device name and the config macrontneeds to be reflected in  filen
4759,arm msm camera  updatesnnnedoffby iliyan malchev
4760,tmodified   driver in  default for  in
4761,arm msm move fixed iomappings and vmallocend to  increases the total virtual footprint available for the  map and the vmalloc space from  to  which shouldnmuch improve things for hardware with  of ram discontiguousnram banks etcnnnedoffby brian swetland  dima zavin
4762,arm msm remove unused regions that were tagged as remapped in iomaphnnthese defines were marked as if iomem was being reserved for them atnialization but they were not actually in the msmiodesc list innioc and no users for these defines existnnnedoffby dima zavin
4763,add support for cambridge silicon  usb vendor idnnedoffby yuping luo
4764,fixed the issue that the same album gets duplicated in  we take a photo in camera and then go directly into gallerynalbum view by touching the folder icon twice located in the uppernleft corner of image review screen the same camera album isnbeing displayed twicennin this case the addmediaset is called twice with the same setidnand datasource which refers to the same camera album we avoidnthe same album being added into mmediasetsnid  madan ankapura
4765,fixes for testing the lowmin volume of the ringer for the audio manager testsnid
4766,frameworksbaseopengllibsegl modified egl context constructornnmodified the constructor to ialize the config parameternpreviously the variable would not be ialized in certain use casesnid
4767,fixed the issue that media sets still appear after deleting all albums in  we delete all media sets in  by selecte all andndelete basically making  empty through one shotndelete next time we enter  we can see delted albumsnare still therennthe cause of this issue is when the number of media sets becomesnzero eg after one shot delete the original logic skips checkingnfor any deleted sets we should check if there is any change in mediansets including the case it is totally gone regardless of the currentnnumber of media setsnid  madan ankapura
4768,noopnid
4769,frameworksbase fix to calculate correct seek position for wavnn trying to seek a wav file results in incorrect playbackn seek position for wav files in stagefright was hardcoded to  sampleraten modified wavextractor to calculate seek position based on the appropriate sampleratenid
4770,add hwkeyboardlidnnthis is used to control the lid switch virtual devicenn add support for a version  field to the skin formatn this will later be used for skin format  fix a bug where string hw properties  workcompilenid
4771,correct autodetection of default vm heap sizennthis patch removes the need for the m  core optionninstead the ram size is taken by default from qemuhardwareininnalso the default value of vmheapsize is no longer  it isnnow adjusted based on the ram size  valuesnn get rid of core lcddensity option use ini file insteadnid
4772,get rid of androidgui core optionnninstead pass all lcd configuration in qemuhardwareininn make the latter file mandatory to launch a core you can easilyn generate one by launching emulator  thoughnid
4773,apanic send magic sequence to suspend ramconsole before we start dumping threadsnnnedoffby san mehat
4774,add  relocation processing for modulesnnnedoffby dmitry shmidt
4775,ramconsole disable console capture upon receiving a magic sequencennnedoffby san mehat
4776,fixes the touch issues related to phone icon on the contactslistnnwhen phone icon in call log is long pressed after ending the callnthe touch events are not properly handled it feels as thoughnthe user clicked a wrong placenid  madan ankapura
4777,merge  from master to  do not mergennfix broken equals in new qualifiersnid
4778,handle ffffffff in attribute flag valuesnid
4779,fix parsing of the styleable enumflag attribute valuesnnbetter handling for hexa valu
4780,merge  from master to  do not mergennhandle ffffffff in attribute flag valuesnid
4781,video tegra dc fix several problemsnnresolve potential race between resume and resetnfix wmb after returnnid  andrei warkentin
4782,move tools and adt version to
4783,merge  from master to  do not mergennfix parsing of the styleable enumflag attribute valuesnnbetter handling for hexa valu
4784,sdk manager   was not selecting addon updatesnnfix sdk manager to correctly fetch the remote addon listnprior to starting an   this makes sure we picknup new addons or extra packages when availablennsdk bug
4785,fixed the select all issue in  issuesn  select all  select all videos and photos in one albumn  select all deselects some items previously selectednnthe problem is caused by the same ids in the image table and video tablenin database the id generation for each item is fine but we cannot usenid as the only criteria for the uniqueness of items if one image has thenid  in the image table and one video has the id  in the videontable and both of them happen to be in the same bucket then only onenwill be selected when we do select allnid  madan ankapura
4786,increase height and width of the status bar to accommodate higher resolution devicesnid
4787,arm  mux addfix various pin muxingnnnedoffby paul eastham
4788,fix broken equals in new qualifiersnid
4789,arm msm camera use the cameraflash function from the board filennalso remove configmsmcameraflash this is now configured automarically vianthe board filennnedoffby iliyan malchev
4790,fixed androidcom issues  and  ringtone change chang
4791,proc smaps allow smaps access for capsysresourcennnedoffby san mehat
4792,security add aidnetraw and aidnetadmin capability check in capcapablennnedoffby chiachi yeh
4793,streaming manager node modification to make feature specific plugins dynamically loadablen
4794,removed bashism using  syntax instead of a for andn
4795,arm msm camera fix a memory leak in  iliyan malchev
4796,arm  support rarmmovwabsnc and movtabs relocation typesnnfrom bruce ashfield  fully support the  instruction setoptimizations supportnfor the rarmmovwabsnc and rarmmovtabs relocation types isnrequirednnthe movw and movt are both loadimmediate instructions movw loads  into the bottom half of a register and movt loads  bits into thentop half of a registernnthe relocation information for these instructions has a full  bitnvalue plus an addend which is stored in the  immediate bits in theninstruction itself the immediate bits in the instruction are notncontiguous the register splits it into a  bit and  bit valuenso the addend has to be extracted accordingly and added to the valuenthe value is then split and put into the instruction a movw uses thenbottom  bits of the value and a movt uses the top  bitsnnnedoffby david borman  bruce ashfield  paul gortmaker  russell k
4797,fix for  buildn
4798,arm msm camera allow msmcamioctlregisterpmem to work with subrangesnnallow the user to register a subrange of a pmem buffer with the cameranframeworknnnedoffby iliyan malchev
4799,omx amr component reports numberofrolessupported as  role strings  audiodecoderamr  audiodecoderamrnb  audiodecoderamrwb but was supporting only  of them this fixes the component to support all three role stringsn
4800,osclmempoolresizableallocator has been modified to take into account the size specified via setmaxszfornewmempoolbuffer while expanding the mempooln
4801,streaming manager node modification to make feature specific plugins dynamically loadable minor additional chang
4802,net replace aidnetraw checks with capablecapnetrawnnnedoffby chiachi yeh
4803,use https for repo ment
4804,nedoffby wooseok jang  a screenconfiguration to supportedscreenconfigsnand fixed gridviewtesttestscroll to handle above changesnnadded a  normal screen layout size to supportedscreenconfigsnand enlarged testing instance of  size to big enough to handle  layoutnid
4805,netfilter add xtqtaguid matching modulennthis module allows tracking stats at the socket level for given uidsnit replaces xtownernif the uidowner is not specified it will just count stats based onnwho the skb belongs to this will even happen on incoming skbs as itnlooks into the skb like xtsocket to see who owns itnif an skb is lost it will be assigned to  control what sockets of what uids are tagged by what one usesn echo t $sockfd $accountingtag $thebilleduid n  procxtqtaguidctrln so whenever an skb belongs to a sockfd it will be accounted againstn $thebilleduidn and matching stats will show up under the uid with the givenn $accountingtagnnbecause the number of allocations for the stats structs is not that bign  apps  per  just do it atomic this avoids walking lists many times andnthe fancy worker thread handling slabs will grow when needed laternnit use netdevice and inetaddr notifications instead of hooks in the corendev code to track when a device comes and goesnnputs procfs dirs in procnetxtqtaguidn ctrln statsn  uid stats are obtainable in statsnnthe q stands for quota which this module has not yet evolved intonhandlingnid  jp abgral
4806,dded a screenconfiguration to supportedscreenconfigsnand fixed gridviewtesttestscroll to handle above changesnnadded a  normal screen layout size to supportedscreenconfigsnand enlarged testing instance of  size to big enough to handle  layoutnid
4807,added a screenconfiguration to supportedscreenconfigsnand fixed gridviewtesttestscroll to handle above changesnnadded a  normal screen layout size to supportedscreenconfigsnand enlarged testing instance of  size to big enough to handle  layoutnid
4808,document command to create macos disk imagenid
4809,nedoffby wooseok jang  a screenconfiguration to supportedscreenconfigsnand fixed gridviewtesttestscroll to handle above changesnnadded a  normal screen layout size to supportedscreenconfigsnand enlarged testing instance of  size to big enough to handle  layoutnid
4810,bionic add arm optimized strcmpnnreference results of the experiments on ti  at  mhznn$ benchstrcmp n  s  i  c coden prc thr usecscall samples errors cntsamp         optimized coden prc thr usecscall samples errors cntsamp         work was derived from arm ltd contributed to newlib and reworkednfor android by linaronid  jim huang
4811,make sure  folder is never derivednnthat would delete it when cleaning the project which is notngood since it takes a while to refresh and to recreate itnthrough the resourcemanagerbuildernid
4812,add regex library to the sourcesnnthis is needed to make sure that executable is independent fromnintricacies of the configurations in which it runsnid
4813,video tegra dc hdcp handle the case of devicecount   properlynnwhen hdcp repeater has no device attached devicecount reports back as  driver should handle this case as a good case and continue downstreamnauthentication other than fail itnid
4814,fix typo experimentalnid
4815,video tegra prevent double disable in suspendnnprevents hdmi detect worker from redisabling dc duringnsuspend after tegradcsuspend has disabled dc itselfnid  andrei warkentin  erik gil
4816,typo missing wordnid
4817,fix duplicate dependencies reported by sdk installernnthe issue was simply that when finding dependenciesnwe have several rules that overlap and we just neednto take the union of what we find for example annaddon needs to comply with both the iplatformdependencynand the iexactapileveldependency which is why it wasnerroneously listed twicennsdk bug
4818,add storagemanager testnnbug  from frameworksbasecoretestscoretestsnsrccomandroidservermountservicetestsjavannthe test used some private fileutil apis cts alreadynhas fileutils but under the testspermissions directorynand not for comandroidctsstub copy the fileutilsnimplementation from testspermission and add thenmethods used by the test the obbs were copied andntheir signatures were updated to be owned byncomandroidctsstubnid
4819,better documentation for hardware requirementsnid
4820,arm msm camera  add suspendresumennnedoffby iliyan malchev
4821,arm msm camera replace flashtype with a flash functionnnreplace the old flashtype with a pointer to a function that takes in a flashnlevel from  numflashlevelsnnnedoffby iliyan malchev
4822,fix for androidcom issue  insert method  get a theradid if the thread id i
4823,arm msm usb gadget configure endpoints properly in  a problem with fullspeed usb supportnnnedoffby mike lockwood
4824,arm msm camera  check suspend flagnnnedoffby iliyan malchev
4825,changes to support selecting only contacts with phone in pickactivitynrequires the changes innpackagesappscontactssrccomandroidcontactscontactslistactivityjavanid
4826,arm msm camera  sensor updatesnnnedoffby iliyan malchev
4827,update to add support for only selecting contacts with phones requiresnchanges in frameworksbaseapicurrentxml andnframeworksbasecorejavaandroidprovidercontactsjavan
4828,omap pm clear dma channel state after a wakeupnnclear dma channel states so that users can assume a known ial statennpicked up from linuxomap commit  aaro koskinen  singh vim
4829,arm msm camera  add suspendresumennnedoffby iliyan malchev
4830,arm msm htc remove htc specific connect notification from msmhsusb drivernnuse a callback function in the msmhsusb platform data insteadnadd usb connect notification to  gadget drivernnnedoffby mike lockwood
4831,arm msm camera add lookup for af buffersnnnedoffby iliyan malchev
4832,arm msm camera add more support for postprocessingnnnedoffby iliyan malchev
4833,arm msm camera  updatesnnnedoffby iliyan malchev
4834,revert cts fixes a possible out of memory exceptionnnthis reverts commit  causes the test to fail on nexus s so  revertingnthe change for gingerbread however it will be included inna future cts releasennadditional info from wuchengnthe change made the test faster if apps call setparametersnright after jpeg callback is received it will fail this isnnot a regression and i believe it does not impact usersnid
4835,custom listview layoutsnnthis changeset adds support for userconfigured layouts in listviewsnand expandablelistviewsnnthere is a new preview list content pullright menu when you rightnclick on a listview in the layout canvas the menu contains links tonconfiguren the layout to use for list view itemsn the layout to use as a headern the layout to use as a footern as well as a number of preconfigured framework layouts for commonn arrangements like  list  list checked list etcnnthe selected layout is persisted as an inline comment in the layoutnxml current bug when you drag elements around in the layoutncomment nodes are not preserved meaning you will lose your list viewnrender type as wellnnthis changeset also adds clear to the resource chooser which makesnit possible to clear a previously set value until this choosingnnothing would simply abort the selection this makes it possible tonremove a chosen headerfooternid
4836,net wireless  clean arp offload table on ip updatennnedoffby dmitry shmidt
4837,removing redundant null check it is done already as well as field is dereferenced abovenid
4838,adding test case of videosize in mediarecordertestnnthis test case it only tests image which is in qcifnnso hws which does not support qcif will return errornni modified to add multiple sizesnnand if designated size is supported in hw it will not return errorn
4839,fix menu editor such that it works for empty filesnnsome users have reported the ide hanging when they create menunresource files this happens if they create a plain file and namenit xml rather than using the new android xml file or new xml filentemplates the reason this happens is that the ialization code innthe menueditor ends up with unbounded recursion where thenialization code triggers itselfnid
4840,libstdc make operator new call abort on failurennthis change ensures that operator new will call abort in casenof memory allocation failure note that due to our usage of memorynovercommit this can only happen under very rare circumstancesnie trying to allocate memory larger than the larger free rangenof virtual address space or when memory is corrutped in variousnwaysnid
4841,net wireless  clean arp offload table on ip updatennnedoffby dmitry shmidt
4842,validate pretimestampposttimestamp for incremental ota updatesnnenforces the pretimestamp to be less then posttimestamp fornincremental update packagesnadds pretimestamp to the metadatanthis is to make sure the update package is built in such a waynthat the target was built only after the sourcenid  jie meng
4843,move getparsername into iprojectcallbacknid
4844,arm msm camera add codeaurora license and gpl boilerplatennnedoffby iliyan malchev
4845,tmodified  from  has been changed to  has few changes to name of platformdevice and in thentconfig macros in makefile kconfig so the relevant chagesntare brought into
4846,arm msm camera  add suspendresumennnedoffby iliyan malchev
4847,addedmodified to support superh architecturenntmodified simulatorwrapsimandroidmkn
4848,workaround for   silicon errata  patch includes the workarround for  errata  when an xrdyxdr is hit wait for xudf before writing data to dataregnnnedoffby jagadeesh bhaskar pakaravoor  by nishant kamat  moiz
4849,arm msm make msmcameralegacydeviceplatformdata always availablennnedoffby iliyan malchev
4850,arm msm  stub out functions when  not definednnnedoffby iliyan malchev
4851,arm msm camera  check suspend flagnnnedoffby iliyan malchev
4852,logn
4853,add internal loopback clock selection from mmc config datannnedoffby dmitry shmidt
4854,arm msm add a needsuspend flag to the camerasensor info structnnwhen this flag is set in the board file then the  suspendresume codenis allowed to run otherwise suspendresume is a noopnnnedoffby iliyan malchev
4855,removes mutex from statistics ioctls that blocknnissue the  is being used to serialize all  a problem bc two of the statistics ioctlsn vidiocprivateispaewbreqn vidiocprivateispafreqndo block and sometimes for significant timenntaking this mutex holds off many other ioctls that need to execute in a timely manner eg vidiocscropnnfix remove the mutex from around isphandleprivate and pass it into that function only using it for ioctls that  blocknnno reason for mutex protection has been identified in the blocking ioctls and thus believe it is safe to remove such protectionnnnedoffby dominic curran
4856,add elf related files and modify configuration files for superh architecturenntmodified corecombolinuxshmkntmodified coreconfigmkntnew file coreshlelfxntnew file coreshlelfxscnid
4857,net fix a potential deadlock while releasing pppolacpppopns socketnnppp driver guarantees that no thread will be executing startxmit afternreturning from pppunregisterchannel to achieve this a spinlock downlnis used in pppolacrelease pppunregisterchannel is called after skudpnis locked at the same time another thread might be running in pppolacxmitnwith downl thus a deadlock will occur if the thread tries to lock skudpnthe same situation might happen on skraw in pppopnsreleasennnedoffby chiachi yeh
4858,arm msm camera add codeaurora license and gpl boilerplatennnedoffby iliyan malchev
4859,arm msm camera add lookup for af buffersnnnedoffby iliyan malchev
4860,addedmodified to support superh architecturenntmodified readmetxtntmodified vmandroidmkntnew fil
4861,added superh atomic support to libcutilsn
4862,arm msm camera  updatesnnnedoffby iliyan malchev
4863,fix android application platform will crash problemnnif slide on password lock panel and repeatedly swith thisnpanel to lock panel with back button and powerhome buttonnthe android application platform will crashn
4864,avoiding a race condition in testonreceivediconnna race condition in thenandroidwebkitctswebchromeclienttesttestonreceivedicon test has beennavoided by putting a  delay between the call to micondbopendbpathnand the call to micondbremoveallicons in the public voidntestonreceivedicon method of the webchromeclienttest class in thenctsteststestswebkitsrcandroidwebkitctswebchromeclienttestjavanmodulenid
4865,support power offon with power buttonn
4866,net wireless  turn off packet filtering during dhcp sessionnnnedoffby dmitry shmidt
4867,fix compilation error invalid conversion from   to
4868,transition from clearsilver to jsilvernid
4869,difficult to bookmark history items on ldpiscreensnnadd a history item as a bookmark by touching the starnis difficult since the touch area of the star is of thensize of the star the problem is more apparent onnldpiscreens since the star is small and  hard to hitnwith a finger the browser loads the url of the historynitem if the star is missednnenlarging the touch area of the star to cover the wholenright part of the history item solves the problem thenuser  has to hit the star only the right part ofnthe history itemnid
4870,merge from mastern
4871,add jsilvern
4872,include  only if havebluetooth is definednid
4873,fix compilation error invalid conversion from   to
4874,this fixes two webkit bugs already fixed in the  memory corruption due to dangling ownernode pointer on jsstylesheetnobject  described by  integer overflow in handling of javascript array  this is a slightly smaller change than the one shown
4875,pm wakelock replace expire work with a timernnthe expire work function did not work in the normal casennnedoffby arve hjønnevåg
4876,fix compilation errorsnnskflippixelrefcpp skpixelrefregistrarregistrar reg names the constructor not the typenskimagerefglobalpoolcpp skpixelrefregistrarregistrar reg names the constructor not the typenid
4877,capture branch historyn
4878,build for  a few files in the system to use the macros introduced  in order to build for
4879,fix compilation error invalid conversion from   to
4880,introduce a new arm header file  a new header file containing armspecific featurentest macros eg armhavepairloadstore correspondingnto ldrdstrd instructions also modify a few files in ournsystem to use the macros in order to build for
4881,fix compilation errors in libmedia libstagefrightninvalid conversion from   to
4882,do not merge include open gl es version in report headernnbug  from froyo to add an entry in the report headernfor the open gl es versionnid
4883,adding jsilver codebasenid
4884,fix for truncated texts in power dialognnthe airplane mode status texts in the power dialog is truncatednfor certain languages such as greeknthis is due to hardcoded size values for the dialog itemsnthe solution is to change to dynamic sizing of the dialog itemsnnwe change from hardcoded values to wrapcontent and add thenprevious hardcoded size as a minheight attribute insteadnid
4885,fix compilation errornnfindcanvascpp  names the constructor not the typenid
4886,codeflinger correct misleading comment of stm instructionnnaccording to the arm architecture reference manual the comment onnstm instruction should be in reverse ordernid  kanru chen
4887,remove spurious filenid
4888,fix for building a shared library and changing permissionsnof files in  andn
4889,fix createddmssymlinks to create libs correctlynnadd git ignore files to avoid all build files from being submitted to gitn
4890,disable prelinking do not mergenid
4891,disable prelinking do not mergenid
4892,fix includedin overlay masknnwhen you show a view as included within another layout there shouldnbe a semitranslucent mask over the surrounding context this did notnwork in all cases in particular when there was no merge cookiennthis changeset makes it work in nonmergecookie scenarios as wellnid
4893,ipsectools build racoon xauth clientnnthis patch introduces the necessary build infrastructure to allownracoon to act as an xauth client specifically it adds the xauthnrelated source files to the build defines necessary macros includesnadditional header files and disables certain xauth server code suchnas accounting support which is not required for an xauth client nornsupported by bionicnid
4894,negative dns ip address fixnnthe dns server ip is stored in a  signed int thus no ip addressnbeyond  was allowed to be set as dns servernnthis change allows for dns servers to have any ip addresses  equivalent to  in a  signed intnid
4895,arm tegra set bit  in the  auxctrlnnduplicate catalin   arm  for vexpress to tegrannclearing bit  in the  auxiliary control register sharednattribute override enable has the side effect of transforming normalnshared noncacheable reads into cacheable noallocate readsnncoherent dma buffers in linux always have a cacheable alias via thenkernel linear mapping and the processor can speculatively load cachenlines into the  controller with bit  cleared noncacheablenreads would unexpectedly hit such cache lines leading to bufferncorruptionnid  gary k
4896,fix libpng build under cygwinnid
4897,mediaprovider catch outofmemoryerror when creating thumbnailsnnwhen creating image thumbnails the memory will sometimes run outnresulting in a javalangoutofmemoryerror with this change thisnerror will be caught so that a generic thumbnail placeholdernis used instead of the one we failed to creatennthe outofmemoryerror may be caused by unreasonably large andornbroken images rather than crashing the process the code nownlogs the error and resumes loading the next thumbnail in queuenid
4898,use picturelistener instead of delay when creating thumbnailsnnwhen a download of a bookmarked page has finished the browsernwill create a thumbnail of the page this was done after andelay of  ms to let the browser have time to create thenpicture of the page needed in order to create a thumbnailnthe delay would not guarantee that the browser was ready withna new picture which could result in picture of a blank pagenor wrong page now a picturelistener is instead added when thendownload is finished the picturelistener will receive annonnewpicture when the picture is available which will triggernthe creation of a thumbnailnid
4899,fix includedin overlay masknnwhen you show a view as included within another layout there shouldnbe a semitranslucent mask over the surrounding context this did notnwork in all cases in particular when there was no merge cookiennthis changeset makes it work in nonmergecookie scenarios as wellnid
4900,new projectn
4901,modify yuvimagetestjava cookiemanagertestjavanid
4902,video tegra nvmap eliminate armattriballocator dependencynnremove the dependency that nvmap has on the armattriballocatornand the lowmem in ptes change by adding a private page allocatornutility function and calling vmmapram unconditionally for allnsysmem handlesnnalso add kconfig variables to allow platforms to disallow thensysmem heap and to optionally restrict the sysmem and iovmmnheaps to just highmemnid  gary k
4903,build both the  and the arm versions of the emulatornid  bruce bear
4904,add qemu emulator bios filesnid  bruce bear
4905,revert arm mm add page allocator for modifying cache attributesnnthis reverts commit   gary k
4906,arm tegra add utility function to read spare fuse bitsnnspare fuse bits  and  are used to distinguish  tegra  from  chips this is needed on some platforms tondetermine whether or not  suspend should be enablednid  gary k
4907,and arm emulators have distinct pathsnid  bruce bear
4908,arm tegra ventana add platform data support for  platform data support for  for  ventana systemsnbut leave  as the default suspend state due to a drivernresume issue with usb otgnid  gary k
4909,ipsectools racoon introduce authentication method parameternnto permit future expansion of the set of authentication methodsnsupported by racoon an authentication method parameter is introducednas the first command line argument includes backward compatibilitynbased on argv sizenid
4910,add paris timezonenid
4911,add support for permissions and intents in declaration hyperlinksnngo to declaration hyperlinks now work for builtin intents andnpermission references such asn         to the declaration will open a browser tab in the editornshowing the relevant documentation for the given intentpermissionnnif sdk documentation is installed with the sdk manager then it willnlocate the locally installed documentation and otherwise it willnpoint to the corresponding page under developerandroidcomnnthis changeset also improves handling of references to services andnactivities in addition to supporting the short form a dot followednby the base name it now also handles fully qualified names and justnbasenamesnid
4912,update the eclipse plugin readme with new instructions on how to compile the pluginsn
4913,added horizontal scrolling supportn
4914,crash when powering offnnfixing a race condition if confirm is true and the shutdownndialog is shown it may take some time before the user presses thenok button during this time a new call to shutdown may be made  when this happens the shutdown thread is started bynthe second call and later when the users presses the ok button thisnresults in shutdownthreadbeginshutdownsequence being calledntwice ie the beginshutdownsequence lacks the proper protectionnfor this error casenid
4915,monkey crash nullpointerexception in webtextviewnngetlayout may return null if text or width has recently changednthis fix
4916,integrate  in  do not mergennfix aidl buildnnthe aidl output location was notncomputed anywherennalso added logging codenid
4917,emulatorui fix windows build behaviour not testednid
4918,adttests unit test for gre nodefactorynid
4919,fix aidl buildnnthe aidl output location was notncomputed anywherennalso added logging codenid
4920,remove iswatchingcursor  always assume iswatchingcursor is always false alternateninputmethodmanager implementations may return truenid
4921,adttests add externaleasymock to the classpathnid
4922,update  abi infonid  bruce beare  lu hongjiu
4923,verify preinstalled apps  have debuggable setnnfix bug  it is a security hole for applications tonship with debuggable set make sure we warn people about thisnid
4924,net wireless  increase pmumaxtransitiondly to  secnnnedoffby dmitry shmidt
4925,revert build arm and  binaries at the same timennthis fails to build on macos xnnthis reverts commit
4926,notificationmanager droiddoc documentation improvementsnnspecifically corrects and improves the overview and the documentationnfor the notificationmanagernotifystring int notification methodnto reflect the fact that the pair tag id is used for notificationnmatchingnid
4927,ipsectools improve error reporting if unable to create key socketnid
4928,net new ifacestat module to monitor persistent network statsnnadding a new module that tracks the number of bytespackets transferednby a network interface even after the interface has beennremoved this is relevant to track the total data usage in mobilendevices whose interfaces are added and removed quite frequently wifinbluetooth  is done only for devices that are configured with a validnip address check to exclude virtualloopbacktunnel interfacesnid  ashish sharma
4929,telephony update the mcc table for indiannthe operator’s id mnc  displayed correctly  cutoff to only  digits this is a problem when creatingnnew  because this information is not known to the most usersnthat means that after the creation of a new apn the mnc codenwill be wrong only the first  digits are retrieved from thentable and the user will not be able to access the internetnid
4930,vpnservices supply authentication method parameter to racoonnnthis patch causes vpnservices to supply the new authenticationnmethod parameter when invoking racoonnid
4931,do not merge eclair systemfeatures testnnbug  the test from froyo but removed the tests that used featurenconstants not present in eclairnid
4932,net new ifacestat module to monitor persistent network interface statsnnadding a new module that tracks the number of bytespackets transferednby a network interface even after the interface has beennremoved this is relevant to track the total data usage in mobilendevices whose interfaces are added and removed quite frequently wifinbluetooth  is done only for devices that are configured with a validnip address check to exclude virtualloopbacktunnel interfacesnnnedoffby ashish sharma
4933,make projectwide locale and render target settingsnnthis changeset makes the locale and render target settingsnprojectwide meaning that whenever you change the locale or thenrender target the given locale or render target will be shown in allnlayouts from the same project that you switch tonnthe locale and render target combo boxes are moved in to the top linenof the configuration chooser and the dock mode and daytime modentoggles are moved to the second line such that the projectwidensettings are on the first line and the layoutspecific settings are onnthe second linennnow whenever you switch to a new language and open a differentnlayout the language of the new layout will be forced to the currentnlocale the only exception to this is for localespecific layouts ifnyou create a specific layout for a given locale then that layout willnalways be shown using its own locale regardless of the projectwidensettingnid
4934,emulatorui fix crash on exitnn remove netcleanup call in qemumain it is not needed since then corresponding function only deals with the virtual lan managementn and was causing build issues on some machinesnid
4935,group ctsverifier tests into categoriesnnspecify a metadata attribute for testcategory to group testsnunder categories if the attribute is left out then the testnwill be put under the other category in the listnid
4936,disable prelinking for this module only instead of globallynid
4937,cts test expected release version updatednncommentntest androidosctsbuildversiontesttestreleaseversionnnthe build platform release is set to  and the test isnlooking for an expected release of  the cts test case was failingnnthis patch will update the expected release version to   solaiyappan saravanan
4938,arm  add software downsampling for recorded data fixesnndownsamplingn add ioctls to downsample recorded datan supported frequencies are    and  downsamping to stereo and monon default is  mononnfixesn fix crashes from dequeuing dma requests twicennnedoffby iliyan malchev
4939,rename qemuandroid to qemuandroid$targetarchnnthis makes it easier to distinguish between the arm and  versionsnof the programnid
4940,manifest for
4941,avoid crash in system server when mounting containernna race condition when mounting a container in packagehelper may causenthe systemserver to crash uncaught exception calling methods arenprepared to handle null so return null insteadnid
4942,reattach header view after dpad scrollnna header view that was scrolled off screen using the dpad would not benreattached properly when scrolled back into view due to the flagnrecycledheaderfooter solved this by using detachviewfromparentninstead of removeviewinlayout compare tonabslistviewtrackmotionscrollnid
4943,keep subactivity state up to date when activitygroup is restartednnactivitygroup did not forward onrestart onstart events to itsnsubactivities this could lead to a situation where a subactivitynwas visible but did not draw itself since it had not been restartednin addition this change solves a crash in the browser bookmarknactivity where code in onactivityresult depends on the activity tonbe restarted added a test case to verify this particular scenarionin general we still cannot guarantee a particular call ordernid
4944,fix camera preview in emulatornnas the  format is deprecated the  texture manager does no longer support displaying the  image generated by the fakecameranin order to reactivate the camera preview in the emulator the  format is usednnthis should fix issue  stefan diewald
4945,suggest application and activity name in new project wizardnnthis changeset tweaks the new android project wizard such that thenapplication name and the activity name fields are automaticallynpopulated with some reasonable defaultsnnthis is done by syncing the project name while it is being edited tonthe application name and to the activity name plus activitynalso if the application name is manually edited it will also bensynced to the activity namennnote that as soon as a text field is manually edited it will nonlonger be updated when the project name is editednnfurthermore selecting a target in the sdk target chooser will set thenapi level of the chosen target as the minimum sdk in the min sdk valuenfieldnid
4946,add getviewbaseline to the layoutlibrary classnid
4947,android formal release version doew not support  very perfectlywe have done some work in the following files to let android eclair support  and also it need to open the  switch in the kernel we have validated the  feature in the moto  and samsung  it run oknnedoffby david dong
4948,fixing concurrency issue on iccphonebookinterfacemanagernnall the readsupdates methods are synchronous calls that relynon an unique lock object in order to wait for the asynchronousnsimcard operations to complete and return appropriate resultsnnconcurent calls to these methods will cause errors when onencompleted operation will unlock all waiting calls generatingninconsistent results on some of the method callsnid  david sobreira marqu
4949,sdk manager fix extra package update detectionnncherry picked from commit
4950,batteryservice set bool to true if sysfs entry is not  the musb to recognized as online the musbonline valuenhas to be set the battery driver sets the online propertynof the sysfs as  when the charger type is usbnnthe way the current code is if the value is not  would be false and the menu to mount thensdcard on the pc would not popupnnsince the linux driver returns  if the cable is notnconnected and  if the cable is connected we shouldnset the boolean variable to  only if the sysfs valuenis  otherwise we set it to truenid  axel haslam
4951,verify preinstalled apps  have debuggable setnnfix bug  it is a security hole for applications tonship with debuggable set make sure we warn people about thisnid
4952,added a screenconfiguration to supportedscreenconfigsnnadded a  normal screen layout size to supportedscreenconfigsnid
4953,arm attriballoc fix outer cache flush end addressnnwhen allocating uncached pages the outer cache should be flushednthe end address should be specified in bytes not in pagesnid  gary k
4954,added a screenconfiguration to supportedscreenconfigsnnadded a  normal screen layout size to supportedscreenconfigsnid
4955,setting time zone might cause processes to have different time zonesnnif you set the default time zone during heavy load of the systemnjava processes listening to actiontimezonechanged might notnget the new time zone  the time zone is stored in a static variable that value is basednon a system property setting a new time zone triggers allnprocessess to reset the static variable by fetching from the systemnproperty but sometimes the system property has not been populatednyet causing processes to reset the static variable with the oldnvaluennsolution add param with the new time zone when updatingnall  updating the process default time zone is posted to a bindernthread while the broadcast of actiontimezonechanged is postednto main if the binder thread is busy the broadcast mightnget handled on the main thread before the time zone is updatednnsolution make sure that the time zone is updated before callingnonreceivenid
4956,cts host logging fixesnnclean up all occurrences of logging empty error messagesnid
4957,usb gadget android support switching vendor id when configuration changesnnbased on the list of enabled usb functions we can now switch the vendor idnas well as the product idnnnedoffby mike lockwood
4958,ensure folderwrapper only lists files and directoriesnnthis matches the description of the original filelist betternand avoid us seeing nonfile objects that we  deal withneg pipes etcnid
4959,dismiss context menu before removing extractedittext viewnnwhen an extractedittext context menu is opened from fullscreen inputnmode its view hierarchy is attached to  windownif the orientation is changed the menu will loose focus and becomenunresponsive in addition the select word option will cause annexception after orientation change by dismissing the dialog earlynboth problems are avoidednid
4960,fix drag and drop of unselected itemnnif you have no selection and start dragging a view nothingnhappens this fixes this such that when dragging begins the item younare dragging becomes selected this also works where you have anselection and you start dragging some other nonselected itemnid
4961,fix cts host unit testsnid
4962,telephony support for setupeventlist proactive commandnnthese changes provide support for setupeventlist proactive commandnref etsi t
4963,update buildversiontest for
4964,remove iswatchingcursor  always assume iswatchingcursor is always false alternateninputmethodmanager implementations may return truenid
4965,sdk manager fix filelistfilesnnthis fixes a couple instances of filelistfiles thatnwere not validating that either a the file is a directorynor b the list is not nullnnthis also adds a couple tostring methods to some reponclasses which are nice when debuggingnid
4966,sdk manager fix to suggest platformtools installnnthe way the updater currently works it will onlyngenerate the sourceprops of a new package based on thenattributes it knows from that package that means meanntools  is updating tools it will not add the propernminplatformtoolsrev to the new tools  packagennwhen update all is selected we try to do  new thingsn make sure to lool at local existing packages forn potential missing dependencies and suggest them forn installn if a package  have a minplatformtoolsrev setn suggest the higest revision availablenid
4967,qemu emulator bios files empty versions replace with the real onesnid  bruce bear
4968,add  qemunid  bruce beare  jun nakajima
4969,qemu emulator is the default build targetnid  bruce beare  jun nakajima
4970,add  version of emulator replaces vbox installernid  bruce beare  jun nakajima  emulator build mk filesn
4971,arm tegra ventana remove bug in setchargennnedoffby gary k
4972,misc kerneldebugger fix handlesysrq callnid  todd poynor  erik gil
4973,merge branch  into
4974,video tegra nvmap only allow allocations out of highmemnnlow mem pages are allocated in larger super pages and their cachingnattributes  be controlled on a per page basis this patchnforces nvmap to map out of highmem pages which are guaranteed to havenpage mappingsnid  rebecca schultz zavin
4975,add  version of emulator replaces vbox installernid  bruce beare  jun nakajima  emulator build mk filesn
4976,build arm and  binaries at the same timenid
4977,rename emulatorconfigxxx to userconfigxxxnid
4978,check for platformtools presencenid
4979,emulator fix nowindow flagnid
4980,revert arm mmu add option to map lowmem with page mappingsnnthis reverts commit
4981,androidconfiguresh fix  optionnn fix localgeneratedsources handlingn fix missing library dependencies for executablesn move generated library files to objslibs instead of objsnid
4982,elff remove unneeded qemucommonh includennthe elff library  really depend on anything qemuspecificnthis will allow us to use it in other projects laternid
4983,fs efi convert  partition names to   todd poynor
4984,updated errorshendianh to work on freebsd new macrondefions havesysendianh havenoenodata havetimedoutnsee  for  updated executablepath to be aware of buffer overflow innexecutablepathlinuxcpp added same function for freebsdn
4985,fix orientation context menu for linearlayoutnnif you open a linearlayout where the orientation has not beennspecified in xml then the context menu will say that the orientationnis vertical but visually the layout is actually horizontal thendefault value for linearlayout is documented to be horizontalnid
4986,revert arm mmu add option to map lowmem with page mappingsnnthis reverts commit
4987,fix mediastoreaudioplaylistsmemberstestnnbug  brittle test of the getcontenturi with tests that check thenformat of the uri the test marked with needs investigation seems tonwork fine nowso remove the annotation for itnid
4988,add unit test to sdkuilib updaterdatainstallarchivesnnthis adds or changes no functionalitynit just exhibits the bug from issue  which willnbe fixed in the next clnid
4989,save value of local variable for autoconfmkn clearvarsmk would clear these variables and it is invoked for eachn target filen so they are saved before invoke clearvarsmkn
4990,fix contactspeopletestnnbug  some incorrect column indices and queriesnid
4991,usb ehci tegra align dma transfers to  bytesnnthe  usb controller  properly deal with misaligned dmanbuffers causing corruption this is especially prevalent with usbnnetwork adapters where skbuff alignment is often in the middle of  dwordnnto avoid this allocate a temporary buffer for the dma if the providednbuffer  sufficiently alignednnnedoffby robert morel
4992,fix issue of dependency for autmakemknnit is cuased by misunderstanding semantic of variable expansion fornrule commands in previously it assumes that variable expansion ofnrule commands is happening when the defions of rules are executednso the variable would be replaced by the value of referenced variablesnin the time but the expansion seems performed just before commandsnbeing executed for that rule in another word after make decide tonrun that rule so the result of expansion is not like what it expectednbeforennit is fixed by evaluate the rule commands when the defion of rulesnare runningn
4993,usb hcd add driver hooks for unmapurbfordmannprovide optional hooks for the host controller driver to override thendefault dma mapping and unmapping routines in general these  necessary unless the host controller has special dma requirementsnsuch as alignment contraints if these are not specified thengeneral usbhcdunmapurbfordma functions will be used insteadnalso pass the status to unmapurbfordma so it can know whether thendma buffer has been overwrittennnfinally add a flag to be used by these implementations if theynallocated a temporary buffer so it can be freed properly when unmappingnnnedoffby robert morell  alan stern  greg kroahhartman
4994,fix dependency issuen
4995,usb hcd add usbhcd prefix to exported functionsnnthe convention is to prefix symbols exported from the usb hcd core withnusbhcd this change makes unmapurbsetupfordma andnunmapurbfordma consistent with thatnnnedoffby robert morell  alan stern  greg kroahhartman
4996,do not include path parts of binary in the module namen
4997,salvage broken contactstestsnnbug  was failing for a number of reasons it was queryingnfor a column called shouldsync that while shown as part of thenapi as groupsshouldsync  returned legacyapisupport  this column in its sgroupprojectionmap it also  seemnto include all the columns inherited from syncconstvaluennnext it was failing on the update call because  update the name column finally the delete  seem tonwork because the row is marked as deleted but not actually deletednand the query method  seems to check for that flagnntestphotostable has similar issues of querying the sync columnsnremove the code that tries to update the peoples table whichnsupposedly causes the photos table to be updated  have code to update the photos table after updating peoplesntablenid
4998,touch mkdone after make being successfullyn
4999,ensure that canvas zoom is nonzeronnensure that the canvas zoom is always greater than zero this is ansafeguard against a scenario where the compute best fit code runsntoo early where the swt window bounds are  and the wrong value getsncomputednid
5000,merge remote branch  into manualmergen
5001,cache resource resolver and manifest infonnthis changeset adds caching of the resourceresolver in the layoutneditor such that it can be reused for successive rendering requests asnlong as the configuration does not changennit also adds caching of the manifest icon and label these areninvalidated whenever the manifest file is updated and savednid
5002,net reorder incoming packets in pppolac and pppopnsnnppp handles packet loss but does not work with out of order packetsnthis change performs reordering of incoming data packets within ansliding window of one second since sequence number is optionalnreceiving a packet without it will drop all queued packetsnncurrently the logic is triggered by incoming packets so queuednpackets have to wait till another packet is arrived it is done fornsimplicity since no additional locks or threads are required fornreliable protocols a retransmission will kick it for unreliablenprotocols queued packets just seem like packet loss timecriticalnprotocols might be broken but they never work with queueing anywaynnnedoffby chiachi yeh
5003,video tegra fix more unplugsuspend timeout in nvhdcpnid  erik gil
5004,net reorder incoming packets in pppolac and pppopnsnnppp handles packet loss but does not work with out of order packetsnthis change performs reordering of incoming data packets within ansliding window of one second since sequence number is optionalnreceiving a packet without it will drop all queued packetsnncurrently the logic is triggered by incoming packets so queuednpackets have to wait till another packet is arrived it is done fornsimplicity since no additional locks or threads are required fornreliable protocols a retransmission will kick it for unreliablenprotocols queued packets just seem like packet loss timecriticalnprotocols might be broken but they never work with queueing anywaynnnedoffby chiachi yeh
5005,pixelflinger provide more scanline shortcut functionsnnthis patch adds a dozen more shortcut scanlineprocessing functionsnto pixelflingers all of them avoid using the jit for the correspondingnoperation on arm or using the generic and extremely slow  on  where there is no jitnnthe shortcuts were selected by running the system under emulationnbuild  then launch  and correspond tonoperations that are in use when using the  typical ui featuresnnthis makes it much more responsive and amenable to testing mostnapplications at least those that  use opengl es heavilynnnote that hw opengles emulation is under completion and should solve thisnproblem entirely though is not there yetnid
5006,play ringtone picker previews through the music streamnnthe previous behavior was to always play the ringtone through thenspeaker as is the case when the phone is actually ringing however itnis safe to assume that the user is actually at the device whennpreviewing ringtones obviating the need to play though the speaker andnpotentially causing embarrassment when using headphonesnnfixes aosp issu
5007,copy constructor videoframe does not copy all instance variablesnid
5008,make extract include search in all filesnnthis changeset makes the extract include refactoring search not justnthe configurationvariations of the layout it was invoked on but itnwill look for semantically identical xml fragments in all layouts innthe same project and will offer to replace each one of them with thennew includenid
5009,support for lte network modesnn cleanup of code related to network modes in settingsjavanid
5010,support for lte network modesnid
5011,make a symbolic link for shared objects suffixed by version numbernn the version number suffix is removed from the symbolic linkn
5012,make layout editor margins compress when necessarynnif there  enough room to show the margins make the marginsnsmaller this gives more useful layout room when you are dealing withnlarge screensnid
5013,merge commit  into freebsdportn
5014,merge commit  into freebsdportnnconflictsntcoredroiddocmkntenvsetupshnnmerge conflict was related to updating of envsetupshsgrepnand droiddocmk in part related to javaversion which choosesnexact version of jre in freebsdn
5015,install apnsconfsdkxml if no other apnsconfxml is specifiednnthis should make data work in generic emulator buildsn
5016,merge commit  into freebsdportn
5017,sdk manager fix install order of packagesnnthis makes sure that the installer install allnpackages with less or no dependencies firstnnsdk bug
5018,fixing aborts caused by computefbupdaterectlinear when the framebuffersnare large also added a boot parameter for the goldfish kernel to use pitnrather than tscnid  jun nakajima
5019,fix extract as includenntwo fixes for extract as  after extracting the view fragments from the source layout saven the layout file this is necessary in order to make the shown included in functionality work on the newly extracted fragmentn since the includefinder which identifies candidates for inclusionn is triggered by file saves not buffer edits and secondly evenn the show included in facility itself requires the outer buffer ton be a saved file not an edited buffer since the parser reads fromn  insert a space after the closing quote in the include string thisn could lead to broken xml in some instancesnid
5020,usb host tegra cleanup before sending upstreamnnnedoffby benoit gobi
5021,fix mac buildnid
5022,really fix the mac buildnndamnednid
5023,added missing duration field to database record insertionnnthis addresses aosp google code issue  an audio recording sample is saved to the mediandatabase attributes like audio title are stored in andatabase record however the duration of the samplenwas not being stored therefore an application thatnqueried attributes for a sample would get an incorrectnrecord the record would contain a default duration  ms the fix was to add the recorded  lengthnto the list of attributes put into the database recordnnote that the  length is in seconds and had tonbe converted to milliseconds as described in thendocumentation for the duration audio columnnnthis bug could have been prevented if the databasenschema for duration audio column required a nonnullnvalue with no defaultnid  sahil verma
5024,add string extension to iptablesnnit seems to me that it had been missing from androidmk inadvertentlynit compiles and works correctlynid  gergely nagi
5025,add string extension to iptablesnnit seems to me that it had been missing from androidmk inadvertentlynit compiles and works correctlynid  gergely nagi
5026,fix for bug  constructor intentfilterstring action string datatype ignores the action parameternthis change ensures that it is correctly added to the set of actionsn
5027,change logging api used by itaskmonitornnitaskmonitor is used by the sdk manager to displaynstatus information and progress bar for asynchronousntasks eg fetching sources downloading and installingnpackagesnnthis changes the way text is logged by the monitornthere used to be one setresult method which historicallynwas designed to report  final message eg installncompleted but then this was actually used to addnongoing logging so in this change the monitor  replacement methods log logerror and logverbosenwhich gives us more flexibility in controlling whatngets displayednnas a side effect this fixes unittests from sdklibnthat relied on previous output that changed in anrecent clnid
5028,fix audiotrackproperties testnnthe return value of the trackgetnativeframecount is dependentnon the chipset and for chipsets which use  buffers almost alwaysnthis test case fails as the native frame count ends up being  whichnhappens to be less then   madan ankapura
5029,fix when there are nonenglish character keymapnnwhen devices use nonstandardenglish charmap setnto default it causes the test to fail so we switchnthe ime editor by sending the sym key before the testnbeginsnid  madan ankapura
5030,croatian keyboard layout and polished localizationnnkeyboard layout based on croatian keyboard layout but with exceptiionnof keys đ and ž placed in bottom row instead of original  and  to make nicer layout slightly polished few syntaxes innstringsxmlnnedoffby drazen navratil
5031,croatian dictionary for  sure whare to upload i hope it will find  way to proper locationni described here  how i created it in depthnid  drazen navratil
5032,arm tegra usbphy cleanup before sending upstreamnnnedoffby benoit gobi
5033,telephony fix cb sms implementationnid
5034,delete broken audiomanagertesttestmutesolonnbug  is not a way using the public api to determine what streams cannbe muted so remove the broken testnid
5035,msm add snddriver device list for halibutnnnedoffby iliyan malchev
5036,delete flakey createsocket testnnbug  sure how this could be improvedwithout deleting itnid
5037,use a sapphirespecific kernelnnwe  have a shared dreamsapphire kernel any morenid
5038,only explicitly support the donut radio for nownnthere are too many incompatibilities between radiosnthat  safer to stick with a single confignid
5039,issue  log reporting wrongnid
5040,remove shared dreamsapphire kernelnnthey now need separate kernelsnid
5041,merge from froyonid
5042,new implementation for  availableprocessorsnnthis patch adds a native implementation for availableprocessorsnreplacing the hardcoded always return  implementationnnit uses sysconfscnprocessorsonln to get the number of onlinenprocessorsnnnedoffby christian bejram
5043,recent calls log enhacement featurenid
5044,patch fix for sizeof taken on array instead of first element of arrayn in sysconfcnnthe function lineparsergetc lineparser p read  characters ofninput for each invocation but increased the position pointer in thenbuffer by only one character this caused the lines to be read to bensampled more than parsednnthis was caused by taking the sizeof of  instead of the firstnelement of the array  this patch fixes thatnid
5045,defect   text field disappears after the attachmentnid
5046,use a kernel specifically for dreamnnrecent sapphire kernels  support dream any morenid
5047,update libaudio to new snddriver ioctlsnnnedoffby iliyan malchev
5048,support custom themes with alertdialogbuildernnadd a constructor to alertdialogbuilder with a  parameter sonthat eg the buttons in a dialog built with alertdialogbuilder cannbe themednid
5049,new implementation for  availableprocessorsnnthis patch adds a native implementation for availableprocessorsnreplacing the hardcoded always return  implementationnnit uses sysconfscnprocessorsonln to get the number of onlinenprocessorsnnnedoffby christian bejram
5050,from johan norberg  mon  may    fix issue with multiple insmod parameters only the first parameter was handled correctlynid
5051,fix build cpufeatures is armspecificnid
5052,telephony dial emergency phone numbers when screen is lockednnwith this change the emergency dialer with take a number fromnthe intent and use this as the first number of an emergencynnumbernid
5053,added classpath entries for the cts projectsnnnow we have them in the eclipse classpath this makes writing unittestsna lot more easier since eclipse shows warnings and errors on developingnwhen they are not in the classpath the errors will only be shown on makenid
5054,telephony dial emergency phone numbers when screen is lockednnthe current implementation do not allow dialing emergency phonennumbers with the qwertykeyboard when the screen is lockednnthis contribution will automatically start the emergency dialernif a valid digit ie  is entered from the qwertynkeypad when the screen is locked the emergency dialer appearsnprefilled with the first entered digitnid
5055,updated errorshendianh to work on freebsd new macrondefions havesysendianh havenoenodata havetimedoutnsee  for  updated executablepath to be aware of buffer overflow innexecutablepathlinuxcpp added same function for  updated aapt makefile to perform linkage with pthread  updated utils makefile to use  due to usage of  that  exist when  usedn
5056,revert add  target changesnnsince ics  has a newer toolchain gcc  workaround should be removednnthis reverts commit
5057,cosmetic change removed empty linen
5058,some changes to perform ial building steps on  added applyfreebsdpatches and applyplatformpatches defionnin defionsmk to process paths to interpretators at file headersnfrom binbash to usrlocalbinbash that allows keep source treenunchanged and shared with main repositary updated shell variablento proper value if system is  added  with some tuning of variables for  added new hostos type  freebsd some related  findjdktoolsjar now can guess path to toolsjar on freebsdn
5059,only check  if targetarch is armnnit only makes sense to check  if the arch is armnnthis patch is required to enable chrome http stack on
5060,enable  supportnid
5061,usb gadget add support for otgnnbased on work by nvidiannnedoffby benoit gobi
5062,msm add snddriver device list for troutnnnedoffby iliyan malchev
5063,merge branch  into  iliyan malchev
5064,merge branch  into
5065,added macro defions to  enclosed include of  to preprocessor directivesn
5066,adb remove unneeded assignment of id to zeronn as memory was already obtained  by callocnid  andré goddard rosa
5067,transition from clearsilver to jsilvernid
5068,adb check for allocation failure before dereferencing pointernn when obtaining  address from remote socket allocationnso that fatal routine can be invoked instead of adb segfaultnid  andré goddard rosa
5069,adb clean up   null for pointersnid
5070,arm mmu add option to map lowmem with page mappingsnnadd a kernel configuration to map the  lowmem pages using ptenmappings rather than the default behavior of  section mappingsnon  processors to support allocating pages with dmacoherentncache attributes the cache attributes specified in the  must match cache attributes specified for other mappingsnto ensure that this is the case the  attributes must benspecified on a perpage basisnnto avoid problems caused by the mm page table allocations exceedingnthe available ial memory when this config is enabled lowmem isnially mapped using sections matches current behavior then remappednusing pages after bootmem is ializednid  gary k
5071,added testcases for arrayadapter add and addallnid
5072,arm tegra fiq debugger fix compile with fiq debugger disablednid  colin cross
5073,adb optimize socketlistwalking codenid  andré goddard rosa
5074,remove mention of layoutoptuix as they are gonen
5075,observer for gps is never added backnnmsettingsobserver will be added only once to mcontentquerymap on first startnbut if you bring activity back to top it will not be added any morennnedoffby vladimir baryshnikov
5076,added new documents for opencore modified the readmento include a reference to the documentsn
5077,eliminate a compiler warning signedunsigned lengthnid
5078,saving projectproperties now keeps existing file and replaces valuesnid
5079,arm dmamapping add support for innerwriteback pagesnnadd support for pages allocated with the innerwritebacknallocation attribute to the cache flush and dma cache maintenancencodennpages allocated from the attribute page allocator with the innernwriteback attribute selected can bypass outer cache maintenancensince outer cachelines will not be allocated for these pagesnthis results in a significant reduction in the time spent performingncache maintenance for these pagesnid  gary k
5080,arm mm add memory type for innerwritebacknnfor streamingstyle operations eg software rendering of graphicsnsurfaces shared with noncoherent dma devices the cost of  cache maintenance can exceed the benefit of having the larger cachenthis is particularly true for outercache configurations like the  change uses the currentlyunused mapping     the tex remapping tables as an innerwritebackwriteallocate outernnoncacheable memory type so that this mapping will be available tonclients which will benefit from the reduced  maintenancenid  gary k
5081,net activitystats fix compile errornid  mike chan
5082,arm mm add page allocator for modifying cache attributesnnarm cpus with speculative prefetching have undefined behaviors when thensame physical page is mapped to two different virtual addresses withnconflicting cache attributesnnsince many recent systems include iommu functionality ie remappingnof discontiguous physical pages into a virtuallycontiguous addressnrange for io devices it is desirable to support allocating anynavailable os memory for use by the io devices however since manynsystems do not support cache coherency between the cpu and dma devicesnthese devices are left with using dmacoherent allocations from the osnwhich severely limits the benefit of an iommu or performing cachenmaintenance which can be a severe performance loss particularly onnsystems with outer caches compared to using dmacoherent memorynnthis change adds an api for allocating pages from the os with specificncache maintenance properties and ensures that the  mappingnof the page reflects the desired cache attributes in line with  architectural requirementsnid  gary k
5083,arm tegra add individual base addresses for pwm controllersnid  gary k
5084,arm tegra clocks add support for  divider for   colin cross
5085,arm tegra enable arm errata  workaround for tegra  preserve the diagnostic register across cpu power transitionsnid  gary k
5086,arm tegra clock add entries to pllm tablenid  erik gil
5087,arm add workaround for   erratumnnunder rare circumstances a dmb instruction between  writesnmay not ensure the correct visibility ordering of the  writesnto other observers this is most likely to reproduce by codentaking and releasing a semaphore with the result that annexternal agent may observe the semaphore release before thenpayload data is visiblennthe workaround disables dmblite operation by setting bit  the undocumented diagnostic register this causes dmbnoperations to behave like dsbnid  gary k
5088,added vendor id for httpwwwonthegovideocomnid
5089,video tegra add gpu memory management driver nvmapnnnvmap provides an interface for user and kernelspace clients tonallocate and access memory handles which can be pinned to enablenthe memory to be shared with dma devices on the system and maynalso be mapped using callerspecified cache attributes so thatnthey are directly accessible by the cpunnthe memory handle object gives clients a common api to allocate fromnmultiple types of memory platformreserved physically contiguousncarveout memory physically contiguous order   os pagesnor physically discontiguous  os pages that can be remappedninto a contiguous region of the dma  virtual address spacenthrough the tegra iovmm subsystemnnunpinned and unmapped memory handles are relocatable at runtimenby the nvmap system handles may also be shared between multiplenclients allowing for example a window manager and its clientnapplications to directly share framebuffersnid  gary k
5090,sdk manager support for platformtoolsnsn fixed dependency platformtoolpackage was made to dependn on itself oops it should have been toolpackagen load platformtool from xmln specify sorting order of platformtool in listn compute a platformtool has a dependency for tool packagen added a totally impressive icon for the new platformtool packagen update the schema comments to explicitely indicate what is newnid
5091,busses  set bus speed in platform datanid  colin cross
5092,serial tegrahsuart fix receive dma rts timeout and tx triggernnialize baud rate and configuration settings to safe default valuesnwhen receive dma is in use so that the dma request may be enqueued atnialization timennreenqueue the receive dma buffer immediately it is dequeued by thendma threshold callback and the receive isr rather than waiting for thendma complete callbacknnoriginally fixed by gary king  tx trigger level settingnnon tegra uart the fcr setting for different tx trigger levelnis not same as the  tx trigger level setting the tegranuart have the setting in reverse direction on tx fifo  for  bytes attention  for  byte attention  for  byte attention  for  byte attention levelnnthe rx trigger attention level match with the standard uartnfcr register setttingsnnalso fixing the typo in code when setting dtrnoriginally fixed by laxman dewangan ldewangannvidiacomnid  jay cheng
5093,adt editor for exportproperties in exportprojectsnnthis is an ial framework that needs to be refinednid
5094,arm tegra dma use use irqsave spinlocks fix overrun syncnnsometimes due to high interrupt latency in the continuous modenof dma transfer the half buffer complete interrupt is handlednafter dma transferred the full buffer in this case sw dma statenand hw dma state is out of sync when out of sync detectednstopping dma immediately and restarting the dma with next buffernif next buffer is readynnoriginally fixed by victorweiguo pan  place of using the simple spinlockspiunlock in theninterrupt thread using the spinlockirqsave andnspinunlockirqrestore the lock is shared between the normalnprocess context and interrupt contextnnoriginally fixed by laxman dewangan ldewangannvidiacomnid  jay cheng
5095,moved block and some hw files to emulator core librarynid
5096,arm tegra clocks increase max frequency of uart clocksnid  colin cross
5097,busses  fix bus clock ratenid  colin cross
5098,msm mmc increase default max clock speed to  san mehat
5099,explicitly switch back to the donut  the most recently available radio that works on dreamnid
5100,adt multiapk export actionnnthis is a first step with no uinnstill neededn handling signingn add control to how apkbuilderhelper handles errors to preventn output to the console during exportnid
5101,report unwhitelisted root processesnnbug  for unwhitelisted root processes and report them in the ctsnresults device summary this ially was designed to be partnof a unit test but the processes vary too much across devicesnid
5102,use file instead of string concatenation to build pathsnnthis prevent the case where the root folder  terminatednwith a file separatornnusing the file object is much safernid
5103,avoiding a race condition in testonreceivediconnna race condition in thenandroidwebkitctswebchromeclienttesttestonreceivedicon test has beennavoided by putting a  delay between the call to micondbopendbpathnand the call to micondbremoveallicons in the public voidntestonreceivedicon method of the webchromeclienttest class in thenctsteststestswebkitsrcandroidwebkitctswebchromeclienttestjavanmodulenid
5104,add a  method to ddms testrunnernid
5105,creating the applicationnid
5106,enable mingw option in androidconfigureshnnthis should ease testing of the windows build during developmentnid
5107,new api to control the phone applicationnn new api in telephonymanager to control incoming and outgoing calls inn the phone appn implementation of the api by using a proxy for the ril class noten that this is an ugly way to implement this it is meant to helpn understand and test the api proposalnnthis patchset is not meant to be merged but is the basis for andiscussion in the androidplatform mailinglistnid
5108,refactor most of the apkbuilder into a separate helper classnnthe eclipse incremental builder will call the helper as willnthe multiapk export code that is not an eclipse buildernid
5109,arm tegra add tegracamera device name to associated clocksnid  rebecca schultz zavin
5110,add icon to export projectnid
5111,add camerainterface library for dreamnnnedoffby iliyan malchev
5112,testn
5113,update msmaudioh with latest snddriver apinnnedoffby iliyan malchev
5114,fix issue with invisible recurring appointmentsnnfixes that recurring appointments goes invisiblenwhen hit by the failsafe limitnnthere is still a hard limit in recurrenceprocessornbut at least this limit is applied on a pereventnbasis meaning that  always possible to creatennew recurring appointments without them going invisiblenid
5115,androidconfig define havepthreadsetnamenpnnit indicates if the underlying libc provides pthreadsetnamenpnid  andré goddard rosa
5116,support various types of animation gifnnoriginal code only supports an animation gif whose frames arenall same size and all same color format this modification supportsnvarious type of animation gif specified in
5117,copyright message changedn requested by android open source projectn
5118,add qualcomm usb vendor id to adb and fastbootnid  ajay dudani
5119,kernelheaders update extcontrols   hans verkuil  to    introduce string control supportnnnedoffby pavan savoy
5120,call from simnnwhen trying to call a number on the sim for example by dialing  code does not make a distinction between order and positionnon the sim the contacts are sorted which is wrong and any emptynpositions are removed positions can be empty on a sim this meansnthat trying to make a phone call this way will lead to users dialingnthe wrong numbernnan api to load sim positions has been added to solve the issuenid
5121,call from simnnwhen trying to call a number on the sim for example by dialing  code does not make a distinction between order and positionnon the sim the contacts are sorted which is wrong and any emptynpositions are removed positions can be empty on a sim this meansnthat trying to make a phone call this way will lead to users dialingnthe wrong numbernnan api to load sim positions has been added to solve the issuenid
5122,added a permissions dialog to the development appnnthis dialog shows all permissions from all installed appsnand the apps which are using themnwhen you click on a child entry app you will be redirectednto the installedappdetailsnid
5123,adt refactor androideditor into androidxmleditornnnext  introduce a new androidtexteditor base classnid
5124,added an addall to the arrayadapternnit behaves the same as arraylistaddall sincenthe object containing the objects in the adapternis a list now you can add multiple objectsnat once instead of looping over a collectionnand add all items one by onenunittests will be submitted to the cts projectnid
5125,bt the phone  wake up when trying to pair with itnnto improve the pairing request usabilityn in the case where a notification shall be used the standardn notification sound is addedn when the screen is off notification is always usednid
5126,merge branch  into cdmaimportnn mastern remove nowdefunct  entries from the manifestn remove hardcoded branch constantnnconflictsntdefaultxmln
5127,remove hardcoded branch constantnnrepo  and later do not use this attribute anymorenand instead base their decision off the upstream branchnname that the manifest was cloned fromnnnedoffby shawn o pearc
5128,added libaudioso and librpcso to the list of files extracted from the phone it is possible the  is supposed to build these but that build seems broken nownnwith these libs in place make  completes successfullyn
5129,enhance android classpath containernid
5130,handle intentvalueiccunused value to update sim statusnnif nv is used in cdma icc card is not used in global mode phonesnwhen user enables and disables airplane mode sim card could be shutdown whichnmight cause no simno ruim message to pop up on the screen even though thenphone is in cdma using nv hence simstatechanged message should be ignorednwhen phone is using nvnnduring icc card status change if the radio state is nvready thennactionsimstatechanged intent will be broadcasted with intentvalueiccunusednvalue if the intent value is intentvalueiccunused keyguardupdatemonitornwill update the sim state as ready and the lock screen will be updated withnnormal status instead of sim missingnid
5131,arm tegra smp add barrier before raising gic ipi irqnnsince the gic registers are device memory and the ipi data isnstored in normal memory a simple dmb is insufficient to ensurenthat the data will be visible to the ipireceiving processornprior to the ipi handler runningnid  gary k
5132,when icc card is not used broadcast sim state changed intent accordinglynnif nv is used in cdma icc card is not used in global mode phonesnwhen user enables and disables airplane mode sim card could be shutdown whichnmight cause no simno ruim message to pop up on the screen even though thenphone is in cdma using nv hence simstatechanged message should be ignorednwhen phone is using nvnnduring icc card status change if the radio state is nvready thennactionsimstatechanged intent will be broadcasted with intentvalueiccunusednvaluenid
5133,adt gle unit testsnnthere  as much as would want to hereni need to refactor the rulesengine to make it more testablenthe major block is that it uses the static adtplugin to findnthe groovy files path and that  exist in the utnid
5134,fix adttests broken by last adt  attributedescriptor changenid
5135,ctsverifier test result infrastructurennadd a testresult class that allows test activities to set theirnfinishing results as either pass or fail reflect the pass ornfail status in the  test list this is donenvia a contentprovider that reads and writes to a database withnthe testlistadapter listening for changesnnuse the new api in the suid files test as an example the othernactivities should be able to be easily adjusted to use the apinjust call testresultsetpassedresult or setfailedresult duringnsome time in the activity before you finishnid
5136,remove debug printfsnid
5137,stdio make compiler happy by removing   warningsnntarget thumb c libccommon  bioniclibcstdioclrerrcnbioniclibcstdioclrerrc in function  warning implicit declaration of function  warning implicit declaration of function  thumb c libccommon  bioniclibcstdiogetccnbioniclibcstdiogetcc in function  warning implicit declaration of function  warning implicit declaration of function  thumb c libccommon  bioniclibcstdioputccnbioniclibcstdioputcc in function  warning implicit declaration of function  warning implicit declaration of function   andré goddard rosa
5138,tweaking and movingnid
5139,locationmanagerservice persist lastknownlocationsnnupdated locationmanagerservice to check every  seconds while there is anlistener registered for an active location provider if anynlastknownlocations have changed it writes them out to an xml filennon startup it ializes the last known locations for thenproviders from the xml file it has writtennid
5140,npe in folderdecoraternid
5141,dalvik use pthreadsetnamenp to set the name of the current threadnnintroduced originally in bionic   andré goddard rosa
5142,allow multiple pmem master mmapsnnnedoffby jamie genni
5143,fix npe when comparing project export properties with api split  falsenid
5144,fix missing dependency in the sdklib manifest improved error reportingnid
5145,fixed issue  remove hardcoded setfocusabletrue from imagebuttonnnimagebutton focusability is already set to true by the default stylenapplied to itnid
5146,allow reports to be automatically submitted when force close is hitnnthis is a useful setting for preproduction buildsnnalso make  ctor public to allow theneasy reconstruction of a report outside the frameworknid
5147,do not merge test for checking opengl es versionnnbug  from froyo cts since there is nonseteglcontextclientversion method in eclair i used the  code from the ndk project to switch the glsurfaceviewnto use open gl es  froyo
5148,net wireless  disable packet filteringnnnedoffby dmitry shmidt
5149,fix for  to handle failure for androidjnictsjnistatictesttestreturnchar callabis was not returning unsigned shorts correctlynid
5150,arm tegra irq include suspendhnid  colin cross
5151,separate emulator build into three parts core lib ui lib and the executablenid
5152,adds the ability to android to iate a  digit callnnover here the phone number to the switchboard is  tryingnto call  on an android device dont work as expected itnworks on other devices thoughnnexception  to call iation isn if the user of the device is already in a call and enters an short string without any key at the end and the length ofn the short string is equal or less than  the phone shalln iate a ussdss commandsnnexception  to call iation isn if the user of the device enters one digit followed by then key this rule defines this string as the string whichn is a ussdss command the phone shall iate a ussdssn commandsnid
5153,arm tegra gpio include suspendhnid  colin cross
5154,arm tegra dma include suspendhnid  colin cross
5155,arm tegra suspend add suspendh headernngets rid of externs in suspendcnid  colin cross
5156,arm tegra clock add values to plld tablenid  colin cross
5157,arm mahimahi add support for sony tft panelnnnedoffby iliyan malchev
5158,arm tegra suspend use irq wake flag to set wake padsnid  colin cross
5159,arm tegra clock include suspendhnid  colin cross
5160,arm tegra pinmux include suspendhnid  colin cross
5161,defined emulatorcorecflags and emulatoruicflagsnid
5162,remove debug tracesnid
5163,fix the windows buildnnit looks like the  linker has some issues with winmain being in a static librarynid
5164,fix dx launching script to use the new platformtools locationnid
5165,arm mahimahi add support for sony tft panelnnnedoffby iliyan malchev
5166,net wireless bcmdhd add sdlock to firmware loadingnnnedoffby dmitry shmidt
5167,cpufreq interactive support shared cpu scalingnid  todd poynor
5168,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnthis is workaroundnid  sunghyun kwon
5169,nx test should not fail on   is only required on hardware that supports it  doesnnot support nx so  even try running the test if we detectnthat conditionnid
5170,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnthis is workaroundnid  sunghyun kwon
5171,net wireless bcmdhd fix watchdog syncronization during startstopnnnedoffby dmitry shmidt
5172,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnthis is workaroundnid  sunghyun kwon
5173,mfd  add software power off controlnnsystem can be shutdown from userspace by populatingnpmpoweroff hook for the platformnnthe hook is  specific herenid  vikram pandita
5174,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnthis is workaroundnid  sunghyun kwon
5175,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnthis is workaroundnid  sunghyun kwon
5176,net wireless bcmdhd fix wakelock symmetrynnnedoffby dmitry shmidt
5177,clarify vold  exploitable when no sd card existsnid
5178,net wireless bcmdhd ignore error if scan results are emptynnnedoffby dmitry shmidt
5179,added and modified bionic code to support superh architecturenn modified libcandroidmkn new files libcarchshbionicn new files libcarchshincluden
5180,workoncpu rewrite it to create a kernel thread on demandnnimpact circular locking bugfixnnthe various implemetnations and proposed implemetnations of workoncpunare vulnerable to various deadlocks because they all used queues of somenformnnunrelated pieces of kernel code thus gained dependencies wherein if onenworkoncpu caller holds a lock which some other workoncpu callbacknalso takes the kernel could rarely deadlocknnfix this by creating a shortlived kernel thread for each workoncpuninvokationnnthis is not terribly fast but the only current caller of workoncpu isnpcicallprobennit would be nice to find some other way of doing the nodelocalnallocations in the pci probe code so that we can zap workoncpunaltogether the code there is rather nasty i  think of anythingnsimple at this timenncc ingo molnar  andrew morton  rusty russell  san mehat
5181,arm msm nand add bad block check to readnnnedoffby arve hjønnevåg
5182,workqueue avoid recursion in  lockdep will complain when runworkqueue performs  the recursive implementation of runworkqueue means thatn flushworkqueue and its documentation are inconsistent this mayn hide deadlocks and other  the recursion in runworkqueue will poison  butn flushwork and cancelworktimer etcetera need a reliablen  lai jiangshan  oleg nesterov  peter zijlstra  ingo molnar  frederic weisbecker  eric dumazet  rusty russell  andrew morton  linus torvalds  san mehat
5183,added syscalls for superh which automatically generate by gensyscallspyn
5184,kernelposixcputimersc fix sparse warningnnsparse reports the following in kernelposixcputimerscnn warning symbol  shadows an earlier onennnedoffby h hartley sweeten  subrata modak   ingo molnar  san mehat
5185,modified syscallstxt to support superh architecturen
5186,epoll keyed wakeups add wakeuplockedkey and wakeupsynckeynnthis patchset introduces wakeup hints for some of the most popular fromnepoll pov devices so that epoll code can avoid spurious wakeups on itsnwaitersnnthe problem with epoll is that the callbackbased wakeups do not atmncarry any information about the events the wakeup is related to so thenonly choice epoll has not being able to call  from inside thencallback is to add the file to a readylist and resolve the real eventsnlater on at epollwait or its own  time this can causenspurious wakeups since the wakeup itself might be for an event thencaller is not interested intonnthe rate of these spurious wakeup can be pretty high in case of manynnetwork sockets being monitorednnby allowing devices to report the events the wakeups refer to at leastnthe two major classes pollinpollout we are able to spare uselessnwakeups by proper handling inside the  poll callbacknnepoll will have in any case to call  on the file later onnsince the change to be done in order to have the full event set sent vianwakeup is too invasive for the way our  system works thenfull event set is calculated inside the poll function there are too manynof them to even start thinking the change also pollselect would neednchange toonnepoll is changed in a way that both devices which send event hints andnthe ones that  are correctly handled the former will gain somenefficiency thoughnnas a general rule for devices would be to add an event mask by usingnkeyaware wakeup macros when making up poll wait queues i tested itntogether with the  poll fix patch andrew has in mm and wakeupsnfor the supported devices are correctly filterednntest program available herennhttpwwwxmailserverorgepolltestcnnthis patchnnnothing revolutionary here just using the available key that ournwakeup core already support the wakeuplockedkey was no brainernsince both wakeuplocked and wakeuplockedkey are thin wrappersnaround wakeupcommonnnthe wakeupsync function had a body so the choice was betweennborrowing the body for wakeupsynckey and calling it fromnwakeupsync or make an inline and calling it from both i chose thenformer since in most archs it all resolves to mov $ reg jmp addrnnnedoffby davide libenzi  alan cox  ingo molnar  david miller  william lee irwin iii  andrew morton  linus torvalds  san mehat
5187,modified kernel headers regenerate tools to support superh architecturen
5188,media video omap add  video out drivernnthis is a modified version  of the driver  evm board support was removed from original patchnnfollowing are the features  provides  user interface for the video pipelines of  basic streaming working on lcd and  support for various pixel formats like yuv uyvy    supports alpha  supports color keying both source and  supports rotation with  and  pixels  supports  supports background color  works on latest  library from   scaling added detail testing  ioctls needs to be added for color space conversion matrixncoefficient  to be tested on dvi resolutionsnncomments fixed from   driver for   conversion of the custom ioctls to standard  ioctls like alpha blendingncolor keying rotation and back ground color  reorganised the code as per community  added proper copyright  added module name in  kconfig option copypaste  module param desc  query control implemented using standard  rearranged ifelse  changed to use mutex instead of  removed dual usage of rotation  implemented function to convert the  angle to dss  yposition was set half by video driver for tv outputnnow its done by dss so removed  minor  added support to pass the page offset to  minor  added support to pass the page offset to  renamed  to  major comment from hans  copy right year  added module name for each errorwarning print messagens from previous  supported yuv  supported  rebased line with  latest  master branch with commit  kconfig option removed to select between the tv and lcdnnow supported dynamically by   kconfig option for the ntscm and palbdghi mode but notnsupported by  so it will not work  command line arguments added to allocate and deallocate the vrfbnbuffers at time this is to avoid the defragmentation  bunch of comments fixed reported by hans verikulnon version  of the drivernnnedoffby brijesh jadav  hardik shah  vaibhav hiremath
5189,reparentthread  call killorphanedpgrp if taskdetachednnif taskdetachedp  t then eithernn a p is not the main thread we will find the group leader on then  listnnornn b p is the group leader but its   exitdead thisn can only happen when the last subthread has died but in that casen that thread has already called killorphanedpgrp fromn exitnotifynnin both cases killorphanedpgrp looks bogusnnmove the taskdetached check up and simplify the code this is alsonright from the common sense pov we should do nothing with the detachednchilds except move them to the new   listnnnedoffby oleg nesterov  roland mcgrath  eric w biederman  andrew morton  linus torvalds  san mehat
5190,dowait fix waiting for the group stop with the dead leadernndowaitwstopped assumes that  must be  taskstopped this isnnot true if the leader is already dead check signalstopstopped insteadnand use  testcasenntvoid tfuncvoid argntnttpausenttreturn nullntnntint mainvoidntnttpthreadt  null tfunc nullnttpthreadexitnullnttreturn   react to z and then to c or the task is stopped butnbash  see thisnnthe bug is very old and it was reported multiple times this patch was sentnmore than a year ago  but it was ignorednnthis change also fixes other oddities but not all in this area fornexample before this patchnnt$ sleep  stopped sleep $ strace p pidof sleepntprocess  attached interrupt to quitnnstrace hangs in dowait because  was already consumed bynbash after this patch strace happily proceedsnnt sigtstp stopped    resuming interrupted call  me this looks much more natural and correctnnanother example  suppose we have the main thread m and subthreadnt the process is stopped and its parent did waitwstopped now we cannptrace t but not m this looks at least strange to mennimho dowait should not confuse the perthread ptrace stops with thenperprocess job control stopsnnnedoffby oleg nesterov  denys vlasenko  eric w biederman  jan kratochvil  kaz kylheku  michael kerrisk  roland mcgrath  ulrich drepper  andrew morton  linus torvalds  san mehat
5191,media video omap new  supportnnnedoffby erik gil
5192,reparentthread fix a zombie leak if sbin ignores sigchldnnif sbin ignores sigchld and we reparent a zombie it is leakednreparentthread does donotifyparent which sets    innthis case this means that nobody except us can reap it the detachedntask is not visible to dowaitn reparentthread to return a boolean like pthreaddetach tonindicate that the thread is dead and must be released also changenforgetoriginalparent to add the child to ptracedead list in thisncasennthe naming becomes insane the next patch does the cleanupnnnedoffby oleg nesterov  roland mcgrath  eric w biederman  andrew morton  linus torvalds  san mehat
5193,media video omap change  driver config option to  erik gil
5194,reparentthread fix the is it traced checknnreparentthread uses ptracereparented to check whether this thread isnptraced in that case we should not notify the new parentnnbut ptracereparented is not exactly correct when the reparented threadnis traced by sbin because forgetoriginalparent has alreadynchanged  the only problem is the false notification but with the nextnpatch the kernel crash in this yes pathological casennnedoffby oleg nesterov  roland mcgrath  eric w biederman  andrew morton  linus torvalds  san mehat
5195,mm prevent divide error for small values of vmdirtybytesnnavoid setting less than two pages for vmdirtybytes this is necessary tonavoid potential division by  like the following in getdirtylimitsnn  divide error   preempt smpn  last sysfs file   cpu   modules linked in pcspkrn  pid  comm dd not tainted    rip     rsp  eflags   rax  rbx  rcx   rdx  rsi  rdi   rbp                     fs     cs  ds  es                          process dd pid  threadinfo  task   stackn                 call tracen                                         code               af    ee               ee    af            ac         af    ea   rip    rsp   end trace  nnnedoffby andrea righi  peter zijlstra  david rientjes  dave chinner  christoph lameter  andrew morton  linus torvalds  san mehat
5196,media video omap ial dsi supportnnnedoffby erik gil
5197,mm fix procdointvecuserhzjiffies breakagennaddresses    jiffiestoclockt converts time in a somewhat strangenway from the  point of viewnnt echo   cat  we have  jiffies converted to only  clock ticks and reportednbacknnticknsec     inkernel variable in units passed from userspace will fix issuenof course but this probably  be right for every sysctlnnakpmlinuxfoundationorg codingstyle fixesnnedoffby alexey dobriyan  peter zijlstra  nick piggin  andrew morton  linus torvalds  san mehat
5198,avoid adding forwardlock flag to updated system appnnconsider the following casen an app exists in systemapp or vendorappn if it is updated as a forwardlock app by downloadn then installed in dataappprivaten and moreover if it is updated by the whole system imagenthen the system app  be added forwardlock flagnid
5199,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnid  sunghyun kwon
5200,update  for better compatibilityn
5201,fix qemu vnc startupnnstarting the emulator with something like qemu vnc  result in a valid boot sequence due to the way ournhwcontrol service is ializednnthis patch fixes the issue note however that since a vnc clientncannot send proper touch events it can only be used as a viewernat the momentnid
5202,add support for getting partitiondevice sizenid  sebastian rasmussen
5203,systembininput text  now sends all text to the device even if it contains spacesnid
5204,ban setuid or setgid tcpdump on devicesnndisallow a setuid or setgid tcpdump from appearing on devicesntcpdump can be used by programs to monitor all traffic into and outnof the phone potentially compromising private datanid
5205,netfilter have ipt reject set the sock err when an icmp is to be sentnnallow the reject rejectwith icmpblabla to also set the matching errornlocally on the socket affected by the rejectnthis allows the process to see an error almost as if it received itnvia icmpnit avoids the local process  ingress packet is rejected to have tonwait for a pseudoeternity until some timeout kicks innnideally this should be enabled with a new iptables flag similar ton rejectwithsockerrnfor now it is enabled with configipnftargetrejectskerr optionnid  jp abgral
5206,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnthis is workaroundnid  sunghyun kwon
5207,tweak prelink mapnid
5208,cocoa implementation for swtmenubarnnnote that in the android sdk tools we shipn swt in  with carbon onlyn swt in  with cocoa onlynnthe previous implementation was carbononly and thenmenus were basically not  when running onna recent mac from the commandline this missingnimplementation fixes itnnafter experimenting with various implementations ofnthe original swt cocoamenuenhancer i finally settled withnthis one since it solely uses reflection and does notnimport anything from the swtcocoa namespace this meansnwe can easily build this using the makefile which onlynlinks with the  version of swtjarnnnote that on windowslinux the srcdarwin folder willnbe ignored which is why it is not mapped as a sourcendirectory and which is why we  build this directlynfrom eclipsenid
5209,modify droiddoc generation to avoid find errorsn the code in droiddoc generation to avoid errors from findnthe sdk and target builds hand different paths to droiddoc onenwith localpath set the other without droiddoc then prependsnlocalpath this change checks to make sure  not alreadynthere before prependingnthe second find error calls find on a directory that may bennonexistent this change  invoke find on the directorynif the directory does not existnid
5210,workaround for sometimes generated random call on clicked a call button in the call lognnif a user releases a call button when the call log is redrawnnby the contacts information sometimes wrong number is callednby a cached view with unordernso on clicking a call number is used not a number in current cached viewnbut a number in a view at a touched momentnthis is workaroundnid  sunghyun kwon
5211,libsysutils socketlistener handle recv errors more  close the socket when ondataavailable returns false if the socketnis connectionlessnid
5212,give the user a   button when pin code fails at bt pairnnwhen pairing with bluetooth you are entering a pin code but ifnthe pin is wrong you are presented with an error dialog and whennpressing the ok button you will have to find your bluetoothndevice again in the ui list in order to retry a big americannoperator wants to have a retry button in the error dialog tonease the process when you insert wrong pin code thus startingnthe pairng dialog again when you press retrynid
5213,arm   add  as fm enable gpio to  pavan savoy
5214,bluetooth do not call rfcommsessionput due to rfcomm ua on closed socketnnprocessing a rfcomm ua frame when the socket is closed and we were not thenrfcomm iator would cause rfcommsessionput to be called twice duringnrfcommprocessrx this would cause a kernel panic in rfcommsessionclosennthis could be easily reproduced during disconnect with devices such asnmotorola  that send rfcomm ua followed quickly by  disconnect requestnthis hcidump for this looks    acl data handle  flags  dlen   cid  len  psm  rfcomms disc cr  dlci  pf  ilen  fcs    hci event number of completed packets   handle  packets    acl data handle  flags  dlen   cid  len  psm  rfcomms ua cr  dlci  pf  ilen  fcs    acl data handle  flags  dlen   cid  len  psm  rfcomms disc cr  dlci  pf  ilen  fcs    hci event number of completed packets   handle  packets    acl data handle  flags  dlen   cid  len  psm  rfcomms ua cr  dlci  pf  ilen  fcs    acl data handle  flags  dlen   disconn req dcid  scid  calling rfcommsessionput twice by skipping this callnin rfcommrecvua if the socket is closednnnedoffby nick pelli
5215,revert bluetooth fix kernel panic while disconnecting rfcommnnthis reverts commit  this fix did not address the unbalanced rfcommsessionputncall and panics during this disconnect sequence with moto    acl data handle  flags  dlen   cid  len  psm  rfcommd uih cr  dlci  pf  ilen  fcs                 ciev    hci event number of completed  plen  handle  packets    acl data handle  flags  dlen   cid  len  psm  rfcomms disc cr  dlci  pf  ilen  fcs    hci event number of completed  plen  handle  packets    acl data handle  flags  dlen   cid  len  psm  rfcomms ua cr  dlci  pf  ilen  fcs    acl data handle  flags  dlen   cid  len  psm  rfcomms disc cr  dlci  pf  ilen  fcs    hci event number of completed  plen  handle  packets    acl data handle  flags  dlen   cid  len  psm  rfcomms ua cr  dlci  pf  ilen  fcs    acl data handle  flags  dlen   disconn req dcid  scid    acl data handle  flags  dlen   disconn rsp dcid  scid    hci event number of completed  plen  handle  packets    hci event disconn complete  plen  status  handle  reason  reason remote user terminated connectionnnnedoffby nick pelli
5216,modified webkit to support superh platformnntmodified javascriptcorewtfplatformhntmodified webcoreplatformtextatomicstringcppn
5217,posix timers fix rlimitcpu  forknnsee  copies  but rlimitcpu is lost becausenposixcputimersgroup sets cputimeexpiresprofexp   and thusnfastpathtimercheck returns false unless we have other cpu timersnnthis is the minimal fix for  tested and  the patch is notnoptimal we need further cleanups here with this patch updaterlimitcpunis not really needed but i  think it should be removednnthe proper fix i think isnnt setprocesscputimer should just start the  logic it does no need to change cputimeexpiresxxxexpnnt posixcputimersgroup should set  when needednnt fastpathtimercheck can check  instead ofnt  peter lojkin  oleg nesterov  peter zijlstra  roland mcgrath   for   ingo molnar  san mehat
5218,added and modified libdl to support superh architecturen
5219,sched timers move calcload to schedulernndimitri sivanich noticed that xtimelock is held write locked acrossncalcload which iterates over all online cpus that can cause longnlatencies for xtimelock readers on large smp systemsnnthe load average calculation is an rough estimate anyway so there isnno real need to protect the readers vs the update  not a problemnwhen the avenrun array is updated while a reader copies the valuesnninstead of iterating over all online cpus let the schedulertick codenupdate the number of active tasks shortly before the avenrun updatenhappens the avenrun update itself is handled by the cpu which callsndotimernn impact reduce xtimelock write locked section nnnedoffby thomas gleixner  peter zijlstra  san mehat
5220,added headers for superh which automatically generate by updateallpynnbase on kernel  archshincludeasmn
5221,posixcputimersexitgroup do not use threadgroupcputimernnwhen the process exits we  have to run new cputimer nornuse running one as it not accounts when    get process cpu times as there is only one thread we cannjust use cpu times fields from task and signal structsnnnedoffby stanislaw gruszka  peter zijlstra  roland mcgrath  vitaly mayatskikh  andrew morton  ingo molnar  san mehat
5222,added and modified linker to support superh architecturen
5223,sched timers cleanup avenrun usersnnavenrun is an rough estimate so we  have to worry aboutnconsistency of the three avenrun values remove the xtime lockndependency and provide a function to scale the values cleanup thenusersnn impact cleanup nnnedoffby thomas gleixner  peter zijlstra  san mehat
5224,added and modified libm to support superh architecturen
5225,sched remove unused fields from struct rqnnimpact cleanup new schedstat abinnsince they are used on in statistics and are always set to zero thenfollowing fields from struct rq have been removed yldexpemptynyldactempty and yldbothemptynnboth sched debug and schedstatversion versions has also beennincremented since abis have been changednnthe schedtop tool has been updated to properly handle new version ofnschedstatnn httprtwikikernelorgindexphpschedtoputilitynnnedoffby luis henriques  gregory haskins  peter zijlstra   ingo molnar  san mehat
5226,modified to support superh architecturen
5227,make the adb connected notification nonpersistent  useful but asna persistent notification it takes up too much space especially fornusers who are actively developing on their devicen
5228,modify elfutils androidmk to support superhn
5229,modify the power control widget to usenpowermanagersetscreenbrightnessoverride instead ofnhardwareservicesetbrightnessnnthis is due to a bug where the method in hardwareservice turns on allnlights and does not reset any sort of timer on them so they stay onn
5230,switch back to mksh as the defaultnid
5231,merge  from master to  do not mergennadd cpumodel to avd running  system imagesnid
5232,add dependency generation to aapt for rjavannmake aapt generate a dependency file in the location specifiednby rclassdir for rjava if the generatedependencies flag is setnthis dependency file is then read by the ant exec loop tasknto see whether to recreate rjavanid
5233,add dependency checking to ant tasksnnthis change adds a basetask class that has built in mechanismsnfor querying whether the  dependencies have changed it doesnthis by managing a dependencygraph class which represents a setnof targets and their prerequisites and can test to see if an updatencondition has occurrednid
5234,add  checking for darwinnndetect byte endianness when compiled in  mode in mac os x  leopard environments or above allows compilation of host binariesnin these environments without any changes from its default stocknconfigurationnnthis change  require that the binaries be built in  but itndoes allow this one could still use gccselect  with the  sdkninstalled on snow leopard to compile in  modenid
5235,config enable pppopns for vpn and remove unused ipsec optionsn
5236,arm omap mmc add support for  controllernnnedoffby madhusudhan chikkature  dmitry shmidt
5237,forward compatibility with new python set modulennbeginning with python  the  module is deprecated this changenwill attempt to check if  is already imported if not it will fallnback to previous behavior for python  httpdocspythonorgdevlibrarysetshtmlmodulesetsnid
5238,force  for qemu build on mac os xnnthe android build of qemu forces sdk  but  specify a gccnversion this works fine for mac os x   but fails for
5239,arm   add platform data and use  driver for btnnnedoffby pavan savoy
5240,arm msm camera  color tuning update ae flashing fixnnnedoffby iliyan malchev
5241,bluetooth ensure that hci sysfs adddel is preempt safennuse a different workstruct variables for addconn and delconn andnuse single work queue instead of two for adding and deleting connectionsnnit eliminates the following error on a preemptible kernelnn  unable to handle kernel null pointer dereference at virtual address   pgd       internal error oops   preemptn  modules linked in vfat fat rfcomm sco  sdmod scsimod iphb  drm omaplfb psn  cpu  not tainted    pc is at   lr is at   pc  lr  psr   sp  ip  fp                            flags nzcv irqs on fiqs on mode  isa arm segment kerneln  control  table  dac   process btdelconn pid  stack limit   roger quadros  marcel holtmann
5242,supporting new  device modelnnthis patch  changes in  to supportn i  new device modeln ii gpio code cleanup to make it more architecture independentn iii changed pixel clock to avoid underflow when you enablenmirrorn iv hfb vfb hbp vbp changed according nec   added  panel lcdenable and disable codenii added omapvout to support omap  added gpio coden
5243,fix issue  no interleaving to  files for just one tracknnthe patch efficiently reduces latency when playing pure video filesnwhile they are recorded tests showed that pure video contents arenok files with audio and video are unchangedn
5244,bluetooth increase timeout for legacy pairing from  seconds to  secondsnnlegacy pairing is a bit of a problem because on the incoming end it isnimpossible to know pairing has    hci event connect request  plen  bdaddr  class  type    hci command accept connection request  plen  bdaddr  role  role    hci event command status  plen  accept connection request  status  ncmd    hci event role change  plen  status  bdaddr  role  role    hci event connect complete  plen  status  handle  bdaddr  type acl encrypt    hci command read remote supported features  plen  handle    hci event page scan repetition mode change  plen  bdaddr  mode    hci event command status  plen  read remote supported features  status  ncmd    hci event max slots change  plen  handle  slots    hci event read remote supported features  plen  status  handle  features           hci command remote name request  plen  bdaddr  mode  clkoffset    hci event command status  plen  remote name request  status  ncmd    hci event remote name req complete  plen  status  bdaddr  name    hci command disconnect  plen  handle  reason  are some mainline patches such as add different pairing timeout fornlegacy pairing but they do not address the hci sequence abovenni think the real solution is to avoid using createbond and instead makenthe profile connection immediately this way both sides will use a longerntimeout because there is a higher level connection in progress and we willnnot end up with the useless hci sequence abovennnedoffby nick pelli
5245,arm msm camera fix croppingbuffer length verificationnnnedoffby iliyan malchev
5246,net wireless bcmdhd set proper read barriernnsmpreadbarrierdepends is empty and does nothingnnnedoffby dmitry shmidt
5247,net wireless bcmdhd fix memory leak in case of dhdbus failurennnedoffby dmitry shmidt
5248,net wireless  prevent working thread to run during suspend pathnnnedoffby dmitry shmidt
5249,scriptcompatible output for list avds and list targetsnnthis adds the following options to the androidncommand line to make it easier to use the outputsnfrom scriptsnn$ android list avds compact nulln$ android list targets compact nullnnthe short version is   or c outputs justs the avd names or thentarget identifiers usable for target argumentsnwith no other information one per linennnull or  switches eol from n to  which allowsnscripts to process target names with spaces usingnxargs  or similarnid
5250,fix sdkmanager unit tests refactor avdinfonna couple issues with the current unit testsn it was correctly allocating a temporary sdk foldern it was correctly creating temporary avds in a temp foldern however it was still using the regular avd root for then avd ini files and leaving them behindn minor windows dirsep issuennthis replaces the sdkmanagertestutils class by annew base testclass specific to sdk testing that createsnboth the temporary sdk and avd manager and correctly overridesnthe avd rootnnone issue is that we have different ways to find what thencorrect avd root is and the default paths used for an avdinfonwhere setup using static methods making them impossible tonoverride in unit testsnthis refactors avdinfo out of avdmanager and most  a single nonstatic method avdmanagergetbaseavdfoldernthat is used to know where avds should be storednid
5251,rfkill  add fm rfkill entry to  drivernnnedoffby pavan savoy  nick pelli
5252,pids document taskpgrptasksession is not safe without tasklistrcunneven if task  current it is not safe to dereference the result ofntaskpgrptasksession we can race with another thread which changes thenspecial pid via setpgidsetsidnndocument this the next  patches give an example of the unsafe usage wenhave more bad usersnnakpmlinuxfoundationorg codingstyle fixesnnedoffby oleg nesterov  louis rilling  eric w biederman  pavel emelyanov  sukadev bhattiprolu  roland mcgrath  andrew morton  linus torvalds  san mehat
5253,rfkill add new rfkill type rfkilltypefmnnedoffby pavan savoy
5254,fixing typo in layerbasehn
5255,omapfb enable noncached framebuffer memorynnwe need to have noncacheable memory on the framebufferthe reason is ifnit is cached when an update in the screen happens it is possible thatninstead of reading data from ram it will read from cache consequentlynthe screen will not show latest updated data in ramn
5256,pids kill  pgrpsession and friendsnnwe are wasting  words in signalstruct without any reason to implementntaskpgrpnr and tasksessionnrnntasksessionnr has no callers  we can remove itnntaskpgrpnr is still i believe wrongly used in fsautofsx andnfscodannthis patch reimplements taskpgrpnr via taskpgrpnrns and killsnpgrpsession and the related helpersnnthe change in driverscharttyioc is cosmetic but hopefully makes sensenanywaynnnedoffby oleg nesterov  alan cox  partsncc cedric le goater  dave hansen  eric biederman  pavel emelyanov  serge hallyn  sukadev bhattiprolu  roland mcgrath  andrew morton  linus torvalds  san mehat
5257,pids refactor vnrnrns helpers to make them safenninho the safety rules for vnrnrns helpers are horrible and buggynntaskpidnrnstask needs rcutasklist depending on task  currentnnas for special pids vnrnrns helpers always need rcu however ifntask  current they are unsafe even under rcu lock we   without the special checksnnand almost every helper has a callsite which needs a fixnnalso it is a bit annoying that the implementations of sayntaskpgrpvnr and taskpgrpnrns are not symmetricalnnthis patch introduces the new helper taskpidnrns which is alwaysnsafe to use and turns all other helpers into the trivial wrappersnnafter this  send another patch which converts tasktgidxxx as  are a bit specialnnnedoffby oleg nesterov  louis rilling  eric w biederman  pavel emelyanov  sukadev bhattiprolu  roland mcgrath  andrew morton  linus torvalds  san mehat
5258,disable  order to boot  successfully with omapdss omapfb and displayndriver we have to disable the option  failing tondisable venc on  causes omapdss exits in the middle ofnilization without ializing display drivers and framebufferndrivern
5259,media video add  and   for background color setting added  for rotation setting above two ioclts are indepth discussed posting again with the driver  supports chroma keying added new flags for thensource chroma keying which is exactly opposite of thenchorma keying supported by  current implementation framebuffer pixels withnthe chromakey color are replaced by video pixelsnnwhile for the source chroma keying video pixels withnthe chromakey color are replaced by the framebuffernpixelsnnboth are exactly opposite and so are mutually exclusivenncommunity comments fixed in this  replaced  by  initilize min and max values for   other minor comments fixednnnedoffby brijesh jadav  hardik shah  vaibhav hiremath
5260,simplify copythreadnnfirst argument unused since  codingstyle fixesnnedoffby alexey dobriyan   andrew morton  linus torvalds  san mehat
5261,arm  camera do not crash when frame skipping is disablednnnedoffby iliyan malchev
5262,arm video mdp add flag for fgpremultiplied alpha blendnnnedoffby dima zavin
5263,arm msm rmnet fix compilation issue when msmrmnetdebug is not setnnnedoffby dima zavin
5264,arm msm camera add getsensorinfo to the control ioctlnnnedoffby iliyan malchev
5265,video omap omapfb remove unlock without lock from omapfb drivernnnedoffby rebecca schultz zavin
5266,return when blocking is truen
5267,tarm   add fm rfkill entry to  drivernntmodified     driver now creates rfkill entries for both bluetoothn and fm  for bt and  for fmnn nedoffby pavan savoy
5268,add support for acer devicesn
5269,trfkill rfkill rfkillinput subsystemsnntmodified includelinuxrfkillhntmodified netrfkillrfkillinputcntmodified netrfkillrfkillcnntadd fm as a rfkill type return fm as string for rfkill type fmntnedoffby pavan savoy
5270,merge remote branch  into  dmitry shmidt
5271,allow toolchain source patching in buildtoolchainshnnthis is going to make patchingdebugging the toolchain sourcesna lot easiernid
5272,buildtoolchainsh fix the forcebuild optionnid
5273,nf xtsocket export the fancy sock finder codennthe socket matching function has some nifty logic to get the struct socknfrom the skb or from the connection trackernwe export this so other xt can use it similarly to ho hownxtsocket uses nftproxygetsocknid  jp abgral
5274,arm tegra name usb device clock correctlynnnedoffby erik gil
5275,netfilter add xtqtaguid matching modulennthis module allows tracking stats at the socket level for given uidsnit replaces xtownernif the uidowner is not specified it will just count stats based onnwho the skb belongs to this will even happen on incoming skbs as itnlooks into the skb via xtsocket magic to see who owns itnif an skb is lost it will be assigned to  control what sockets of what uids are tagged by what one usesn echo t $sockfd $accountingtag $thebilleduid n  procxtqtaguidctrln so whenever an skb belongs to a sockfd it will be accounted againstn $thebilleduidn and matching stats will show up under the uid with the givenn $accountingtagnnbecause the number of allocations for the stats structs is not that bign  apps  per  just do it atomic this avoids walking lists many times andnthe fancy worker thread handling slabs will grow when needed laternnuse netdevice and inetaddr notifications instead of hooks in the core devncode to track when a device comes and goes this also removes the need fornexposed ifacestathnnput procfs dirs in procnetxtqtaguidn ctrln statsn  uid stats are obtainable in statsnid  jp abgral
5276,usb gadget add utmip phy into to fsltegraudcnnnedoffby erik gil
5277,netfilter add xtqtaguid matching modulennthis module allows tracking stats at the socket level for given uidsnit replaces xtownernif the uidowner is not specified it will just count stats based onnwho the skb belongs to this will even happen on incoming skbs as itnlooks into the skb via xtsocket magic to see who owns itnif an skb is lost it will be assigned to  control what sockets of what uids are tagged by what one usesn echo t $sockfd $accountingtag $thebilleduid n  procxtqtaguidctrln so whenever an skb belongs to a sockfd it will be accounted againstn $thebilleduidn and matching stats will show up under the uid with the givenn $accountingtagnnbecause the number of allocations for the stats structs is not that bign  apps  per  just do it atomic this avoids walking lists many times andnthe fancy worker thread handling slabs will grow when needed laternnuse netdevice and inetaddr notifications instead of hooks in the core devncode to track when a device comes and goes this also removes the need fornexposed ifacestathnnput procfs dirs in procnetxtqtaguidn ctrln statsn  uid stats are obtainable in statsnid  jp abgral
5278,add cpumodel to avd running  system imagesnid
5279,bcmdhd allocate skb with gfpkernel flag if possible fix for older kernelsnid  howard m hart
5280,arm  sholes do not ialize usbnet unless we are in factory modenndo not register functions with android gadget driver if they will not be enablednwe require this because android gadget uses the registered function count tondetermine when all functions have been installednnthis fixes a problem that resulted in rndis support not being installed afternreenabling the usbnet drivernnnedoffby mike lockwood
5281,bcmdhd fix race conditions for sysiocthreadn fix up formatting and ifdefsnid  howard m hart
5282,disable the  builtin for space reasonsnid
5283,change the checking statusn
5284,arm tegra fix oneshot support register timer  mode was not reported to the kernel due to a spurious commanoperatornninclude the fullsystem irq header file and delete the local redefionsnthe local redefions were incorrect for timers  and  was  and  be  and  the global event timer from hardware timer  to timer  tegranmultimedia firmware uses timers  and  as an event and watchdog timernfor the multimedia engine timers  and  are available for os usagennnedoffby gary k
5285,cpufreq fix typonnnedoffby david  turn
5286,enable verbose optionnid
5287,merge branch  into  arve hjønnevåg
5288,revert yaffs fix yaffsfilewrite to not return enospc when there is nothing to writennthis reverts commit  arve hjønnevåg
5289,revert yaffs fix yaffsfilewrite to not return enospc when there is nothing to writennthis reverts commit  arve hjønnevåg
5290,yaffs import yaffs from wed sep     charles  wed sep     rationalise stats gathering for nand access does not instrument mountingnnnedoffby arve hjønnevåg
5291,apanic fix a few cases of calling nonatomic things from atomicnnwe need to pay special care to not enrage condresched and thenbase nand bb stuff calls schedule so thats outnnnedoffby san mehat
5292,merge branch  into  arve hjønnevåg
5293,revert apanic send magic sequence to suspend ramconsole before we start dumping threadsnthis reverts commit  san mehat
5294,revert ramconsole disable console capture upon receiving a magic sequencenthis reverts commit  san mehat
5295,yaffs import yaffs from wed sep     charles  wed sep     rationalise stats gathering for nand access does not instrument mountingnnnedoffby arve hjønnevåg
5296,mms application will call beginmmsconnectivity in transactionservicejava consecutively while we receive or send mmsnthen enableapntype in gsmdataconnectiontrackerjava will be called consecutively alsonso we need to check connection status before cleanup the connnectionn
5297,net wireless bcmdhd move pno function prototypes to dhdhnid  howard m hart
5298,rpmsg build only if ti tiler is presentnnrpmsgomx driver will eventually use ion till thennit depends on titiler being configured in the systemnnthis fixes the build   in function  undefined reference to  undefined reference to   error   nishanth menon  suman anna
5299,add private command supportnid  howard m harte  dmitry shmidt
5300,remove trailing whitespacenid  howard m hart
5301,add the select fontnnthese patches are to allow to select font set by usernnthese are uis to select font set by usernid
5302,net wireless bcmdhd fix getcustomizedcountrycode for older kernelsnid  howard m hart
5303,changed the condition to consider negative value for pidnnin this test case inserted pid can be negative causing fileexist to become false and thus results in errornnwe modified the test case so that it considers negative value of pidn
5304,add panel width and height to timings struct and extract them into varnnadds the panel width and height to the timing struct so they can be extractedninto the fbvarscreeninfo struct at timenid  rebecca schultz zavin
5305,add support for setting up the battery charge current through board filenthe charge current for  is set to  madhusudhan chikkatur
5306,check connection status before cleaning up the connnectionnnthe mms application calls beginmmsconnectivity in transactionservicejavanconsecutively while we receive or send mms then enableapntype inngsmdataconnectiontrackerjava will be called consecutively alsonso we need to check connection status before cleanup the connnectionnid
5307,arm omap mmc add option to change mmc device namennnedoffby dmitry shmidt
5308,arm omap add  and  optionnnnedoffby dmitry shmidt
5309,yaffs  update page read and write counts from  counters are now updated from yaffsnandnnnedoffby arve hjønnevåg
5310,fix buildn
5311,support  vc adaptation with different power icnncurrent omap smartreflex driver only supports ti tritonnpower ic add a callback to make it possible to usendifferent poweric and use different settings tonconfigure  voltage controller for dvfsnnboard file can setup a new function to have different settingsnon sr to configure their power ic for voltage scalingnnnedoffby chunqiu wang
5312,add the select fontnnthese patches are to allow to select font set by usernnthese are the uis to select font set by user these are added innthe settings menunnam  import revised translations do not mergenn commit  import revised translations do not mergenid
5313,ramconsoleapanic ensure ramconsole does not get cluttered by apanic threadsnnnedoffby san mehat
5314,video  dss ret on idle enabledisable dss clocks only when needednnnedoffby mike chan
5315,added more proprietary librariesnnwifi and the led lights of the htc dream should work whennextra libraries are extracted from the htc dream and addednto the system imagennthese changes are based on can be seen as an addition to th
5316,yaffs  update page read and write counts from  counters are now updated from yaffsnandnnnedoffby arve hjønnevåg
5317,tsmux check that ldisc is open before sending data over its ttynid  erik gil
5318,change the way the phone app determines when to skip rings while ringing fornincoming phone calls to fix a problem where a long ial delay before thenfirst ring a busy phone would cause the phone to needlessly skip successivenrings in short the phone app was considering the synthetic delay time asna period where it was actively ringing causing the phone to not queuensuccessive ring events triggered by the ril which themselves would have beenndelayed so would not have overlappednnfor a more thorough explanation please see the writeup
5319,arm defconfig sholesdefconfig enable slab  list debuggingnnnedoffby san mehat
5320,tsmux check that ldisc is open before sending data over its ttynid  erik gil
5321,vold fix a bug of crashnnthe condition to quit the for loop is  is nullnnot fs itselfnid
5322,setcornerradii should be called when either of corners radius is specifiednas  and thus while checking for condition it should be ored and not andednnit solves android issu
5323,revert platomap gpio configure gpio wakeups when going into idle  suspendnnthis reverts commit  for performance reasonsnnnedoffby mike chan
5324,revert platomap gpio configure gpio wakeups when going into idle  suspendnnthis reverts commit    got some patch ordering wrong this patch is not needed anymorenand actually causes harm for idle latencynid  mike chan
5325,dspbridge cache operation against kernel address instead of  on the discussionn   export followpage for dspbridge cache operationnnnedoffby hiroshi doyu  picked from commit
5326,dspbridge cache against kernel address fixnnreplace pageaddress with kmap to get address in case of high mem allocationnnnedoffby fernando guzman lugo
5327,writedatastream modifications to support dtcp streamingn
5328,remove unused code and build filesn
5329,writedatastream modifications to support dtcp streaming minor additional chang
5330,remove nonopencore test casesn
5331,memory leak in video telephony enginen
5332,writedatastream modifications to support dtcp streaming minor additional chang
5333,rtsp amrnb streaming can not start playback need to seek then playback startn
5334,crash in video telephony enginen
5335,fix issu
5336,dream prebuilts update prebuilt kernel and wlanko for cupcakenn this build is based off kernel sha  wlan driver sha  san mehat
5337,fix for cleaning up audio tracks of killed processesnna detailed description of the problem this patch fixes can be found
5338,arm msm kgsl insert the idle packet only when generating irqnnwe should only insert the idle packet that prevents rbbm errors in thenconditional case when generating irqnid  dima zavin
5339,net wireless  ignore several settings for softap modennnedoffby dmitry shmidt
5340,implement support for receiving html emails from exchange   mobile syncnneassyncservicejava update activesync versions less under  to requestnmimedata instead of defaulting to text onlynnemailsyncadapterjava parse mime body content when tagsemailmimedata isnencountered appropriately populate messagemhtml or messagemtextnid
5341,fix last character of password field being visible after rotationnnthis is a fix for  note thatnthat issue was declined without comment but the bug while incredibly minorndoes exist this can be seen on the facebook app as well as many third party appsnid
5342,improved errorhandling in  javadoc for the  states that it will trynto be tolerant to broken syntax instead of returning an errornas in an unchecked exception in some rare cases where theninput is clearly incorrect the tokenizer throws anstringindexoutofboundsexception which was found duringnone of the monkey test runs this commits fixes that crashnand teaches the tokenizer to just continue to run anyway twonsimple junit testcases has also been added for testing thendefault and the errornous casen
5343,bionic on pthreadjoin avoid extra check in case we find the threadnn by using similar logic as used in pthreaddetachnnnedoffby andré goddard rosa
5344,further fixes for building opencore on  and
5345,osclassert when playing audio only contents on  player in debug mode checked  amr and aac formatsn
5346,gpu pvr revert to  drivernnthis reverts commit  reverts commit   erik gil
5347,arm defconfig sholes enable latencytopnnnedoffby san mehat
5348,arm defconfig sholes enable kernel memleak detection in defconfignnnedoffby san mehat
5349,version updates for sdkinfo header files and playerdriver documentation updatesn
5350,remove nonopencore test casesn
5351,mms application will call beginmmsconnectivity in transactionservicejava consecutively while we receive or send mmsnthen enableapntype in gsmdataconnectiontrackerjava will be called consecutively alsonso we need to check connection status before cleanup the connnectionn
5352,bluetooth fix kernel panic while disconnecting rfcommnnrfcommsessiondel was being called after session entry removed from listnnnedoffby nick pelli
5353,further fixes for building opencore on  and  minor additional chang
5354,adding goldfish tty events mmc nand and battery device supportnid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
5355,headers and config for goldfishnid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
5356,fix for  progressbarsetmax will always redrawnnfix for issue  changing the maximum of a progress bar doesnnot cause it to be redrawn even though a new maximum changes thenposition of the current progress in relation to its maximum with this fixnsetmax will always cause refreshprogress to be called if the maximum isndifferent than it was beforenid
5357,dhcp dns request parameter request list to contain dnsnnexplicitly include dns in the list of parameters requested innthe dns request without this some dhcp servers may skip the dnsnentries in the dhcp repliesnid
5358,adjust avd create dialog to match sdcard size limitsn mksdcard to a minimum of  mib which is whatnwe enforce in the ui i believe the  mib min was obsoletednby the  mib onenalso warn the user about the minmax sdcard size properlyndirectly in the creation dialog instead of relying onnmksdcard to fail laternid
5359,keycode addnid
5360,keycode addnid
5361,corrected type of lastendnd type of lastend to gelfoff was int to match types ofnvalues that are assigned to it int is  bit on most arches butngelfoff is  bitnid
5362,work around elfcopyc assertion failurennwork around assertion failure   lastend when building cyanogenmod externaljpegnon mac os x  by adding a call to sortrangesnni think that the proper nonworkaround fix would be to make surenthat getsortedranges always returns sorted rangesnid
5363,adding missing columns to telephony providernnthe protocol and roamingprotocol columns havenbeen added to the framework but the respectivencolumns are not available in the provider databasencausing several crashes to the phone applicationnid  david sobreira marqu
5364,handle obex abort packets sent from remote devicennthis patch adds support for handling obex abort packetsnsent from remote device where the remote device is actingnas a client sending files to the servernndependson   christian bejram
5365,testdefs new cts security testnid
5366,emulator opengl use qemu pipennthis patch modifies the guest libraries to use the newnfast qemu opengles pipe to communicate with the hostnrenderer processnnnote that the renderer is still listening on a tcp socketnon port
5367,improve custom view search and filteringnnthis change improves the code which identifies custom views in thenprojectnnit will now filter out a number of false matchesn classes that were only defined in a javadoc these are included inn eclipse type hierarchy search resultsn anonymous classesn classes that extend view but do not define one of the  base viewn constructorsn viewcontext contextn viewcontext context attributeset attrsn viewcontext context attributeset attrs int defstylen we can only instantiate custom views with one or more of thesen constructor signatures at designtimennit also fixes two additional bugsnn it changes the search flags passed to the search engine which makesn it now find custom views that are static innerclassesn it fixes a bug in handling view descriptors which made the customn view palette not work at all in some projects in some case then descriptor would be null which caused an npe which caused the wholen palette ialization to bail this is the bug which made me dign through the custom view code and discover the above problems toonid
5368,mksdcard sanity check size better error messagesnnfixesn issue  mksdcard fails to create insanely large sdcardn issue  better error message when disk fullnndetailsn actually report fopenfwrite errors instead of silently failingn this alone fixes the  reported issuesn check size argument parsed correctly and  larger thann the fat format can handlen actually indicate in the usage text the minmax size valuesn added support for a  postfix to make gigabyte sdcardsnid
5369,add missed ipc syscalls for
5370,new library project mechanism  remove the library link mechanism that created linkedn folder and instead use a container that is lazily alizedn to be all the jar files of the librariesnid
5371,new library project mechanismnn when libraries build create a jar file containingn all the classes except the r classes and the javan resources this will be used by the main projectnid
5372,updated to use  conformant expressionn
5373,request cts waiver since the result of our device running eclair is correct back port the solution of bug  from
5374,fixed to draw texture when loadtexture is called at first timennsw renderer of stagefright reaches loadtexture to draw imagenthe first time loadtexture is called it just ializes oglntexture then returns thus the first time call  drawnthis patch fixes to move on to draw stage after the ializationnid
5375,checking strings prior sending them to jninnthe mediascannerclient was sending raw strings from externalncontent directly to jni when jni checking is enabled thisncauses crashes when there is invalid data on the sd cardnnthis change adds checks for  characters that wencannot find any valid encoding for is replaced with nbefore sending strings to jni the check itself isncopied from the dalvik jni testsnid
5376,adding rightclick menu to logcat ddmsnid
5377,fix cts fails for wifi only device and the tablet that  have phone ¡¡¡ androidpermissionctsnocallpermissiontest ¡¡ androidtelephonyctssmsmanagertest¡ androidtelephonygsmctssmsmanagertest¡xtestsendmessagesnid
5378,execute setwifienabledtrue when finishing testwifimanagerpropertiesnnif hw does not have  tests after testwifimanagerproperties which depends on network capability will failnto avoid this i added line to enable wifi againn
5379,do not use msoftfloat in   is not built with msoftfloat so we should notnuse msoftfloat in ndknid
5380,move the goldfish audio driver to the generic directorynid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
5381,add the pdevbus driver copy the arm version because  smallnid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
5382,hardcode compilation options based on producttarget namesnnthis provides a way for board files to specify librariesflags fornhardware codecs etc though really this should not require compilentime options somebody who understands opencore should fix it tondeal with this gracefully at runtimennthis fixes the htcdream buildn
5383,add  support to the golfish framebuffer drivernid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
5384,cupcake update libaudionnthis fixes the htcdream buildnnnedoffby iliyan malchev
5385,fix broken launcheractivitytestnnbug  the down key a couple times before trying to select an itemnid
5386,add framework resources to the resource choosernnreenable system resources in the resource choosernnadds code to androidtargetdata which on demand loads data from publicxmlnsuch that it can provide a list of public resource namesnnalso uses this data to filter out nonpublic resources from codencompletionnid
5387,endian fixing build system and eliminate endianness problems for both eb and el systemsnid  raghu gandham
5388,remove stray endian flagsnid  raghu gandham
5389,mips a primitive prelink map generator scans the prelink map andnnthe built libraries to recalculate the prelink addressesnid  raghu gandham
5390,force sync the downloaded file to the storage after completionnnthis will write the downlaoded file to the storage sdcard in defaultnit can prevent file corruption if the user removes the sdcard unsafelynafter a download completesn
5391,mips add mips architecture support to buildid  raghu gandham
5392,added some support functions for using oprofile with targetnntopimportntoprofilenid  raghu gandham
5393,endian fix the byteorder of keycharmap generatornid  raghu gandham
5394,arm tegra add base address and size for bseanid  varun wadekar
5395,arm tegra replace bsev with bsea in tegraaesresourcesnid  varun wadekar
5396,arm tegra arbsema use bsea instead of bsevnid  varun wadekar
5397,arm tegra add bsea to clkduplicatesnid  varun wadekar
5398,crypto tegraaes switch to bsea instead of bsevnid  varun wadekar
5399,use swtmenubar in hierarchyviewer applicationnid
5400,ignore testcase of tocalleridminmatchnid
5401,fix incorrect unicode usage when using spanishnid
5402,merge  into  do not mergennfix emulator gps supportnnuse createthreadcb instead of pthreadcreate to create gpsstatethreadnso it can safely call into the java frameworknnbug   mike lockwood
5403,update changestxt for adt
5404,fix image reousrces in hierarchyviewer applicationnncurrently the hierarchyviewer application crashes whenntrying to run it from eclipse the issue is that thencode looks for all the images in images whereas thensource code places them in resourcesimages and thenmakefile was setup to erase the resources partnnthe fix isn move all images back to hierarchyviewerlibsrcimagesn adjust the makefile accordinglynnanother issue is that the about box jpeg files failednto load at least on eclipse  under   oknwe had a real icon in png that works so we should benusing it for the about box anywaynid
5405,fix argument handling in runhat functionnid  raghu gandham
5406,allocate only needed memory and align to page sizennthis patch change allocation size of io buffers to allocatenonly needed size depending on pixwidth pixheight and bytesnper pixelnthe buffer size is rounded to allocate always a pagesize multiplennnedoffby omar esli jimenez villarreal  subramani venkatesh
5407,add to layoutlibapi the ability to do layout onlynnthis lets the session do the measurelayout part and skipnthe drawnnthis returns the object location through the viewinfo butnnot the renderingnid
5408,reconnecting a bluetooth headset while in multipointnnin multipoint a bluetooth headset can be paired with two handsetsnbut only connected with one at a time when reconnecting a devicenthat is in progress or connected shall not require a disconnectnfollowed by a connectnid
5409,fix shutdown sequence to avoid sigsegv when running am commandnnwhen the appprocess is shutting down the main thread will close thenbinder fd while pool threads are executing an ioctl innipcthreadstatestopprocess called by appruntimeonstarted innappmaincnnthe binder driver will then return all pending calls in ioctlnwithout any error and with a command one of the threads gets anbrspawnlooper which will create a new thread the other threadngets a brnoop this new thread then  usually this results in a log entry withnandroidruntime note attach of thread  thread  failednbut sometimes it also causes a sigsegv this depends on the timingnbetween the new thread an the main thread that calls destroyjavavmnin androidruntimestartnnif ipcthreadstatecpp is compiled with define logndebug  thenpool thread will loop and hit    innipcthreadstatetalkwithdrivernncrashes like this has been seen when running the am command andnother commands that use the appprocessnnthis fix makes sure that any command that is received when the drivernfd is closed are ignored and ipcthreadstatetalkwithdriver insteadnreturns an error which will cause the pool thread to exit and detachnitself from the vm a check to avoid calling ioctl to a fd with  also added in ipcthreadstatethreaddestructornnanother solution might be to change the binder driver so that itnreturns an error when the fd is closed or atleast not anbrspawnlooper command it might also be possible to call  is done when  is called from javanid
5410,fixed to call computevisibleregions when transparent value changednnwhen some surfaces are overlapping and one of them changed tontransparent or opaque the back surfaces should appear orndisappear this patch calls surfaceflingercomputevisibleregionsnto recalculate region of each surface to implement the behaviornid
5411,merge  into  do not mergennadd hwkeyboardlidnnthis is used to control the lid switch virtual devicenn add support for a version  field to the skin formatn this will later be used for skin format  fix a bug where string hw properties  workcompilenid
5412,fix the windows sdk buildnnuse qemuqueueh instead of  which may not be providednwith all version of mingw on linuxnid
5413,fix avd name bugnnthe    command returned unknown incorrectlynthis was due to a missing option when invoking the core even innthe standalone casennfixes bug   this is a quick fix for  a proper fix should insteadn move the avd name to autogenerated qemuhardwareini instead ofn using a core commandline optionn
5414,shortened the property name for location features to rocomgoogleenableloccode since the propery names may not exceed  charactersn
5415,allow inclusion from cnid
5416,fix build due to previous avdinfo refactoringnid
5417,toolchain  delete sysroffinfo file the build requires itnid  bruce bear
5418,add toolchain patch for  gcc flagsnid  bruce bear
5419,the app shortcuts disappearing issuennthis issue happens consistently after placing marketupdaternshortcut into a newly created folder in the homescreennworkspace then download  finish installation of some newnapps from market go back to homescreen if drag anynexisting app shortcuts or create a new shortcut for anynapp they cannot stay in the homescreennid
5420,detect android devices vulnerable to  change does two  adds a new cts test category called security to centralize testnfor security bugs  adds a test for  the vold exploit discovered bynsebastian krahmer available  also
5421,webkit  fix build with gcc
5422,emulator kernel add devqemupipe kernel drivernnthe kernel images provided in this patch were built by using the sourcesnfrom androidgitkernelorgkernelqemugit with the following hashnn  add a kernel driver for the devqemupipe guest devicensee  for the correspondingnsource code patchnnthe corresponding emulator virtual hardware support i
5423,playback in soundrecorder interrupted by screen timeoutnnthe same wakelock as is used for recording is also applied for playbacknto be able to previewplay the entire recorded sound without the previewnbeing interruptednid
5424,merge  into  do not mergennupdate the sensor emulation to use the new halnnthe sensor hal in libhardware was recently updated thisnchange updates the sensor emulation to match the new halnid
5425,fix broken videoviewtestnnbug  a couple conditions that were incorrect after inspecting thenvideoview codebut strangely the comments were correctweirdnid
5426,core additions to framebuffer support for  and genericn prefer fbiopandisplay over fbioputvscreeninfon autodetect if fbiopandisplay is availablen add ability to use memcpy on framebuffers where pageflipping is impossiblen
5427,added  support to the vm with ifdefs on defines from the newnmachinecpufeatureshn
5428,usb gadget composite add usbremoveconfignnthis allows composite drivers to dynamically change their configurationnfor example a driver might remove a configuration and register a newnone with a different set of functionsnuser should prevent the host from enumerating the device while changingnthe  oldconfigntusbaddconfigcdev newconfig   benoit gobi
5429,arm tegra stingray disable pull updown on ddc pinnnthese are  signals internal pull ups will be to  and cause issuesnid  erik gil
5430,add user mode networking restrictions a firewallnncommand line options added and code is supported fornn qemuoptiondropudpn qemuoptiondroptcpn qemuoptionallowtcpn qemuoptiondroplogn qemuoptionnetforwardn qemuoptionmaxdnsconnsn qemuoptionallowudpn qemuoptiondnslognnalso this change makes the default max dns connections unlimitednid
5431,arm tegra stingray setup ddc pingroup drive strengthnnthe current ddc pingroup drive strength setting comes from bootloader whichnis errorprone reconfigure the value though it is the same value as bootloadernprogramsnid  erik gil
5432,fix broken   gettextwidths to get the widths of the individualncharacters of the strings rather than hard coding themnid
5433,arm tegra irq register disable for tegra irqchipnn without this change whenever the device driver calls disableirqnthe defaultdisable gets called which is noop this can be seen innkernelkernelirqchipcn hence hook up tegramask with   mayuresh kulkarni
5434,create world readable system writeable dataresourcecachenndataresourcecache is used to store idmap filesnid
5435,adding the delay time of  within testopenglesversionnnwhat is tested in this test case is to check whether opengl version acquried from systemprop is same as the version acquired from opengl librarynnthis test ializes the opengl within the thread when creating activitynwhen this test is performed before ialization is finished as this ialization is done by eglinitialize in native level from setup opengl version can not be recognized properly resulting in failnnto avoid this i added sleep of  before starting opengl version check so that it finishes ialization completelyn
5436,libdl must come after qemuaudio library as qemuaudio uses dl functionsnnfor static libraries the  argument order does matternid
5437,improve shutdown time without sdcard pluggednid  christian bejram
5438,mmc improve insertion notification on gingerbreadnid  christian bejram
5439,added missing icon support to setupcalls setup phasenid  christian bejram
5440,fix for packagemanagerservicemovedexfilesli add condition  to avoid nullpointerexceptionnnedoffby kai wei
5441,add loopiopoll functionnnthis will be used later by the goldfish network pipe implementationnid
5442,new goldfishpipe virtual devicennthis adds a new virtual hardware device named goldfishpipenused to implement a very fast communication channel between thenguest system and the emulatornnimportant this depends on a special kernel driver seenn  from the guest is simply the followingnn fd  opendevqemupipe ordwrn const char pipename   ret  writefd pipename  if ret   n could not connect to service named  n n now you can readwriteclose as a normaln file descriptor to exchange data with the servicen nnin addition this implements the following pipe services in thenemulatornn    openglesnnthe  and  services simply redirect to a tcp or unixnsocket on the host with minimalnnthe  service simply connects to  for nownwe may change this to be more configurable in the future but  port number used by the current experimental opengl es hardwarenemulation host libraries programsnnbenchmarking with a simple pingpong program shows that thenguest  emulator can achieve a roundtrip bandwidth of  mbsnon a  ghz xeon pcnnusing the tcp service to talk to a pingpong server listeningnon localhost reaches  mbs on the same machine using a unixnsocket reaches  mbsnnby contrast using standard sockets in the guest reaches  mbs on the same machine and requires special privilegesnfrom the application anywayn
5443,arm tegra enable  dynamic clock gatingnnthe cache controller will stop its clock when idle after severalnclock cyclesnid  todd poynor
5444,tweak prelink map even morenid
5445,add qp and carddav projectsn
5446,arm  add power control register defionnid  todd poynor
5447,usb gadget frndis fix unbindnid  benoit gobi
5448,remove duplicate  in exception messagennremove duplicate  in illegalargumentexception of myadaptergetitemnid
5449,define obinary for nonwindows platformsnnall tools aapt aidl dexdump etc need this flag to opennbinary files or they risk reading corrupted data on windowsnna bunch of these tools just conditionaly define obinary inntheir c files seems it would just make sense to define it globallynid
5450,add a bitmap for class static references to keep the gc from having to parse the class every timennthis seems to be an improvement of about  in cpu at a cost of  per class which will be largely in shared zygote and somenunmeasured startup costsnni  really trust my measuring to be within  casenddalvikvm  doing  gcs took on average  thread or  relativenddalvikvm  doing  gcs took on average  thread or  relativenddalvikvm  doing  gcs took on average  thread or  relativennwith bitmapsnddalvikvm  doing  gcs took on average  thread or  relativenddalvikvm  doing  gcs took on average  thread or  relativenddalvikvm  doing  gcs took on average  thread or  relativennin both cases i ran  calls to collectgarbageinternal wrapped inntiming of both dvmgetthreadcputimeusec and dvmgetrelativetimeusec thentimes above are msec per  gcs divided by  of the heapsncomandroidcalendarn started but not exercisedngdb print ghsn$  targetutilization   minimumsize   startsize   absolutemaxsize   idealsize   softlimit   heaps  n msp   objectbitmap  bits   bitslen   base   max   absolutemaxsize   bytesallocated   objectsallocated   msp   objectbitmap  bits   bitslen   base   max   absolutemaxsize   bytesallocated   objectsallocated   msp   objectbitmap  n bits   bitslen   base   max   absolutemaxsize   bytesallocated   objectsallocated   numheaps   externalbytesallocated   externallimit   sawzygote   bytesallocated   objectsallocated   bytesallocated   objectsallocated   bytesallocated   objectsalloc
5451,build  clearsilver if jdk is  versionnid
5452,shortened the property name for location features to rocomgoogleenableloccode since the propery names may not exceed  charactersn
5453,support absolute path in outdirn
5454,if starttls is on last ehlo response line accept space prefixnnwhen receiving the ehlo response from the smtp server the multilinenanswer has prefix in all lines except the last line where thenprefix is a blank this is according to rfc  section  this hasnalso been reported as issue  at codegooglecomnid
5455,added new files to allow the author engine test app to buildnn new file enginesauthortestsrcsinglecorepvaetestnodeconfighn new file enginesauthortestsrcsinglecorepvaetestinputcppn new file enginesauthortestsrcsinglecorepvaetestinputhn
5456,in email when composing new message accept non us ascii namesnnin email compose a message and try to enter a name which  character for example an e with accent this kind of namesnwere not previously accepted by the validator and were discardedn
5457,when replying in email do not set message id on new messagennwhen replying in email application the application deliberatelynset the message id of the new message as message id of the originalnmessage the reason for this was to identify multiple draft messagesnhowever i have found out this is not necessary moreover when sendingna new message with the same message id many mail stores do not accept thennew message at all so this is a quite serious bugnnthis has been reported as issu
5458,pm add watchdog to catch lockup during device resumenid  benoit gobi
5459,make go to declaration work for  namesnid
5460,the  is now named   bruce bear
5461,switch long date format to something more human friendlynn december    december    december    december  human visible date is prominently displayed on the status barnwhen you roll it down right now it says december   which isnsoothing and relaxing however a few days ago it said december  in which the leading zero caused myself and presumably othersna small amount of mental discord put another way this change willnthe end user experience slightly better  of the timennalso fix a bad copypaste in the translation examplesn
5462,refactoring wrap in container change layout type extractnnthis changeset adds refactoring support for  visual  wrap in container this can be invoked on one or more siblingn views or the root view to add a new layout container into then hierarchy which wraps the views the refactoring can also updaten the layout attributes such as relativelayout attachments suchn that they refer to the new container instead if invoked on then root element the namespace declarations are migrated from the oldn root to the new  change layout this can be invoked on a layout view to change then type of layout in addition to editing the xml type declarationn it also removes layout parameters that no longer apply andn depending on which layout you are converting from and convertingn to it may attempt to perform some translation to preserve then layout characteristics in particular if you convert from an linearlayout to a relativelayout then it will use relativelayoutn params to emulate the old linearlayout by attaching items belown for vertical layouts or to the right of for horizontal layoutn the previous sibling and if the baseline property was set on then linearlayout it will also add baseline constraints on then relativelayout it also adds default ids on any elements thatn need itnn there is a lot more we can do to support layout transformationsn this is just a  extract as include we already had this feature but it performedn its own xml document manipulation this code has been rewrittenn to use the eclipse refactoring support which the other twon refactorings are implemented to use as well which among othern things means that you get preview support you can press previewn from the refactoring dialog to see the edits before they aren made this rewrite is also necessary to support an upcomingn feature the ability to replace occurrences in othern configurationvariations of this layout for that we need ton ability to do multifile changes which the refactoring support isn ideal fornid
5463,remove broken listactivitytestnnbug  looks like there were efforts to fix this one in bug
5464,endian allow bigendian  file systems to be creatednid  raghu gandham
5465,build system tweaks for valgrindnnadded localnocrt to enable building executables that do not linknto the c runtime librarynnremoved support for localmodulesubdir since it was brokennand unused was going to use it but ended up using localmodulepathninsteadnid
5466,merge remote branch  into manualmergennconflictsntteststestsossrcandroidosctsbuildversiontestjavantteststestswebkitsrcandroidwebkitctswebchromeclienttestjavanid
5467,usb gadget android do not assume max current drawnnandroid gadget should not assume  as the max currentnthis shoudl be a configurable option for each platformnnthis interface got changed in  vikram pandita
5468,open dexdump files in binary modennrequires change  from systemcorenwhich defines obinary globallynid
5469,removing cts verifier testsnnnobody runs the tests make cts  build them eithernso these are just a build breakage waiting to happennid
5470,libc fix the range to check the errornnthe spec says a value in the range between  to  indicates an error not  was pointed out in the comment in   jun nakajima
5471,update  bionic crt files for unwindexceptionsnnseveral updates to bionic crto files to implement  unwindexception handlingnmark dsohandle as hiddennnote requires complete rebuild due to crt changes google willnneed to regenerate and checkin all the prebuilt  crt objectnfiles and libraries which link to themnid  bruce j beare  mark d horn  lu hongjiu
5472,enable functional dso object destructionnnunfortunately legacy so files for arm  have a correct crtbegin filenconsequently we have to grandfather the old dsohandle behaviournadd some ifdefs for arm to allow it to use the old code until we can worknout a transitionnid  hj lu  bruce bear
5473,clean up of  build flagsnnreview and cleanup of both compiler and linker flagsnto ensure proper usage and consistency for images toolchainnsdk and ndknid  mark d horn  bruce bear
5474,enable  ndk testingnnupdated testing script to support new flagn  enable  regression testingndefault remains armnid  mark d horn
5475,dont set the ndksdk version since we need to use the latest crt filesnid  bruce bear
5476,cts verifier sub tests implementationnnrefactor the bluetooth test to use the same test results storagenas the main test list this will make it easy for future testsnto have subtests like the bluetooth test one does also it willnbe possible to send a report that has the results for the subntests since all the data is in one placenncreate subtests by adding a meta data with the tag testparentnto specify the class that this test belongs tonid
5477,assembly test updated for   specific assembly source and updated makefilento select the appropriate targetsnid  mark d horn
5478,merge branch  into  simon wilson
5479,added missing link libraries for device  toolchain does not include any librariesnby default including libcso or libdlsonid  mark d horn
5480,getabsbuildvar relies on $pwd being correctnid  raghu gandham
5481,remove absolute paths from shared librariesnnresulting binary for the target contained some sharednlibraries which has an incorrect absolute path to the sonid  mark d horn
5482,usb gadget faccessory new gadget driver for android usb accesoriesnnnedoffby mike lockwood  gadget faccessory misc improvements and cleanupnn add uri stringnn replace type string with a description stringnn add a control call to retrieve accessory protocol version currently  driver read and write calls now fail after usb disconnect untiln driver file is closed and reopenednn misc cleanup worknnnedoffby mike lockwood  gadget faccessory clear accessory strings when usb is disconnectednnnedoffby mike lockwood  gadget faccessory clear previous strings on accessorygetprotocolnnclearing strings on disconnect does not work since we may receivena disconnect on some devices when transitioning into accessory modenwe require an accessory to send accessorygetprotocol beforensending any strings so any strings from a previous session will be clearednnnedoffby mike lockwood  gadget faccessory clear disconnected flag when driver file is openednnfixes a race condition that can occur when entering accessory modennnedoffby mike lockwood  gadget faccessory add string for  unique serial numbernnnedoffby mike lockwood  gadget faccessory set bnumendpoints to correct value of  mike lockwood
5483,usb gadget faccessory new gadget driver for android usb accesoriesnnnedoffby mike lockwood  gadget faccessory misc improvements and cleanupnn add uri stringnn replace type string with a description stringnn add a control call to retrieve accessory protocol version currently  driver read and write calls now fail after usb disconnect untiln driver file is closed and reopenednn misc cleanup worknnnedoffby mike lockwood  gadget faccessory clear accessory strings when usb is disconnectednnnedoffby mike lockwood  gadget faccessory clear previous strings on accessorygetprotocolnnclearing strings on disconnect does not work since we may receivena disconnect on some devices when transitioning into accessory modenwe require an accessory to send accessorygetprotocol beforensending any strings so any strings from a previous session will be clearednnnedoffby mike lockwood  gadget faccessory clear disconnected flag when driver file is openednnfixes a race condition that can occur when entering accessory modennnedoffby mike lockwood  gadget faccessory add string for  unique serial numbernnnedoffby mike lockwood  gadget faccessory set bnumendpoints to correct value of   mike lockwood
5484,corrected  build flags for picnnupdated the ndk build flags to be insync with the compilenand link flags used for the image and sdk buildsnensured pic flag enabled for all  target objectsnid  mark d horn
5485,fix broken pathmeasuretesttestisclosednnbug   broken but it said it was flakey i  see anythingnreally flakey except the test was somewhat confusing so replace itnwith some easy examples like testing a line segment and a circlenid
5486,usb gadget android update android gadget drivernn functions and the device descriptor are configured from user spacenecho    adbacm         driver does not require platform data anymorenn moved function ialization to androidc instead of eachnfunction filenn replaced switches by ueventsnnnedoffby benoit goby  mike lockwood
5487,fix broken buildnni need to either figure out how to build these tests as part ofnthe cts target or delete themnid
5488,modified libdrm to support superh platformnnadded ustlandroidsh defination while build on superh platformn
5489,fill lld of linkmaps with value from soinfodynamicnngdb will try to read lld of linkmaps and compare the value to vma ofndynamic sections from shared objects since linker does not assign lldngdb will complain about and recompute laddr from lld and gdb will get anwrong valuen
5490,camera optionsn
5491,supports  fb node  video nodes by  have to support  fb for gfx  video nodes as  and  is part of the specification hence i have to make it as defaultnsince now we have video supportnnnedoffby subramani venkatesh
5492,lcd tv panel driver supporting  device modelnnthis patch   lcdwvga tv driver on new  device  gpio code have been moved from  to  as thenauthors of  want panel drivers to be more platform  lcd panel driver supports rotation  hfbhbpvfpvbp values are changed based on nec   tv supports composite video ntsc standard works asnexpectedbut pal has as  this patch also supports omap video output platform devicennfeature additions  panel driver name need to be  backlight support need to be addednnnedoffby subramani venkatesh
5493,hebrew translations improvementsnnmake sure that hebrew sentences beginning with latin letter are detected as right to left by adding an rlmncorrect date format as is standard in hebrew thursday  in april instead of thursday april
5494,usb gadget faccessory new gadget driver for android usb accesoriesnnnedoffby mike lockwood  gadget faccessory misc improvements and cleanupnn add uri stringnn replace type string with a description stringnn add a control call to retrieve accessory protocol version currently  driver read and write calls now fail after usb disconnect untiln driver file is closed and reopenednn misc cleanup worknnnedoffby mike lockwood  gadget faccessory clear accessory strings when usb is disconnectednnnedoffby mike lockwood  gadget faccessory clear previous strings on accessorygetprotocolnnclearing strings on disconnect does not work since we may receivena disconnect on some devices when transitioning into accessory modenwe require an accessory to send accessorygetprotocol beforensending any strings so any strings from a previous session will be clearednnnedoffby mike lockwood  gadget faccessory clear disconnected flag when driver file is openednnfixes a race condition that can occur when entering accessory modennnedoffby mike lockwood  gadget faccessory add string for  unique serial numbernnnedoffby mike lockwood  gadget faccessory set bnumendpoints to correct value of  mike lockwood
5495,enable lid notifications for navigational keyboardnnthe native api supports retreving lid notificationnbut the current framework will discard navigationalnlid notifications this makes it hard for gamedevelopersnto rely on the ndk and for them to use the dpad thenjava api works thoughnnthe problem was that the navigationhidden value wasnnot passed on to the assetmanager as it was expectingnid
5496,power  ignore glitches on stat pinsnndue to the earthquake in japan the  is temporarily not availablenti is providing another ic to mimic the  but unfortunately thenbehavior is not identical the stat lines glitch due to a charger insertionnthe stat line glitches obviously cause this driver to report the wrongnstatus to the system causing the system to react incorrectlynnthis patch will cause the stat lines to be ignored for  after ancharger insertionnid  greg meist
5497,proxy getnameinfo through netdnnproxy the parts of getnameinfo that utilizenthe dns cache through netdnid
5498,power  add voltage check before  resetnnsanity check the voltage before performing the  coulumbncounter reset this will prevent an inadvertent reset in casencharge complete is reported incorrectly by the systemnid  greg meist
5499,convert cname lenght before usennthe length of the cname is sent in bigendiannorder thus it has to be converted before usednin androidgetaddrinfoproxynid
5500,add detective logo to cts verifiernid
5501,add gethostbyaddrhandler to dnsproxylistenernnadded functionality to handle gethostbyaddrnin dnsproxylistener the functionality isnused by getnameinfo the patch is part of thenwork to have one dns cache for all process innthe systemnid
5502,arm etm add some missing locks and error checksnnit is not safe to call etmlock or etblock without holding thenmutex since another thread may also have unlocked the registersnnalso add some missing checks for valid etbregs in the etm sysfsnentriesnid  arve hjønnevåg
5503,add opengl headers and librariesnnthese are required for the host libraries used to support gles hw emulationnnthis also fixes buildhardytoolchainsh to properly copy simple symlinksnlike libglso   into the final sysrootnn a few missing symlinks which  impact the buildnid
5504,move  idle notifiers to genericnnmove the  idle notifiers originally by andi kleen and venkateshnpallipadi to genericnid  todd poynor
5505,bionic libthreaddb  fixesnid  james rose  bruce bear
5506,changeid  leading spacesn
5507,arm call idle notifiersnid  todd poynor
5508,revert fold uevent message origin checking from into libcutilsnnthis reverts commit  original change does not compilen
5509,added sleep within testgetandsetmastersyncautomaticallynnin this test case after testgetandsetmastersyncautomatically is donentestgetandsetsyncautomatically is executednnhowever i think that dodatabasecleanup within testgetandsetmastersyncautomatically is sometimes called immediately after setsyncautomaticallyaccount authority true within testgetandsetsyncautomaticallyni understand that dodatabasecleanup is triggered by setsyncautomaticallyaccount authority true within testgetandsetmastersyncautomaticallynnif this has occurred accountname and accountauthority are cleared which cause getsyncautomaticallyaccount authority to be false resulting the test case to be failednnthe solution to this is to add sleep within testgetandsetmastersyncautomatically so that dodatabasecleanup is finished before calling testgetandsetsyncautomaticallyn
5510,arm move leds idle startstop calls to idle notifiersnid  todd poynor
5511,using different filenames for testrecordervideo and testrecordercamerannthere are some cases where these failures will be caused due to same filename being used in these test casesnnto avoid this i changed so that different filenames will be used for testrecordervideo and testrecordercameranid
5512,lc needed so that libthreaddba presence may be detectednid  bruce beare  fabian schnel
5513,update  for better compatibilityn
5514,fold uevent message origin checking from into libcutilsnid
5515,changeid
5516,function procreset was invoked at the wrong location fixed itnnincorporated review  add support for configuration of the sco pcm  add support for configuration of the   add support for different patchram download ialization for newer  address review comments from chang
5517,libthreaddba is an archive not an objectnid  bruce bear
5518,add validation messages to the ddms edit filter dialognnfixing issu
5519,check fat size to avoid running out of memorynnpreviously if an improperly formatted sd card was aboutnto be checked fsckmsdos could allocate a large amountnof ram causing the system to run out of memory thisnfix puts a limit on the size of this allocation whichnis somewhat inline with the sd card specificationnid  sebastian rasmussen  christian bejram
5520,tweak prelink mapnid
5521,relax the constraint of  build environmentnid
5522,bt fix for vcard listing errornnthis patch fixes listing of the incomplete vcard xml file whichncontains special characters which are larger than one bytenid  christian bejram
5523,add in the virtualbox emulator as a separate build targetnid  bruce bear
5524,unmount file system on incorrectly removed cardnnunmount any mounted file system on a not partitioned card if thatncard is abruptly removed previously only file systems mounted onnpartitioned cards where unmounted if the card was removed abruptlynnthis patch adds a check when handling the disk removed event if anfile system is mounted on the disk then it is unmountednid  mikael gullberg  christian bejram
5525,fixing issue with updating androidmanifestxml when refactoring activitynnthis change fixes  problem happens when an activity is in subpackage of applicationnpackagenid
5526,arm  enable dynamic clock gatingnnenable dynamic high level clock gating for  cpus asndescribed in  dynamic high level clock gating of  trm this may cut the clock of the integer corensystem control block and data engine in certain conditionsnnadd arm errata  to avoid corrupting the jazelleninstruction stream on earlier  revisionsnid  todd poynor
5527,merge  into  do not mergennhwsensorsc reduce default delay between sensor updatesnnthis reduces the default delay used between sensor updatesnthis is needed to fix orientation for honeycomb emulation sincenthe  window orientation listener now discards eventsnif they are spaced by more than  second which happened to benthe old defaultnid
5528,removed special consideration of ebusy from  automounternnif the sd card is partitioned and one attempts to use a partition of the sd card for another purpose maybe even booting off of it then  is considered busy when mountd tries to mount it as specified by etcmountdconf normally it would then attempt to mount partitions of the device but as busy is specially treated in the code it does not consider this to be an error conditionnnthe argment for this check is that the device is likely already mounted but that is obviously not something that should be assumed and is not true in this example situation even if the device were already mounted from the  viewpoint this should be considered an error anyway as it failed to mount it as it was told i therefore believe this check to not only be causing the above problem but also to be incorrect this change removes itnnfor more information see thi
5529,fix emulator gps supportnnuse createthreadcb instead of pthreadcreate to create gpsstatethreadnso it can safely call into the java frameworknnbug   mike lockwood
5530,added support for looppathtofilename to  mountnnin keeping with the pattern of mtdpartition i have added looppath as a way to specify a loopback device this way you can do things like mount directories in system using cramfs from a file otherwise on system just one example oof how  using it i specifically went with loop rather than adding this feature as a flag as the flags system is designed to set bits in the flags argument to mount using loop fit the model in a much simpler manner and actually feels correctn
5531,tweak prelink map morenid
5532,autoadjust scale and window position when needednnthis patch changes the  default behaviour in two waysnn automatically compute the window scale to ensure that the  window can be displayed within the current screen this ensures thatn it remains usable when emulating a largeresolution device on an small display eg on a  laptop running at  this check and autocorrection do not happen if you use then scale or dpimonitor optionsnn when recentering an outoffocus window ensure that the top ofn the window is visible which generally includes the  title bar this allows the window to be easily moved or minimizedn by the user is needednnthis fixes three bugsnn
5533,add missing osgi jar to ddms classpathnnddms requires an osgijar which is correctlyndeclared in the manifest it is however notndeclared in the classpath used by eclipsennthe consequence is that trying to use the prefnpanel when running ddms from eclipse crashesnwith with a classnotfound exceptionnid
5534,emulator enable dexpreoptimizationnnthis enables the dex preoptimization for emulatorspecific buildsnthe idea is to speed up the ial boot sequence of an sdk avd bynavoiding the costly ondevice preopt pass that is performed otherwisenthe first time the avd is launchednnbenchmarking shows reductions in first boot time from  to  a  xeon when emulating the aosp master totnid
5535,add  headernnthis header is used to implement qemu pipes a very fast way to exchangenmessages between the guest and the emulator program see implementation andntests under developmenttoolsemulatorsystemlibqemunid
5536,added null check on return value for getkeydispatcherstatennthe result from getkeydispatcherstate was used withoutnchecking if it returned null which resulted in a nullpointerexceptionnid
5537,take device size into account in partitioningnnwaste less space for small sd cards while trying tonadhere to sd card spec for bigger cardsnid  sebastian rasmussen  christian bejram
5538,sdk ensure we copy buildprop to platform image directorynnthis patch ensures that we copy the generated buildprop file tonthe platform image directory this file will later be used by thenemulator and other tools to determine various properties of thenimage without having to parse the systemimg filennfor example this can be used to extract the target cpu architecturenandor abi and automatically adjust emulation based on thisnid
5539,minor doc fixesnid
5540,net wireless bcmdhd fix makefile to allow wext compilationnnnedoffby dmitry shmidt
5541,nal client thread in error casesnnwhen the  has finished executing one command it signalsnthe client thread some error cases do not signal and due to thisncalls to  will hang until the client thread times outnnadd signaling in error cases to avoid calls to  to hangnid
5542,simplify  toolchain setupmknnwe can omit all defions that match buildcoredefaultbuildcommandsmknwhich also support building under cygwinnid
5543,take partition size into account in formattingnnwhen formatting the fat partition on sd cardsntake the partition size into account when  and cluster size this significantlynreduces memory consumption when fscking bigger cardsnprior to mountingnid  sebastian rasmussen  christian bejram
5544,net wireless bcmdhd combined patch from  allocate skb with gfpkernel flag if possible fix for older kernelsnbcmdhd fix race conditions for sysiocthreadn fix up formatting and ifdefsnnet wireless bcmdhd fix getcustomizedcountrycode for older kernelsnnet wireless bcmdhd move pno function prototypes to dhdhnadd private command supportnnet wireless bcmdhd set proper read barriernnet wireless bcmdhd fix memory leak in case of dhdbus failurennet wireless bcmdhd fix wakelock symmetrynnet wireless bcmdhd ignore error if scan results are emptynnet wireless bcmdhd add sdlock to firmware loadingnnet wireless bcmdhd fix watchdog syncronization during startstopnnet wireless bcmdhd fix makefile to allow wext compilationnnnedoffby dmitry shmidt
5545,source code to build two binaries biosbin and vgabioscirrusbinnwhich are required for  emulation in the android  emulatornid  xiaohui xin  jun nakajima
5546,alsa soc  add switch based headset detectionnnandroid relies on a switch class driver to report ueventnfor headset status this adds support for basic headset statusnreporting to the  codec drivernnthis is adapted from  patch by misa lopeznid  chris kelli
5547,write master boot record signaturennwhen partitioning and thus updating the master bootnrecord on a completely empty device make sure thenmaster boot record signature is writtennid  sebastian rasmussen  christian bejram
5548,gsm add report gprs type in   spec  network registration cregnwrote modem can report network typeact in cregnadd this in the singnal report code for some modemnid  zhang jiej
5549,enable lowlevel kernel debugging for goldfish platformnnthis provides a working implementation of the assembly routines requirednto have configdebugll working with the goldfish kernel for the recordnthis instructs the kernel to send each printk to the serial port as soonnas possible instead of buffering the outputnnthis turned out valuable to debug some tricky  emulation support issuesnnnedoffby david  turn
5550,allow easy use of ime on devices with hardware keyboardsnnwhen a user has the hardware keyboard hidden on a device that supportsnthis allow holding the menu button to bring up the currently selectednimennthis change gives users of devices with no keyboards and users withndevices that have hidden keyboards experience parity note that thensearch button currently has exactly the same behavior but therendoes not appear to be a way to press the search button when thenkeyboard is closed on existing devicesn
5551,arm omap add ti and embedded sdio support for wifinnnedoffby dmitry shmidt
5552,watchdog add panic notifiernnin panic notifier it will ping watchdog to give other notifiernenough time to handle panicnso it is added into an earlier sectionnnnedoffby tom zhu
5553,arm  mux  had incorrect mode settingnnnedoffby rebecca schultz zavin
5554,misc apanic bad block handlingnnadd bad block handling in apanicnnnedoffby tom zhu  san mehat
5555,androidbat support for java  properly encode file using crlf not unix modenfindjavabat properly check for java in the  programfiles pathnid
5556,allow adttests to access packageprivate elementsnnpreviously when running tests in the continuous tests system adttests couldnnot access any packageprivate elements in adt this was because adttests wasna separate plugin and thus had a separate class loadernnwith this commit adttests is now a fragment and its code runs inside thenadt pluginnnbug
5557,fix discoverservices not retrieving any recordsnnpatch submitted to upstream bluez bynoriginal author luiz augusto von dentz  the case that  was already set  wasnbeing set to null and so causes the empty array to be returnednnto fix that tmprecords now always has the latest discovered records andnit is used when repling to discoverservicesnnthanks to tim renouf  for figuring out where wasnthe problemnid
5558,prevent mediascanner from removing micro thumbnail database after scannnafter scanning the sdcard for the first time the mediascanner deletesnthe micro thumbnail database files the minithumbfile class attempts tonrecreate the files but ends up with  dbfiles that it cannotnstore any more micro thumbs in resulting in that all micro thumbnailsnthat are results from thumbnail request are never stored properly untilnthe device is restartednid
5559,fix error strings  dxjar not dexjarnnthe error message has the wrong file name and thatnconfused me when i manually created my platformtoolsnid
5560,disable tests using easymock to fix  try to fix it in another cl laternid
5561,pullvcardlist implemented according to specificationnnthe value tag sent as a byte array was not parsed correctlynleading to illegal strings the list count value was not usednaccording to the specification now refers to number of entriesnthat should be returned specification for phone book accessnprofile chapter  default max list size of oxffff  from  now uses default values when applicationnparameter headers are missingnid
5562,enhance android classpath containernid
5563,enhance android classpath containernid
5564,use proxy for downloadsnnuses the new proxy method getpreferredhttphost to easily get correctnproxynid
5565,fcntlh define  and  used by llvmnnin bionic open and openat support  by defaultnso just define them to be their counterpartsnid
5566,use proxy for downloadsnnuse the new proxy method getpreferredhttphost to use proxy forndownloadsnid
5567,added method getpreferredhttphostnnadded method for returning preferred proxy which takes bothnlocalhost and wifi into account this is a convenient methodnto clients which only wants to set a correct proxy and  to build in dependency to if wifi is active or notncurrently no wifi proxy is supported by the system but oncenadded this method could return a suitable proxy for wifinid
5568,support for  on simnnkorean phones write to the adn record of the sim in a nonstandard waynwhen  is not used the alphatag will be written in the  this contribution adds support for reading that format whenna korean sim card is usednnalso adds support for  in smsnid
5569,adt move unittests from adttests into adtnnthis cl is just a request for commentsni will revisit it once change  has been mergednid
5570,change routeall from   mask to   mask to allow for more routes in the futuren
5571,fix build jarutils was referenced by the eclipse pluging build scriptnid
5572,fix for incorrect reply from sysconfscnprocessorsonlnnnwhen calling sysconf with scnprocessorsonln the value one  wasnreturned on systems with two or more cores since  wasnincorrectly parsednnthe function lineparsergetc lineparser p read  characters ofninput for each invocationnnthe proper and probably aimed for behavior is to read  charactersnat the first call then for each subsequent call only return the nextnbuffered character until a new read is needed and only then readnanother  charactersnndue to a flipped comparison between the two variables inlen andninpos that track the number of bytes of data read into the inputnbuffer and how much of it has been parsed a new group of  were read at almost every call to lineparsergetcnoverwriting the still unhandled bytes from the previous call tonread this caused the lines to be read to be sampled more than parsednid  christian bejram
5573,added overload methods for databaseutilsquerynumentriesnnnow you can filter the count statement with a selectionnand selection argsnunittests for this new methods are added to the cts projectnid
5574,added unit tests for the new databaseutilsquerynumentries methodsnid
5575,make sure  is defined even for   asm headers define  regardless of strictansinthe  header requires  to be defined thusnthis fixes compiling with  when including  headernnin glibc the asmtypesh header defines  regardless ofnstrictansi the original kernel header needs to be adjustednin this case since it is used as source for the bionic userlandnheadersnid
5576,remove more mentions of jarutilsnid
5577,ashmem update arguments of shrinker for   colin cross
5578,net wireless  add softap mac address randomizationnnnedoffby dmitry shmidt
5579,lowmemorykiller update arguments of shrinker for   colin cross
5580,add esperanto to the list of localesn
5581,small clean up and fix to the problem of having using insmod in the rc of drivers that expect to use udev to load driver fw without this fix the driver will block on the fw load waiting for the program to respond to the netlink message while its waiting on the insmod call to complete loading driver firmware as a result of using insmod in the rc is a multithreaded operationn
5582,gdb build static expat internally do not install expatnnthis patch prevents expat from being installed into destinationndirectory also only static version of expat library is requirednid
5583,eclair cts test for arm abi versionnnbug  is the eclair version of the armeabi test added to froyonfor  here is what needed to be tweaked to makenit  i  see an open ndk eclair project so i copied then cpufeatures source code to a temporary directory under  there was no public sdk java method to get the second abin property however i went ahead and used the hidden apin due to the importance of the testnnthis test already exists in froyo and uses the proper public apinthis test will not be merged into froyo and future releasesnid
5584,switch to more modern way to handle the kernelnncopied from passionnid
5585,include the proper proprietary part of boardconfigmknnthis issue prevented from building a driverless dreamnin a tree that had sapphire driversnid
5586,wappushmanager wap push over sms message handlernnthe wappushmanager is a new optional service for handling wap pushnover sms messages this service allows a carrier to designate a highnpriority handler for specific wap push over sms messages withoutnaffecting other wap push over sms binary sms or sms text messagesnit is also optional so that it can be configured out of the targetnimage resulting in no change in the wap push over sms handlingnbehavior compared to the current aospnn this patch adds a new wappushmanager permission to the phone appnid
5587,wappushmanager wap push over sms message handlernnthe wappushmanager is a new optional service for handling wap pushnover sms messages this service allows a carrier to designate a highnpriority handler for specific wap push over sms messages withoutnaffecting other wap push over sms binary sms or sms text messagesnit is also optional so that it can be configured out of the targetnimage resulting in no change in the wap push over sms handlingnbehavior compared to the current aospnn this patch contains the wappushmanager itself the associated testn code and the modifications to telephony to use the wappushmanagernid
5588,net wireless  send hang message only oncennnedoffby dmitry shmidt
5589,merge sdklib manifest fix for  do not mergennoriginal commit msgnfix missing dependency in the sdklib manifest improved error reportingnid
5590,build fix trivial documentation typonid
5591,improved documentationnnaccording to dianne hackborn documentation there is wrongncorrect behaviour is described by her  jacob nordfalk
5592,stagefright aacencamrwbenc remove trailing whitespacennthis was applied in aosp master earlier in  but when mergedninto the google internal tree  none of thesenchanges have been brought in the diff of this merge commitnand its first parent  is emptynntherefore reapply the rest of these changes on the filesnthat still are present in the current versionnid
5593,modernize handling of wlankonncopied from passionnid
5594,merge from froyonnthis moves the radio requirement up to  includes the matching kernel boardinfo andnother changesnid
5595,tilt code now handles displays with a default landscape orientationnnbased on
5596,merge remote branch  into extwebkitn
5597,bug fix   url  url  url that starts with nnthe android browser inserts at the beginning of the url pathnwhen processing an  in an html document with a  tagnthis does not cause any errors but should be fixed to comply withnrfc  section  only happens at the first pass of the url parsing at the secondnpass where the base and path are parsed together this is dealt withncorrectly i am therefore fixing it by modifying the parse methodnin kurl to check for a trailing  at the end of the base segmentnid
5598,ctsverifier passfail buttons for all testsnnadded passfail buttons to the rest of the tests create a commonnlayout for the set of two buttons and a class containing a clicknhandler that handles the usual case of setting the test resultnand finishing the activitynid
5599,fix build remove dead doc linknid
5600,enhance android classpath container code styl
5601,fix dvmdbgoutputallinterfaces to include only direct superinterfacesnnas the javadoc and the spec say dvmdbgoutputallinterfaces should output onlynthe directly implemented interfaces this can be achieved by just iteratingnover the    johannes rudolph
5602,enhance android classpath container code stylenid
5603,add a cts test to check for presence of accessibility in settingsnid
5604,usb do not force select hasehci for tegranid  benoit gobi
5605,net wireless  update to version  add support to pno with adaptive scan timen remove logic to generate link down based on roaming eventn improve scoesco detection method for bt coexn add new function txpower to reduce power if needednnnedoffby dmitry shmidt
5606,fixes conflict between crespo and other  based devices like galaxy s  using  for some galaxys devices too but slightly modified other video devices devvideox and then there will be conflicts between module namesnthis patch should avoid thisnid
5607,synchronize internal and external version merge the following patchesnnadded a more helpful error message when the profile is corruptednadded check for abnormal ssa names in the analysis phase of the vectorizern so that it prevents a potential icenreplace floatingpoint calculations with fixedpoint calculations whenn computing inlining priority to eliminate floatingpoint nondeterminismn on   arrayfiniarray sections instead of ctordtor whenn configured with enablefiniarraynid
5608,fix dangling pointer bug in  icfnid
5609,cleanup redundant interfaces from iftable to avoid excessive linearalloc usennin deep interface hierarchies superinterfaces are recursively concatenatednto create the iftable there was no checking for duplicated entries so that theniftable could get pretty large with just a few layers of interfaces up to thenpoint where the linearalloc was exceeded completelynnthis change scans the iftable linearly for existing entries before it adds anothernonennissue   johannes rudolph
5610,set dns cache size from system propertynnset the size of the dns cache using thenreadonly system property ronetdnscachesizennthe value to be set has to be defined by testingnthe current value is just randomly pickednid
5611,add processed kernel header for msmsnd drivernnnedoffby iliyan malchev
5612,telephony process  blocked and  permanently blocked statesnid
5613,crypto tegraaes performance improvementsnn set the key only at the start of encryptdecrypt operationsn avoid using mutex in handlereq since it is already serialisedn sanity checks while setting the ivn enabledisable irqs per requestnid  varun wadekar
5614,phone process  blocked and  permanently blocked statesnid
5615,frameworksbase acquire lock on am only when needednnappenddropboxprocessheaders acquires a lock on am while accessingnprocessrecord even if it is null watchdog thread ends up invokingnthis function with a null processrecord to add the stack file tondropbox this function would block if and when the watchdog thread isninvoked due to unavailability of lock on am resulting in a deadlocknthis would prevent watchdog from killing systemservernid
5616,hwsensorsc reduce default delay between sensor updatesnnthis reduces the default delay used between sensor updatesnthis is needed to fix orientation for honeycomb emulation sincenthe  window orientation listener now discards eventsnif they are spaced by more than  second which happened to benthe old defaultnid
5617,net wireless  get country translation from platform datannnedoffby dmitry shmidt
5618,move prefetchloops flag to boardspecific filennfprefetchlooparrays is not supported on every arm target sonmove the flag close to the place where the arm target selectionnis specifiedn
5619,wappushmanager wap push over sms message handlernnthe wappushmanager is a new optional service for handling wap pushnover sms messages this service allows a carrier to designate a highnpriority handler for specific wap push over sms messages withoutnaffecting other wap push over sms binary sms or sms text messagesnit is also optional so that it can be configured out of the targetnimage resulting in no change in the wap push over sms handlingnbehavior compared to the current aospnn this patch adds the wappushmanager to the core buildnid
5620,added adbinterfacewaitforprocess and waitforprocessendnnrelies mostly on common code factored out of waitfordevicepm andnwaitfordeviceinstrumentationn
5621,video tegra add some missing mutex locking to nvhostcdmanid  erik gil
5622,create monkeyrunner docs target to generate sdk docsnid
5623,add nonconstantid to aaptnnthis option enbables creating resource constant in the r classnthat are not actual constant but simply static fieldsnnthe goal is to build library projects with these types ofnids so that the constant does not get inlined in the libraryncode since the id for the library resources only are notnthe final valuesnnthe final resource ids generated from the main project andnits libraryies will have proper constant with the finalnvaluesnnthis allows us to generate binary library bundle a jar filenand associated resources that can be distributed additionallynthis will let us make the library project support in eclipsenmuch more robust and a better user experience overallnid
5624,unittest for updaterlogicfindplatformtoolsdependencynid
5625,net wireless add getcountrycode functionality to platformnnnedoffby dmitry shmidt
5626,xml editing add  for attributes and change iconsnnthis changeset makes a couple of changes for editing xml filesnnfirst it changes the code completion proposals for attributes suchnthat when the attribute is inserted it is inserted along with  the caret is placed inside the double quotesnnsecond it changes the icons for attributes and elements to use thenplain eclipse attribute and element icons rather thannfirstletterderived icons this is similar to how eclipse does iconsnfor other file types like java where all methods just use a greennball for example rather than different icons depending on the methodnnamennan exception to this are the view elements where we have dedicatednicons for most of the view types for these the individual icons arenusednid
5627,support for adding words with asian characters to dictionarynntextview parsing of words is extended to include unicodenclass letter other which covers asian languages among othersnalso added the possibility to add a text selection to thendictionary if it is a valid word needed for languagesnnot using word separators such as chinese and japanesenid
5628,all resource changes should trigger a layout renderingnnthe current code  render if a layout changednbut  support was added way back and this couldntrigger the need for a recompilenid
5629,usb host renamed usbtegrahcd  usbehcitegranid  benoit gobi
5630,add support for multiple html directories to droiddocnnthe goal for adding this support is to allow droiddoc to pull htmlnfiles both from the static content and from content generated atnbuild timenid
5631,arm tegra select usbarchhasehcinnusbphy now depends on usbulpiviewportnid  benoit gobi
5632,add support for generated documentation as part of the sdk docsnnthis can be done by adding the list of files to include to thenallgenerateddocs variable and then making sure to put your generated outputnfiles under $outdocsgennid
5633,sdkdocs output format for use in generating the sdk documentation for monkeyrunnernid
5634,bypass testformatmethods if device is not using enus resourcenid
5635,arm tegra enable  data prefetching and prefetch offsetnnenable data prefetching in the  cache controller and setnthe prefetch offset to  performance measured copying  mb buffers  timesndata prefetch disabled prefetch offset   mbsnenabling data prefetching prefetch offset   mbsnenabling data prefetching prefetch offset   mbsnnoverall this patch gives a  improvement in memcpy performancennprefetch offset of  causes prefetches to cross  boundariesnand cannot be usednnoriginalauthor gary king  chris fries  colin cross
5636,revert mmc subtract boot sectors from disk size for emmc  devicesnnthis reverts commit  reverted commit incorrectly calculates the size of emmcndevices in some all casesnnthis revert may cause problems in cases where the bootloader wasnbugcompatible and puts a gpt partition at the incorrect end ofnthe emmc devicenid  colin cross
5637,add show included in safeguard and work around eclipse dom bugnnfirst add a check in the view hierarchy code to ensure that when wenare attempting to render a view included within another that thenincluded  model is actually included in the render if it isnnot then clear the inclusion context and rerender this  bennecessary since we only offer show included in for views known to benincluding the current view but if something should go wrong somewherensuch as a stale include list or the current bug we have with parsernnesting this is a useful fallback to prevent major confusionnnsecond add in null checks for a couple of places where we werencalling dom elementgetattributens this method is according to thendom api not supposed to ever return null so we had code assuming thatnit would not yet  just run into it returning null in some casesnand found an eclipse bug report from  stating the same thing  so addnworkaround safeguards we call getattributens in a lot of places andnwe do not see this problem crop up everywhere so there must be somennarrow scenarios where it is occurring therefore i have notnsprinkled null checks or introduced a utility method just yet thoughnthat might be a good next stepnid
5638,libstagefright reset the amr decoder while performing seeknn observed noise when seeking to beginning of file for then recorded amr clipn while performing seek the amr decoder states are not being resetn in amr decoder the current frame output is predicted using the statesn from previous frame if these states are not cleared it might causen noise when seek is performedn fixed by resetting the decoder when seek is issuednid
5639,frameworksbase fix to calculate correct seek position for wavnn trying to seek a wav file results in incorrect playbackn seek position for wav files in stagefright was hardcoded ton  sampleraten modified wavextractor to calculate seek position based on then appropriate sampleratenid
5640,manifest for
5641,emulator add libqemu static library to implement qemu pipesnnsee hardwarelibhardwareincludehardwareqemupipeh for the apinimplemented by the library it enables very fast readswrites betweennthe guest system and specific emulator servicesnndefine  in your environment to build thentest programs a simple host pingpong server and a benchmarknguest programnnyou can invoke them  testing tcp pipesnn host  tcp  guest  pipe  guest sun  tcp  testing unix pipesnn host  unix tmplibqemusocketn guest  pipe  testing internal pingpong server within the emulatornn host nothing to do n guest
5642,ueventdrc move devqemutrace to ueventdgoldfishrcnn add devqemupipe line for qemu pipesnid
5643,new implementation of goldfish pipesnnthis one  depend on the slow qemud communication channelnand should be much faster for signaling wake eventsnid
5644,avoid crash when switching to  networknnadding test that active apn array is not emptynid
5645,fix typo in informational textnid  bernhard reutnerfisch
5646,clear excption in binderontransact before calling strictmodennclearing any potential exception before calling intonstrictmode to avoid vm abort due to java function call withnpending exceptionnid
5647,adb fix typo in helptextnnsocmmandcommandnid  bernhard reutnerfisch
5648,merge from mastern
5649,net wireless  fix mem leak in wliwhandlescanresultsiesnnnedoffby dmitry shmidt
5650,net wireless  fix memleak in  dmitry shmidt
5651,net wireless  add sdlock to firmware loadingnnnedoffby dmitry shmidt
5652,android on freerunner supportn
5653,sdk manager comment on adding new jar dependenciesnid
5654,android on freerunner supportn
5655,applying charset detection and transformation to particular charsetnnedoffby sangjun park
5656,builtins add  command to rc parsernnthe command is used to set an entry into the  scancodetokeycode mapnid
5657,test suites for oma drm forward locknid
5658,audio latency testsnnadd two tests to gauge audio latency the cold latency test measuresnhow fast data can be read from freshly created audiorecord the warmnlatency test measures how long it takes to record a sound afterncreaing an audiorecord and audiotrack and waiting a bitnid
5659,add voldfstab to mount the sd cardnid  jun nakajima
5660,android on freerunner supportn
5661,android on freerunner supportn
5662,usb gadget fsludc prevent udc timeout on suspendnid  colin cross
5663,android on freerunner supportn
5664,usb gadget fsludc fix dtds allocation gfp flagsnnfslbuilddtd may be called from atomic context  hardcode the gfpnflag to gfpkernel pass down to dmapoolalloc the flag used by thenfunction driver to enqueue the requestnid  benoit gobi
5665,usb gadget fsludc add support for usb test mode featurennadding support for usbif high speed electrical test mode for device modensupport added for electrical test      testforceenablennoriginally fixed by venkat moganty   jay cheng
5666,prevent accidental dragging of the root layoutnnthe layout editor deliberately does not reset the selection if younstart dragging within the bounding rectangle of one of possiblynmultiple selected widgets however since  pretty easy to haventhe root element selected this sometimes means you end up trying tondrag an item only to realize you  because everything fits withinnthe root bounding rectanglennthis changeset fixes this usability issue by making the root widget anspecial case if you are dragging only the root things work asnbefore but if you are trying to drag anything else it will ignorenthe root which means that you can drag one or more itemsnindependently of the root whether or not it is included in thenselectionnid
5667,arm  fixesnn ignore kfifo thresholds on recording and playback and adjust the delaysn take out the code from tegraaudioinstop into a separate functionn stoprecordingnosyncn rename stoprecording to waitforrecordingtostopn add ioctltegraaudiooutflush which blocks the caller until the outputn fifo is drained while the caller is blocked pending write calls willn return immediately with whatever data they had managed to queue upn removed ioctltegraaudiooutpreloadfifon since tegraaudiooutflush and tegraaudioinstop act similarly movedn audiodriverstaterecordingcancelled to audiostreamstop and changedn the code accordingly renamed functions waitforrecordingtostop andn stoprecordingnosync to waittillstopped and requeststopnosyncn since they handle both playback and recordingn print errors on close if wakelocks are still heldn call requeststopnosync on close of a recording file handlen do not use struct audiostreamactive for playback streams insteadn where applicable use kfifolen as a consequence playback kfifon underruns are no longer reported these were bogus anyway as we reallyn need the dma engine to tell us if there are underrunsn because of above item had to rework txfifoatnstoren rxfifoatnstore and attrfifoatnwriten set struct audiostreamactive for a recording stream to true when an recording starts and set it to false when recording get stopped do notn setclear it within the body of read because just being within readn does not mean that recording is in progressn in tegraaudioread check for stop  true before callingn startrecordingifnecessary this makes sure that if a user calls readn after calling ioctltegraaudioinstop recording will not resume unlessn ioctltegraaudioinstart gets called or the file is closed andn reopenedn fixed tegraaudioinstartn in pio mode enabled fifos before enabling interrupts as specified in then trmn added missing break in tegraaudioioctln silenced some debug spewnnnedoffby iliyan malchev
5668,fixing audionid  xiaohui xin  jun nakajima
5669,adding  decoding for  encoded korean stirng before  decodingnnedoffby sangjun park
5670,arm  add support for dsp pcm modenid  iliyan malchev
5671,mmc fix pmnotifier obeying deferred resumennnedoffby dmitry shmidt
5672,adding goldfishdefconfig added sd card support and minimized the confignid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
5673,make drag and drop create a single undo operationnnif you drag and drop a widget you end up with two separate undonoperations one which inserts the widget in its new location and onenwhich deletes it from its former location if you drag a widgetnsomewhere and then change your mind and press undo you will thereforenend up with two versions of the dragged widgets since undoing justnonce only undoes the source removal not the target additionnnthis changeset fixes this  not a very clean fix since drag andndrop is a protocol where the drag source and the drop handler arendeliberately not connected we now create a single undo context beforencalling the layout  drop handler and when it has finished wenthen remove the source still within the current undo context this isndone by having the drag source register a cleanup handler with thenglobal drag info object and this handler is invoked from within thendrop  undo operationnnthis means that we end up creating the undo unit on the tool sidenrather than in the layout helpers where more specific undo labelsnwere assigned to deal with this there is a new function whichnproduces a suitable undo name it creates the name by consideringnwhether  a move or copy as well as the unqualified names of thendragged element and the drop target for example when dragging fromnthe palette you may end up with drop button in linearlayout and ifndragging a multiselection you may end up with move widgets innrelativelayout and so onnid
5674,add godlish support fixed audio issuesnid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
5675,fix a crash when there is no command action in some triggernid  weichuan yan
5676,fix issue  contacts adding new organization entry erasesnpositions fields of  text in  textview is not saved beforen
5677,fix issue  incorrect organization type label in  patch is working with  are in  different projects so i need to commit twicen
5678,fix crosscanvas refresh issuennif you drag  drop a widget from one canvas to another canvas thenoperation seems to have no effect the new widget is not drawn ifnyou actually click on the target canvas it will suddenly appearnnwe were callingtredraw on the target but that does not seem to benenough an explicit focus request is necessary too and has othernbenefits once you drop you expect that element to receive ansubsequent delete keystroke etcnid
5679,fix issue  incorrect organization type label in  organization defion in stringarray resource is different fromnandroidprovidercontactsorganizationcolumnsn
5680,keep track of remaining fd when devices are removednnsometimes the wrong fd was accessed when the device was addressednby device idnnthe earlier implementation assumed that two arrays were in syncnbut one of them was compacted when devices were removed insteadnof that dependency the device now keeps track of  file descriptornid
5681,take dsi mutexes until after canceling error recovery worknnif the device tried to suspend while the error recovery work is executingnbut before it had aquired  locks this code could deadlocknid  rebecca schultz zavin
5682,arm msm  keep requests marked as busy until after calling completennthis ensures that the request will not be freed by the completion routinenavoiding situations that could result use after freennalso fixed updating msmendpointlast pointer in  mike lockwood
5683,dspbridge cache operation against kernel address instead of  on the discussionn   export followpage for dspbridge cache operationnnnedoffby hiroshi doyu  picked from commit
5684,remove top panel in alert dialog if emptynnremove the toppanel in the alert dialog if it is empty andntherefore invisible this gives the dialog content more space and itnmakes dialog positioning on the screen correctnid
5685,dspbridge cache against kernel address fixnnreplace pageaddress with kmap to get address in case of high mem allocationnnnedoffby fernando guzman lugo
5686,audio make dspdebug work in multicrash situationsnnif a second thread called  whilenthe daemon was ramdumping the dsp  panic the kernel beforenthe ram dump completed park any additional threads so thatnwe can ensure we finish the ramdumpnnnedoffby brian swetland
5687,revert dalvik use pthreadsetnamenp to set the name of the current threadnnthis reverts commit
5688,move the exceptions out of apkbuildernid
5689,fix reporting of window visibility in windowmanagerservicennwindowmanagerservice wms can wrongly report windows visibility duento wrong handling of starting windowsnstarting windows are special temporary windows that are displayednwhile the application is startingnsometimes starting windows are considered when checking visibilitynwhat leads to not reported or wrongly reported visibility statusnif visibility is not reported correctly some internal flows arennot executed and wms internal state can be wrongn
5690,adt   in framelayoutnid
5691,net wireless  add mutex for cached scan data protectionnnnedoffby dmitry shmidt
5692,clear preferred activities when home process crashesnnif the default home application has been replaced withna thirdparty app that is repeatedly crashing at startupnthere is no way for the user to clear the preferred activitiesnor uninstall the bad application if we clear the packagenpreferred activities when the application crashes the usernwill be prompted with the resolveractivity at the next bootnand can try using the app again or choose to use anothernhome applicationnid
5693,arm msm  remove dead request tracking logicnnthis code was broken as there was no safe way to handle requests being freednfrom completion routines it was also unnecessary because the gadget frameworkndoes not allow freeing busy requests anywaynthis fixes a race condition that could result in a use after free bug whennrequests are freed via a completion routinennthis change also fixes updating msmendpoint last pointer in  mike lockwood
5694,add support for dock night mode and navigation state resource qualifiersnid
5695,fix null dereference crashing statusbar servicennfor the emulator and devices without bluetooth support the bluetooth servicenis null the statusbar crashes upon attempt to dereference this null servicenso simply check for null first this fixes issu
5696,set alpha value for newly created dim surfacennnewly created dim surface has alpha set to  opaquenbut it is assumed in dim animation code that it is  transparentnwhen new dim surface is created and expected dim value is calculated to  alpha is never set making screen black dut to default  dim surface is shownn
5697,revert androidconfig define havepthreadsetnamenpnnthis reverts commit
5698,test noopnid
5699,add eng tag to sdksetup app so eng builds get provisionednnthe sdksetup app is not currently installed on eng builds so they never getnprovisioned and things like screen lockinghome buttonvarious other things  work this will add it to eng builds fixing these problems issu
5700,linker fix the undefined weak symbols issuen
5701,arm tegra add support for audiosync clocknnnedoffby iliyan malchev
5702,glcode add end of linennnedoffby jaehyung ahn
5703,arm tegra propagate rate only if setrate succeedsnnnedoffby iliyan malchev
5704,added an androidcontentdesncription for the hold button this is necessary for accessibility clientsnid
5705,arm tegra fix rate reporting on  clocknnnedoffby iliyan malchev
5706,android hack for sizetnid
5707,generate kvmimg for
5708,generate kvmimg for
5709,make ddmlibddmuilib jar files inside the ddms plugin instead of symlinksnnalso cleaned up the abstraction layer to load images from ddmuilib sincenits image are now always located inside ddmuilib jarnid
5710,the phonewindowmanager  being built remove it from preloadsnid
5711,arm do not call flushcacheuserrange with mmapsem heldnnwe  be holding the mmapsem while calling flushcacheuserrangenbecause the flush can fault if we fault on a user address thenpage fault handler will try to take mmapsem again since both placesnacquire the read lock most of the time it succeeds however if anothernthread tries to acquire the write lock on the mmapsem eg mmap innbetween the call to flushcacheuserrange and the fault the downreadnin dopagefault will deadlocknnalso since we really  be holding the mmapsem while callingnflushcacheuserrange and vma is actually unused by the flush itselfnget rid of vma as an argumentnid  dima zavin
5712,generate kvmimg for
5713,update changelog for adt with the new qualifier supportnid
5714,rename  apkbuilder to postcompilerbuildernnthis was confusing with the presence of apkbuilder in sdklibnwhich really only does the final apk building while the one in adtndoes all the building steps after compilation resource packagingndexing the java bytecode and finally calling apkbuildernid
5715,net wireless  add deassociate functionality to softapnnnedoffby dmitry shmidt
5716,added androidconfigh for freebsdn
5717,updated to use  conformant expr on freebsd systemn
5718,type zero sms should not be displayedstorednotifiednntype zero messages indicated by tppid field set to value  not be displayedstorednotified they should only benacknowledgedn
5719,fix discoverservices not retrieving any recordsnnpatch submitted to upstream bluez bynoriginal author luiz augusto von dentz  the case that  was already set  wasnbeing set to null and so causes the empty array to be returnednnto fix that tmprecords now always has the latest discovered records andnit is used when repling to discoverservicesnnthanks to tim renouf  for figuring out where wasnthe problemnid
5720,audio fix incorrect length of data field printed by dal trace dumpnnnedoffby eric laur
5721,add missing inline function to  makes it possible to build   isnneeded by itn
5722,add a cts test to check for presence of accessibility in settingsnnfroyo version copied from eclairnid
5723,net wireless  fix softap security mode changennnedoffby dmitry shmidt
5724,bug fix   url  url  url that starts with nnthe android browser inserts at the beginning of the url pathnwhen processing an  in an html document with a  tagnnadding check to webaddress to remove any leading  from the pathnportion of a uri this must take place within webaddress asnthere is no earlier point at which the url is parsed into a urinid
5725,remove pinyin from acorennthat way it  appear to have dozen of very scarynpermissionsnnexplicitly add the permissions it actually needsnid
5726,typo fixednid
5727,update platform version strings for aospnid
5728,driversmisc sources for st corenntexas instruments bt fm and gps combo chipsdriversnmake use of a single tty to communicate with the chipnthis module constitutes the core logic tty ldisc drivernand the exported symbols for registeringunregistering ofnthe protocol drivers such as btfmgpsnnnedoffby pavan savoy
5729,driversmisc sources for init manager modulennkernel space initmanager works along with usermodeninit manager daemon running to maintain the uart statenit also is a platform driver with a relevant platform devicenin the boardc along with the list of btfmgps chip enablengpio configurationnnnedoffby pavan savoy
5730,master  adds generic machtegra  supportnnthis adds  as a device for machtegra boards fixes wrongnowr io base and changes owr clock namenid  andrei warkentin
5731,serial tty new ldisc for ti btfmgps chipsnna new nshared line discipline added for ti btfmgpsncombo chips which make use of same tty to communicatenwith chip this is to be made use of individual protocolnbtfmgps driversnnnedoffby pavan savoy
5732,master  add ial tegra  master drivernninitial implementation of  master driver for tegra socsntested with  slave drivernid  andrei warkentin
5733,driversmisc kconfig makefile for  st ldiscnnthis change adds the kconfig and make file for  line discipline driver and the bluez driver for btncore of the ti btfmgps combo chipnnnedoffby pavan
5734,adt   in relativelayoutnnfirst pass there are some details to take care of laternid
5735,driversmisc sources for st header filenntexas instruments bt fm and gps combo chipsdriversnmake use of a single tty to communicate with the chipnthis is the common header file for both the st driver and thenprotocol drivers which intend to use st as their mode ofntransportnnnedoffby pavan savoy
5736,display other features in report headernnbug  features that do not have corresponding featurenconstants in packagemanager put them in the report headernunder the other features sectionnid
5737,bluetooth bt driver using st for ti combo devicesnnthis is bluez driver making use of shared transport linendiscipline to communicate with the chipnnauthor raja mani  pavan savoy
5738,adt  cleanup some constants and review feedbacknid
5739,driversmisc sources for hci ll pm protocolnntexas instruments bt fm and gps combo chipsdriversnmake use of a single tty to communicate with the chipnthis module constitutes the proprietary power managementnprotocol from ti for the btfmgps combo chipsnnnedoffby pavan savoy
5740,add timer delete support to rildnid
5741,arm msm swordfish add base board support for   abhijeet dharmapurikar  bryan huntsman
5742,video omapvout fix bug when stream off is called during a display updatennthere is a possibility that stream off is called during dss updatenand marking the buffer done after a stream off will cause the buffernto be in an invalid state for qbuf either way buffers should onlynbe marked as done if it is in the queud or active statenid  rebecca schultz zavin
5743,arm msm mahimahidefconfig update config with actual one generatednid  dima zavin
5744,arm msm mahimahidefconfig turn off tuner driversnnthese are unused it saves   dima zavin
5745,msm add a driver for the snd interfacennthis driver provides devmsmsnd which allows privileged code to set thenoutput sound device volume levels and muteunmute status you neednadditional board support to actually enable this drivernnnedoffby iliyan malchev
5746,fixes update of extras bundle in new locations for gps providernnthis patch fixes the update of the extras bundle in the location objectneach time the platform derives a new gps location and passes it tonlistening applications via locationlisteneronlocatiodnnsometime between android  and  a bug was introduced that stoppednany extras calculated by the platform from being added into the locationnobject which means they were never passed up to any locationlistenersnfor the gps provider this manifested as an issue where the number ofnsatellites used to derive a fix always reported “� when retrieved fromnlocationgetextras issue  on the android issues page  code to be used withinnlocationlisteneronlocatiodlocation location which demonstratesnthis problemnnbundle extras  locationgetextrasnnint numsats  extrasgetintsatellites this always reports “�n post  although in  it properly reported then number of satellites usedn to derive this locationnnthe “satellites� extra keyvalue pair for locations is defined innhttpdeveloperandroidcomreferenceandroidlocationlocationhtmlgetextrasnnthis patch modifies gpslocationproviderjava to properly update thenlocation object with the extras bundle before the location object isnpassed to any listening applications and therefore the number ofnsatellites used to derive a fix can now be retrieved properly throughnlocationgetextras as shown in sample code above therefore thisnpatch fixes issue   sean barbeau
5747,type zero sms should not be displayedstorednotifiednntype zero messages indicated by tppid field set to value  not be displayedstorednotified they should only benacknowledgedn
5748,move list of source files used to build emulator core to a separate variablenid
5749,gpu pvr update sgx driver to    erik gil
5750,adt  render moved items in relativelayoutnid
5751,gpu pvr add refcounting to sync objectsnnfrom imgnid  erik gil
5752,add processed kernel header for msmsnd drivernnnedoffby iliyan malchev
5753,arm tegra harmony add pmu devicennoriginally fixed by will deaconnid  colin cross
5754,replaced sdcard with environmentgetexternalstoragedirectorynid
5755,arm tegra add pmu to common devicesnnoriginally fixed by will deaconnid  colin cross
5756,replaced sdcard with environmentgetexternalstoragedirectorynid
5757,telephony add puk mmi code support for cdma ruim phonesnnadd support to unlock ruim using puk puk is entered using mmi codesn
5758,fix bug causing the user to be incorrectly prompted to apply security settingsnnexchange  by default requires a minimum password length of  this policynis still pushed to the device even if the password policy is disablednalltogeth
5759,support for user to user naling uusnnenabling passing uus information during mo and mt callsnid
5760,replaced sdcard with environmentgetexternalstoragedirectorynid
5761,revert arm process add display of memory around registers when displaying regsnnthis reverts commit  san mehat
5762,replaced sdcard with environmentgetexternalstoragedirectorynid
5763,arm tegra ventana add pmu devicenid  colin cross
5764,new apkbuilder classnnthis is meant to replace the one previously in apkbuilderjar and thenone in adt while being part of the public sdklib api so that otherntools can use it if needed to deprecate the command line versionnnanother changelist will rename the apkbuilder classes insidenadt to make things less confusingnid
5765,net wireless  fix softap startstopnnnedoffby dmitry shmidt
5766,telephony display  name in status barnnif the  name is null try to read it from efspncphs ornefspnshortcphs fields on the sim card then add the result to  name stringnid
5767,fix visual glitch when the drag element is droppednnwindow animations moves the drag view when it is dropped and removednnby changing its visibility to gone before removing it from view we ensure the drag view  appear at the middle of the view before disapearingnid
5768,ril interface add support for useruser naling information during call setupnndefine the uus data structures and add a pointer to it in rilcall for mt callsnand rildial for mo calls uus information can be used to pass the skypeid onnsome networks make the corresponding changes to serialize and deserialize thendata at the ril interfacen
5769,avoid crash in browser in systems with no search providernnif  no activity registered for the intent actionnactionwebsearch the browser will crash if a searchnquery is entered in the browser the crash is avoidednby catching the activitynotfoundexceptionnid
5770,force libdiskconfig to write mbr signature when updating mbrnn some cards are totally blank that they  have an old mbrn so no mbr signature there after update mbr need to writen mbr signature to make sure this mbr be recognized laternid  ethan
5771,add readfromparcel method to androidgraphicsregionnnadding this method allows the androidgraphicsregion type to be usednfor an  parameter in an aidl interfacennthis patch also fixes the javadoc comment for writetoparcel whichnsuggests incorrectly that pixel data is written to the parcel alongnwith the region datanid
5772,add  supportnnnow the  modules are also generated and  is alsonbuiltnid
5773,fix bug causing the user to be incorrectly prompted to apply security settingsnnexchange  by default requires a minimum password length of  this policynis still pushed to the device even if the password policy is disablednalltogether  issue  reported to
5774,wlan extract generic wlan platform data from tiwlan specific headernnnedoffby dmitry shmidt
5775,catch new suid sgid root binariesnnbug  a test that crawls the file system to find setuid and setgidnroot binaries since there is no sdk method to get the  modenadd some native code based upon androidosfileutils to get thesenpermission bitsnnthe jni code cannot be built as part of the ctsostestcasesapknbecause ctsostestcases uses the cts instrumentation runner whichnoverrides the classloader causing the jni library not to be foundnthe new classloader installed by the runner has access to stuff innctsteststubsapk so thats why putting this under testsjni worksnusing runtest always works though because that puts the nativencode under systemlib rather than datadatanid
5776,usb gadget android disable mtp when rndis function is enablednnnedoffby mike lockwood
5777,adt   for linearlayoutnid
5778,print msgcommand in humanreadable formatnnto print msgcommand as some odd decimal number is just not helping in debuggingninstead print msgcommand as a stringnid
5779,improved bluetooth notification barnnon some screen sizes the progress bar was drawn over the textnthis problem was solved by changing current xml for displaying progress barnit now uses a modified android default xml for normal notificationnmessages the previous xml had problems when using mdpi displays thennew fix solves this problems and also makes the ui homogeneous with thenother notification messagesnid
5780,telephony fixed problem with short operator namennthere was problem when reading the lengthnof the operator name it was one character shortnid
5781,display unicode name for china operatorsnnthe operator name is displayed in the phone using latinncharacters by default the spn field the sim can benconfigured to display a unicode name instead using thenplmn field however many chinese operators requiresnthis to be a customizable setting as wellnna property rooperatoruseplmn can be set to overridendefault behaviour and display operator name as unicodenis introducednid
5782,remove problematic headers from   headersnnthese files have the same caseinsensitive name and this creates problemsnwhen used on windows cygwinnid
5783,provide capnetraw capability to rild to perform dhcpnnin order to perform dhcp in rild process the process willnneed capnetraw capabilitiesnid
5784,telephony call forwarding icon is shown after powerupnnif call forwarding was enabled then the call forwardingnicon should be shown after the phone has powered down andnpowered up added a preference parameter to store the iconnstatus in case it is not updated correctly by the networknoperatornid
5785,change branch name to openmaster to avoid confusionnid
5786,accept media files by file extension in case insensitive mannernid
5787,add dummy pthreadcancel implementationnnthis is not to support thread cancellation instead this allowsnthe gnu toolchain configure script to automatically determine thenthread model when configuring gcc removing one androidspecificnpatch to build our toolchain binariesnid
5788,default wifi sleep policy settingnncreates a defultxml setting for wifi sleep policynnit is now possible through device overlays to changenthe default sleep policy to eg never in order to improvenuser experience of wifinid
5789,fix adb daemon file descriptor leaknnthe adb android debug bridge daemon suffers from a file descriptor leaknwhen transfering file descriptors opened by the adbd daemon to a jdwpnprocess for debugging through sendmsg the file descriptor is duplicatednby the kernel and a copy is transfered to the jdwp processnadbd neglects to close  copy of the descriptor after the sendmsg callnwhich causes a file descriptor leak in the processneventually this causes the daemon to hit its maximum roof of opened filendescriptors thus making it impossible for the process to serve any newncommands from the adb servernjdwpservicec has been modified to close the file descriptor after thensend message call has succedednalso the socket used for transfering the file descriptor is set to blockingnmode before the sendmsg call since the adbd processes needs to know when thenduplication has been completed by the kernelnthe flags are reset to its original state after the sendmsg callnid  christian bejram
5790,add missing headers to the   head
5791,esperanto keyboardnnedoffby jacob nordfalk
5792,adt  readme first  draftnid
5793,updated to
5794,fix for bug  url starts with additional  android browser inserts at the beginning of the url pathnwhen processing an  tag in an html document with a  tagnnadding check to webaddress to remove any leading  from the pathnportion of a urinid
5795,dspbridge add brdsleeptransition in procgetstatennwhen procgetstate checks for brd status it is not taking into accountnthe state brdsleeptransition and it is returning dspefail when thisnhappens which is wrong this fix adds this check to return procstatus asnprocrunning and status dspsok when this happensnid  ernesto ramo
5796,revert fix for bug  url that starts with nnthis reverts commit
5797,drivers misc  change namennnedoffby dmitry shmidt
5798,fix for bug  url that starts with nnthis is a potential fix for the above bug in which or wasnbeing inserted into the beginning of urls this was not causingnany particular problems but is inconsistent with other browsersnand potentially confusing i have added a check to urlutil tonremove any leading periodsnid
5799,sdk rename sdk setupexe to sdk managerexenid
5800,wakelock fix operator precedence bugnid  colin cross
5801,fixes update of extras bundle in new locations for gps providernnthis patch fixes the update of the extras bundle in the location object each time the platform derives a new gps location and passes it to listening applications via locationlisteneronlocatiod sometime between android  and  a bug was introduced that stopped any extras calculated by the platform from being added into the location object which means they were never passed up to any locationlisteners for the gps provider this manifested as an issue where the number of satellites used to derive a fix always reported “� when retrieved from locationgetextras issue  on the android issues page  code to be used within locationlisteneronlocatiodlocation location which demonstrates this problemnnbundle extras  locationgetextrasnnint numsats  extrasgetintsatellites this always reports “� post  although in  it properly reported the number of satellites used to derive this locationnnthe “satellites� extra keyvalue pair for locations is defined in httpdeveloperandroidcomreferenceandroidlocationlocationhtmlgetextrasnnthis patch modifies gpslocationproviderjava to properly update the location object with the extras bundle before the location object is passed to any listening applications and therefore the number of satellites used to derive a fix can now be retrieved properly through locationgetextras as shown in sample code above therefore this patch fixes issue  sean barbeau
5802,arm twd allow twd rescaling to match cpu frequencynnthe clock to the arm twd local timer scales with the cpunfrequency to allow the cpu frequency to change whilenmaintaining a constant twd frequency pick a lower targetnfrequency for the twd and use the prescaler to divide downnto the closest lower frequencynnthis patch provides a new ialization function that takesna target twd frequency and the relation between the cpunclock and the twd clock required to be an integer   by the arm spec it also provides a function to bencalled from cpufreq drivers to set the prescaler whenevernthe cpu frequency changesnnalso fixes a typo in the printk of the calibrated frequencynid  colin cross
5803,remove apkbuilderjar from the sdk buildnid
5804,arm tegra suspend print lp state during suspendnid  colin cross
5805,move apkbuilder into sdklibnid
5806,sdk rename sdk setupexe to sdk managerexenid
5807,docs add androidtracingtxt to document how tracing worksnid
5808,sdk launcher add  app manifestnid
5809,arm tegra cpufreq adjust twds on frequency scalingnid  colin cross
5810,arm tegra localtimer pass target twd ratenid  colin cross
5811,arm tegra fix typos in wakeup sourcesnid  colin cross
5812,arm tegra irq drop unused apbdma definesnid  colin cross
5813,revert build buildmultiprebuilt for the prebuilt targetnnthis reverts commit  was causing all prebuilts to be installed in all buildsnid
5814,arm msm msmdefconfig switch to cfq set mmapminaddrnnthis brings msmdefconfig in sync with mahimahidefconfig also we disablenexplicitly setting configxfrmipcomp it is still enabled indirectly via thensettings in  and  that turn on support for ipcompnnnedoffby iliyan malchev
5815,arm tegra timer save timer offset in suspendnid  colin cross
5816,replaced sdcard with environmentgetexternalstoragedirectorynid
5817,usb gadget android check for null androiddev in androidregisterfunctionnnthis fixes a load ordering issue that occurred if a function driver loads beforenthe android gadget driver is ializednnnedoffby mike lockwood
5818,arm tegra suspend always restore serial port for fiq debuggernid  colin cross
5819,arm tegra timer implement  rtc clocksourcenid  colin cross
5820,arm  mahimahidefconfig remove apanic from the kernelnnwe use lastkmsg on mahimahi insteadnnnedoffby iliyan malchev
5821,logwrapper reduce verbosity and fix usagenn no info on normal process exit  basename as tag not the full pathn fix usage bad x parameter vs d in codenid
5822,arm tegra irq add define for number of irqsnid  colin cross
5823,arm  mahimahidefconfig increase mmapminaddr to  lot of kernel structures are larger than  and so nullpointer dereferencesncould still be exploitablennnedoffby iliyan malchev
5824,replaced sdcard with environmentgetexternalstoragedirectorynid
5825,arm tegra gpio call into suspend wake handlers for setwakenid  colin cross
5826,replaced sdcard with environmentgetexternalstoragedirectorynid
5827,arm msm msmdefconfig increase mmapminaddr to  lot of kernel structures are larger than  and so nullpointer dereferencesncould still be exploitablennnedoffby iliyan malchev
5828,replaced sdcard with environmentgetexternalstoragedirectorynid
5829,arm tegra suspend call into irq to handle wake sourcesnid  colin cross
5830,arm  sholes reenable motorola usbnet factory test drivernnnedoffby mike lockwood
5831,arm tegra irq move suspend wakeup sources into irqnnmoves the tracking of suspend wakeup sources into the settypenand setwakeup handlers of the irq chip also moves all legacyirqnregister accesses into legacyirq as well as  wakeup sourcesnid  colin cross
5832,usb gadget android check for null androiddev in androidregisterfunctionnnthis fixes a load ordering issue that occurred if a function driver loads beforenthe android gadget driver is ializednnnedoffby mike lockwood
5833,arm  mahimahi enable support for  on  cdma revsnnnedoffby iliyan malchev
5834,rmmod fix full path syntaxnnrmmod systemmodulesmultitouchkonrmmod deletemodule  failed errno  tanguy pruvot
5835,arm msmfb add defions for  and  output interface formatsnnnedoffby iliyan malchev
5836,replaced sdcard with environmentgetexternalstoragedirectorynid
5837,arm tegra irq fix typo in pmu irqnnoriginally fixed by will deaconnid  colin cross
5838,arm msm mdplcdc support output format  iliyan malchev
5839,replaced sdcard with environmentgetexternalstoragedirectorynid
5840,fix mass tombstones file creationni found issue about infe loop when pc has  in dumpstackandcode functionnthis issue was reported from usa market the phone notify low memory popupnso i added more condition to the when statementnid
5841,emulator opengl handle null  and glbufferdata properly handle null pointernparameternid
5842,emulator ogl really publish surfaces a
5843,fix for  error in sample code of androidappactivitynid
5844,fix issu
5845,modified the emulator skins so that the camera button is clickablenid
5846,common debug flag for the wrapper librariesnid
5847,added telldir and seekdirnnthis patch adds support for the telldir and seekdirnfunctionsnnthe rewinddir function is also modified to use thenseekdir implementationnid  dimitris papastamo
5848,dns proxy should not hang on addresses containing null bytesnntwo bugs  the gethostbyaddr netd protocol was passing a binary address valuen but the arguments are expected to be strings not containingn embedded nulls or probably other special characters thisn happened reliably with  addresses which contained nulls itn now expects an inetntop formatted  although the gethostbyaddr code detected something was wrong itn  doing any proper error handling leaving clients hangingn waiting for a response it now sends back an empty response son that clients can continuenna corresponding change will be necesssary in bionic for  for dnsnproxying to work but given the fix for  the existing bionic codenwill fall back to performing its own gethostbyaddr callnnbug
5849,enabled the camera button in the emulatornid
5850,tracking change to dns proxy protocolnnthe gethostbyaddr code in systemnetd now expects a string addressnfrom inetntop not raw bytes in order to properly pass addressesncontaining null and probably spaces and newlines characeters as wellnnbug
5851,fix gnu stl crash on android  and oldernndue to a bug in the implementation of cxafinalize that was onlynfixed in android  any code linked with gnustlstatic would crashnwhen running on android  or oldernnthis adds a local patch to libsupc to detect the problem at runtimenand avoid the crash note that this results in a leak of a threadspecificnstorage key on these older platformsnid
5852,opengl emulator  handling in the test egl implementationnnhandle  rendering in the emulatorn load and ialize  encoder libraryn hide request for  surfaces and contexts from the emulatornnative implementationn communicate the contextsurface version configuration to the renderingnservernid
5853,emulator opengl add dungeon defenders to the test apps listnid
5854,emulator opengl ensure server connection for rendering threadnnensure a server connection creation on make current for cases wherenthe context and surface was created on a seperate threadnnin addition this commit publishes all the surface as  capablenif queriednid
5855,emulator opengl missing constant in glutilsparamsizennglmaxtextureimageunitsnid
5856,qemu pipes fix windows network pipesnnnever use read or write when using sockets on windows usenrecv send insteadnn remove compiler warning on windowsnid
5857,emugen porperly handle nullallowed api callsnnthis change fixes bugs in the encoder and decoder code generationnwith nullallowed flaged parametersnid
5858,make parseuserpart and parsehost symmetricnncurrently parseuserpart uses the encoded authority to split the urininto user and nonuser parts but the parsehost uses the decodednuri to split the uri into nonhost host and port parts this givesnunexpected results when   is used in a urinnuri test    bobleentestgethost  leeexamplecomn
5859,proper alphasortingn
5860,make uriparseuserpart parsehost and parseport symmetricnncurrently parseuserpart uses the encoded authority to split the urininto user and nonuser parts but the parsehost and parseport usesnthe decoded uri to split the uri into nonhost host and port partsnthis gives unexpected results when   and   is usednin a urinnuri test    bobleejrntestgethost  leejrexamplecom should be examplecomntestgetport   should b
5861,make parseuserpart and parsehost symmetricnncurrently parseuserpart uses the encoded authority to split the urininto user and nonuser parts but the parsehost uses the decodednuri to split the uri into nonhost host and port parts this givesnunexpected results when   is used in a urinnuri test    bobleentestgethost  leeexamplecomn
5862,bluez  fix waitforstart spurious wakeupnnwhen waiting on a condition is is possble to receive spuriousnwake ups deal with that in waitforstartn
5863,add projects for aospn
5864,video msmfb put the partial update magic value into the fixscreen structnnthis can then be tested by userspace to see if the capability is supportednuserspace cannot rely on that value being left in varscreen since userspacenitself can change itnnnedoffby dima zavin
5865,usb host ehciomap remove unnecessary dpll programmingnnremove unnecessary dpll programming code from the ehciomap drivernnthis code was needed in the absence of a clock frameworknnnow that the clock framework takes care of programming the dpllsnwe no longer need this code in the drivernnnedoffby anand gadiyar  leed aguilar  vikram pandita  rebecca schultz zavin
5866,bluez  use a sensible write timeoutnnthe  msec write timeout is extremely optimistic a  msecntimeout is closer to realityn
5867,remove the kernel source from the userspace manifest  a prebuiltn
5868,documentation updatesn
5869,remove the kernel source from the userspace manifest  a prebuiltn
5870,fixed android issue  where the intent documentation was inaccurate in a number of places undoubtedly causing untold grief to innumerable massesn
5871,remove the kernel source from the userspace manifest  a prebuiltn
5872,detect android devices vulnerable to  change does two  adds a new cts test category called security to centralize testnfor security bugs  adds a test for  the vold exploit discovered bynsebastian krahmer available  also
5873,enable landscape mode in launcher for larger phones also speed up fling velocity in launchernid
5874,frameworksbase add a ril interface to change the transmit powernndepends on changesn
5875,fix ctsverifier proguard issuesnnremove the specification of click handlers via xml since that  work when proguard is enablednid
5876,add preview support for gridviewsnngridviews are another adapterview subclass this changeset addsnpreview support for gridviews by modifying the listview previewnsupport to also accommodate gridviewsnid
5877,preserve unknown attributesnnthis changeset fixes the following  dragging and dropping a mapview in the outline of the layoutn editor wipes out the maps api keynnthe root problem is that the mapview is an unknown view for thentool it does not have a metadata descriptor for it so all of itsnattributes are recorded as unknown attributesnnunknown attributes are stored on the ui nodes but not always appliednthis changeset adds iteration over the unknown attributes in a fewnplaces where the descriptor attributes were processednid
5878,skip the test for alphabetic shortcut key in case of  keyboardnid
5879,merge remote branch  into manualmergennconflictsnttestsjniandroidmknttestsjnictsjnionloadcppnid
5880,add key strokes in case of using a  keyboardnid
5881,appends a space instead of using pound keynna pound key  represent a space charactor in some countriesnso it appends a space to the text object instead of sending key eventnid
5882,added getmntentnnthis patch adds support for getmntent this has been testednlocally and it seems to work okay the assumptions made in thenimplementation seem to reflect what most implementations do sonthey should sufficenid  dimitris papastamo
5883,add build numbers next to crespo version numbersnid
5884,net enable pppolac driver for  change adds basic support of udp encapsulation for  is based on the same change for  it allows  on pure  endpointsnnnedoffby chiachi yeh
5885,better makefilennalso replaced window eols with unix eolsnalso made it accepting input from stdinnid
5886,fix typos in readmesnnthis addresses some cl feedback from last weeknid
5887,protecting views from bad motioneventsnnwhen handling motionevents the method findpointerindex can return  the current pointer id  be translated to a pointer indexnseveral views are not handling this which will lead to an outofnindex crashnid
5888,fix search for stack framesnnthe regex used to search for stack frames had a flaw that included heapnframes along with call stack frames new regex should have fixed thatnid
5889,misc fixesnnthis changeset fixes a couple of misc problems i ran  save the current file when double clicking on an included viewn when double clicking on an included view the included view isn opened in a show included context where the including file isn surrounding the include this will read the surrounding file fromn disk and if we  save the file when opening the file thenn  possible to see a stale view best case or it  work atn all if the include tag itself  in the saved version of then  fix a bug in the select same type context menu action where then list was cleared before reading out the item to be  filter out a few more properties from the extract stylen refactoring dialog and include margin attributesnid
5890,fix for incorrect paths in the coretest manifestnnthe manifest for the test suite contains two errors whichnmakes a couple of test cases to fail erroneously the firstnone is a permission with the wrong path informationnpointing to a permission that doesn’t exist and the secondnone is an activity with the wrong path informationnid
5891,add reset to palette context menunnthis cl adds a reset item to the context menu in the palette whichnresets the palette back to the default mode alphabetical sort offncategories on scaled previewsnid
5892,packagesappssettings change transmit power on hotspot enabledisablennrequest the modem to reduce the transmit power when wireless hotspotnis enalbed and increase the transmit power when wireless hotspot isndisablednndepends on changesn
5893,fix for an infe loop while scrolling listsnnwhen scrolling in a list  possible to get stuck in anloop where the screen is continuously redrawn this happensnwhen you are at the end of a list and try to scroll furthernthe problem is that you enter a switch statement with thenmstate variable set to statepulldecay this will triggerncode in the switch statement that does some adjustments andncalculations but it does not change the value of mstate tonstateidle or staterecede after  done hence it willncontinue to return to the same place and not stop updatingnsince the update method signals for completion only whennthe mstate variable is set to stateidlennthe fix is changing the value of mstate after thenadjustments and calculations have been madenid
5894,appsphone add a ril interface to change the transmit powernndepends on changesn
5895,adding waitforidlesync in testtouchmodennthere are cases where checking of the status change of main thread is done before setting the focus on ui threadnnin this case test case failsnnto avoid this i added waitforidlesync after ui thread is created to wait for focus setting to be completedn
5896,bluez  fix waitforstart spurious wakeupnnwhen waiting on a condition is is possble to receive spuriousnwake ups deal with this in waitforstartn
5897,add pinyinime which somehow went missingn
5898,bluez  fix waitforstart synchronizationnnon entry to waitforstart  possible we are in  if  has not completed bluetoothnalso we call the pthreadmutex functions more frequently thannwe really need tonnmove the mutex locking outside the loop and let condition waitntake care of the locking also move the  checknbelow the condition wait so we can be sure the state machinenhas been poked before we test itn
5899,initial version of a provisioning appnncurrently only sets up the provisioned bitnnderived from developmentappssdksetup adapted to be usablenon devices without security concernsn
5900,asoc updatesnnnedoffby sean mcneil
5901,enable cts based wakeup for  in hcillnnedoffby bheemsen kulkarni  nagarjuna
5902,bluez  syncronize worker thread startnnthere is an order of execution assumption made when starting  worker thread add an additional condition variable to allownus to make sure we have reached the threadwait condition waitnbefore returning from
5903,provide mux grouping and platform specific tablennnedoffby sean mcneil
5904,bluez  fix  spurious wakeupnnwhen waiting on a condition is is possble to receive spuriousnwake ups use the fact that when we poke the state machine thencommand must have changed to deal with thisn
5905,fix ohci prcm interrupt crash on resumeremotewakeupnnwakekup status in prcm interrupt handler is not getting cleared correctlynprevent going into infe loop in prcm handlernnalso remove wakeup dependency of usbhost on iva domain that is not needednnnedoffby vikram pandita  rebecca schultz zavin
5906,bluez  fix state machine synchronizationnnusing a worker thread implementation for  means that if we  some way to syncroniize state transitions we can get overlap ofnrequested command functions or lost signals in order for the  machine to function each command operation must complete beforenthe next is iated or we will get errors caused by these out ofnsequence commands and if we signal the thread when it is not waitingnon the condition the signal will be missednnthis could be partly resolved by implementing a queue but then therenis an overhead with also implementing a wait mechamism for statentransitions  much easier and simpler to just hold the mutexnduring command processing which also deals with the lost signals issuenthis may well not achieve the original goal of the worker threadnimplementation but neither would a queue implementation it looksnlike this is just the way things aren
5907,flashing with an offsetnnthe existing fastboot protocol does not handle flashing partitions largernthan the ram size to do this the flashing must be divided in multiplendownloadflash these are the set of changes needed to the fastboot protocolnto support flashing with an offset and querying the client for the natural sizento break the flashings intonnthis is a design changena sample implementation on the fastboot client and a bootloader will follownnat a high level to flash a partition the fastboot client currently doesnntreadfilentfastboot downloadsizeoffilentfastboot flashpartitionnamennwith this change the fastboot client will donntreadfilenntfastboot getvardownloadsizentfastboot getvarsizepartitionnamentfastboot getvarblockpartitionnamenntif getvarfailed or sizeoffile  downloadsizenttfastboot downloadsizeoffilenttfastboot flashpartitionnamenntelsentttransfersize  downloadsize blocksize blocksizenttwhile offset  sizeoffilentt tfastboot downloadtransfersizentttfastboot flashpartitionnameoffsetntttoffset  transfersizennthe ifcheck insures that the current behavior is maintained and is sufficientnfor backward compatibilitynnthe changes for the bootloader are to support the new variables  to handle the optional offset in the flash commandnnnedoffby tom rix
5908,this patch adds context saverestore functionality to hsmmc driver for supporting off modennnedoffby madhusudhan chikkatur
5909,bluez  destroy thread attr after thread creatennpthread resources may be used by the thread attributes objectnwe should destroy this after thread creationn
5910,bluez  destroy thread resources at exitnnthe dynamically created pthread mutex and condition variablesnconsume pthread resources they should be destroyed prior tonfreeing the structure containing themn
5911,this patch implements an inactivity timer to gateungate the hsmmc clocksnnnedoffby madhusudhan chikkature  rebecca schultz zavin
5912,use two file descriptors for multicast qemu connectorsnnseveral instances of qemu can be connected using a multicast socketnany communication that goes out through that virtual interface isnbroadcast to a selected multicast addressnni have discovered that these multicast sockets no longer work on  this happens because sending packets from a socket bound to anmulticast address results in  assign request address errorsnnthis patch creates a separate socket that is not bound to the multicastnaddress so other instances of qemu receive this communicationnna test case is available at  will print send  assign requested address on osx  butnnot on  or other osesnid  dries harni
5913,devicepolicymanager testsnnbug  a package to house the deviceadminreceiver this packagenmust be installed and activated prior to the test much likenhow the accessibility tests worknnadd tests that instrument the  package so that theyncan call the devicepolicymanager methods without gettingnsecurity exceptionsnid
5914,document new qemu pipe implementationnn rename androidpipenetc to androidhwpipenetcnid
5915,move utility functions into glutilsnnmove utility functions into glutils so they can be sharednbetween  and  codecsnid
5916,add  functionality to  shared codennextends glclientstate to support additional state datanthat is required by  this includesn normalized flag in vertex attribute arraysn getter for vertex attribute arrays staten glparamsize now knows about the result size of  parametersn utility functions required for a  encodernid
5917,net wireless bcmdhd fix  compilation for  dmitry shmidt
5918,emulator opengl number of supported vertex attributesnnmake the number of suppoted vertex attributes by the codecncommon across the encoder and the decodernid
5919,emulator opengl slight type change for  the location type in the decoder context data to takenint locations rather then symbolic constantsnid
5920,emugen generate wrapper library filesnnadd functionality to generate a wrapper library a wrapper library  entry  dispatch table accessed from the library entry  dispatch table accessor  dispatch table ialization functionnnnote that the dispatch table ialization function used to be part of the decoder thisnchange moves it to be part of the dispatch table layer where it belongsnid
5921,net wireless bcmdhd fix  compilation for  dmitry shmidt
5922,emulator qemud shutup debug messagesnnthis change is already under developmenttoolsemulatorsystemqemudqemudcnnhowever this sdkqemudc source file was first deleted then revertednwith the change in between so apply it here toonid
5923,emulator opengl fix mac buildnnthis fixes several issues when building the host libraris on darwinnnote that there is still not proper implementation of backend functionsnid
5924,improvements to build wrapper for ndk generationnid  mark d horn
5925,added view introspection to chimpchat and monkeyrunnernid
5926,change flipping point of all day events such as birthdays to use half way through the day instead of startnid
5927,add a bitmap encoding of objectreference field offsets to classobjectnnclassc populates a new field with a bit for each of the first  instancenfields to show if it is a reference or not and an escape value if there is anreference field beyond  gc uses the encoded bitmap if available to extract object refererencesnfrom dataobjectsn
5928,add elf related files and modify configuration files for superh architecturenntmodified corecombolinuxshmkntmodified coreconfigmkntnew file coreshlelfxntnew file coreshlelfxscn
5929,fix issue  old logic which was oknsomebody changed logic in dtmftwelvekeydialer and twelvekeydialer but twelvekeydialer was correctn
5930,fix typo introduced in previous changennnedoffby mike lockwood
5931,add bridge on  add bridge on  omar ramirez luna
5932,bluez  syncronize worker thread startnnthere is an order of execution assumption made when starting  worker thread add an additional condition variable to allownus to make sure we have reached the threadwait condition waitnbefore returning from
5933,omap iommu add mpubridgeiommu for tidspbridge migrationnncurrently tidspbridge driver uses its own mmu implementation andnwill migrate to use this omap iommu eventually this config isnprovided to make this migration happen smoothlynnpatch taken as is from iommu branch on lo added signed of per gerritnrequirement but no change was made to the patch omar ramireznnnedoffby hiroshi doyu  omar ramirez luna
5934,clear activity stack when returning to a singletask tasknnthe ifstatement on line  causes the activity stack to be cleared if the launch mode is singletasknregardless of the state of flagactivitycleartop as the documentation says the stack should benpreserved on a singletask activity unless flagactivitycleartop is setnnhttpdeveloperandroidcomguidetopicsfundamentalshtmlna singletask activity may or may not have other activities above it in the stack if it does it is not innposition to handle the intent and the intent is dropped even though the intent is dropped its arrival wouldnhave caused the task to come to the foreground where it would remainn
5935,net force pppolac and pppopns to bind an interface before creating ppp channelnnit is common to manipulate the routing table after configuring ppp devicensince both pppolac and pppopns run over ip care must be taken to make surenthat there is no loop in the routing tablenalthough this can be done by adding a host route it might still causenproblems when the interface is down for some reasonnnto solve this this patch forces both drivers to bind an interface beforencreating ppp channel so the system will not reroute the tunneling socketsnto another interface when the original one is down another benefit is thatnnow the host route is no longer required so there is no need to remove itnwhen ppp channel is closednnnedoffby chiachi yeh
5936,bluez  fix state machine synchronizationnnusing a worker thread implementation for  means that if we  some way to syncroniize state transitions we can get overlap ofnrequested command functions or lost signals in order for the  machine to function each command operation must complete beforenthe next is iated or we will get errors caused by these out ofnsequence commands and if we signal the thread when it is not waitingnon the condition the signal will be missednnthis could be partly resolved by implementing a queue but then therenis an overhead with also implementing a wait mechamism for statentransitions  much easier and simpler to just hold the mutexnduring command processing which also deals with the lost signals issuenthis may well not achieve the original goal of the worker threadnimplementation but neither would a queue implementation it looksnlike this is just the way things aren
5937,arm  sholes add wakelock to on uart port resumennnedoffby erik gil
5938,serial  add mechanism to set pm callbacknnnedoffby erik gil
5939,adb use correct language id when retrieving usb serial numbernnfixes  mike lockwood
5940,whitespace now conforms to guidelinesn
5941,emulator opengl typo caused the decoder to crashnnembarrassing nid
5942,opengl emulator handle shader string decodingnnshader strings are sent over the wire protocal as one concatenatednstring a special api call glshaderstring is used to handle thenencoding and decoding of this stringnid
5943,lunch  use a toolchain that  existnnlunch sdkeng on cygwin tries to use a gccexe from thenprebuild arm toolchain but it  exist this preventsnfrom setting variables to point on a gcc toolchain if therenis none for the given archnid
5944,opengl emulator handle shader string decodingnnshader strings are sent over the wire protocal as one concatenatednstring a special api call glshaderstring is used to handle thenencoding and decoding of this stringnid
5945,gpu ion add ion memory managernnnedoffby rebecca schultz zavin
5946,emulator opengl encode glshadersourcennglshadersource strings are concatenated into a single stringnbefore sent over the wire protocol the wire protocol transfer isndone using a special api cal
5947,emulator opengl context version paramnnadd version parameter when creating new contextnid
5948,emulator opengl unittest renderer  the unit test renderer utrenderer encode  commandsna rendering thread has both    decoder object and tryies to decodencommands of the two protocols from the streamncontext creating is taking into account the api version and creates contextnaccordinglyndecoder data is shared between the    decoders and applied to both ofnthem on makecurrent regardless to the requested context versionnid
5949,envsetup cygwin  have  o  buildenvsetupsh on cygwin always shows anwarning since there is no  o  optionnbash already sets  so we can rely on that if presentnid
5950,emugen fix wrapper context namingnid
5951,emugen make  method staticnid
5952,emulator opengl adding preliminary version of  encodernnthis preliminary version includes the api defion and  implementation classnid
5953,revert mfd add omapusbhs runtime pm supportnnthis reverts commit
5954,emulator opengl unit test use sperate implementation librariesnnuse seperate eglemul  and  implementationnlibraries this replaces glesemul that was prviously includednegl and  change enables the wrapper to support  howevernthis current egl implementation uses the native android emulatornegl thus will not expose this  capabilitynid
5955,bluez  fix  spurious wakeupnnwhen waiting on a condition is is possble to receive spuriousnwake ups use the fact that when we poke the state machine thencommand must have changed to deal with thisn
5956,arm msm sapphire add pull down to sharp panel mddi power sequencennwithout this patch leakage current occurs when the mddi panel is turned offnnnedoffby thomas tsai  rebecca schultz zavin
5957,bluez  fix waitforstart synchronizationnnon entry to waitforstart  possible we are in  if  has not completed bluetoothnalso we call the pthreadmutex functions more frequently thannwe really need tonnmove the mutex locking outside the loop and let condition waitntake care of the locking also move the  checknbelow the condition wait so we can be sure the state machinenhas been poked before we test itn
5958,bluez  destroy thread attr after thread creatennpthread resources may be used by the thread attributes objectnwe should destroy this after thread creationn
5959,ehci use clock framework to program  clocksnnuse the clock framework to program the dpllclk  clocksnnthis patch was tested using ehci in phy modennnedoffby rajendra nayak  leed aguilar  pandita vikram
5960,bluez  destroy thread resources at exitnnthe dynamically created pthread mutex and condition variablesnconsume pthread resources they should be destroyed prior tonfreeing the structure containing themn
5961,arm  mux modes for  pavan savoy  bheemsen kulkarni
5962,bluez  fix  spurious wakeupnnwhen waiting on a condition is is possble to receive spuriousnwake ups use the fact that when we poke the state machine thencommand must have changed to deal with thisn
5963,added linuxshmk to support superh architecturen
5964,bluez  fix waitforstart synchronizationnnon entry to waitforstart  possible we are in  if  has not completed bluetoothnalso we call the pthreadmutex functions more frequently thannwe really need tonnmove the mutex locking outside the loop and let condition waitntake care of the locking also move the  checknbelow the condition wait so we can be sure the state machinenhas been poked before we test itn
5965,bluez  destroy thread attr after thread creatennpthread resources may be used by the thread attributes objectnwe should destroy this after thread creationn
5966,bluez  use a sensible write timeoutnnthe  msec write timeout is extremely optimistic a  msecntimeout is closer to realityn
5967,bluez  fix waitforstart spurious wakeupnnwhen waiting on a condition is is possble to receive spuriousnwake ups deal with that in waitforstartn
5968,merge branch  into  simon wilson
5969,merge branch  into  simon wilson
5970,avoid using  when the toolchain doesn’t know itnnblacklist  which is only selected if  is unusablenfor example on kubuntu  due to needing recompilation againstnolder system libraries se
5971,cts modify loadurl method that wait until getprogress returns  modify loadurl method that wait until getprogress returns  it appears that the updates returned by getprogress are not accuratenunless there is a webchromeclient set on the webview as seen in the codenof callbackproxyonprogresschangednnrefer to
5972,version updates for sdkinfo header files and playerdriver documentation updatesn
5973,have  screens by defaultn
5974,followon on  for  buildn
5975,enabled autoorientation for launchern
5976,arm goldfish hack kernel to use both tls register and  store current tls area address this is required for compatibilitynwith existing device builds will disappear when these are cleaned upnnnedoffby david  turn
5977,camera optionsn
5978,arm msm camera run through lindent make checkpatch happynnnedoffby iliyan malchev
5979,terminal emulator fixesnid
5980,mtd nand  fix lockup from gpmc wait monitor pinnngpmc wait monitor pin will make gpmc unable to be accessed during erasenoperation nand will assert wait pinnthe status cmd sent after erase cmd will be blocked by gpmcnand finally trigger  protection timeout which will block the tangpmc from later accessnnalthough gpmc actually should not block status cmd when nand holdnwait pin because nand can accept status command in that situationnthe software workaround is to disable monitor pinnid  tom zhu  david d
5981,arm goldfish add a new machine named  corresponds to the same emulatorspecific machine than goldfishnexcept that it emulates an  cpu with vfp and neon instructionsnnnedoffby david  turn
5982,enable  fs support in  madhusudhan chikkatur
5983,added rule to build wimax frameworkn
5984,add strutilsnid
5985,removing dtcp code from opencore codebasen
5986,minor logging change in protocol enginen
5987,speech decoders amrnb  wb bring android change request   and  to opencoren
5988,omap rpres adding new framework rpresnnthis new module create devices for resources than can be accessnby the moteprocessor in   has follow this sequencen  a sequence is need to request themn  ivahdn       a sequence is need to release themn        ivahdn otherwise the pm transitions behavior isn abnormalnnnedoffby fernando guzman lugo  miguel vadillo
5989,crypto tegraaes enable minimal loggingnid  varun wadekar
5990,omap rpmsg new rpmsg driver to manage resources for remote processorsnnthis patch creates rpmsgresmgr which is in charge of receivingnresource request from remote processorsnnnedoffby fernando guzman lugo  miguel vadillo
5991,it is not possible to enabledisable appwidgetprovidersnnthe appwidgetprovider list is only updated on packageadded andnpackageremoved ie when packages are installed or removed thisnmakes it impossible to toggle enabledisable of app widgets fromninside an application the widgets will always have the samenvisibility as stated in the manifest since the state ofnappwidgetproviders are stored on file you cant even get the correctnstate via rebootnnthis change adds the intent packagechanged to intents that triggernupdate of the app widget list that will make us rebuild the list ofnappwidgetproviders whenever their visibility changesnnthis is also reported in the public android issu
5992,for some hw limitation we need to take longer time to switch from main camera to  cameransolution set waitforcommandtocomplete from  to
5993,arm fix panda compile breaknnfix compile break for pandannremove the  can be removed due to  changes the functionality of the usb composite drivernid  dan murphi
5994,mfd  add adc drivernnthis driver takes the  adc driver as a template and implementsnthe ability to fetch a result from any channel on the mux it doesnnot implement the other features in the  adc drivernid  marty fout
5995,add the protocol column to the carriers tablennthis change fixes the phone app crashing repeatedly when buildingnthe fulleng product in aospnnnote this change is already in the gingerbreadrelease branch but wasn for some reason left out of the master treennbug
5996,reduced animation durationnid
5997,mfd  adc add debugfs supportnnfor debugging purposes add a debugfs entry that prints out the rawnvalue of all  adc clientsnid  marty fout
5998,reduced animation durationnnreduced animation duration for panel switching within calculator from   as  made calculator seem slow and laggynid
5999,use userspecific directory for temporary filesnninstead of use tmpandroid use tmpandroid$user so that severalnusers can run the emulator easily on the same systemnid
6000,add webp encoder code to the externalwebp coderepo with this changenin addtion to libwebpdecode static lib libwebpencode static libraryncorresponding to webp encoder will be build  installednid
6001,scripts to build dictionary from wikipediannwikicount builds word count statistics from xml exports of wikipedianarticles far from perfect but good enough for firstorder approxnnwikidict builds a dictionary of popular words using output fromnfirst script scores words by combining both how widely and how oftennthey appear and also filters some profane wordsnid
6002,board add support for  regulatornnadd  regulator to the  filennnedoffby miguel vadillo
6003,first pass at wikipediabased dictionarynnresult of running newly written scripts in developmenttoolsmakedictnacross corpus of  wikipedia articles as of april   perfect but much better than previous dictionarynid
6004,enable the lunch function to be extended by vendorlunchn and so the printconfig functionn helps vendor to use same google workflow lunch maken to build android with customizationnid
6005,updated to better distinguish between options and operandsn
6006,made snooze boolean persistent specifcally changed it from a static member variable to a sharedpreferencen
6007,proposed fix for issu
6008,added wimax chipset abstraction layer capi
6009,added wimax management frameworkn
6010,misc apanic erase kpanic when no datannerase kpanic partition when there is no dataconsole and threadnnnedoffby tom zhu  san mehat
6011,bug fixed for libagln
6012,added wimax configuration via settings menun
6013,laoutlibcreator keep original of delegate methodsnnfor specific methods layoublibcreate can rewrite the implementationnof a method to invoke a delegate instead of the original code thisnallows layoutlib to implement native code or override existing behaviornnthis patch also  the original implementation of a rewrittennmethod so that the delegate can access the original implementationnas needed obviously this is only done for nonnative methodsnngiven a nonnative someclassmethodname we generate  methodsn a copy of the original method named someclassmethodnameoriginaln the content is the original method asis from the readern a brand new implementation of someclassmethodname which calls to an nonexisting method named someclassdelegatemethodnamen the implementation of this  method is done in layoutlibbrigdenid
6014,arm configs sholesdefconfig disable configlogonnunlike racing stripes logos do not make your kernel go fasternsaves  san mehat
6015,sound soc omap add support for  adds support to each dai for the  format whichnis now supported by the abennnedoffby simon wilson
6016,hack raise max allowable clock speed for dsi fint clocknnwe are overclocking this and the drivers on   checknid  rebecca schultz zavin
6017,usb gadget fmtp add support for queueing multiple interrupt requestsnnfixes problem sending store added events when there are multiple storesnnnedoffby mike lockwood
6018,arm configs sholesdefconfig enable cbqfifo netschednn also disables a few unused options so the kernel will fit on sholesnnnedoffby san mehat
6019,arm msm smd checkpatch clean up of smdproccommnnthis cleans up coding style there are no run time changesnid  daniel walk
6020,usb gadget fmtp add ptp variant of mtp usb functionnnthis is the same as mtp but with ptp interface descriptornalso removed obsolete ioctl for switching between mtp and ptp modennnedoffby mike lockwood
6021,asoc dapm fix longname pointer for dapm muxesnndapm  longname widget name for not shared controlsnand widget kcontrol name for shared controls  containnthe prefix name hence the pointer used to create the  include the offset of prefix name otherwise kcontrolnname will have garbage charactersnnadditionally for muxes which  have a codec  use the widget name as a prefix to avoid name duplicationnas the widget name will be used as longname parameter to createntheir kcontrolnnnedoffby misael lopez cruz  simon wilson
6022,arm configs sholesdefconfig enable  packet matching disable more extra stuffnnnedoffby san mehat
6023,tiler implement tcmclear and ialize tiler containernnimplement tcmclear and ialize tiler container to a blanknpage this eliminates problems from reading into an unmapped tilernpage that can happen with  party applicationsnid  lajos molnar  andy gross  suman anna
6024,tiler refactor function names to resemble actual functionalityn references of mapping to pinning where applicable so that thennew function names resemble more closer to the actual functionalitynid  andy gross
6025,omapfb tear effect should not be dependent on update settingnntear effect may be desireable even when the display is configured fornmanual updates move this check so it is possible to enable tear effectnwhen automatic updates are not setnid  rebecca schultz zavin
6026,tiler make tiler  support a configuration optionnnthe tiler driver now allows for configuring the  as a kernel configuration option if  support will be compiled into the drivernid  andy gross
6027,arm  sholes modify panel timings to reach  frames per secondnid  rebecca schultz zavin
6028,wlan reset power save mode to startup value after dhcp responsennwhen the driver was configured to run with power save mode disabled thenpower save mode incorrectly got reverted back to auto mode right afterndhcp response the power save mode value is now saved so that the devicenproperly reverts back to a previous mode after dhcp responsenid
6029,arm msm kgsl bug if we detect a gpu hangnid  dima zavin
6030,encoder nodes should be added only for uncompressed mio in  enginen
6031,porting to
6032,addition of virtual destructor in the  class so that the derived extensions are properly deletedn
6033,disable wmf amr trackn
6034,for  or wmva content there can be more than  bytes variable size between seqsc and entrysc thus commenting out the check for entrysc enables the player to play more advanced profile clipsn
6035,add  metadata support in  parser libary defined by  rel  move all metadata related operations from  pn to libraryn
6036,this work incorporates realvideo depacketization functionality to the rmffparser node it also includes some changes in the omx and dec noden
6037,remove compiler warnings from omx audiovideo nodes  componentsn
6038,platomap gpio configure gpio padconf wakeups on latennconfiguring in the idle path is too slownpossible revisit if padconf changes past late idle will miss thisnbut suspend will enable it properlynnnedoffby mike chan
6039,arm allow socs to enable scatterlist chainingnnallow socs to enable the scatterlist chaining support which allowsnscatterlist tables to be broken up into smaller allocationsnnas support for this feature depends on the implementation details ofnthe users of the scatterlists we  enable this globally withoutnauditing all the users which is a very big task instead let socsnprogressively switch over to using thisnnsoc drivers using scatterlists and soc dma implementations neednauditing before this option can be enabled for the socnid  russell k
6040,tiler select armhassgchain optionnnthis patch enables the chaining of the scattergather listsnto allow large number of pages to be passed into the tilerndriver for pinning without this support pinning ofnresolutions of even vga failnnthis is being selected by tiler driver currently so thatnthis is enabled for  platforms the armhassgchainnsupport patch is still not ratified for all arm socsnid  suman anna  andy gross
6041,tweaks for forwardcompatibilitynid
6042,tweak for forwardcompatibilitynid
6043,tweak for forwardcompatibilitynid
6044,tweak for forwardcompatibilitynid
6045,restore code that was removed too aggressivelynid
6046,marker to enable legacy behaviorsnid
6047,this work incorporates realvideo depacketization functionality to the rmffparser node it also includes some changes in the omx and dec node minor additional chang
6048,tiler add ion apis and refactor existing functions to use helper functionsnnrefactored allocblock to use pinmemorynnstandardized ion api to the following functionsntilerallocblockareantilerfreeblockareantilerpinblockntilerunpinblocknnadditional   andy gross  suman anna
6049,fix the issues in table of contents implementation in  parsern
6050,remove pvr makefile from opencore codebasen
6051,change in pv build systemn
6052,logger option unificationn
6053,add setduration capability in base noden
6054,removing memory leaks introduced as part of  mergen
6055,to have separate lib for the sm  fsp common code base however it will continue to be part of opencorestreaming son
6056,update the author driver to support new audio encoding typesn
6057,tiler make userspace api support a configurable optionnnadded kernel configuration option for enabling userspacenioctl interfaces if set ioctl support will be enabled in thendrivernid  andy gross
6058,refresh fonts with updated license strings in the  tablenuse compressed kerning formatnadd cyrillic charactersn
6059,tiler simplify alignment and offset usage in drivernnslim down apis by removing alignment and offset simplifiedncalculations based off of alignoffsetnid  andy gross
6060,pv omx component returns invalid supported profilelevel pairn
6061,updated player testcase list for wmdrmn
6062,builds  needuse the sparse  formatnid  bruce bear
6063,add  supportnid  bruce bear
6064,fixing wrong japanese phone  a rule that japanese ipphone number start with  to solve this problemnid
6065,add ueventd service for diskinstaller rcnid  bruce bear
6066,add missing localmoduletags defnnid  bruce bear
6067,fix nine patch sizennsince we moved the  chunk out of the ninepatch the imagencontent portion is not in our control  owned by the defaultnimplementation of ninepatchdrawable through an android bitmapnand therefore should not include the control outer linennthis changeset makes the bitmap contains only the extractedncontent and makes the computation of the patches take into account thatnthe draw method will be applied on a bitmap that is onlynthe content without the control linenbasically the computation of the patchesfixed rectangle exclude thenouter control linenid
6068,fixed alarm driver problem on
6069,add missing localmoduletags defnsnid  bruce bear
6070,serial tegrahsuart use resources instead of platform datannuse resources to pass data to tegrahsuart to setnmapbase irqnnnedoffby jaikumar ganesh
6071,libstagefright add support for parsing ctts atomnnctts atom provides the offset between decoding time and compositionntime in order to support clips with b frames ctts atom needs to benparsed to compute correct timestampsnadded support to parse ctts atom and compute timestamps accordinglynid
6072,use  file system for  userdata partitionnid  bruce bear
6073,gb updates for rc and boot command linenid  bruce bear
6074,remove some assertsnid
6075,arm tegraspdifaudio support continuous dma modenn add support for contnuous singlebuffered dman remove pio supportn added suspend and resume functionalitynnnedoffby scott peterson  iliyan malchev
6076,guard ftruncate against eintrnid
6077,arm tegra change size of constants from  to  jaikumar ganesh
6078,add support for  pdppdn type selection in apneditornnthis extends the apneditor with two types  and  type is passed down to the ril backward compatibility is maintained as the value is added last in the data arraynid
6079,add support for  pdppdn type selection in apneditornnthis extends the apneditor with two types  and  type is passed down to the ril backward compatibility is maintained as the value is added last in the data arraynid
6080,use stale ndk libraries for iannia builds will break due to the bionic dsohandle bug if stale libraries arenused for now just guard the defns against ia buildsnid  bruce bear
6081,iandroideffectc is actually a c filennthe file uses new and delete it requires fnorttinto correctly build for android since fnortti is onlynavailable with the  ia toolchain for g wenrename the filenid  bruce bear
6082,use stale ndk libraries for iannia builds will break due to the bionic dsohandle bug if stale libraries arenused for now just guard the defns against ia buildsid  bruce bear
6083,crytpo tegraaes make aeshandlereq aynschronousnnthe encryptdecrypt callbacks have to return with einprogressnerror code and the request complete callback needs to bencalled from handlereq for aynchronous block ciphers usenwork queue to make the driver asynchronousnid  varun wadekar
6084,using delayedcheck class in testwindowfocuschangednnafter executing findviewbyid and launchactivity there are some cases where test case is failed since flags that are set asynchronously are checked only once immediately after that eventnnto avoid this i changed the code to monitor the change of flag by using delayedcheck classn
6085,tegra video host reduce acm timeout to  msecsnnreduced acm timeout to  msecs from  this is necessary to detectnhost  idle under frequent activity bursts eg screen updatesnevery  msec or lessnid  alex frid  varun wadekar
6086,add wait in viewtestsetupnnthere are some cases where setup finished without activity has gained a focusnresulting in failure in following  checksn asserttrueviewhaswindowfocusn asserttrueedittexthascalledoncreateinputconnectionnnto avoid this i added wait to make sure that activity has gained focus within setupn
6087,add key strokes in case of using  keyboadnnthis is a new patch instead of
6088,video tegra host added nvhost resumennadded nvhost device resume function and moved syncpoints restorationnhere from runtime powerhost control respectively added syncpointsnsaving to nvhost suspend procedure this change is required sincenpowerhost has no way to account for display advancing syncpointsnafter they have been already savednid  alex frid  varun wadekar
6089,add arlocale into requiredlocalesnid
6090,add wait in textviewtestsetupnnthere are some cases where setup finished without activity has gained a focusnresulting in failure in following  checksn asserttruemtextviewisfocusedn asserttruemtextviewisinputmethodtargetnnto avoid this i added wait to make sure that activity has gained focus within setupn
6091,add python benchmarknid
6092,tegra video host remove cancelled actions at power downnid  alex frid  varun wadekar
6093,assembly coded  and   lu hongjiu  mark gross  bruce bear
6094,remove a magic number and make the tap position to be scalablenid
6095,replace ipathmakerelativeto call with reflectionnni broke the build because on eclipse  there is no makerelativetonmethod on ipath this replaces that call with reflection this  on  but  a quick fix for the broken buildnid
6096,spill some register for  as needednnwith current  implementation we sometimes run out of  to  it caused the code generation fail thus the rendering ofncertain operations skippednid
6097,lowmemorykiller  unregister notifier from atomic contextnnthe lowmemorykiller registers an atomic notifier for notfication of whennthe task is freed from this atomic notifier callback it removes thenatomic notifier via taskfreeunregister this is incorrect becausenatomicnotifierchainunregister calls syncronizercu which cannsleep which  be done from an atomic notifiernnfix this by registering the notifier during and only unregister itnif the lowmemorykiller is unloadednid  rabin vincent  christian bejram
6098,staging android lowmemorykiller ignore shmem pages in pagecachenid  arve hjønnevåg
6099,staging android lowmemorykiller  wait more than one second for a process to diennif a process forked and the child process was killed by thenlowmemorykiller the lowmemory killer would be disabled untilnthe parent process reaped the child or it died itselfnid  arve hjønnevåg
6100,store and report metrics emitted during each test casenid
6101,ctsverifier share test resultsnnadd a menu item in the test list activity that allows the user tonshare the  current test results it uses an actionsendnintent with createchooser so you can share the results via smsngmail and other activitiesnid
6102,fix a monkey crash when the new webview is destroyednngrab the webviewcore immediately so that if the tab is destroyed we have thenold webviewcore object and can return the browserframennbug
6103,test do not mergenid
6104,fix the ddmlib makefiles to compile tests properlynid
6105,add  benchmarknid
6106,enable code specific to eclips
6107,arm mm add dsb to dmaremap after updating ptesnnbased on a patch submitted to lakml by rmknid  gary k
6108,add gnugo benchmarknid
6109,enable code specific to eclips
6110,add cximage benchmarknid
6111,add  for ia virtualbox buildsnid  bruce bear
6112,update eclair header and lib map to support pythonnbenchmarknid
6113,allow the sparse option for  to be paramaterizednid  bruce bear
6114,arm tegra ventana add  rtc and pdapower devicesnid  gary k
6115,adding a test that japanese ipphone number start with
6116,arm tegra ventana do not tristate backlight  battery pinsnid  gary k
6117,mfd  add rtc driver for ti   gary k
6118,arm tegra remove use of nonexistant define  stops at  just use a constant value of  for the timernaperture sizesnid  gary k
6119,fix to prevent calendar upgrade on each bootupnnmoving the receiver to finally block to ensure that wenonly ever get called oncenthis will prevent this process from ever getting startednfollowing any future reboots and thus further improvingnthe startup time of the devicenid
6120,phone basic phoneapp changes for multi sim functionalitynnbasic phone app changes to support multi sim functionalitynid
6121,remove unnecessary variablesnnthis patch removes the variables istouchpressednand isbardragged introduced in the  add depth component to icon animationnnthis variables are no longer used in the currentnversion of the patchnid  rodrigo obregon
6122,improve shutdown speed by disabling radiobt earlynnimprove shutdown speed by disabling radiobt as the first thingnbefore buzzing we still check radiobt status to be sure they are disablednif not we wait as much as before but with a more often  check onnstatus compared to previous  this way other shutdown operations cannbe done in paralel reducing total time to take the system down thisnshaves a few seconds of the total shutdown timenid
6123,telephony framework changes for multi sim functionalitynnbasic telephony framework changes for supportingnmultiple subscriptionsnid
6124,arm tegraspdifaudio enable  bit packed modennenable  bit packed fifo format mode to work avoidnchannel swapping when dma underrun occursnnadded suspendresume functionality so spdif registersnare restorednid  iliyan malchev
6125,fixing the standalone build of the emulatornid
6126,telephony add support for uiccnnconflictsnnttelephonyjavacomandroidinternaltelephonyicccardjavanttelephonyjavacomandroidinternaltelephonygsmgsmdataconnectiontrackerjavanttelephonyjavacomandroidinternaltelephonygsmgsmservicestatetrackerjavanttelephonyjavacomandroidinternaltelephonygsmsimrecordsjavanid
6127,add wait in testonwindowfocuschangednnthis test case sometimes fails when isonwindowfocuschangedcalled is done before asynchronous callback of onwindowfocuschanged is done which is called by showdialognnto avoid this i added wait so that asynchronous process of onwindowfocuschanged is finished completelyn
6128,arm tegra clocks add clock entry for bsevnid  varun wadekar
6129,more robust float values equality checksnnfloating point values cannot be reliably checked for equality thisnchange replaces naive approach by distance checking additionalynconditions order is flipped to check likely very fast booleannvariable first and do likely nanosecond slower floating pointncomputation only if necessarynid
6130,fix unit test log usagennthere were some test failures because unit tests were relying  logger which appears to be null during unit testnruns use a new test logger instead which fails the current test ifnanyone logs an error message and dumps warnings to standard error andnprints to standard outputnid
6131,add support for sending icon display status for rilunsolstkeventnotifynnwhen uicc sends a proactive command through rilunsolstkeventnotifynit should be notified of the icon display status by the terminalnadding support in ril interface to send icon display status tonvendorrilmodem that in turn will send a terminal response to uiccnrefer to etsi   sect
6132,globaltime fix nullpointerexceptionnnwhile running monkey if the device goes to sleep when globaltime isnrunning it goes to paused state after being in this state fornsometime onstop of globaltime activity is being called after thengtview got destroyednid
6133,casting floating point computation back to intnnthis way comparison is done on integer values which is reliablencontraty to floating point comparision done beforenid
6134,implementing more robust equality checknid
6135,crypto tegraaes ialise bsevvde clocks per operationnid  varun wadekar
6136,arm tegra  continuous dma supportnn refactor dma interactions to handle continuous singlebuffered dman remove pio support obsolete conflicts with new buffer managementn remove sample rate conversion obsoleten remove errorreporting logicn remove tegraaudioinoutgetsetbufconfign add tegraaudioinoutgetsetnumbufsnid  iliyan malchev
6137,in api demo list  when use onitemselectedlistener there is no effect when user click item on  so change it to onitemclicklistenernid
6138,using robust equality checknid
6139,fix settingstesttestsecuretablennbug  the portions of the test that were trying to insertninto the secure table and remove the brokentest annotationnid
6140,added a default to specify an alternative tool chain prefix if neededn
6141,frameworksbase scale wallpaper image to fit the screen sizennthis change scales updown the wallpaper image to fit the device screennresolution maintaining the aspect rationid
6142,usb host tegra update memory frequency requests to  mhznnwith the previous change in memory frequency  mhznto  mhz requests of  mhz will round up to fullnspeed this negatively impacts current drainnid  james wyld
6143,packagemanager restrict system packages to protected  allow packages signed with the platform key to beninstalled into user or app controlled storagenid
6144,libaglcopybit change variable type to hold large valuesnnwhile drawing triangle fans multiplication operations can go beyond integer values types to long long to prevent wrap around of the valuenid
6145,usb ehci tegra correctly handle getportstatus during resumennmultiple getportstatus requests can be made while thenusb bus is resuming all requests must be handlednproperly to prevent incorrect disconnect detectionnduring resume and improper indentification ofnresume signaling as a remote wakeup eventnid  nathan connel
6146,fix v logging level flagnn rather than ignoring the flag actually make use of itn change the default logging level to severen change the command slow exception print from ddmlib to infonid
6147,enable fstackprotectornid  bruce bear
6148,frameworksbase destroy the overlay even if there is an errornnallow the overlay object to be destroyed whenever the destroy isninvoked currently the destroy call returns if there is an errornencountered which results in open data and control channelsnid
6149,enable fstackprotectornid  bruce bear
6150,revert fix ctstelephonytestcasestelephonymanagertesttestgetdeivceid fail for wifi onlynnthis reverts commit
6151,debuggerd fconstd instruction is missing in  and
6152,hardwarerilreferenceril preliminary multimode supportnnt add support fornt rilrequestbasebandversionnt rilrequestdeviceidentitynt rilrequestcdmasubscriptionnt rilrequestcdmaprlversionnt rilunsolcdmasubscriptionsourcechangednt rilunsolcdmaprlchangednt rilunsolexitemergencycallbackmodent make the cdmasubscriptionappindex point to the gsm applicationn handle rilrequestregistrationstate for cdmannconflictsnntincludetelephonyrilhntlibrilrilcppnid
6153,testdefs new cts security testnid
6154,merge fix emulator gps supportnnuse createthreadcb instead of pthreadcreate to create gpsstatethreadnso it can safely call into the java frameworknnbug  mike lockwood  picked from commit
6155,usb gadget tegra update memory frequency requests to  mhznnwith the previous change in memory frequency  mhznto  mhz requests of  mhz will round up to fullnspeed this negatively impacts current drainnid  james wyld
6156,removing unnecessary computationnid
6157,hardwarelegacy support fm radionid
6158,eliminating dead code with no other effect than consuming battery lifenid
6159,set arm flags for non arm buildsnid  bruce bear
6160,add support for  pdppdn type selection in apneditornnthis extends the apneditor with two types  and  type is passed down to the ril backward compatibility is maintained as the value is added last in the data arraynid
6161,use consistent guards for offt and sizet defines for ianid  bruce bear
6162,simplify variable typing for ia buildsnid  bruce bear
6163,update webkit benchmark to be compatible with
6164,fix undefined dsohandle for ianid  needs to be defined for ianremoved duplicate makefile variable assignment for dsohandle include directorynnedoffby bruce bear
6165,update gcstone benchmarknid
6166,move the ninepatch info into its own classnnthe chunk is what is used separately by the default ninepatch classnthrough serialization to make a byte out of itnnsince we are moving away from replacement classes to delegate splittingnthe chunk info away from the image allows us to use the normalnninepatchdrawablenid
6167,update benchmark build and run scriptsnid
6168,video tegra dc force memory bus to full when display is enablednid  colin cross
6169,add support for  pdppdn type selection in apneditornnthis extends the apneditor with two types  and  type is passed down to the ril backward compatibility is maintained as the value is added last in the data arraynid
6170,update startcts scriptnnupdate the startcts script to be compatible with the latest sdknwhich puts adb under the platformtools directorynnalso do not require that sdkroot to be set just search the pathnfor adb instead since the sdk is no longer needed for ddmlibnid
6171,crypto tegraaes reduce ivsize to  bytes and priority to   varun wadekar
6172,add qhd to the supported screenconfiguration listnid
6173,fix url for eclipse download for auto build pluginnid
6174,crypto tegraaes reduce ivsize to  bytes and priority to   varun wadekar
6175,arm tegra clock allow any clock to be a shared clocknid  colin cross
6176,adt ensure  is last in manifestnnadt descriptors have no notion of xml orderingnwe modify the concept of mandatory descriptor tonhave normal mandatory descriptors versus mandatory last onesnmandatory elements are virtual reserved slots that aren always present in the uimodel even if they have no realn counterpart in the xml model these elements ensure they cann be manipulated in the ui even before their xml is creatednnthen we try our best to ensure the last ones remain at thenend of the uinode model there are  casesn in uielementnode when constructing the uinode model whenn parsing an existing xml model we try to reorder the nodesn at the end if possiblen in uiactions when adding a new element to the uimodel wen try to place it before the first mandatory last elementnnsdk bug
6177,arm tegra cpufreq adjust memory frequency with cpu frequencynid  colin cross
6178,arm tegra clocks add emc scalingnid  colin cross
6179,fix potential npe when closing eclipseadtnnseems like it was trying to finish a build and closingnthe plugin adt at the same time  that even possiblenin any case  never seen that before and i was inndebug mode so i bet  a rare race conditionnnsdk bug
6180,increase time interval in points provided to velocitytrackernnthere are cases where motion events arrive at velocitytracker very closentogether in time  ms even though they are generated by hardware withnmuch more time between then  ms in these cases velocitytracker cannbe tweaked to treat these points with more time between them to preventnwildly incorrect velocities from being calculatednntweak the cts test case to validate velocitytracker with more realisticntime deltas between pointsnid
6181,hardwareril ril interface changes to support multi sim functionalitynnadded support forn rilrequestsetdatasubscriptionsourcen rilrequestsetdatasubscriptionsourcen rilrequestsetsubscriptionmoden rilunsolsubscriptionreadynid
6182,allow canadiancross builds of the gcc toolchainsnnthis patch allows one to use the  crosscompiler on linuxnin order to generate windows compiler binaries that target arm machinencodennthis corresponds to the local ndk patch  has been rebased to the aosp topoftreenid
6183,externalization this commit externalizes the strings of the ddms pluginnnafter applying it please run the  externalize wizard at “source  externalize strings…� this ensure that hardcoded strings added between the time the patch was created and the time it was integrated will also be externalizednnfrom the time this patch is integrated on each new string created in the pluginnshould be added to the following     refers to the string  public static string javaclassnamemessageidnnin the java class the new string should be referenced this waynmessagesjavaclassnamemessageidnnrelated patches all patches with the externalization tagns after reviewncode formatted according using android code formatter templatenmerged strings deviceviewunablecreatehprofforapplication and deviceviewunablecreatehprofforapplicationnremoved motorola copyright noticesnid
6184,code cleanupn unused import statementsn unused local variablesn unused private methods and variablsnid
6185,emulator opengl use qemu pipennthis patch modifies the guest libraries to use the newnfast qemu opengles pipe to communicate with the hostnrenderer processnnnote that the renderer is still listening on a tcp socketnon port
6186,fixing selfassignment in copying codenid
6187,fixing selfassignment in cloning codenid
6188,video tegra host fix boundscheckingnnthe length of the modlocks array is    robert morell  erik gil
6189,removing repetitive conditional it simply does nothing except slowing down thingsnid
6190,merge add readme regarding move of adb to platformtools in
6191,use a system property to determine mobile interfacesnid
6192,code cleanupnt unused import statementsn unused localprivate membbers and methodsn nid
6193,removing repetitive conditional it simply does nothing except slowing down thingsnid
6194,tegra sdhci make debugging printk properly a debugging printknntegra sdmmc clock enabledisable seems to be working well  need this extra spewnid  todd poynor
6195,fixing infe loop for zero durationnid
6196,arm tegra add dvfs railsnnthe previous version of dvfs handled requirements between twondifferent voltage rails by using two sets of dvfs tables onenfor each rail that method fails for vddaon which must benwithin  mv of vddcorenninstead have each dvfs clock only set the voltage rail thatnit directly depends on and add a relationship system to thenvoltage rails when the voltage changes on one rail it callsnupdate on all the rails that depend on it the dependent railsncompare the new voltage of the original rail to their ownnvoltage and update their own voltage as necessarynid  colin cross
6197,fill framelayout children on drop depending on metadatannadds a drop handler to the framelaoyut rule which looks up thenmetadata for the dropped child and sets the width andor height tonfill based on that metadata for example a linearlayout dropped intona framelayout or say a viewflipper which inherits from it then thenlayout will fill a button on the other hand will not fill and annedittext will fill horizontally but not vertically and so onnid
6198,revert arm tegra dvfs fix locking on external dvfs callsnnthis reverts commit
6199,disallow uppercase chars in filebased resource namesnnmodifies the resource name validator used from the new xml filenwizard to consider the resource type while valuebased resourcesnlike ids can contain uppercase characters they are not allowed innfilebased resource names like layouts animations etcnnalso hooks up the resource name validator to the resource  resource dialognid
6200,video tegra scale colors in pseudopalettennthis fixes incorrect colors drawn by clients such as fbconsole asndescribed by  fbsetcolreg the values supplied have a  magnitude which needs to be scaled in this function for thenhardwarenntested with both  and  pixel depths and fbconsolenid  robert morell  erik gil
6201,linux
6202,fix for android issue  datepickerdialogupdatedate does not update the title of the dialognnin response to  modified numberpickersetcurrent previously numberpicker had both public setcurrent and private changecurrent the latter doing it the right way now it only has setcurrent which does what changecurrent didn
6203,fix object order at link timennthis patch ensures that objects are linked in the same order thannthey appear in the localsrcfiles declaration previously the objectsnwere grouped by source file extensionnnthis fix
6204,fix the other swtutilstest methods under windowsnnfixes the following issuesn all methods must use the palette mask to compare rgb valuesn use a nontrivial default color for testing the previousn choice of  would not allow detecting rgb  bgrn mixups and the  alpha mask prevented from noticing then fill operation was premultiplying the colorsn assert the converted image as the expected transparency typenid
6205,setlocalebycarrier only if its not an unknown carriernid
6206,tools devrpmsgomx demo appnnthis is a user space application that demonstrates usagenof the devrpmsgomx devicennthe app creates a remote omx instance and once connectionnis established it starts pingponging raw messages with that new omxninstance note currently a generic omx name is used while connectingnthis can be changed to a specific omx instance name such  when we implement the entire gethandle function withinnthe context of the connect ioctlnnwe  really invoke meaningful omx remote api yet but thisnshould be enough infrastructure to start doing real omx work on both  and ducatinnbtw  using  which  not sure bionic supports anyway itncan be trivially replaced by   ohad bencohen
6207,add  launcher programnnnote this integrates  into the  branchnnthis patch renames the current armspecific emulator binary to  introduces a new tiny less than   launcher programnnthe role of  is to launch either  or  on the target avd or platform build being usednnthis program will be replaced in the future by what is currently knownnas  but is a good placeholder until this work is completednn move some utility functions from androidavdinfohc ton androidavdutilhc so that  can use them directlynnimportant for platform builds the target architecture is detectedn automatically by parsing the buildprop filenn for sdk avds however there is no easy way to determine then target architecture so the patch adds a new hwcpuarchn property which can have value  or
6208,emulator allow live wallpapers in emulatorspecific buildsnndefine  in your environmentnbefore building either the fulleng or sdkeng products and younwill be able to run live wallpapers in the emulated systemnnnote some wallpapers fail to run or produce incorrect outputnid
6209,fix swtutils conversion for noalpha casenid
6210,emulator opengl  implementationnndecoder side implementation for
6211,tegra sdhci disable clock at suspendnnensure  clock is disabled at suspend and that the subsequentnresume will perform clock enable processing which is required if  is in effectnid  todd poynor
6212,opengl emulator handle shader string decodingnnshader strings are sent over the wire protocal as one concatenatednstring a special api call glshaderstring is used to handle thenencoding and decoding of this stringnid
6213,remove droiddoc error printoutsnnduring a build droiddoc error printouts such as below arenproducednnfind  no such file or directorynnthis fix will remove these printouts which creates a cleanernbuild lognid  christian bejram
6214,aligning native parcel implementation to javannthe java implementation of writing the rpc response headerncalculates the length of the header including the  bytesnspecifying the header length but the native implementationnexcludes the  bytes specifying the length from the headernlengthnthe native implementation has been aligned to the java implnid
6215,lazy ialization must be synchronized to avoid parallel instances cretationnid
6216,activitymanager hangs if process binding takes longer than  a system with heavy load when a broadcast receiver timeoutsnafter the receiving process is started but before it had time tonbind to activitymanager the  state is notnreialized to idle since finishreceiverlocked earlyreturnsnas rreceiver is null so the next call to processnextbroadcastnwill not process the next receiver but instead get stuck on thencurrent one for which an anr was already reportednnthat state is never updated afterwards when the process finallynbinds via attachapplicationlocked mpendingbroadcast is null sonprocesscurbroadcastlocked is not called and the intent nevernsentnnthe hung broadcast mechanism eventually detects the problem butnuntil this is done all the records in morderedbroadcasts are stucknfor a typical broadcast with  receivers for example this is up  minutes during which activitymanager is blocking waiting fornsomething that will never come moreover the following receiversnof the same broadcast do not get called since the broadcastrecordnis simply skippednnthis fix makes sure broadcastrecordstate is always set to idlenwhen a timeout occurs so that the next receiver in the list willnbe processed on the next call to processnextbroadcast since therenwere other places where the same pattern was achieved resettingnmembers of a broadcastrecord before schedulebroadcastslockednhelper methods were added in broadcastrecord and some former callsnto finishreceiverlocked are now using directly the newnbroadcastrecordfinishreceivernid
6217,removing selfassignment statementnid
6218,rpmsg add omx drivernnadd an rpmsg omx driver which enables user space to offloadncpuintensive multimedia tasks to omx instances running on remotenprocessorsnnthe current driver is a raw skeleton it supports connecting to and bynthat creating remote omx instances and sending and receiving rawnmessages from them but  no omx api knowledge yet no buffernmanagement and no perconnection resource tracking and cleaning upnnthe goal of this driver is to demonstrate rpmsg usage and the lifencycle and usage of localremote rpmsg addresses while allowingncreation of and connection to multiple remote omx instances whilenonly enabling a strict pointtopoint communications between user spacenand those omx componentsnid  ohad bencohen
6219,fixes coefficient order for   sensornnfixes the coefficient order for the sony  sensornthe input from the sensor is rggb this patch removes a hack so that the output order from ccdc to the preview module is rggbnthis brings the output order in line with that of previous code basesnnthe yuyv output from previewer will remain the samenngoing forward rggb is the order that should be output from ccdc for all sensor irrespective of the sensor input order this should be easily setup per sensor by the use of the  field in the camera board filennnedoffby dominic curran
6220,musb restore procfs code from omapzoom  to radzy radzykewycz
6221,isp fixes white balance coefficient ordernnfixes the white balance coefficient order so that it matches the input rggb order into the preview modulennnedoffby dominic curran
6222,isp fixes cfa coefficient ordernnfixes the cfa color filter array coefficient order so that it matches the input rggb order into the preview modulennnedoffby dominic curran
6223,omap add isp preview wrappernnadds  isp preview wrappernthis is a char device that shows up as the dev noden devomappreviewernallows the preview engine to be used as a standalone module from usermodennnedoffby dominic curran
6224,omap add isp resizer  isp resizer wrappernthis is a char device that shows up as the dev noden devomapresizernallows the resizer engine to be used as a standalone module from usermodennnedoffby dominic curran
6225,add callback for resizer wrappernnthis adds the possibility to add an external callback function fornresizer user currently is ti resizer wrappernnnedoffby sergio aguirre  dominic curran
6226,isp set ccdc to output width of  multiplennan issue has been found when the preview engine reads an image from memorynthe issue is that the input width needs to be multiple of  preview wrapper is typically used in this scenarion sensor  ccdc   after some stats collectionn   preview  memyuvnthus the output image from ccdc is fed back into the previewernit is for this reason that we need to output an image from ccdc that has a width which is a  multiplennthe  width multiple is a hardware limitation discovered when used with an   image the trm says that it only needs to be  multiple but current testing shows this is not the casennnedoffby dominic curran
6227,arm tegra usbphy disable disconnect detection during resumenid  jay cheng
6228,removing unused array list  forgotten herennby the way it seems so funny together with that comment right above pnid
6229,add a new test testapksalwaysreadablennnow testsystemdiraccess will test not writabledeletablenfor all files in systemappnid
6230,removing dead store it was likely a relict of debuging codenid
6231,normalize output from aapt dnnmake the output from aapt dump values resources and aapt dump xmltree normalized so that it is unambigously displayednregardless of the content of the stringsnid
6232,move  before  in samplesnid
6233,according to  ncvalu
6234,just adding todo someone should review this seems lika an antipattern in this classnid
6235,usb host tegra rewrite usb suspendresume routinenntegra host controller will time the resume operation to clear the bitnwhen the port control state switches to hs or fs idle this behaviornis different from ehci where the host controller driver is requirednto set this bit to a zero after the resume duration is timed in thendrivernnpoll portsuspend bit till the suspend is completed write portresume to  clear portsuspend bitnndisable disconnect detection during resumenid  jay cheng
6236,support option  from linaro toolchainnnfor  atom is one of the most important target platformnmerge the atom pipeline model and options from linaro toolchain to enhance performancenid
6237,just adding todo someone should review thisnid
6238,removing dead store it was likely a relict of debuging codenid
6239,refactor selection painting to fix highlighting of included viewsnnthis changeset moves the painting of selection bounds and selectionnhints out of the view rules and into the core ide the reason for thisnis that the visual appearance of the selection  be up to eachnrule for one thing the selection highlight should be consistent andnnot vary from view to view and in fact there was only a singlenimplementation of the paint selection method among the view rulesnand for another the view rules are in theory sharable among idesnwhereas the selection appearance is going to be ide specific therenwas also painting of hints in the relativelayout rather than havingnthe visual appearance of this dictated by the rule this is also movedninto the ide such that the rules only provide the hint text and thenhints are displayed by the ide itselfnnthe above refactoring also fixes selection feedback for  which were not visually selectable because there was noncorresponding viewrule so nobody to paint selection with thesenchanges selection painting is now independent of the rulesnid
6240,fix nullpointerexception in webviewcorenndns resolver is getting invoked without checking whether it is nullnputting null checks in place so that any attempt to destroy dns resolvernwithout proper creation does not cause browser crashn
6241,removes unnecesary local variables and adds explanation for those suspicious statementsnid
6242,cpufreq interactive governor fix crash on cpu  reference the saved copy of the  cpufreq policynpointer after the governor has been stopped for the cpunnwhen the governor is stopped for a cpunn use deltimersync to wait for a currentlyrunning timernfunction to stopnn delete the timer when the governor is stopped for thenassociated cpu not when the last cpu is stoppednn flush any speed down work ongoingnn reset the timestamp that is used to tell if the timer functionnhas had a chance to run since last idle exitnncheck the governor enabled flag for the cpu before rearming thentimer from within the timer function and at idle exit in casenstopping the governor at runtimenncheck the governor enabled flag for the cpu in the workernfunction and thread before using the policy pointer there isnstill a tiny window in the thread that needs more work to closenid  todd poynor
6243,move uirelated stuff from mainc to mainuic also implement  intention for creating mainuic from mainc is to not interfere with the main emulatornfunctionality while working out the details of separating ui from the core currently mainnroutine in mainc is a bit messy in the sense that it is has no clear separation of codenused for ui ialzation and code used to start the core  safer and easier to worknon that separation in another file so changes there will not affect the main emulatornnalso there is an implementation of  routine that takes socketnaddress in the form of hostport and creates array of sockaddress for itnid
6244,releasing lock even if exception is thrownnnhowever the whole method needs to be reviewed it still has severalnlockingunlocking places not tied together by tryfinally constructnbut they cannot be fixed without deeper understandingnid
6245,fix error in include cycle detectionnnthe code to detect cycles in include dependencies was wrong it wouldnincorrectly identify some valid dags as having a cycle we  have a cycle just because we encounter a node  seen it is only a cycle if we encounter a vertex that we arencurrently visiting further back in the depthsearchnid
6246,fix live manipulation of  elementsnnthis changeset fixes bugs related to dragging included views around innthe canvasnnfirst the  tag would get rewritten to  this happenednbecause the layout editor treats the fqcn and the xml node name asnequivalent but in the case of the include tag the fqcn was set tonnull instead of includennsecond the layout attribute would not get copied because it is notnin the android namespace and the code to copy attributes ended upnwith an emptystring namespace which was not handled correctlynnthird when copied the layout attribute would end up with thennamespace ns because the code to create attribute nodes alwaysncreated namespaced attribute nodes rather than a plain attribute nodenwhen the namespace is nullnid
6247,add wait to testcachefilenni found that sometimes nullpointerexception is given off in the situation where cachemanagergetcachefile is executed before cachemanager finishes the preparationnnto avoid this i added wait for maximum of  so that preparation of cachemanager finishes completelyn
6248,improve custom class loading failure handlingnnfor background  currently both load and instantiate custom view classes under thensame trycatch block and if there is a failure the user is informednthat the class could not be found however in many cases the realnfailure is in actually instantiating the class so telling the usernthat the class could not be found is misleading and can make the usernhunt down library dependencies checking jar contents etcnnthis changeset improves the situation in the following waysnn the code to load and instantiate are handled separately and then list of missing classes is kept separate from the list ofn uninstantiatable classesnn the error display in the layout editor lists these two categoriesn separatelynn for instantiation errors we dig up the root cause and log thatn one the error display points to the error log for more detailsnn if the class looks like it might be a custom view class rather thann a loading or instantiation failure in one of the android or addonsn classes then the error message also includes a tip about usingn viewisineditmode to try to do less work for design time renderingnid
6249,open included layout on double clicknnon double click if the clicked area originates from an  file open the included layout in the editor also opensnfiles in the android namespace if available for example if youninculde androidlayoutselectdialogmultichoicenid
6250,use a system property to determine mobile interfacesnid
6251,linux kernel driver for advanced security sd supportnnthis driver implements the advanced security sd specification providednby the sd association wwwsdcardorg the advanced security sd addsnsupport for using an embedded secure element detailed information aboutnthe assd can be found at httpwwwsdcardorgdeveloperstechassdnthere you can also find a link to download the assd simplifiednspecificationnid  robert h
6252,emulator opengl fix mac and windows buildsnn fix typo in clean stepnid
6253,arm add  state to mmcplatfromdatannnedoffby dmitry shmidt
6254,searchdialog fix for nullpointerexception while using suggestions innbrowsernid
6255,libstagefright let oggextractor get a cover art and more metadatannthis patch adds parsecomment method in oggextractor to parsenvorbiscomment to get a cover art and more  own metadata parser would benunnecessary if appliednnvorbis files are handled by vorbis player by default andnoggextractor  be used and then this patch has no effectnset  to let stagefrightnhandle vorbis files and use oggextractornid
6256,increment cts version to
6257,update stdclearenv declaration in cstdlibnndevelopment commit   removed the declaration ofnclearenv from the c standard library of  and later where itnwas not present whilst retaining it in  and later this changenreflects that in the corresponding c standard library include filenid  michael fyl
6258,implement menu barnid
6259,add security tests to ctsnnadd the new security tests package to the cts test case listnthis is required to get the package included in the finalncts zipnid
6260,fixing inappropriate handling of broadcast sms on radio onnid  david sobreira marqu
6261,add security tests to ctsnnadd the new security tests package to the cts test case listnthis is required to get the package included in the finalncts zipnid
6262,we  need these local referencesnid
6263,remove duplicate path in cleanspeckmknid
6264,emulator opengl add clean stepnnthe previous changes replaced systemliblibglesemulso withnseveral other libraries libegl   clean step removes the old libglesemulso from the build tonavoid any surprisesnid
6265,android formal release version does not support  very perfectly we have done some work in the following files to let android support  also it need to open the  switch in the kernel we have validated the  feature in the moto  and samsung  it runs oknnedoffby david dong
6266,ensuring threadsafe usage of dateformatnndateformat is inherently unsafe for multithreaded use this patch addsnproper synchronization the  is reused to avoid two consecutivenlockings locked version of formatstrings method is created andnused where appropriate ie in original method and in added synchronizednblocknid
6267,input add keyreset drivernnadd a platform device in the board file to specify a reset keycombonthe first time the keycombo is detected a work function that syncsnthe filesystems is scheduled if all the keys are released and thennpressed again it calls panic reboot on panic should be set fornthis to worknnnedoffby arve hjønnevåg
6268,avoid using the  syntax to refer to phone application in the corenthis adds a build dependency on the phoneapp and the core build fails onnconfigurations that do not have phone applicationnnbuild  error  error reading file for include packagesappsphonereslayoutdialerlistitemxmln
6269,add special shutdown and reboot servicesnndo an actual clean shutdown kill services and unmount data firstnnshutdown should never have been done in the framework library   job to bring up and shutdown a system and is thenonly process with the knowledge of what other processes are runningnand what needs to be killednid
6270,no response sent when backlight is offnnwhen the lcd backlight is off while receiving anplay tone command the ondestroy method is callednimmediately since the app is in the backgroundnin ondestroy the stop message is removed from thenhandler queue which leads to no response is sent back tonstkappservice this causes the ril layer to sendntr  currently unable to process  back to the simnsolution is to check if a response is sent beforenremoving any messages from the handler queuenid
6271,vold fix several formatvol issuesnnif there is a partition mounted before just format that partitionnotherwise only ialize mbr in these casesnn no partition table foundn there are multiple partitions but none is selectednnbesides if ialize mbr failed try to format the whole diskn
6272,nf xtsocket export the fancy sock finder codennbackport from   socket matching function has some nifty logic to get the struct socknfrom the skb or from the connection trackernwe export this so other xt can use it similarly to ho hownxtsocket uses nftproxygetsocknid  jp abgral
6273,tell to shutdownreboot for usnnlet it cleanup running services etcnnthis may not be the right place to change things possibly should justnchange the corejniandroidospowercpp functions to tell insteadn
6274,wifiapdialog has wrong lifecyclennbest way to reproduce the  go to settings  wireless  tethering  portable wifi n  configure  click on security so the picker dialog  press home  go to settings app crashesnnthe problem is that the spinner in wifiapdialogjava tries to dismissnthe dialog after the dialog has been removed by the window managernbecause of leak detectionnnthe reason this happens is that the wifiapdialog  created innwifiapsettingsjava is created in such a way that the lifecycle ofnthe dialog is handled by the base class activity that causes thendialog problem that the wifiapdialog is removed in ondestroy ofnwifiapsettings which will send an event that will executenondetachfromwindow on the spinner instance in the future this isnhandled in viewrootjava that message  be processed until thenwindowmanager has removed the view the spinner dialog because ofnleak detection and once the ondetachedfromwindow on spinnernexecutes it dialog has already been removednnthe problem can be solved by handling the lifecycle of thenwifiapdialog completely in wifiapsettings analog to wifisettingsnid
6275,netfilter add xtqtaguid matching modulenn backport from   module allows tracking stats at the socket level for given uidsnit replaces xtownernif the uidowner is not specified it will just count stats based onnwho the skb belongs to this will even happen on incoming skbs as itnlooks into the skb via xtsocket magic to see who owns itnif an skb is lost it will be assigned to  control what sockets of what uids are tagged by what one usesn echo t $sockfd $accountingtag $thebilleduid n  procnetxtqtaguidctrln so whenever an skb belongs to a sockfd it will be accounted againstn $thebilleduidn and matching stats will show up under the uid with the givenn $accountingtagnnbecause the number of allocations for the stats structs is not that bign  apps  per  just do it atomic this avoids walking lists many times andnthe fancy worker thread handling slabs will grow when needed laternnit use netdevice and inetaddr notifications instead of hooks in the core devncode to track when a device comes and goes this removes the need fornexposed ifacestathnnput procfs dirs in procnetxtqtaguidn ctrln statsn  uid stats are obtainable in statsnid  jp abgral
6276,vold replace strsep by strtokrnnit permits more white spaces between words in voldfstabnid
6277,net wireless  fix one more  compilation errornid  colin cross
6278,fix pdt extension class of toolslocator is now toolslocatornid
6279,changeid  change includes emugen a tool to generate wire protocol code basednon api defintion see the included readme files for details of thengenerated protocol input files format and generated coden
6280,net enable pppolac driver for  change adds basic support of udp encapsulation for  is based on the same change for  it allows  on pure  endpointsnnnedoffby chiachi yeh
6281,usecamerastub is already set by dream and sapphirennno need to set it again in the common code especially asnthat might reset it to the wrong value in the case of annopensource build with extracted binariesnid
6282,fixing a crash when doing lock profilingnnthis is a fix for a crash that can happen when logging contentionnevents this logging is performed when lock profiling is enablednthis is by default enabled on userdebug builds the crash happenednwhen a thread was being destroyed when a thread is beingndestroyed it is normal that the frame depth is zero and thus thencurrent frame is null logcontentionevent requires that thencurrent frame is not null or it will crashnnthe fix is to check if the current frame is null before callingnlogcontentioneventnid
6283,arm tegra usbphy disable hs disconnect detect for  portnnnedoffby nathan connel
6284,adding a sanity test in the while loop in readhistorynnadding a sanity test in the while loop in readhistory whichnis useful in case the file read batterystatsbin is corruptnthe file can get corrupt missing end of file marker  ifnwritehistory fails for some reason without this changenreadhistory will continue looping untill an outofmemory isnthrownnid
6285,cleanup and comment the refresh code in
6286,tegra video make tegradcisyuvplanar return boolnid  erik gil
6287,video tegra yuv overlay supportnid  erik gil
6288,move tools to
6289,sdkmanager handle missing platforms and addons foldersnna while ago when we were dealing with monolithics sdksnthe strategy was that we wanted to make sure thatnthe  command was invoked from a properly setupnsdk folder consequently the sdkmanager required at leastnthe platforms and addons folders to be present even ifnemptynni  think that behavior is really necessary anymorenthe  tool is invoked with knowledge from its toolsnfolder so we can safely assume the top parent is the sdknfolder and create these directories if they are missingnnwe do however try to create them as early as possible ifnthey are missing so that the tool aborts early if we  them the other alternative would be to just try toncreate them when  actually installing a packagenid
6290,add notes on using ccachenid
6291,remove banner printed when starting  tool uinnwhen running the  tool from commandlinenit prints a banner indicating it will start its uinsince no parameters were given this cl removes thisnit no longer seem that useful does itnid
6292,fix worldphone mode switch crashesn
6293,add dependencymulti rjava generation to antadtnnthis change changes ant and  calls to aapt to take advantagenof its ability to create multiple rjava files in one pass thusnsaving time when compiling projects with libraries it also introducesndependency handling for these rjava files speeding up builds whennno resources have been modifiednid
6294,add request focus to textfieldsnnthis changeset adds a couple of focus related  when the first text field is added into a layout it isn automatically requesting  there is a new context menu item available on textfields to requestn focus when invoked on a text field it will both addn  to itself and remove it from any other text fieldsn that have set it in the layout when invoked on a text field whichn already has focus it will offer to clear the  the advanced section of the palette also contains then  tagnid
6295,removing wrong equals method in comparatornnthis implementation of equals method has been likely created byntemplate in an ide it is useless possibly leading to poor performancenand completely violating the contract of equals method as defined innobject base classnid
6296,restrict scan of external mediannjust scan the folders that are actually documented to be usednnhttpdeveloperandroidcomguidetopicsdatadatastoragehtmlfilesexternalnni know  a novel idea making the behavior match the documentation butnsometimes you just gotta live on the edgennalso se
6297,prevent window leak in textviewnnthe input cursor controller leaks if it is disabled while visible andnthe activity is finished before the input cursor disapearsnthis causes an illegalargumentexception in windowmanagerimplfindviewlockednwhen the time out for the input cursor controller tries to hide itselfnnto prevent this hide the input cursor when disabling it instead ofnjust letting it time out to disapearnid
6298,applying fullscreen theme to camerapreview activity in apidemosnid
6299,net wireless bcmdhd fix failure in registersysctltable callnnnedoffby dmitry shmidt
6300,fix  sdk buildnnwe activated the sdkrepo build option which means to generatenthe repository xml we need some mintoolsrev info defined in thentools source propsnid
6301,allow dynamic args in whitelist add pppdgprsnnpppdgprs service for radio with dynamic argsnid
6302,fix for issue related to expandable listnnthe user experience is that of a lost touch event typically the usernfirst expands an item successfully and then attempt to collapse the itemnonly to fail on the first attempt a more technical description would benthat the first touch event will trigger a scrolling procedure which inna certain case will fail because of inconsistent parameter scrollingndistance equal to or less then zero this fix do not change existing code butnrather adds handling of this special state reproduce  by firstnexpanding a list item then expanding one more list item further downnin the list and if all items in the fully expanded list is visible on thenscreen scrolling is not necessarynid
6303,netfilter have ipt reject set the sock err when an icmp is to be sentnnbackport from   the reject rejectwith icmpblabla to also set the matching errornlocally on the socket affected by the rejectnthis allows the process to see an error almost as if it received itnvia icmpnit avoids the local process  ingress packet is rejected to have tonwait for a pseudoeternity until some timeout kicks innnideally this should be enabled with a new iptables flag similar ton rejectwithsockerrnfor now it is enabled with configipnftargetrejectskerr optionnid  jp abgral
6304,omapvout fix to allow queue reset in streamoffnnstreamoff ioctl was returning before resetting buffer queue even ifnno error was present during its execution this was causing anmisbehaviornwhen a qbuf was executed after a streamoff callnnnedoffby axel castaneda gonzalez  subramani venkatesh
6305,omapvout enable rotation set after reqbuf ioctlnnthis patch configures vrfb buffers when streamon ioctl is callednin order to allow changing video rotation among streamonstreamoffnsequencesnnnedoffby axel castaneda gonzalez  subramani venkatesh
6306,fixed android issue  proximity alert detection logic i
6307,reflect the new source tree layoutn
6308,libstagefright add support for files with differing track lengthsnn as is if the audio track is shorter than the video track orn viceversa then playback ends when the shorter track ends thisn change allows for playback to continue until the longer trackn ends as welln this change also supports the case where one of the tracks endsn abruptly due to some exception corrupt timestamp etc in which casen the good track continues playingnid
6309,enabling  interface and ti sdio controller for wlannnenabling  interface along with ti sdio controller for wlannnnedoffby vishal mahav
6310,net wireless  add  commandnnnedoffby dmitry shmidt
6311,add projects necessary to build on dreamn
6312,omapvout remove remappfnrange call from mmap and add vminsertpagennthis patch removes remappfnrange function call from mmap insteadnadds vmainsertpage to map given physical addresspage to givennvirtualnaddress this support is required to avoid setting of vmio andnvmpfnmap flag for the given virtual address otherwise cameranapplications which perform reading user pages by getuserpagesnoperation fails because remappfnrange performs operation on raw pagesnand not on struct page typennwe also changed the allocation method of buffers we have removedngetfreepages as getfreepages do not not set page count fornhigher oder pages there fore inserting pages in to user space virtualnaddress always fails to over over come this wenhave to use allocexactpages which splitspages and set page count tonfree pages we have to call freeexactpages this will free pages one bynone at a time which we have split earliernnthese changes helps running camera applications successfullynnnedoffby subramani venkatesh
6313,enabling  interface and ti sdio controller for wlannnenabling  interface along with ti sdio controller for wlannnnedoffby vishal mahav
6314,security fix compile error without configandroidparanoidnetworknid  choi jonghwan
6315,rpmsg add client and server sample driversnnadd rpmsg sample drivers that demonstrate both client and servernfunctionalitynnboth drivers repeatedly send across a hello world message to the remote processornnonce probed the drivers can immediately start using the rpmsgsendnand rpmsgsendto api without having to worry about creating endpointsnor allocating rpmsg addresses all that information is already embeddednin the rpmsg channel that the driver is probed withnnnote the inherent difference between servers and clients is thatnclient drivers are probeed with a channel that has an rpmsg destinationnaddress and therefore they can immediately start using rpmsgsendnto communicate with their remote service otoh server drivers are notnbound to a specific destination address and therefore must use thenrpmsgsendto api to explicitly indicate the dst address every time theynsend a messagennanother difference is that the local address of server drivers isnpredefined currently at least the local address of client driversnotoh is dynamically allocated by the rpmsg bus as soon as they probenid  ohad bencohen
6316,revert  add depth component to icon animationnnthis reverts commit
6317,build both ia and arm versionsnid  bruce bear
6318,linux
6319,omap add rpmsg backend virtio devicennadd an rpmsg device that wires virtio to the omap mailbox andnenabled  communicationsnnuse the mailbox payload to indicate which of the virtqueues isntriggered in addition a simpler statechange mode is alsonsupportednnmap the two vrings and the ipc buffers as noncacheable usendynamically carvedout physical memory for that still not using thenresource table thoughnid  ohad bencohen
6320,gle remove obsolete igraphicallayouteditor interfacenid
6321,uninline getpipeinfo helper functionnncommit  upstreamnnthis avoids some includefile hell and the function  reallynimportant enough to be inlined anywaynnreportedby ingo molnar  linus torvalds  greg kroahhartman
6322,add depth component to icon animationnnwhen the gallery application positions the thumbnailsnin a gridview they are placed in the same zplanenwhen a configuration change occurs the icons presentna zfighting visual artifactnnthis patch adds a z component to the thumbnails when they arenanimated as to mitigate this effect this is speciallynnoticeable in a gpu architecture using deferred renderingnid  rodrigo obregon
6323,mathh qemu requres some features that are  only in this versionnid  bruce bear
6324,fix checksum brokennncommit  upstreamnnif  received packets with invalid sctpigmpnot tcp udp checksum  set  checksumunnecessary this cause that upper protocol  check checksum fieldnni am not family with  driver i try to guess the meaning of rxprotoip and ipfailnrxprotoip stands for received  packet that upper protocol is not tcp and   ipfail is true means that driver correctly to check checksum in  headernnif  right i think we should not set ipsummed wit checksumunnecessary for my sctp packetsnwith invalid checksumnnif  not right please tell mennnedoffby shan wei  francois romieu  david s miller  greg kroahhartman
6325,the sdk toolchain  include readline or history disable the featurenid  bruce bear
6326,adtlayoutlib update api to control how layout expandsnnprevious api was a single onoff to let the layouts expand atnrender time depending on how much space they needednnthe new api can now control expansion is horizontal andornvertical or not at allnnbasic implementation in the editor with a manual detect ofnscrollview as top element we should make the viewrule handlenthis somehownid
6327,export  to other usersnncommit  upstreamnnand in particular use it in  other pipe functions do not need to use the  version sincenthey are only ever called for things that are already known to be pipesnnthe normal readwriteioctl functions are called through the filenoperations structures so if a file  a pipe  never getncalled but pipefcntl is special and called directly from thengeneric fcntl code and needs to use the same careful function that thensplice code is usingnncc jens axboe  andrew morton  al viro  dave jones  linus torvalds  greg kroahhartman
6328,fixing improper boxing to integer instead of longnnthis is tricky entrygetmessagebox returns int so it isnby default boxed to integer mapget however accepts objectsnso it ignores the difference but nothing is find during lookupnjust because long and integer objects are compared using equalsnwhich has to lead to  result so explicit boxning to longnis unnecessary herenid
6329,fix multiappstartuptestnnbug  activities of unbundled packagesnid
6330,revert handle rxfifo errors on  chipsnncommit  upstreamnnthe original patch helps under obscure conditions no pun butnsome  do not like it the change needs to be tightened withna specific  versionnnthis reverts commit  handle rxfifo errors on  chipsnnregression at  francois romieu  andreas radke  matthew garrett  daniel j blueman  david s miller  greg kroahhartman
6331,libstagefright dynamically allocate memory for esds  avcc atomsnnin  buffers for the esds and avcc atoms wasnstatically allocated for  bytes but the esds atom cannbe much larger hence this change replaces the staticnallocation with a dynamic allocationnid
6332,using proper key for removing object from the mapnnstored value was used for map removal instead of key the error wasnsilently ignore because remove method accepts object type argumentnand siletly does nothing when no value identified by such key isnfound now proper key is used for removal ie the same as for lookupnid
6333,rename  to   upstreamnn and change it to take the  pointer instead of an inode  what all users want anywaynnthe renaming is preparatory to exporting it to other users the  name was too generic and is already used elsewhere sonbefore making the function public we need to use a more specific namenncc jens axboe  andrew morton  al viro  dave jones  linus torvalds  greg kroahhartman
6334,omapvout incremented vidmaxheightnd vidmaxheight value in order to support  a maximum image heightnnnedoffby axel castaneda gonzalez  subramani venkatesh
6335,using proper key for removing from mapnnwindow object was improperly used as a key for removing record fromnmap this was silenly ignored because remove method accepts objectnhowever the id should be used there which is type of string ienthe same id which was used for lookupnid
6336,media video tegra avp turn off chatty avprpc debug loggingnid  dima zavin
6337,media video tegra avp make avpsvc have separate debug masknid  dima zavin
6338,enable  and  windows in adtnid
6339,omapiommuadded cache flushing operation for  cachenid  ramesh gupta  hari kanigeri  iliyan malchev
6340,net wireless bcmdhd fix failure in registersysctltable callnnnedoffby dmitry shmidt
6341,omapiommudmm fixesnnthis fixes the followingn  pgd and pte entries  getting flushed out leading to mmu faultsn  cache invalidate was setting wrong size parameter ton memoryregainownership leading cache invalidate function to failnid  hari kanigeri
6342,libstagefright fix to support additional file typesnn added support for following ftypes in  function msnvn
6343,test for apache httpclientnnbug  test launches multiple downloads at once to check that thendevice can open up multiple sockets without ooming one testntries to use wifi if available and the other tries to usenmobile by disconnecting wifinnthe ctstestserver was modified to handle responses in separatenthreads to test concurrent downloadsnid
6344,omap fix random metaiommu issuesnnfixes the kconfig and makefile to not tristate omap iommu support make it boolninstead changes the clock from ducatiick to ipufcknid  guzman lugo fernando
6345,drivers add generic remoteproc frameworknnsome systems are equipped with slave heterogeneous remote processorndevices that are usually used to offload cpuintensive computationsneg multimedia codec tasksnnintroduce a generic remoteproc framework that allows drivers to startnand stop those remote processor devices load up their firmware whichnmight not necessarily be linuxbased and in the future also managentheir runtime pm status recovery and any other relevantnconfigurationstatesnnfirmware loader is based on code by mark grosen   ohad bencohen
6346,remoteproc add omap implementationnnadd remoteproc implementation for  to be able to load the remotendual  and dsp processorsnnstill needs some clean ups herennbased on code by hari kanigeri   guzman lugo fernando  refactored and simplified still wipnnedoffby ohad bencohen
6347,fixing a deadlock in the heapworker threadnnwhen the heapworker tries to lock the heapworkerlock whilena gc is ongoing there was a small risk that we got andeadlocknnthe heapworker thread would take the heapworkerlock and thennbecome suspended waiting for the gc thread to wake it up butnthe gc thread would get stuck trying to get the heapworkerlocknheld by the heapworker threadnnthe fix is that the heapworker releases the heapworkerlocknbefore it is suspendednid
6348,uninline getpipeinfo helper functionnncommit  upstreamnnthis avoids some includefile hell and the function  reallynimportant enough to be inlined anywaynnreportedby ingo molnar  linus torvalds  greg kroahhartman
6349,add the possibility to modify the view focus rectnnthis change makes it possible for a view to supply a different rectangle thannthe drawing rect to be used by the focusfinder when finding a new view to givenfocus to this is useful if eg the total view area is larger than theninteractive area of the viewnnthe default implementation of getfocusrect will return getdrawingrectnthe existing behaviour is only changed if getfocusrect is overridden by ansubclass of androidviewviewnid
6350,omap add carveout memory support for remoteprocnntemporary patch to enable carveout memory support for remoteprocnncleanme carveout memory code should be better consolidated with tidspbridgenid  ohad bencohen
6351,buildgccsh fix temp log without buildout optionnna previous change broke the script if buildout was not givennthis fixes that by setting the build log as soon as possiblenid
6352,export  to other usersnncommit  upstreamnnand in particular use it in  other pipe functions do not need to use the  version sincenthey are only ever called for things that are already known to be pipesnnthe normal readwriteioctl functions are called through the filenoperations structures so if a file  a pipe  never getncalled but pipefcntl is special and called directly from thengeneric fcntl code and needs to use the same careful function that thensplice code is usingnncc jens axboe  andrew morton  al viro  dave jones  linus torvalds  greg kroahhartman
6353,strftime use snprintf instead of sprintfnid  jim huang
6354,omap add remoteproc devicesnnadd omap remoteproc devices for the ipu and dsp remote processorsnid  refactored and simplified can reduce mem maps even furthernnedoffby guzman lugo fernando  ohad bencohen
6355,sdk build both ia and arm versions of the emulatornid  bruce bear
6356,rename  to   upstreamnn and change it to take the  pointer instead of an inode  what all users want anywaynnthe renaming is preparatory to exporting it to other users the  name was too generic and is already used elsewhere sonbefore making the function public we need to use a more specific namenncc jens axboe  andrew morton  al viro  dave jones  linus torvalds  greg kroahhartman
6357,time improve  compliancennquote from linux  manualn if t is nonnull the return value is also stored in the memoryn pointed to by tnid  jim huang
6358,drivers introduce rpmsg a remoteprocessor messaging virtio busnnadd a virtio ipc bus which enables kernel users to communicatenwith remote processors over shared memory using a simple messagingnprotocolnnassign a local address for every local endpoint that is creatednand bind it to the  callback invoke that callback when a messagenis received carrying the  address as the destination addrnid  ohad bencohen
6359,build targetnid  bruce bear
6360,nmi fix clock comparator revalidationnncommit  upstreamnnon each machine check all registers are revalidated the save area fornthe clock comparator however only contains the upper most seven bytesnof the former contents if validntherefore the machine check handler uses a store clock instruction tonget the current time and writes that to the clock comparator registernwhich in turn will generate an immediate timer interruptnhowever within the lowcore the expected time of the next timerninterrupt is stored if the interrupt happens before that time thenhandler  be called in turn the clock comparator  benreprogrammed and therefore the interrupt condition stays pending whichncauses an interrupt loop until the expected time is reachednnon nohz machines this can result in unresponsive machines since thentime of the next expected interrupted can be a couple of days in thenfuturennto fix this just revalidate the clock comparator register with thenexpected valuenin addition the special handling for udelay must be changed as wellnnnedoffby heiko carstens  martin schwidefsky  greg kroahhartman
6361,usb gadget fix rndis code to pass usb compliance tests usbcv with gethernnthis patch fixes a bug in the rndis codendue to this bug getherconnect fails as the port remains unializednnas a result following usb compliance tests were  descriptor  endpoint  fix aligns rndis code with the cdc ecm for xxxsetaltnnthe above listed usb compliance test passes with this fixnntested working fine on sdp with omap  working fine on  with  maulik mankad  leed aguilar  mike lockwood
6362,window can be closed during loadnnsince the  loads its packages whilstnnot blocking the ui  entirely possible for thenuser to request the app to close whilst it loadnthis makes sure we test for disposed widgets afternloading before trying to update themnid
6363,show error message when exec fails during service startupn
6364,usb gadget fix rndis code to pass usb compliance tests usbcv with gethernnthis patch fixes a bug in the rndis codendue to this bug getherconnect fails as the port remains unializednnas a result following usb compliance tests were  descriptor  endpoint  fix aligns rndis code with the cdc ecm for xxxsetaltnnthe above listed usb compliance test passes with this fixnntested working fine on sdp with omap  working fine on  with  maulik mankad  leed aguilar  rebecca schultz zavin
6365,allow upscaling cases in size negotiationnnthis allows the size negotiation between the sensor and  happen without restricting upscaling casesnnit will focus on the size delta onlynnnedoffby sergio aguirre  dominic curran
6366,arm msm camera msmgetstats return immediately on errornnnedoffby iliyan malchev
6367,arm msm adsp audio drivers fix outofbounds array referencesnnnedoffby iliyan malchev
6368,adt support for editing embedded layoutsnnthis is a very first rough changeset the context in which the layoutnis edited is hardcoded until we have the ui for itnnthe basics are the followingn if  a context  pass the parser on top of the model ton the layout libn instead create a kxml based parser that will return the modelbasednparser when queried for a custom parser if the layout name matches thenfile being editednid
6369,change routeall from   mask to   mask to allow for more routes in the futuren
6370,added support for downloading files with unicode charactersnncurrently only certain ascii characters are allowed in a filename allnother characters are replaced with an underscore this gives badnusability for foreign languages eg japanese this fix replaces thencurrent regexp with a method which replaces only those characters unsafento be used on vfat filesystems should work on most othernfilesystems as wellnid
6371,adt  contentoutlinenid
6372,activityprovider used is restricted to the  package but can be spread across other packages as wellna better way to construct the activity name should be by getting the substring from the fully qualified classnamenitself and not using the packageinfoncreditritu srivastavanid
6373,telephony fix cdma sms status report messagennsms delivery status is mapped to appropriate state likencompletependingfailednone based on error class in bearer datanui checks for status to be in one of these states when displayingnstatus reportnid
6374,making the profiling stuff appear in a cool placenid
6375,reflect the change in the original mediaaudiosystem api so that apivalidation continues to workn
6376,support surrogate pairs when layouting textnnthe current framework does not consider surrogate pairsnwhen getting the index of the character this bug becomesnvisible when creating the text including emojis fornexample cursor breaks up when it moves around the emojisnnour proposed solution will consider the surrogate pairsnwhen calculating the index it will fix not only the emojincase but also the letters that use surrogate pairsnid
6377,added functionality to mirror layouts in righttoleft contextnnthe view framework can now automatically mirror the layout of viewngroups when the current language uses a righttoleft alphabet suchnas arabic and hebrew drawables also gets this info and thenframework view components have been updated to support this newnfunctionalitynid
6378,remove hardcoded source folder name for library projects in adtnnpreviously the library mechanism expected the library to have a single source folder called  can now be more than one source folder but the  folder of the library is always excludednand they  need to be directly under the project folder for example srcjava is supportednid
6379,this is a patch for clamshell shape device supportnn use lid switch for clamshell openclose switchn disable orientation changed when lid switch state is changedn notify the clamshell state change to powermanagerservice forn screenoffon controlnid
6380,this is a patch for clamshell shape device supportnn add config values for deivce shapen add methods interface for powermanagerservicen force to be screen off when the lid of clamshell is closedn and screen on when it is opendnid
6381,adt  outline with selection synchronized from canvasnnnext cl will be selection synchro
6382,arm tegra add support for reading fusesnid  colin cross
6383,explicitly enable backup by default in sdk buildsnnthis change parallels a frameworksbase change that makes the defaultnbackup state at boot enabled with localtransport as the currentlynactive transport device vendors who wish to ship the google backupntransport need to explicitly disable backup by default it is enablednwhen the user agrees to the optin disclosurenid
6384,arm tegra clock add maxrate parameter to all clocksnid  colin cross
6385,update android kernel build documentationnid
6386,arm tegra clock fix enabledisable parent clocks in setparentnid  colin cross
6387,enable data connection during voice call if supportednnif modem radio technology can support concurrent voice and datanallow data call setup to be iated when voice call is activenid
6388,make httpurlconnection watch for connectionclose headersnnmake httpurlconnectionimpl watch for connectioncose headersnin order to shut down the sockets at an earlier point and therenby save some batterynid
6389,add suspended state to thread displaynid
6390,arm tegra clock add virtual cpu clock with dvfsnid  colin cross
6391,upgrade to mkshcurrent as of   utcnnalso get rid of the ndk and mkshsmall part of androidmk and noticenwe only build the fullfeatures one now which is tested on
6392,cleaned up build script from rebuilding locally generated sourcesnnalso passed along showkernel option to the emulator corenid
6393,arm tegra add dvfs to pllxnid  colin cross
6394,set the mkshdefaultexecshell to systembinsh to unbreak “adb install�…nn… and any other places that call a script without a shebangndiscovered and solution suggested by chihwei huang
6395,fix stacksmashing when using  sockets in the networking codennstruct sockaddr is not enough and struct sockaddrstorage is not portablenso redefine our own union to deal with the problem correctlynid
6396,arm tegra add dvfs to clocksnid  colin cross
6397,make the default backup configuration disabled local transport selectednnby default out of the box an android build will have the backup mechanism innits disabled state and pointed to the localtransport test transport wendo not want retail devices built without the google backend to have backupnenabled out of the box it would cause them to gradually grind away thencache partition for no good reason on those devices with this changendevelopers would need to enable backup manually possibly using the normalnsettings ui more probably using the  shell tool but would no longernalso have to manually configure the active transport namenndevice vendors producing googleenabled products will simply use resourcenoverlays to configure the default state and transport name for their buildsnwhen building a product that points to the google backup transport by defaultnthe defbackupenabled boolean resource should still be set to  nthe google backup disclosure activity supplied by gsf will take care ofnenabling the backup services if the user opts in to it basically vendorsnwill never have to overlay the defbackupenabled resource the defaultnvalue of  is correct for any retail device regardless of whether itncan use the google backup transportnnin the sdk build the default transport will remain the local one butnthe default enable state overridden and set to true this is the idealnsituation for developers all aspects of the backup mechanism immediatelynoperative with no manual configuration needednid
6398,adt  outline page display root preserve statenn correctly displays the root element of the layoutn preserve select and expanded state when reloading layoutnid
6399,code left opened files behindnverified with lsof downloadprovider after downloading a file showsn$proc    reg
6400,phone clean up radio technology constantsnid
6401,fix sim build remove unncesessary headernid
6402,adt  outline with selection synchronized from canvasnnnext cl will be selection synchro
6403,fix typos in commentnid
6404,arm tegra clock update common clock tablenid  colin cross
6405,add minimal  file for android $ …nid
6406,cursortobulkcursoradapterclose must call mcursorclose instead of mcursordeactivate this prevent us to call cursorclose on cross process contentprovider and may cause a database leak problemnid
6407,properly define logtag in  was a misuse of logtag and  inclusion which causesnthe following compiler  warningnlogtag redefinednin file included from
6408,arm tegra modify cpufreq to use virtual cpu clocknid  colin cross
6409,put the wifi status icon in the right placennthis fixes the inconsistency where all networkrelated icons appear onnthe right side of the volumevibrate icon except for the wifi iconnwhich appears on the leftnnthanks to kevin purdy lifehacker for kicking my ocd in n
6410,convert text to wav using svox texttospeech systemnid
6411,cleanup some whitespacenid
6412,ensure period is set within the  limitationsnnit is possible for an app to send out a notification that has a period of less than  seconds or greater than  seconds when that happens the period is not set at all and causes strange things to happennnthis commit simply ensures that period is always between  and  also it fixes a tiny code formatting issuenid
6413,adb add inq mobile usb idnid
6414,video tegra add hdmi output supportnnnedoffby erik gil
6415,add include path to build libbluedroidnnthis fixes the build when boardhavebluetooth  truennnedoffby nick pelli
6416,update cts version to
6417,arm tegra cpufreq fix resume notifiernnpmpostrestore is for hibernation pmpostsuspend is thencorrect event for resumenid  colin cross
6418,moving sdk howto docs from developmentgit into sdkgitnnwill update content in another clnid
6419,phone control operator selection using efcsp datannas per  cphs  the most significant bit ofnvalue added services  info controls operator selection menun if this bit is set display operator selection menu to usern if this bit is not set do not display operator selection menu to usernt set network selection mode to automaticnid
6420,usb gadget fmtp usb gadget function driver for mtp and ptp device supportnnnedoffby mike lockwood
6421,telephony control operator selection using efcsp datannas per  cphs  the most significant bit ofnvalue added services  info controls operator selection menun if this bit is set display operator selection menu to usern if this bit is not set do not display operator selection menu to usernt set network selection mode to automaticnid
6422,usb gadget composite add userspace notifications for usb state changesnnadd switch to notify current usb configuration this can be used to detectnusb connect and disconnect eventsnnbroadcast a change via the usbcomposite class when a usb function isnenabled or disablednnrename usbfunctionhidden to usbfunctiondisablednnnedoffby mike lockwood
6423,fix activitythread will return old source path after apk updatednnif the apk is preinstalled in systemapp after updated the apknfrom market that installed in dataapp activitythread will stillnreturn the apk in systemapp instead of dataappnit will cause problem loading widget issue because the new resourcesnare not existing in old apknid
6424,usb composite add support for functions overriding usbdtstring descriptorsnnneeded for mtp supportnnnedoffby mike lockwood
6425,fix the layouting of the checkboxnnsometimes very rarely the checkbox is not layouted  partly visible only the reason is that the checkboxnand the hint text below it has layoutwidth set tonwrapcontent as well which means it needs more then onenlayout runs to get the final layoutnid
6426,only monitor recognized uevent devicesnnsystemserver can potentially monitor uevent devices that arenof no use to it for instance an accelerometer implementationnas uevents this would cause the process to be busy whennunnecessary if a device cannot be classified  monitor itnid
6427,moving sdk howto docs from developmentgit into sdkgitnnsee change  fornthe cl that adds them back in sdkgitnid
6428,arm tegra export the system reset functionnid  colin cross
6429,arm tegra add  to plla frequency list correct  muxnnnedoffby iliyan malchev
6430,prevent make  warning overriding commands for target  warning ignoring old commands for target
6431,moved radio gps and audio setup entirely into the corenid
6432,cts eclipse classpath file generatornnadd a script that combine the classpath under developmentideeclipsenwith a classpath file under ctsdevelopmentideeclipse that hasnthe cts packages run the following in your androidbuildtop tongenerate a classpath for eclipse that has the cts packagesnnctsdevelopmentideeclipsegenclasspathsh  classpathnid
6433,allow telephonymanagergetdeviceid to return an esn instead of an meidnnolder cdma networks use esns only not meidsnid
6434,fix opencore starts playing when it  is at least one consistent repro of the random music bugnstart  playback not vorbis that  use opencore innthe media player pause the player then in a terminal kill thencomandroidmusic process the process will be restartednimmediately and music will start playingnnsimilar repros happen when comandroidmusic is started elsewhereneg from media buttons and bluetooth disconnection broadcasts whichncause comandroidmusic to be loaded via mediabuttonintentreceivernnthe music starts playing whennpvplayerenginehandlesinknodeskipmediadataduringplaybackncalls startplaybackclock check that istate  pvpenginestatestartednbefore telling it to start this matches the logic in the conditionalnbranch immediately above which also calls startplaybackclocknnthe  call is simply removed because  from startplaybackclock  lines in one source file seriouslyn
6435,do not merge cts featureprofile annotationsnnadd annotations that allow cts to be used for multiple devicenprofilesnnexample is shown in  supportedprofiles run the test only if the  profile isn the one passed via the profile flag to cts likenn startcts plan cts profile handheldn startcts plan cts profile  requiredfeatures run the test only if the  packagemanager reports the features needed by the test forn instance tag wifi tests with this  value set ton the wifi feature to only run it on devices that declare then featurennif not specified the profile will be set to all which means run allnthe testsnnthis creates an additional library for cts test annotations so thisnwill require a change to the buildcorectsmk project too a newnmakefile ctshostlibrarylistmk can be used now to have the hostnuse additional librariesnid
6436,video tegra include nvhosth instead of nvhostdevhnnnedoffby erik gil
6437,msm mmc add support for pio irqs and rework completion pathsnn rework the completion path so that polling is not required in the dma handlern enable pio irqs and remove polling supportnnnedoffby san mehat
6438,video tegra set window size on mode changennotherwise  hardcoded by the platformdatannnedoffby erik gil
6439,msm mmc remove some if  san mehat
6440,fix a crash in ddms when parsing an unexpected sync event format due to a change in froyonid
6441,handle voicecommand intent correctlynnlongpress call on phones with a hard key sends thenvoicecommand intent which was always launching the bluetooth voicendialer even if no headset was active fixed by checking if sco is onnand launching the appropriate activitynnfix
6442,msm mmc move resume work to a workqueue to reduce criticalresume latencynnnedoffby san mehat
6443,fix popupwindowtesttestshowatlocation to support  paddingnnbug  the assertion that depended upon the popup  themenhaving   padding removing the popupwindow  background tonsimulate a lack of padding causes this test to fail unless thenassertions allow zero paddingnid
6444,combine ui sources under one variablennalso move couple of src files under android to the list of core srcnid
6445,apanic commonmtd splitnn mtd code moved to separate file and separately selected in confignn mtdspecific code calls common apanicregisterdevice ton inform a panic dump device is ready and tell block transfer sizenn common code calls canned externals apanicdevreadn apanicdevwrite apanicdeverasenn ref to ramconsoleenableconsole protected withn ifdef configandroidramconsolenn add null return check for getfreepage callnid  todd poynor
6446,fix error when closing a library and projects using it at the same timennby the time the job launched to unlink the linked source folder is runningnthe main project will be closed and its properties cannot be editednid
6447,change from using  for pointer size to uintptrt for correct  supportnid
6448,adt new action to run dexdump on projectnncaptures the dexdump in a temp file and opens it in an editornid
6449,spi tegra make sure master mode is enablednid  gary k
6450,add new variable targetshell  ash default or mkshnnbesides that add enough magic to build everything taggednas shell$targetshell and permit ashmksh as not unusualnid
6451,arm tegra  do not reset the  fifo unnecessarilynnthis patch removes redundant  fifo resets which also cause blips on playbacknit also moves the fifo attention levels to struct audiostreamnnnedoffby iliyan malchev
6452,arm tegra  allow preloading of the tx fifo with datannadd an ioctl to allow the tx fifo to be loaded with data before playbacknstarts playback can then be started by calling write on the fifo evennwith a length of  this will cause the pending data to be played outnnnedoffby iliyan malchev
6453,arm tegra  clean up handling of statenn use consistently the various state flagsn active is set only when there is a read or write in flightn recordingcanncelled is set only when recording is stopped via the ioctln dmahasit is used to determine whether dma is already in flight do notn use the state of the fifos for this eg if the tx fifo is empty do notn assume that playback is stoppedn added a stopcompletion implemented for readers only so that readersn closing a stream can wait until dma or pio transactions are stoppedn split  into  where then ctl versions have the ioctlsn introduced an error count per audiostream error count is reset on open cann be read back  reset through an ioctlnnnedoffby iliyan malchev
6454,libstagefright add support for  software color conversionnnsoftware renderer is used to display last buffer on resumenit does not support  color format resulting in a crashnadd support for  to  conversion in softwarenrenderernid
6455,arm tegra suspend add suspend mode enum to board platform datanid  colin cross
6456,arm tegra vmallocend should be unsigned longnnsilences following build warningnnarcharmmmc in function  warning format  expects type   but argument  has type   olof johansson
6457,arm tegra  configure inout buffer sizes from user spacenn add ioctls for configuring buffer threshold and dmatransaction sizes fromn user spacen buffer sizes are provided in orders of magnituden allocate maxsized buffers during probe and allow the user to resize themn only within the original allocation to avoid the risk from kmalloc failingn due to kernelheap fragmentation and also to avoid race conditions on dman shutdownn in tegraaudiowrite moved the call to startplaybackifnecessaryn immediately after writing to the fifo otherwise when the fifo size isn smaller than what the user is trying to write the user will block beforen playback is startedn silenced printk spew on spinning on  registers after transactions aren completedn cleaned up a  style violation in downsamplennnedoffby iliyan malchev
6458,arm tegra  combine audioinstream and audiooutstreamnnnedoffby iliyan malchev
6459,arm tegra allow overriding archresetnid  colin cross
6460,net wireless  update to version  dmitry shmidt
6461,video tegra add hotplug display supportnnthis is needed for hdminnnedoffby erik gil
6462,fix makefilennnedoffby iliyan malchev
6463,arm tegra add hdmi clock aliases for display controllersnnnedoffby erik gil
6464,test that mediarecorder can use a filedescriptor from a localsocketnnlocalsocket can be used to generate a filedecriptor these tests ensure that this filedescriptornis compatible with mediarecordersetoutputfilefiledescriptor fdnid
6465,arm tegra dma switch to nonthreaded interruptsnnnedoffby iliyan malchev
6466,arm tegra  add wakelocksnnnedoffby iliyan malchev
6467,arm tegra  remove debugfs add sysfs interfacenn removed debugfs interface for toggling dman added it under sysfsn also added attributes for settings the attention levels of the  fifosnnnedoffby iliyan malchev
6468,arm tegra add hdmi to iomaphnnnedoffby erik gil
6469,video add fbedidaddmonspecs for parsing extended edid informationnnmodern monitorstvs have more extended edid information blocks which canncontain extra detailed modes this adds a fbedidaddmonspecs functionnwhich drivers can use to parse those additions blocksnnnedoffby erik gil
6470,video tegra add host bus support to display controllernnnedoffby erik gil
6471,video tegra add skeleton host bus supportnnthe host or  bus sits between the cpu core and the   camerandisplay and mpeg encoder functions it contains provides dma channelsnhardware mutexes and synchronization pointsnnnedoffby erik gil
6472,fix openglesversiontestnnbug  the egl calls between eglinitialize and eglterminatenid
6473,update broadcom bt patchram downloadernid
6474,fix openglesversiontestnnbug  the egl calls between eglinitialize and eglterminatenid
6475,usb gadget fadb dequeue request on error in adbreadnnin adbread if waiteventinterruptible returns an error we need tonremove the request from the ep queue else on the next call to adbread wenwill attempt to enqueue the request again potentially corrupting thenqueue this is what happens with musbgadgetqueue which does not check fornduplicate requestsnnnedoffby iliyan malchev
6476,update to allow  build for fi on gingerbreadnnalso handles most todotxt items and contains some rewriting of the dispatch codenalso adds a newline to the end of files that did not previously end with a newlinenid
6477,remove nowdefunct  entries from the manifestnnsince repo  repo prefers to download over git as it turnsnout to be a much faster transport than tarball over http as  elements are no longer recognized as keywords by repo wenmay as well remove them from the primary manifestnnnedoffby shawn o pearc
6478,add locking to capturescreenimpllockednnif an unlucky application tries to capture the screen at the wrongntime it can get a corrupted screen imagennthis patch prevents this problem by locking the layers while drawingnthe screenshot so that they  redraw at the same time and thencaller always gets an atomic snapshot of the screen imagenid
6479,test commitnid
6480,added support for view directionalitynnviews do now have the notion of directionality ie thenhorizontal flow of their contents this allows them tonchange the direction in which subitems are presented andnalso to link the direction to the current reading directionnnexamplenn       and right parameters has been complemented withnbefore and after versions that are interpreted as left ornright depending on the view directionality in gravityncontext the corresponding values has been namednbeginning and endnnexamplenn         is now a new mirrored drawable state that isncommunicated to drawables from the view this means thatndrawables can react on the directionality of their contextneg by using a statelistdrawablennexamplenn            framework views such as the progress bar has beennadapted to support directionality but there are still ancouple more left to adapt such as gridview gallerynexpandablelistview spinner etcnid
6481,this case caused an ioexception to occur due to an unexistent geocoder servicensince this is inevitable for devices which do not contain gms packages we modified the test case to achieve a pass result under this circumstancenwe caught the ioexception which occurred after calling geocodergetfromlocation and if the returned result shows that the ioexception occurred duento service not availablenwe then let it pass otherwise we still throw the ioexceptionnid
6482,request cts waiver since the result of our device running eclair is correct back port the solution of bug  from
6483,merge branch  into  mastern remove nowdefunct  entries from the manifestn remove hardcoded branch constantnnconflictsntdefaultxmln
6484,usb gadget fmtp dequeue request on error in mtpreadnnin mtpread if waiteventinterruptible returns an error we need tonremove the request from the ep queue else on the next call to mtpread wenwill attempt to enqueue the request again potentially corrupting thenqueue this is what happens with musbgadgetqueue which does not check fornduplicate requestsnnbased on a similar change to fadbcnnnedoffby mike lockwood
6485,usb gadget android fix problem switching vendor idsnnwe need to update the vendor id in the composite driver as wellnnnedoffby mike lockwood
6486,add qhd to the supported screenconfiguration listnid
6487,test
6488,sdk launcher add  app manifestnnmerged from master to
6489,sdk rename sdk setupexe to sdk managerexennmerged from master to
6490,improve capability of the postcompile targetnnmake the dex target use a different property to readnthe input folder for classes to dexifynby default the new property has the same value but cannbe overriden if a postcompile target modify obfuscatencode into a different locationnnmerged from master into
6491,improve capability of the postcompile targetnnmake the dex target use a different property to readnthe input folder for classes to dexifynby default the new property has the same value but cannbe overriden if a postcompile target modify obfuscatencode into a different locationnid
6492,arm tegra usbphy add physuspend and phyclkdisablennphysuspend save the phy registers and power it off phyclkdisablendisable the phy clock to put the phy in low power modenid  benoit gobi
6493,ctsnettestcasesnandroidnetctsnetworkinfodetailedstatetest testvaluesnnthe cts will failif state is added to detailedstate by a vendor specnid
6494,usb gadget in otg mode power down the controller on probennthe otg driver will power it up on id pin detection this avoidsnrace conditions when the device is powered on with the otg cablenattachednid  benoit gobi
6495,fix nanp on using japanese localenid
6496,sdk manager fix extra package update detectionnid
6497,net wireless  fix disable pno callnnnedoffby dmitry shmidt
6498,properly parse mipmap namesnnthe extension was not removed making the references not foundnid
6499,androidbat support for java  properly encode file using crlf not unix modenfindjavabat properly check for java in the  programfiles pathnid
6500,sdk manager fix for force create avdnnin the sdk manager creating an avd would fail if therenwas some file or folder in the way in the androidavd foldernyet no avd was loaded properly from it this detects itnproperly notifies the user and makes force create avdnwork in this casenid
6501,for performance reasons setmode needs to be called before setdatasourcenid
6502,usb host add support for suspend and bus suspendnnon suspend use physuspend save the phy registers so that there isnno need to reset the controller and reenumerate devices on resumenid  benoit gobi
6503,usb gadget reset the controller when cable is unpluggednnreset the controller when the cable is unplugged to leave it in the idlenstate the otg driver will reconfigure it on vbusid pin detectionnid  benoit gobi
6504,dspbridge add locking for node dmm and stream listsnnwithout locking these lists can become corrupt from concurrentnprocessing coarsergrained locking schemes led to deadlocks innvideo encode which expects to be able to have two simultaneousncalls into the bridgenid  rebecca schultz zavin
6505,gallery added routine to process enter keyeventnid
6506,add mksh from cvs  as systemcoremksh modulennboth shells ash from systemcoresh and mksh are built byndefault but only the one where $targetshell is set to isnactually installed the shell and the mkshrc configurationnfile are tagged shellmksh for this to worknnnedoffby thorsten glas
6507,remove ninepatchdrawabletest npe checksnnthe test was failing due to not throwing an exception for nullnpadding remove other npe checks since developers should not benpassing nulls into them anywaynid
6508,testnid
6509,add a static library containing powerc for use by the librpc librarynid  mike lockwood
6510,librpc fix kernel enter suspend before reply rpc callbacknngrab wakelock before reading data from kernelnid  mike lockwood
6511,replace ash with mkshnnsquashed commit for easier mergingtestingnoriginal commit messages follownnfurther changesn• updated mksh to easter  weekend  versionnn‣ this is a combination of  commitsn‣ the first  message isnimport mkshcurrent as of  from cvs qd anoncvsanoncvsmirbsdorgcvs co pa mkshnremoved makefile cvsnnthis code is not a contribution it shall be handled as an externalnsource the licence it is under is suitable for android it is bsdnlike and contains an explicit copyright grant and i know of no pantents covering a shellnn‣ this is the  commit messagennremove netbsd® ashnn‣ this is the  commit messagennimport printfc from mirbsdnnretrieved viancvs qd anoncvsanoncvsmirbsdorgcvs co pa n srcusrbinprintfprintfcnnthis is derived from the original bsd source code and slightlynadapted to work well as optional mksh builtinnn‣ this is the  commit messagennadd  implementation for androidnnretrieved fromncvs qd anoncvsanoncvsmirbsdorgcvs co pa n  is code written by me specifically for androidnand starts the series of commits that are contributionsnn‣ this is the  commit messagennadd module licence and summary of legal notices of code actually compilednn‣ this is the  commit messagennadd script used in manually creatingadjusting androidmknn‣ this is the  commit messagennand finally the hopefully working androidmk file for mksh as shnn‣ this is the  commit messagennnow that we have mksh nuke that ugly shhistory hacknn‣ this is the  commit messagennshlistc is no longer needed without dshhistorynn‣ this is the  commit messagennget rid of floating point operationsnnthis was only needed for the optional  builtinnand the shell  ever need floating pointnbesides it will work better without in thumb modenn‣ this is the  commit messagennupdate printfc from mirbsdcurrentnn‣ this is the  commit messagennupdate to mksh   was released today since the snapshot i ially begannworking on is close enough the build system requires no furnther changesnnthe source code is still unmodified from upstreamnn‣ this is the  commit messagennupgrade to mksh  releasenn‣ this is the  commit messagennremove fstackprotectorall from cflags it breaks at least on ‣ this is the  commit messagennadd symlink systembinmksh  systembinshnn‣ this is the  commit messagenndisable the  builtin for space reasonsnn‣ this is the  commit messagennupgrade to mkshcurrent as of   utcnnalso get rid of the ndk and mkshsmall part of androidmk and noticenwe only build the fullfeatures one now which is tested on ‣ this is the  commit messagennset the mkshdefaultexecshell to systembinsh to unbreak “adb install�…nn… and any other places that call a script without a shebangndiscovered and solution suggested by chihwei huang ‣ this is the  commit messagennadd minimal  file for android $ …nid
6512,platomap gpio configure gpio wakeups when going into idle  suspendnngpios were only enabled for wakeup when entering suspend not ret on idlennnedoffby mike chan
6513,prebuilt kernel and wifi driver for dreamnnkernelnrepository gitandroidgitkernelorgkernelmsmgitnbranch   gitandroidgitkernelorgplatformsystemwlantigitnbranch   iliyan malchev
6514,arm goldfish enable lowlevel kernel debuggingnnthis provides a working implementation of the assembly routines requirednto have configdebugll working with the goldfish kernel for the recordnthis instructs the kernel to send each printk to the serial port as soonnas possible instead of buffering the outputnnthis turned out valuable to debug some tricky  emulation support issuesnnthis also cleans up a bit existing code related to the goldfish ttynnedoffby david  turn
6515,neon implementation of   per pass simd implementation little endian only based on armnimplementation guards for selection only if targetarchversion is  is defined this is supplied by gcc when  is passed tonthe compiler and the system is little endiannntested on zoomii using softkeyboard and web browser  possible for a system to support  but not have neon available nthis is the reason for  including the file at the makefilenlevel but using armneon to actually select the code for compilationnnuses archarm rather than targetarch to select neon featuresnat build on a percapability rather than perarchnid
6516,bluetooth fallback to sco on error code  connection accept timeoutnnthis is to support the motorola  carkit which reports the error code  an esco attempt even though it advertises esco support here is    hci command setup synchronous  plen  handle  voice setting    hci event command status  plen  setup synchronous connection  status  ncmd    hci event synchronous connect complete   status  handle  bdaddr  type escon error connection accept timeout exceedednnwith this patch we will retry with a sco connection which succeedsnnunfortunately the moto  also takes  seconds to return the error for thenesco attempt so it will still take  seconds to fallback to sco with thisnpatchnnnedoffby nick pelli
6517,testnid
6518,fix invalid namespace cts issuennissue  appnamespace attributes so that individual tests of naturetestnand apidemostest can be runnid
6519,arm msm camera  revised fix for greenish snapshot in low lightnnthe issue affects the samsung  camera sensor the fix consists ofn streamon snapshot after writing gainlinen removing parameter holdrelease from snapshot sessionnnnedoffby iliyan malchev
6520,arm msm camera  revised fix for greenish snapshot in low lightnnthe issue affects the samsung  camera sensor the fix consists ofn streamon snapshot after writing gainlinen removing parameter holdrelease from snapshot sessionnnnedoffby iliyan malchev
6521,rtc alarm pass a valid time when disabling an rtc alarmnnsince rtcsetalarm checks the validity of time on the rtcwkalrm structnwe must pass a valid time when disabling the rtc alarm otherwise thenalarm  get disablednnnedoffby patrick aucht
6522,arm msm camera clean up the  vfe drivernn replace unnecessary kmallocs with stack variablesn clean up error handling remove confusing labelsn remove unecessary local variablesnnnedoffby iliyan malchev
6523,arm msm camera request  to run at  when camera is in usennthis prevents the axi bus frequency from falling below  when the vfe isnin use the vfe needs the axi at at least  iliyan malchev
6524,arm goldfish add a new machine named  corresponds to the same emulatorspecific machine than goldfishnexcept that it emulates an  cpu with vfp and neon instructionsnnnedoffby david  turn
6525,arm msm sapphire allocate gpio tplsen before using itnnnedoffby iliyan malchev
6526,arm goldfish hack kernel to use both tls register and  store current tls area address this is required for compatibilitynwith existing device builds will disappear when these are cleanednupnnnedoffby david  turn
6527,added configuration for freebsd  added  flag to avoid error duringn compilation incompatible type  added  include this allows correct defion ofn namespaces and makes  like types visible in  changed makefileandroid in order to build with oss on freebsdn without prebuilt version of qemuaudio which is now absentn
6528,misc apanic improved badblock watchdog  handle cases that there is no more good  touch softlockup watchdog at the start of  change unsigned char getbb to unsigned int  return idx instead of  to keep the previous written pagesnnnedoffby tom zhu  san mehat
6529,bluetooth fix connection establishment with low security requirementnnthe bluetooth  specification introduced four different security modesnthat can be mapped using legacy pairing and simple pairing with thenusage of simple pairing it is required that all connections exceptnthe ones for sdp are encrypted so even the low security requirementnmandates an encrypted connection when using simple pairing when usingnlegacy pairing for bluetooth  devices and older this is not requirednsince it causes interoperability issuesnnto support this properly the low security requirement translates intondifferent host controller transactions depending if simple pairing isnsupported or not however in case of simple pairing the command tonswitch on encryption after a successful authentication is not triggerednfor the low security mode this patch fixes this and actually makesnthe logic to differentiate between simple pairing and legacy pairingna lot simplernnbased on a report by ville tervo  marcel holtmann
6530,added macro defions to  removed unnecessary include of
6531,watchdog omapwdt pause apet timer in suspendnnstop auto pet timer in suspend and resume it out of suspendnnnedoffby tom zhu  san mehat
6532,updated errorshendianh to work on freebsd new macrondefions havesysendianh see   updated executablepath to be aware of buffer overflow innexecutablepathlinuxcpp added same function for  updated aapt makefile to perform linkage with pthread  updated utils makefile to use  due to usage of  that  exist when  used on freebsdn
6533,removed commented include of  added configcompatfreebsdh and updated makefile to include itn while compilationn
6534,merge commit  into freebsdportn
6535,merge commit  into freebsdportn
6536,disable on akmaotrelease instead of pm hooksnnwhen close is called on the fd and akmaotrelease is called disableninterrupts and have  auto power downnid  mike chan
6537,arm tegra suspend add suspend to  basic support for system suspend operations using  cpunpowergatingnnplatformspecific data power good times pmu capabilities etc must benspecified when registering the suspend operations to ensure that platformnpower sequencing restrictions are maintainednnsince all device interrupts except timers are disabled in the suspendnpath the wakeup interrupts need to be manually unmasked before enteringninto a suspend state or the processor will never wake up these forcedunmaskninterrupts are remasked immediately in the resume path to prevent thenkernel from livelocking prior to driver  includes fixes to cpu complex save  restore and power off timernconfiguration from aleksandr frid   gary k
6538,sdhcitegra implement suspend and resumenid  gary k
6539,arm tegra suspend add suspend and resume for system devicesnnadd functions to save off the volatile pinmux irq clock reset andndma register context to memory to support soc suspendandresumenid  gary k
6540,remove internalr references from alertdialogbuildertestnnuse methods on alertdialog to get the buttons and the list viewnunfortunately delete the tests that use internal r resources  be replaced with any public calls like to get the  titlenid
6541,arm tegra suspend remove literals from cpu save  restore codennuse the  movw and movt instructions to load literal values rathernthan allowing the compiler to silently generate literal sections all overnmemorynnsince this code needs to be relocatable may run with no mmu may runnwith mmu may run in iram the fewer literals the  including fixes from scott williams   gary k
6542,arm outercache add shutdown and restart callbacknnadd a shutdown callback to the outercache structure and provide annimplementation for the  outer cache controller so that machinesnwhich need to flush and disable the outer cache controller prior tonexecuting the architecture reset or platform suspend code can call ancommon function to do sonnsymmetrically add a restart callback which may be called bynthe platform suspend code to reenable the outer cache followingna suspend transitionnid  gary k
6543,arm  add declaration for prefetchoffset registernid  gary k
6544,remove brokentest movietest annotationsnnbug  the annotations because the tests work nownid
6545,arm tegra add io virtual memory manager interface iovmmnnthe tegra iovmm is an interface to allow device drivers and subsystems innthe kernel to manage the virtual memory spaces visible to io devicesnnthe interface has been designed to be scalable to allow for io virtualnmemory hardware which exists in one or more limited apertures of the addressnspace eg a small aperture in physical address space which can performnmmulike remapping up to complete virtual addressing with multiplenaddress spaces and memory protectionnnthe interface has been designed to be similar to the linux virtual memorynsystem however operations which would be difficult to implement ornnonsensical for dma devices eg copyonwrite are not present andnapis have been added to allow for management of multiple simultaneousnactive address spacesnnthe api is broken into four principal objects areas clients domains  area is a contiguous region of the virtual address space which can benfilled with virtualtophysical translations and optionally protectionnattributes the virtual address of the area can be queried and used forndma operations by the client which created itnnas with the linux vmarea structures it is the responsibility of whicheverncode creates an area to ensure that it is populated with  domain in the iovmm system is similar to a process in a standard cpunvirtual memory system it represents the entire range of virtual addressesnwhich may be allocated and used for translation depending on hardwarencapabilities one or more domains may be resident and available forntranslation iovmm areas are allocated from iovmm domainsnnwhenever a dma operation is performed to or from an iovmm area its parentndomain must be made resident prior to commencing the  vmm clients represent any entity which needs to be able to allocatenand map system memory into io virtual space clients are created by namenand may be created as part of a share group where all clients creatednin the same share group will observe the same io virtual space ie allnwill use the same iovmm domain this is similar to threads inside a processnin the cpu virtual memory managernnthe callers of the io vmm system are responsible for deciding on thengranularity of client creation and share group defion depending on thenspecific usage model expected by the caller it may be appropriate to createnan iovmm client per task if the caller represents an  interfacento user land an iovmm client per driver instance a common iovmm clientnfor an entire bus or a global iovmm client for an os subsystem eg the dmanmapping interfacenneach client is responsible for ensuring that its iovmm  translation isnresident on the system prior to performing dma operations using the iovmmnaddresses this is accomplished by preceding all dma operations for the clientnwith a call to tegraiovmmclientlock or tegraiovmmclienttrylocknand following all operations once complete with a call tontegraiovmmclientunlock in this regard clients are cooperatively contextnswitched and are expected to behave  vmm devices are the physical hardware which is responsible for performingnthe io virtualtophysical translationnndevices are responsible for domain management the mapping and unmappingnoperations needed to make translations resident in the domain includingnany tlb shootdown or cache invalidation needed to ensure coherency lockingnand unlocking domains as they are made resident by clients into the  spaces and allocating and deallocating the domain objectsnndevices are responsible for the allocation and deallocation of domains tonallow coalescing of multiple client share groups into a single domain fornexample if the  hardware only allows a single address space tonbe translated systemwide performing full flushes and invalidates of thentranslation at every client switch may be prohibitively expensive in thesencircumstances a legal implementation of the iovmm interface includesnreturning the same domain for all clients on the system regardless ofnthe originallyspecified share groupnnin this respect a client can be assured that it will share an address spacenwith all of the other clients in its share group however it may also sharenthis address space with other clients toonnmultiple devices may be present in a system a device should return a nullndomain if it is incapable of servicing the client when it is asked tonallocate a domainnnnniovmm client  called to create a new iovmm client object then implementation may create a new domain or return an existing one depending onn both the device and the share groupnntegraiovmmfreeclient frees a clientnntegraiovmmclientlock makes a  translations resident in the iovmmn device for subsequent dma operations may block if the device is incapablen of contextswitching the client when it is called returns eintr if then waiting thread is interrupted before the client is lockednntegraiovmmclienttrylock nonblocking version of tegraiovmmclientlocknntegraiovmmclientunlock called by clients after dma operations on iovmmn translated addresses is complete allows iovmm system to contextswitch then current client out of the device if needednntegraiovmmcreatevm called to allocate an iovmm area ifn lazy demandloading of pages is desired clients should supply a pointern to a tegraiovmmareaops structure providing callback functions to load pinn and unpin the physical pages which will be mapped into this iovmm regionnntegraiovmmgetvmsize called to query the total size of an iovmm clientnntegraiovmmfreevm called to free a iovmm area releasing any pinnedn physical pages mapped by it and to decommit any resources memory forn ptes pdes required by the vm areanntegraiovmmvminsertpfn called to insert an exact pfn system memoryn physical page into the area at a specific virtual address illegal to calln if the iovmm area was originally created with lazy demandloadingnntegraiovmmzapvm called to mark all mappings in the iovmm area asn invalid noaccess but continues to consume the io virtual address spacen for lazy demandloaded iovmm areas a zapped region will not be reloadedn until it has been unzapped dma operations using the affected translationsn may fault if supported by the devicenntegraiovmmunzapvm called to reenable lazy demandloading of pagesn for a previouslyzapped iovmm areanntegraiovmmfindareaget called to find the iovmm area objectn corresponding to the specified io virtual address or null if the addressn is not allocated in the  address space increases the reference countn on the iovmm area objectnntegraiovmmareaget called to increase the reference count on the iovmmn area objectnntegraiovmmareaput called to decrease the reference count on the iovmmn area objectnniovmm device  called to register a new iovmm device with the iovmmn managernntegraiovmmunregister called to remove an iovmm device from the iovmmn manager unspecified behavior if called while a translation is active and orn inusenntegraiovmmdomain called to ialize all of the iovmm  data structures block trees etc after allocating a new domainnniovmm device  called to inform the device about a new lazymapped iovmm area devicesn may load the entire vm area when this is called or at any time prior ton the completion of the first read or write operation using the translationnnunmap called to zap or to decommit translationsnnmappfn called to insert a specific virtualtophysical translation in then iovmm areannlockdomain called to make a domain resident should return  if then domain was successfully contextswitched nonzero if the operation cann not be completed eg all available simultaneous hardware translations aren locked if the device can guarantee that every domain it allocates isn always usable this function may be nullnnunlockdomain releases a domain from residency allows the hardwaren translation to be used by other domainsnnallocdomain called to allocate a new domain allowed to return ann existing domainnnfreedomain called to free a domainnid  gary k
6546,arm tegra harmony add support for suspendnnialize the suspend code with settings to enable  dramnactive suspend on harmonynid  gary k
6547,updates to the readme filen
6548,added pthread library when building on freebsdn
6549,updated to declare lofft type when building on freebsdn
6550,removed libdl from libraries to link with when building on freebsdn
6551,removed libdl from ldflags when building on freebsdn
6552,changed binbash to binsh cause extended features of bash are not usednthis allows script to be executed on freebsd correcty from makefiles during buildingnprocessn
6553,fixing media scanner inappropriate removal of media filesnnthis commit fixes the inappropriate removal of media filesnafter adding a nomedia file into a folder that has beennpreviously scannednnfor details see   david sobreira marqu
6554,do not explicity disconnect data during power down for   if the data call is torn down before radio power off modem willnhave to send a data call release and change to ialization state followednby idle state and send out power down registration if the power off request is sentnto the modem during initialization state after call release there is a chance thatnmodem does not perform power down registrationnninstead if we directly iate a power down modem just sets a power down registrationnbit in the release order this change also optimizes the power down procedure in  bynletting the modem handle data call release during power downnid
6555,arm msm mahimahi set ial state of microp ledsnnnedoffby eric olsen
6556,arm tegra suspend add support for  and  suspend modesnnin both  and  sdram is placed into selfrefresh in order to safelynperform this transition the final shutdown procedure responsible fornn turning off the mmu and  data cachen putting memory into selfrefreshn setting the ddr pads to the lowest power staten and turning off pllsnnis copied into iram at the address tegrairambase  at thenstart of the suspend processnnin  mode like  the cpu is reset and executes the code specifiednat the evp reset vector since sdram is in selfrefresh this code mustnalso be located in iram and it must reenable dram before restoring thenfull context in this implementation it enables the cpu on pllp enablesnpllc and pllm restores the sclk burst policy and jumps to the  resetnvector to restore the rest of the system mmu pllx coresite etc  reset vector is expected to be found in  and isnialized during systembootupnnin  mode the core voltage domain is also shutoff as a result allnof the volatile state in the core voltage domain eg pinmux registersnclock registers etc must be saved to memory so that it can be restorednafter the system resumes a limited set of wakeups are available from  the correct levels for the wakeups must be programmed into the pmcnwakepad configuration register prior to system shutdown on resume thensystem resets into the boot rom and the boot rom restores sdram and othernsystem state using values saved during kernel ialization in the pmcnscratch registersnnfor simplicity the outer cache is shutdown for both  and  itnis possible to optimize the  routine to bypass outer cache shutdownnand  fixes from vik kasivajhula  restore pllc during  resumen fix typo which set the cpu clock burst policy to pllm rather than  fixes from vik kasivajhula  shut off the mmu during  to avoid races between the flow controllern and the instruction  fixes from scott williams  separate cpuspecific code from socspecific codenid  gary k
6557,add missing logging for setttymode and queryttymodenid
6558,add a new build target kvmimg which is based on the targetproduct  build the    make    make  kvmimgnnto run by using kvmqemunsudo kvm
6559,if starttls is on last ehlo response line accept space prefixnnwhen receiving the ehlo response from the smtp server the multilinenanswer has prefix in all lines except the last line where thenprefix is a blank this is according to rfc  section  this hasnalso been reported as issue  at codegooglecomnid
6560,media type detection should ignore surfix casenid
6561,add a new targetproduct  support new kvm image build target add new targetproduct the product will use the kernel with vesa fb enablednnto build the target with the       make    make installerimgnnto run kvmimg by using kvmqemun sudo kvm  qemu
6562,if starttls is on last ehlo response line accept space prefixnnwhen receiving the ehlo response from the smtp server the multilinenanswer has prefix in all lines except the last line where thenprefix is a blank this is according to rfc  section  this hasnalso been reported as issue  at codegooglecomnid
6563,make hasicccard return true if ruim card is presentnncurrently hasicccard method works only for gsm phones with simusimncards extend that to ruim as wellnid
6564,usb gadget android massstorage use spinlockirqsavespinunlockirqrestorennthe old code did not allways disable interrupts when called from threadncontext but tried to lock the same spinlock from interrupt contextnnthis was merged from a change to driversusbfunctionmassstoragecnin the  branchnnnedoffby arve hjønnevåg  mike lockwood
6565,display fdnadn records in alphabetical ordernnas per  terminal must display fdnadn records in alphabeticalnorder the fdn records as read from sim are not sorted so sorting to complynwith specnid
6566,generic multiplexed gsm riln
6567,fixing media scanner inappropriate removal of media filesnnthis commit fixes the inappropriate removal of media filesnafter adding a nomedia file into a folder that has beennpreviously scannednnfor details see   david sobreira marqu
6568,fix hang when error in sim card communicationnnwhen there is a problem communicating with the ril e g when the simncard is not connected the iccphonebookmanager hangs this is correctednid
6569,in case   will be used without ialization when callingndvmperforminlineopxxxx initialization made in the switch block in casenof default to keep the code optimizednid
6570,changeid  fix clearenv compiler warning and related comment typosn
6571,usb gadget composite move switchsetstate calls to a work queuennnedoffby mike lockwood
6572,add a new function to create a bigger imagento support new kvm image build target add a new function to create a bigger image with more extra blocks and more inodes so that the kvm can run with the image to avoid creating big image for other targets non kvm image i create a new functionnnto build the target with the       make    make installerimgnnto run kvmimg by using kvmqemun sudo kvm  qemu
6573,if starttls is on last ehlo response line accept space prefixnnwhen receiving the ehlo response from the smtp server the multilinenanswer has prefix in all lines except the last line where thenprefix is a blank this is according to rfc  section  this hasnalso been reported as issue  at codegooglecomnid
6574,sim toolkit enhancements and bug fixesnn correct the terminal response for getinkey variable timeoutn gcf ptcrb testcase  checks forn duration tlv in the terminal response add duration tlv in the terminaln response for get inkeynn according to ts   section  structure of terminal responsen for all simpletlv objects with  the me should set then crcomprehension required flag to comprehension not  since deviceidentities and duration tlvs have  the cr flag is not setnn add support for provide local informationpli language setting sendn terminal reponse with the locale language setting value read fromn persistsyslanguage system propertynn send tr with beyondterminalcapability for unsupported proactive commandsnn fix length coding for text string in terminal response for get inputnid
6575,add kernel image for  archnto support new kvm image build target add new targetproduct the product will use the kernel with vesa fb enablednnto build the target with the       make    make installerimgnnto run kvmimg by using kvmqemun sudo kvm  qemu
6576,variable val used without ialization in the next for loopnid
6577,send spaces only if we are already filterednid
6578,do as the comment says and allow up or unknown to bring up devicen
6579,arm  sholes disable adb support in factory test modennnedoffby mike lockwood
6580,object not ialized yetn
6581,update the power control widget when the gps state is changednnwhen there is power control widget in the homescreen update thengps state in settings application press back to the homescreennthe gps state indicated by power control widget is not updatednthis fix would solve the above problemnid
6582,replace ash with mkshnnsquashed commit for easier mergingtestingnoriginal commit messages follownnfurther changesn• updated mksh to easter  weekend  versionnn‣ this is a combination of  commitsn‣ the first  message isnimport mkshcurrent as of  from cvs qd anoncvsanoncvsmirbsdorgcvs co pa mkshnremoved makefile cvsnnthis code is not a contribution it shall be handled as an externalnsource the licence it is under is suitable for android it is bsdnlike and contains an explicit copyright grant and i know of no pantents covering a shellnn‣ this is the  commit messagennremove netbsd® ashnnold changeid ‣ this is the  commit messagennimport printfc from mirbsdnnretrieved viancvs qd anoncvsanoncvsmirbsdorgcvs co pa n srcusrbinprintfprintfcnnthis is derived from the original bsd source code and slightlynadapted to work well as optional mksh builtinnn‣ this is the  commit messagennadd  implementation for androidnnretrieved fromncvs qd anoncvsanoncvsmirbsdorgcvs co pa n  is code written by me specifically for androidnand starts the series of commits that are contributionsnn‣ this is the  commit messagennadd module licence and summary of legal notices of code actually compilednn‣ this is the  commit messagennadd script used in manually creatingadjusting androidmknn‣ this is the  commit messagennand finally the hopefully working androidmk file for mksh as shnn‣ this is the  commit messagennnow that we have mksh nuke that ugly shhistory hacknn‣ this is the  commit messagennshlistc is no longer needed without dshhistorynn‣ this is the  commit messagennget rid of floating point operationsnnthis was only needed for the optional  builtinnand the shell  ever need floating pointnbesides it will work better without in thumb modennold changeid ‣ this is the  commit messagennupdate printfc from mirbsdcurrentnn‣ this is the  commit messagennupdate to mksh   was released today since the snapshot i ially begannworking on is close enough the build system requires no furnther changesnnthe source code is still unmodified from upstreamnn‣ this is the  commit messagennupgrade to mksh  releasenn‣ this is the  commit messagennremove fstackprotectorall from cflags it breaks at least on  changeid ‣ this is the  commit messagennadd symlink systembinmksh  systembinshnn‣ this is the  commit messagenndisable the  builtin for space reasonsnnold changeid ‣ this is the  commit messagennupgrade to mkshcurrent as of   utcnnalso get rid of the ndk and mkshsmall part of androidmk and noticenwe only build the fullfeatures one now which is tested on  changeid ‣ this is the  commit messagennset the mkshdefaultexecshell to systembinsh to unbreak “adb install�…nn… and any other places that call a script without a shebangndiscovered and solution suggested by chihwei huang  changeid ‣ this is the  commit messagennadd minimal  file for android $ …nnold changeid
6583,fix build breaknid
6584,support  in ashmem drivernnnedoffby bjorn bringert
6585,support for aidl files in library project in the ant build systemnid
6586,dspbridge add mutex for accessing process context struct during ioctlsnnwithout this patch data in the per fd processcontext struct can becomencorrupted due to linked list operations conducted from multiple threadsnid  rebecca schultz zavin
6587,remove stale usespermission tagnnthat was a leftover of a stub in  that was meant to become a download ui apinbut got struck by bitrot and got deleted in a cleanupn
6588,testing framework for emulator suspendresumennthe framework relies on the adb interface developed in thendevelopmenttestrunner project specifically the waitforprocessnand waitforprocessend methods introduced in change  itnintroduces a python interface to the qemu monitor console testnexecution is controlled by  unittest modulennthe qemu monitor interface allows programmatic control of suspendnand resume functionality which is available in the externalqemunproject as of commit  specifically the followingnbehaviours are supportednn creating image files to store snapshots inn starting and stopping the emulatorn saving and restoring emulator state to and from a snapshot filen obtaining a list of snapshots stored in a snapshot image filennutility methods are provided which allow a test to determine whethernthe emulator still is responsive and to make sure tests start onlynwhen the emulated device is fully startednnthe emulatorsuspendresumepy test file exercises two basicnscenariosnn suspend and resume within one emulator sessionn suspend in one session restart the emulator and resume in then new sessionnid
6589,update  sourceandroidcom urlsnid
6590,remove old code that was fixed in webkit  code was based on webkit  which has now been integrated into android this fixnwas introduced in octob
6591,code to reuse platformaddress objects minimizing garbage creation on the framework level and reducing the number of runtime gchiccups for opengl apps and  version complete rewrite using  bit hash up to  probes cycle through probes cache replacement thank you michaeldt for your helpn  amend applied requested modificationsn  amend comment openers curly bracketn
6592,tegra ventana fix build break caused by  added suspend support  seem to build  a missing  includenbut even then the following  error unknown field  specified in  error unknown field  specified in ializernnso just remove those please readd when syncing in whatever othernsuspend changes are pending outoftree that adds these fieldsnid  olof johansson
6593,lockscreen revert patch to skip drawsnnthis patch revertsnnfix for  remove workaround that hides slidingtabnwidget while internal state is inconsistentnnthe problem with this fix is that sometimesnmisportrait is assigned a incorrect valuenduring bootupnnif this happens the condition to skip thenlockscreen draw is always met and we dont seenthe lockscreen on bootupnid  axel haslam
6594,tegra ventana fix build break caused by  added suspend support  seem to build  a missing  includenbut even then the following  error unknown field  specified in  error unknown field  specified in ializernnso just remove those please readd when syncing in whatever othernsuspend changes are pending outoftree that adds these fieldsnnnedoffby olof johansson
6595,remove bogus check in htmloptionelementownerselectelementnnkeygen cannot have any children per  specification so  tag cannotnhave a  parentnid
6596,fix paths to config filesnid
6597,proc pagemap hold mmapsem during page walknnif the mmapsem is not held while we walkpagerange thennit is possible for findvma to race with a removevmalistncaused by domunmap or othersnnunable to handle kernel paging request at virtual address  error oops   preemptncpu  not tainted   is at  is at   lr  psr   ip  fp                     nzcv irqs on fiqs on mode  isa arm segment userncontrol  table  dac   from    from    from    from    from        san mehat  brian swetland  matt mackall  andrew morton  linus torvald
6598,optimize call to queryintentactivitiesnnreplace a call to queryintentactivities with a calls tonresolveactivity this is done since the only purpose of the callnis to check if the returned list is empty or nonempty  to move an entire list across the process boundarynonly to discard itn
6599,added features for mailbox folders and message listnnexchange onlynlongpress on folder will show additional context menu option toggle syncnfolder miniicon will change to show sync statusntoggle option will only show for eas type accountsnnexchange and imapnlongpress on folder will show additional context menu option toggle visibilitynadded extra menu item to show hidden folders which switches to hide hidden folders when selectednfolder miniicon will change to show visible statusnnallnadded select all messages in mailbox to menunid
6600,cypress ttsp android  touchscreen driver submitnid  kevin mcne
6601,moved nand and netspeed ialization from main to corenid
6602,make the downloadprovider work in the simulatorn
6603,cts smoke tester application skeletonnncreate a skeletal application for the cts smoke tester and its testsni checked that one can use the regular sdk tools to develop the appnby creating a new project in appsctssmoketester and an accompanyingntest project in appsctssmoketestertests following the helloworldntesting tutorial on dandroidcom shows you how to run the testsnand so forthnnit requires a tweak in buildcoretasksctsmk in order to build thenapks and wrap it up into the androidctszipnid
6604,arm tegra pinmux add power rails and resets to pingroup tablennthe reset values for some pin groups in the tegra pin mux can result innfunctional errors due to conflicting with activelyconfigured pin groupsnmuxing from the same controller this change adds a known safe nonnconflicting mux for every pin group which can be used on platformsnwhere the pin group is not routed to any peripheralnnalso add each pin  io voltage rail to enable platform code tonmap from the pin groups used by each interface to the regulators usednfor dynamic voltage controlnid  gary k
6605,report cpu abi in eclair cts report headernnbug  buildcpuabi and  properties in the ctsnresults header like froyo cts however the internal systempropertiesnapi is used to read the value for  this is turnnrequired commenting out localsdkversion  current in thenandroidmknid
6606,update  sourceandroidcom urlsnid
6607,add androidbootbootmedia kernel command line argumentnnsupport boot specific  for boot from diverse boot medianthis argument can be sdcard or harddisk or other else and if thisnargument is not handed over the bootloader sdcard is used as the defaultnvalue the process loads  file first according  and it loads rc latern
6608,start app with several activities with intent filter main launcher was brokennnwhen an application have more than one activities with intent filternmain launcher then the intent with resolveractivity  created correctnid
6609,update  sourceandroidcom urlsnid
6610,update  sourceandroidcom urlsnid
6611,arm goldfish add encrypted sd card supportnnnedoffby david  turn
6612,add use of volume rocker to navigate to nextprevious message whilenin message viewnid
6613,msmserialhs use dedicated workqueue thread for tty rxnnpreviously the tty layer used the global workqueue which can introduce highnlatency on the rx path if other global workqueue users blocknnintroduce a dedicated msmserialhs workqueue thread managed by thenmsmserialhs drvier to call ttyflipbufferpush set tty lowlatencynto  so that the tty layer does not use its own work queuennthis patch fixes an issue where  would skip when the screen turns onnid  nick pelli
6614,arm tegra pinmux separate chipspecific data from common datannmove the pingroup defions out of the common pinmux implementationnand into chipspecific files to prevent cluttering the implementationncode with thousands of lines of pingroup tables for every chipnid  gary k
6615,omapserial use dedicated workqueue thread for tty rxnnpreviously the tty layer used the global workqueue which can introduce highnlatency on the rx path if other global workqueue users blocknnintroduce a dedicated omapserial workqueue thread managed by thenomapserial drvier to call ttyflipbufferpush set tty lowlatencynto  so that the tty layer does not use its own work queuennthis patch fixes  skipping issuesnid  nick pelli
6616,arm tegra pinmux additional pinmuxing supportnnadd routines to individually configure the tristate pin mux and pullnups for a pingroupconfig array so that it is possible to programnindividual values at runtime without modifying other valuesnnthis allows driver powermanagement code to reprogram individualninterfaces into lower power states during idle suspend or tonreprogram the pin mux to support multiple physical busses perninternal controller eg sharing a single  or spi controllernacross multiple pin groupsnid  gary k
6617,arm tegra pinmux add pingroup lists and gpio mapping for tegra   board designs all use a common set of pin mux configurationsnfor each device add a function to convert from the selected devicenconfiguration to the list of pingroupconfig structures that neednto be programmednninclude a function which returns the pin group for each gpio thisncan be used to configure pingroups as tristate or normal as gpiosnare requested and freednid  gary k
6618,arm tegra dma reserve avp dma and shared dma channelsnnthe multimedia engine avp on tegra socs programs several dma channelsnitself for direct  control preallocate these channels from thensystem dma driver and ignore interrupts from themnnalso make sure that the shared dma channel is marked as allocatednto prevent it from also being allocated as a  exclusive dmanchannelnid  gary k
6619,arm tegra dma set dma burst for slink based on transfer sizennset the dma burst size for slink based on transfer size if transfernsize is multiple of  bytes then set burst size as  word otherwise  wordnfor other dma requestor the dma burst size is  wordnid  gary k
6620,dspbridge fix build error from previous dspbridge commitnid  nick pelli
6621,arm tegra remove cascaded apb dma interruptsnntegra  routes apb dma interrupts directly to the interrupt controllernso there is no need for the secondlevel decoding routinesnid  gary k
6622,arm tegra pinmux enable count tristate controlsnnpin groups may be shared between a device driver in special functionnmode and one or more gpios by keeping track of the number ofncalls to configure the pin group into normal mode pins can safelynbe returned to tristate after all users have cancelled themselvesnby placing the pin group into tristatenid  gary k
6623,makefile fix to make use of neon build supportnnuses archarm rather than targetarch to select neon featuresnat build on a percapability rather than perarchn
6624,use complete hardware name without spacesnnmany targets use generic first portions lik
6625,usb android setting android gadget as tristatennpreviously android gadget was a boolean option of thenusbgadget menu this was not allowing to compile thenandroid gadget as module by using the menuconfig bynsetting the tristate option the android gadget willnnow appear in the menuconfig with the option to buildnit as modulennnedoffby leed aguilar
6626,arm tegra implement gpiorequest and gpiofreennensure that the pad group containing a requested gpio is not in tristatenbefore clients use itnid  gary k
6627,arm tegra add power management support to gpio drivernnpropagate the irqwakeup flag from the cascaded gpio irq to the primarynirqnid  gary k
6628,revert dspbridge fix build error from previous dspbridge commitnnthis reverts commit  dspbridge add mutex for accessing process context struct during ioctlsnnthis reverts commit   nick pelli
6629,arm tegra dma allow threshold callback to be nullnnsome continuous dma devices will rely on the  interrupt rathernthan the dma callback to detect halfbuffer completion allow nullnthreshold callbacks to support this casenid  gary k
6630,increment cts version to
6631,fixed typing mistake causing process crashesn
6632,remove obsolete ota toolsnnresolv
6633,commited the wrong patch before ive added back cleanup on closing svox memory cachenid
6634,corrected classpathnnremoved alarmclock app due  not needed any more and causes errors with deskclocknremoved not existing google folders in out dirncorrected path for frameworksexnid
6635,revert arm defconfig sholes enable a number of internal kernel debugging optionsnnthis made the boot partition size too close to the limitnnthis reverts commit  mike lockwood
6636,removed alarmclock from manifest since it is replaced by deskclockn
6637,revert arm defconfig sholes enable a number of internal kernel debugging optionsnnthis reverts commit  image is too large for flashn
6638,renamingnid
6639,fixed a documentation bug issu
6640,commentary getting rid of bad about image and some cleanupnid
6641,fix for issue  database operation can fail when target is an uri to a contentnprovider that is not the default media providernnin this case item is null and cannot be assigned an idnid
6642,arm defconfig sholes enable a number of internal kernel debugging optionsnnenables the followingn hung task panic bootparamhungtaskpanicn preempt debugging debugpreemptn rt mutex list debugging debugrtmutexes debugpilistn memory debugging debugmemoryinitn scatterlist debugging debugsgn notifier debugging debugnotifiersn frame pointers framepointern rcu stall detector rcucpustalldetectornnnedoffby san mehat
6643,add support for symbolic links for product foldersnnfix
6644,replaced deprecated setbutton methodcallsnid
6645,removed unused result varaiblenid
6646,spi tegra upstream code review  changesn from russell kingn put requestmemregion back intn from grant likelyn remove undef debugn add slink to register bit definesn remove unused bytesperwordn make spitegrareadlwritel static lininen various refactoring for clarityn mark err if bsy bit is not cleared after  retriesn move spinlock to protect setting of rdy bitn subsyscall  modulenid  erik gil
6647,replaced deprecated notification constructornid
6648,bug fixes and reducing timeoutnid
6649,fix the ddmlibddmuilib links making scriptnid
6650,use the  branch to download toolchain sources by defaultnnthe  branch cannot be built with the current version of buildtoolchainshnmore precisely gdbserver link fails without a patch that is in master but not eclairnid
6651,fix eclair simeng buildnid
6652,reduced warnings by adding type arguments and removing unused importsnid
6653,fixing counting the number of days in call log screennncounting the number of days in call log screen when ancall was madereceived within a week is not correctnnissue  call log reporting wrongnid  david sobreira marqu
6654,display message when operation fails since fdn is enablednnthe terminal disallows supplementary services for numbers which are not in thenfixed dialing number fdn list when fdn service is enabled fdncheckfailurenerror is sent by ril when this happens display a message to inform the usernid
6655,linker fix the undefined weak symbols  not sure if this is a correct fix or notnalso need to find out why  does not have this issuenid
6656,scheduler cpuacct enable platform hooks to track cpuusage for cpu frequenciesnnintroduce new platform callback hooks for cpuacct for tracking cpu frequenciesnnnot all platforms architectures have a set cpufreqtable definednfor cpu transition speeds in order to track time spent in at variousncpu frequencies we enable platform callbacks from cpuacct for this accountingnnarchitectures that support overclock boosting or  have predefinednfrequency tables can implement their own bucketing system that makes sensengiven their cpufreq scaling abilitiesnnnew filencpuacctcpufreq reports the cpu time in nanoseconds spent at each cpunfrequencynid  mike chan
6657,replaced deprecated calls to setbutton and
6658,display message when operation fails since fdn being enablednnthe terminal disallows sms operations for numbers which are not in the fixedndialing number fdn list when the fdn service is enabled fdncheckfailurenerror is sent from by ril when this happens display a message to the usernid
6659,fix permissions source files  be executablenid
6660,scheduler cpuacct enable platform callbacks for cpuacct power trackingnnplatform must register cpu power function that return power innmilliwatt secondsnid  mike chan
6661,making the profiling box slightly transparentnid
6662,sdhci add quirk for max len adma descriptorsnnsome controllers misparse segment length  as being  not  add a quirknto deal with itnnnedoffby olof johansson
6663,fix a memory corruption bug that can happen if a qemud service decides tonclose the connection during a clierecv callnid
6664,revert arm defconfig sholes enable latencytopnnthis reverts commit  the kernel too large for sholesn
6665,sdhci revert sdhci quirks introduced with sdhcitegrannsince we need to add them one by one for upstreamnnalso change carddetect to just schedule the taskletnnnedoffby olof johansson
6666,use reflection to get features for report headernnbug  the list of features to check by using reflection over thenpackagemanager constants these constants are guaranteed to benthere due to the naturetest that checks the api signature onnthe device its possible that the actual value of the constantsncould be different but that is up to the operator to inspectnall values that appear in the reportnid
6667,sound oss  add full duplex operation for mono inputoutput devicennthis changes permits simultaneous playback and record using the mono device on  andnin particular use of bluetooth device for voice dialer of voice recognitionnnnedoffby eric laur
6668,scheduler cpuacct enable platform callbacks for cpuacct power trackingnnplatform must register cpu power function that return power innmilliwatt secondsnid  mike chan
6669,avoid nullpointerexception in browserframennavoid nullpointerexception in browserframe innmethod createwindow getwebviewcore can returnnnull if webview has been destroyed crash foundnin live environmentnid
6670,support to display message when operation is blocked due to fdn being enablednnthe terminal disallows ussd sms voice call and supplementary servicesnoperations for numbers not in the fixed dialing number fdn list when thenfdn service is enabled fdncheckfailure error is sent from the ril and thenmessage needs to be displayed to indicate the failurenid
6671,scheduler cpuacct enable platform hooks to track cpuusage for cpu frequenciesnnintroduce new platform callback hooks for cpuacct for tracking cpu frequenciesnnnot all platforms architectures have a set cpufreqtable definednfor cpu transition speeds in order to track time spent in at variousncpu frequencies we enable platform callbacks from cpuacct for this accountingnnarchitectures that support overclock boosting or  have predefinednfrequency tables can implement their own bucketing system that makes sensengiven their cpufreq scaling abilitiesnnnew filencpuacctcpufreq reports the cpu time in nanoseconds spent at each cpunfrequencynid  mike chan
6672,adt make  the defaultnnexport  to something   to forc
6673,corrected thread problem causing some calls to hang for  the connection lock is released for a short while inndbusconnectionacquireiopath there can already be a method returnnreceived by another thread the fix is to do an extra check after thenio path has been aquired bothnid
6674,remove unused variablennfix
6675,make audiotrack work with writes and improve performance at end of trackn
6676,shutdown when capacity is  and no charging or when battery is deadnnandroid framework does not shutdown when battery capacity is  and ancharger is attached usb or ac this handling is incomplete since ancharger might very well be attached but charging has stopped becausenusb suspended or the charging algorithm has stopped because ofnbattery safety handling also shutdown when battery is reported  might happen although charging is presentnid
6677,usb composite add support for functions overriding usbdtstring descriptorsnnneeded for mtp supportnnnedoffby mike lockwood
6678,sdhci tegra quirk reworknnfor a few local quirks hook into the register readwrite functions instead ofnintroducing global quirk defines that all drivers have to deal withnntodon write protect detection is not yet wired up never wasn forcehs quirk was not brought forward since what happens ifn a nonhscapable device is used on the forcehs interface withoutn the quirk the card will be ignored sounds like the right thing to donntodo once this is based on  instead of   data support this has changed in upstream post  so needsn changes anyway will be handled after rebasemergen nohispdbit changes can be done as quirk once rebased on upstream sincen samsung added support for itnnnedoffby olof johansson
6679,sched cpuacct track cpuusage per cpu frequencynnnew file cpuacctcpufreq when configcpufreqstats is enablednncpuacctcpufreq accounts for cpu time percpu frequency time is exportednin nanosecondsnnwe do not know the cpufreq table size at compile timenso a new config option configcpuacctcpufreqtablemax is intruducednto determine the cpufreq table percpu in the cpuacct structnid  mike chan
6680,usb gadget composite add userspace notifications for usb state changesnnadd switch to notify current usb configuration this can be used to detectnusb connect and disconnect eventsnnbroadcast a change via the usbcomposite class when a usb function isnenabled or disablednnrename usbfunctionhidden to usbfunctiondisablednnnedoffby mike lockwood
6681,sdhci  finish commands in  schedule the finishtasklet unless the command complete bit isnset in the interrupt status registernnnedoffby olof johansson
6682,usb gadget fmassstorage integrate android customizationsnnintegrate support for android composite driver and platform datanwithin configusbandroidmassstoragennnedoffby mike lockwood
6683,sdhci add quirk for broken sdio irqnnnedoffby olof johansson
6684,move from ant  to ant  is the requirements for the custom tasksnid
6685,arm configs mahimahidefconfig enable kmemleak slab and list debuggingnnnedoffby san mehat
6686,usb gadget fmtp usb gadget function driver for mtp and ptp device supportnnnedoffby mike lockwood
6687,fixing testnid
6688,add ringeron  ringeroff keycodesndevices with ringer switch depends on this public apin
6689,change stringtokenizer to textutilsstringsplitternnreplacing stringtokenizer to textutilsstringsplitternsince textutilsstringsplitter is more suitable for basic splitting tasksnalso increased ial values for hashmap and stringbuilders to avoidnunnecessary buffer enlargement operations this improves the performancenof these operationsnid
6690,msm sirc fix out of bounds errornnthe irqhandler function may exceed sircregtable while checking fornthe correct cascaded interrupt causing out of bound accessesnnreturn after printing an error if this happensnnnedoffby abhijeet dharmapurikar
6691,fix sensorrelated snapshot resume failurenna snapshot saved with the tools  emulator  be restored properlynbecause we added another sensor proximity in tools  provide code tondeal with this case properly and avoid a nasty crashnid
6692,video tegra dc ialize sync point id to invalidnncurrently it is set to  due to kzalloc of struct tegradcnhowever  is a valid sync point so just ialize it to invalidnvalue  and let tegradc set it to correct valuenaccording to  instancenid  mayuresh kulkarni
6693,making it possible to style settings using overlaynntoday it is not possible to style settings in a good way using thenoverlay mechanism the reason for this is that settings is missingnan application theme that can be overriddennnthe solution is to add both a default application theme as well asnlocal styles for the themes used by specific settings activitiesnso that they can be overridden using overlaynid
6694,unit test fixesnnfirst the  was failing on thenmac because the source code contained nonascii unicode charactersnand the encoding differs between windows linux and mac and on thenmac the characters were garbage not the intended japanesencharacters fixed by using unicode escape sequences to define thenexpected output insteadnnsecond rename the abstractlayouttest to layouttestbase the testnrunner for plugins not unit tests was assuming this was a test caseneven though  an abstract class so it was emitting a warningnabout the class containing no test cases this is simply a base classnfor all the individual layout tests defining a bunch of usefulninherited shared behavior so rename to avoid the warningnid
6695,extract layout constants into a separate constants classnncombine the constants in baseview and a layoutconstants class over innthe internal packages into a new layoutconstants class and referencenthese constants elsewhere statically imported this was suggested bynin the feedback to review
6696,fix  sdk buildnnwe activated the sdkrepo build option which means to generatenthe repository xml we need some mintoolsrev info defined in thentools source propsnnmerged from old change id
6697,arm pandadefconfig enable usb mass storagennnedoffby iliyan malchev
6698,arm  panda add usb mass storagennnedoffby iliyan malchev
6699,update buildversiontest for
6700,libcamera record gps coordinates with greater precisionnnrecord latitude and longitude to  decimal places  cm and altitudento  cm the previous behaviour was to record latlong to   m which was rounded down so the potential error was up to  mnnaddresses aosp issu
6701,usb gadget fmtp add support for queueing multiple interrupt requestsnnfixes problem sending store added events when there are multiple storesnnnedoffby mike lockwood
6702,make the sdklibsdkuilib tests built by the build systemnid
6703,look for the pcbios files in the sdk toolslibpcbios directorynid  bruce bear
6704,added more proprietary librariesnnwifi and the led lights of the htc dream should work whennextra libraries are extracted from the htc dream and addednto the system imagennthese changes are based on can be seen as an addition to th
6705,removed the extracting of the wlanko module from extractfilesshnnthere is a prebuilt wlanko inside the dreamopen project availablenalso the source code is available to build the wlanko so extractingnthis file is not neededn
6706,removed the extracting of the wlanko module from extractfilesshnnthere is a prebuilt wlanko inside the dreamopen project availablenalso the source code is available to build the wlanko so extractingnthis file is not neededn
6707,input  add sensitivity adjust optionnnnedoffby arve hjønnevåg
6708,input allow certain evabs events to bypass all filteringnnwith the upcoming multitouch interface as an example there isna need to make certain that all reported events actually get passednto the event handler this patch equips the input core with thenability to bypass all filtering for certain evabs eventsnnnedoffby henrik rydberg  dmitry torokhov
6709,input  send new multi touch eventsnnsend both fingers using the new multitouch protocol in addition tonthe old single finger event and second finger abshat hacknnthe new protocol does not specify how to report up events to makensure the userspace frameworks can generate up events we send atnleast one event where absmttouchmajor is zero before we stopnsending events for a fingernnnedoffby arve hjønnevåg
6710,speed up the cache thumbnail generationnncommentnthe cache  are generated during the first entrynto the gallery so there was a slowness in grid view for the firstntimenthis patch will trigger the cache thumbnails generation after thenmedia scanner finish its scanning of filesnso the user will the see thumbnails faster even for the first timenentry to gallerynnthis patch also change the timestamp used for the cache thumbnailsnfrom dateadded to datemodified this is needed because duringnthumbnail loading it checks for the datemodified timestamp inndiskcacheget functionnthis will avoid the unnecessary cache thumbnail regenerationnid  solaiyappan saravanan
6711,usb host tegra reduce busy polling durationnid  jay cheng
6712,input add detailed multitouch finger data report protocolnnin order to utilize the full power of the new multitouch devices anway to report detailed finger data to user space is needed this patchnadds a multitouch mt protocol which allows drivers to report detailsnfor an arbitrary number of fingersnnthe driver sends a synmtreport event via the inputmtsync functionnwhen a complete finger has been reportednnin order to stay compatible with existing applications the datanreported in a finger packet must not be recognized as singletouchnevents in addition all finger data must bypass input filteringnsince subsequent events of the same type refer to different fingersnna set of absmt events with the desired properties are defined thenevents are divided into categories to allow for partial implementationnthe minimum set consists of absmttouchmajor absmtpositionx andnabsmtpositiony which allows for multiple fingers to be trackednif the device supports it the absmtwidthmajor may be used to providenthe size of the approaching finger anisotropy and direction may benspecified with absmttouchminor absmtwidthminor andnabsmtorientation devices with more granular information may specifyngeneral shapes as blobs ie as a sequence of rectangular shapesngrouped together by a absmtblobid finally the absmttooltypenmay be used to specify whether the touching tool is a finger or a pennnnedoffby henrik rydberg  dmitry torokhov
6713,merge branch  into defaultn
6714,emulator opengl utrenderer events redirectionnnthis implements event redirection in the utrenderer programnwhat this does is redirect mouse clicks and a few key presses tonthe  console through  that only a few key events are supported see nativewindowinghnsince supporting everything is much more work and not needed at thisnpointnnthe socketshc and iolooperhc source files were originallynwritten for the emulator and are here relicensed under apache  wrote  of them so no issue herennthis is only for demo purposes only tested on linuxnid
6715,move  from adt to sdklibutilsnid
6716,arm tegra clock fix cpu pll table entry for   mhz table entry would incorrectly produce a  mhznclock for input clocks of  mhz  mhz or  mhznid  colin cross
6717,panda change machine name to  library names and board specific xxxrc name is derivednfrom machinestart first namennmake it  so that  becomes the board rc filensimilarly all libraries like sgx will be named  may need flexibility to have different names for libraries and rc filesnfor  silicon version families  vikram pandita
6718,to support  function of andorid on cdma network some changes should be made as  all  items and rebuild linux  enable  to support  function and make the below two changethen rebuild pppdn  externalppppppdandroidmkn insert   into localsrcfilesn insert  into localcflagsn  externalppppppdsyslinuxcn between ifdef  and ifndef  line  insert include  insert include  pppdriloptions under systemetcppppeersn under the line of ctnetmycdmacnn add a  n noteafter  there is a blank then a comma and another  at command  to set modem as relay  verified osandroid   or  verified modem chipset qualcomm  david dong
6719,change test string without a space characternnthe test string should not include any space character in case ofna numeric keyboard because the key which represents a spacencharacter is different for each countriesnid
6720,replace handwritten mocking classes with easymock callsnnthis changeset removes the various handwritten mock implementationsnof key eclipse interfaces iproject ifile ifolder etc and replacesnthem with easymock proxy objectsnnthis makes our codebase buildable on eclipse  fix a couple of test warnings for abstract testcase classesnwhich were missing testsnid
6721,arm tegra rearrange subsystem ialization ordernnfuses must be ialized before clocks so clocks canndetermine the maximum cpu frequency clocks must benialized before dma so dma can enable the clocknonce dma is ialized all fuses accesses must gonthrough dma to avoid a hardware bugnid  colin cross
6722,command line support for dns ipaddr and portnnandroid emulator already has dnsserver parameter in this cl i havenadded support for providing dns port along with the dns ip also thendefault port is now  as opposed to the old nonconfigurable  one example of this modification isnndnsserv
6723,return error code on partial masterxfer transfernnit is unclear what the correct return value is whennmasterxfer gets an error part way through a set ofnmessages but other drivers seem to return the errorncode of the individual failed message instead ofnthe number of successful messages convert the  driver to do the samenid  colin cross
6724,usb host tegra protect bus suspend with configpmnnprotect the bus suspendresume functions behind ifdef configpmnthis prevents a compile error if configpm is turned offnnnedoffby allen martin  colin cross
6725,add keycoderingeron  keycoderingeroff to the public apin
6726,msm kgsl fix a potential subtraction overflow issuenncrsfixed   wei z
6727,bump version number to
6728,arm smptwd use cpufreq notifiers to update prescalersnid  colin cross
6729,default implementation for ringeron ringeroffn
6730,move ninepatch tests from layoutlib to sdk where ninepatch livesnid
6731,arm tegra cpufreq remove direct calls to localtimernnthe localtimer code will use a cpufreq notifier to updatenthe prescalersnid  colin cross
6732,arm tegra fuse fix warningsnid  colin cross
6733,fixing audionid  xiaohui xin  jun nakajima
6734,arm tegra fuse remove carriage returns in fuse filesnid  colin cross
6735,arm tegra dma add dma ialzation stub when compiled outnid  colin cross
6736,arm tegra fuse separate fuse dma ializationnnthere is a dependency loop between fuses clocks and apbdmanif dma is enabled fuse reads must go through apbdma to avoidncorruption due to a hw bug apbdma requires a clock to benenabled clocks must read a fuse to determine allowable cpunfrequenciesnnseparate out the fuse dma ialization and allow the fusenread and write functions to be called without using dma beforenthe dma ialization has been completed access to the fusesnbefore apbdma is ialized  hit the hardware bug becausennothing else can be using dmanid  colin cross
6737,use the proper value for halvariantkeyscountnnthis allows the default variant to be taken into accountnnfix
6738,fix obb tests to stop caring about implementationnnthe obb tests were using the obb api in a way that the  recommend instead of assuming that we already have thencanonical path to an obb get the canonical path that is returned in thenobserver insteadnnbug
6739,implementation for ringeron  ringeroff keys with a default behaviourn
6740,checking hardware feature when test rear camerannto support the device which do not have rear cameranid
6741,upstream audio subsystem improvementsnnthis patch updates the audio subsystem to match the onenin upstream note that this gets rid of the ability tonspecify different audio backends for input and outputnwhich was never really usednna future patch will remove the audioin and audiooutnoptions and related codenid
6742,use static const variable for speed clarify a commentnnfix
6743,binary xml editornnthis change contains the workaround  detailsnse
6744,androidconfiguresh use  toolchain if presentnnthis makes androidconfiguresh probe for our custom  if found it will be used unless you have definedncc in your environment use  or
6745,the display density between different screens cause the cases ratingbartesttestonmeasure and webviewtesttestfindnext fail so this patch corrected the effect of densitynid
6746,add ringeron  ringeroff keycodesn
6747,add worker threads to dnsproxylistenernnimprove dnsproxy performance by adding anworker threads that always runsnndnsproxyworkerpool holds a queue of dnsproxyjobsnand a number of worker threads the getaddrinfonand gethostbyaddr request are added as dnsproxyjobsnto the queue the worker threads are reading from thenthe queue and execute the request associated with thenjobnnmax number of worker threads is  the patch it takes approx  ms to executeninetaddressgetbynamewwwgooglecom without thenpatch it takes approx  ms with the java dnsncache disablednid
6748,add source code to test if the data sms sent on port can be received correctlynnadd a receiver on port  to get the data sms and verify if the content can be decode correcltynnnedoffby gzhhong  teststeststelephonysrcandroidtelephonyctssmsmanagertestjavanid
6749,new xml wizard  make the linearlayout default width and height values benmatchparent for android  and up fillparent for older thisnfixes issue  adt creates layout resources with fillparentninstead of  give the name field ial focus rather than the project fieldnsince you usually  want to edit the project field and more thannonce  accidentally edited the project name   require the user to manually type xml as a suffix  required anyway if you type foo it will create fooxml youncan however type fooxml and you cannot type any other extensionsnid
6750,keycodes for ringer on offn
6751,i think mobile phone number more popular than home number set mobile number as defaultnid
6752,adding the format type of  for sd cardnnenable  and  formatting of sd cards smaller than  gbnwithout this change all formatting of sd cards are done with  whichnnot is suitable for all cards according to the specification of sd and itnleads to that the sd cards may not be readable from pc or other devicesnif formatted on the phonenid
6753,fix a crash when there is no command action in some triggernid  weichuan yan
6754,adding the format type of  for sd cardnnadding partition type defines for   and part of
6755,console fix   handlingnnthis patch fixes two bugs in the implementation of the   it prevents a crash when using the  event triplen note that the equivalent  used in testing   if fixes the parser to correctly handle several event triples onn the same line as innn event send   nid
6756,minor method rename in sdkmanager uinid
6757,add keycoderingeron  keycoderingeroff to the public apin
6758,update documents for omx testn
6759,added more proprietary librariesnnled lights of the htc dream should work whennextra libraries are extracted from the htcndream and added to the system imagenncompare to patch  the wlanko modulenis not extracted because this one is part of thensource tree or can be build by coden
6760,remove camera mio hacksn
6761,set targetcpuabin
6762,arm tegra suspend protect suspend functions with configpmnnprotect suspendresume functions behind ifdef configpm thisnprevents a compile error with configpm turned offnnnedoffby allen martin  colin cross
6763,arm tegra irq protect irq suspend with configpmnnprotect irq suspendresume functions behind ifdef configpmnthis prevents a link error if configpm is turned offnnnedoffby allen martin  colin cross
6764,merge branch  into defaultn
6765,keycode addnid
6766,use proper type for oob variable in registeragentnwithout this change the bluetootheventloop crashes on my  arch boardnid
6767,keycode addnid
6768,fix emulator audionnaudio support was compiled in but never ialized becausenthe hardware function is in a different module and requirednhasaudio to be defined toonid
6769,fix avd name bugnnthe    command returned unknown incorrectlynthis was due to a missing option when invoking the core even innthe standalone casennfixes bug   this is a port of the  quick fix atn
6770,the test branches to alphabetic or numeric onennin case of using  keyboard it cannot enter alphabet key directlynso the shortcut key test branches to alphabetic or numeric onenaccording to keyboard typennthis is a new patch instead of
6771,fixed bug in android ppp logging now using  vslprintf instead of vsnprintf which  support all specifiers used by pppd like i pn
6772,fix avd name bugnnthe    command returned unknown incorrectlynthis was due to a missing option when invoking the core even innthe standalone casennfixes bug   this is similar to the  quick fix atn  only simplern
6773,fix avd name bugnnthe    command returned unknown incorrectlynthis was due to a missing option when invoking the core even innthe standalone casennfixes bug   this is similar to the  quick fix atn  only simplern
6774,add missing cleanup of idmap file descriptorsnid
6775,tweak resource name validator move code aroundnnincorporate some feedback  uppercase chars in filebased resource namesnid
6776,build arm and  binaries at the same timennthis patch modifies the way we build the  various programsnit reduces the number of static libraries generated and better segregatesnbetween common ui qemu and targetspecific codennnote that we build both the arm and  binaries at the same time in allnbuild scenarios for now this is done to catch build regressions as soon asnpossiblenid
6777,add default implementations for ringeron ringeroff keysn
6778,gpslocationprovider clean up hal ializationcleanup sequencenid  mike lockwood
6779,add comments for the  string creation patchn
6780,egl make context drop its surface references on destructionnnmake context drop its surface references on destruction to avoid surfacenleaksnid  christian bejram
6781,remove androidmainuicnnthe differences between androidmainc and androidmainuic are nownminimal so remove the latter source file by moving the correspondingncode into androidmaincommoncnnalso add a snapshotnotimeupdate core option to implement thenemulatorui nosnapshotupdatetime option  probably going tonclean this up a little in the future but this is enough for nownid
6782,android crash after turning off wlan immediately after turn onnnnull pointer exceptions appear when turning wlan on and off rapidlynid  christian bejram
6783,remove targetspecific hardcoded macronnthis removes the hardcoding of the prebuilt architecture path innandroidavdinfoc in order to build a single version of this sourcenthat can work with any supported architecturesnnnote the target architeture is only useful in the case of then android build system we check the target arch by parsingn $androidproductoutsystembuildprop and look for a linen that looks likenn
6784,bt wrong publishing result of bonding error codennduring bonding bluez stack publish the error code over dbusnjni gets the error in this er casenorgbluezerrorauthenticationfailed authentication failednand then wrong call to overloaded setbondstate is made onncallstack using default result code parameter as  bondsuccessnid  christian bejram
6785,minor cleanups for coreui makefile separationnnthis patch contains minor cleanups that will be needed byna few future patches that will improve the way core and uinsources are separated and builtnn remove a few compiler warningsn formattingn remove the memcheck configmemcheck checks they later get in the wayn refine hwhwh  of cpuh this comes from upstreamn add missing defions for  and  used latern remove configshaper test replace with configandroid insteadn add missing strdup callsnid
6786,bug fixes in oma drm  forward lock agentnna couple of fixes in the forward lock agentnthe drm framework  thread safe so the forward lock agent needsnto protect the private  content with lfonly instead of crlf line breaks is nownacceptedna fix for nonstandard boundary charactersnthe debug prints are also turned off as defaultnid
6787,softap wrong state variable in setwifiapenabledstatennsetwifiapenabledstate has not been unloading thendriver when called with wifiapstatefailed andndriveractionnodriverunload statesnstate variable name correctednid  christian bejram
6788,overlayh added  added  anu sundararajan
6789,arm   enable basic pm in  cpuidle ret off and suspendresume also include pm debugging and debugfs supportnnnote that without  and  mmc will prevent core from hitting ret or offnnlikewise nand writes will fail after the first off transition but ret is ok  also breaks if off mode is enabled but ret is also ok herennnedoffby mike turquette  rebecca schultz zavin
6790,fix documentation example per issue  on androidgooglecodecomn
6791,fix broken link in docstring issu
6792,add an  and a to the bioniclibc readmen
6793,fix grammar in unknown sources dialog issu
6794,add keycodes for ringer onoff and expose it to the public apin
6795,clear localarmmode and localldlibs too when doing include $clearvarsnnthis fixes issu
6796,clear notify flags when isp is runningnnthis patch allows for the locking for future stats to happennas the notify flag is used for protecting the case in whichna locking is waiting forever when the interrupts are disablednnnedoffby sergio aguirre  dominic curran
6797,restart framecount on reallocation when configuringnnthis is based on a proposal from mms for resetting the framecountnproperlynnnedoffby sergio aguirre  dominic curran
6798,correct coefficient gain order for rggbnnthis is necessary for making gains be applied correctly as we arensending a rggb image to preview all the time nownnnedoffby sergio aguirre  dominic curran
6799,preview make full range available for contrast and brightnessnnthis patch is needed for the application makes use of a more granularnsetting of these valuesnnnedoffby sergio aguirre  dominic curran
6800,fail on netlink socket closingnnif the process listening on the netlink socket closesnthe listener socket  consider that a security holenid
6801,arm tegra  restore dynamic clock gating on resumenntegra  code needs to restore  dynamic clock gating uponnresume from a power eventnnas of  the  is  from scratch upon resumenand this patch can be droppednid  todd poynor
6802,fail on netlink socket closingnnif the process listening on the netlink socket closesnthe listener socket  consider that a security holenid
6803,remove some non needed assertsnid
6804,java implementation of the layoutopt rulesnnthis commit includes the following modifications  implementation of the groovy rules in java and removed the groovy  moved layoutoptlibs in the new layoutoptlib library  modified the original layoutopt to use this new  modified layouteditor in adt to run the layoutopt analysis when opening ornsaving a layout xml filenid
6805,arm etm power down etms when tracing is not enablednnwithout this change a saw an  increase in idle power consumptionnon one deivce when trace support is compiled into the kernel nowni see the same increase only when tracingnid  arve hjønnevåg
6806,fix  some emulator files moved to developmentgitnnoriginal msgnnprepare for moving platformspecific emulator modules to developmentgitnnwe need to move the platformspecific modules to developmentgit tonavoid some clashes this patch uses a guard make variable to ensure thatneach module is only built oncennthe plan is to simply copy these modules to developmentgit then removenthe current ones from sdkgit the guard variable is here to ensure thatnthe transition happens smoothly ie if a build contains modules innboth directories only one of them will be builtnncherry picked from commit
6807,the test branches to alphabetic or numeric onennhe test branches to alphabetic or numeric onennin case of using  keyboard it cannot enter alphabet key directlynso the shortcut key test branches to alphabetic or numeric onenaccording to keyboard typennthis is a new patch instead of
6808,test for downloadmanager compliancennadds a test to enforce cdd section  that says thendownloadmanager must be able to download individualnfiles of  the ctstestserver to generate files of any sizenin response to the download queries the test downloadsna file of  and checks that the file size is correctnboth in the database and by the parcel file descriptornreturned from downloadmanagernid
6809,let the fillgap be protected so the listgrid views can be extendedn
6810,a simple fix on a javadoc comment the main purpose of this commit isnfor me to get to know git and repo and how to contribute to the androidnprojectn
6811,fix compilation of  on os x  is a backport of the fix  fixed upstreamnsince gcc
6812,prototype runtime resource overlay iteration   of runtime resource overlay adds the  the concept of skins ie overlay packages which may ben enableddisabled in  support for multiple overlayskin packages to be loadedn simultaneouslynnthis implementation is a proofofconcept prototype intended as basisnfor further discussions the code is intentionally left unpolished andnexplores the following design  locating skin packages is done in assetmanager this design keepsn skin handling nicely confined to the native layers on the othern hand since each assetmanager only has knowledge about the currentn  application package extra work must be done to locaten appropriate skins to load along with original apk by shifting partn of the skin responsibility to the packagemanager with its globaln knowledge of all installed packages this could be  skins may target the system resources frameworkresapk orn application apks any number of overlay packages may be loaded pern process but at most one system skin globally and one applicationn skin per application may be enabled at a time this implementationn loads all available skins per application even if only one isn enabled which allows skins to be switched easily analogue to egn language or orientation changes however disabledlatent skinsn waste memory by instead only loading the actually enabled skinn package no memory is wasted and very little code in resourcetypesn and assetmanager would have to be modified the drawback is thatn processes must be killed and restarted with a new set of packagesn when switching skins this should be of no concern for applicationsn given the activity life cycle but may lead to bad user experiencen when changing the system  the set of currently enabled skins has been added to then configuration java class this allows changes to the set of enabledn skins to propagate using the existing flow for other changes ton configuration it also somewhat breaks the design of configurationn previously all information in configuration was applicable to alln applications but enabled skin information is unique per applicationn the current design also requires knowledge about package names ben added to configuration if packagemanager is responsible for loadingn only the enabled skin packages implying a process reboot strategyn the changes to configuration could be replaced with a dedicated calln to activitymanager which would force a process  idmap files are created by user zygote which seem to have droppedn its privileged file access rights ending up with files createdn by user nobody in a future iteration where skin packages may ben installed by the end user any appxxx user may be required to createn idmap files this leads to a worldwriteable dataresourcecachen if the packagemanager were responsible for loading skin packages itn could also ensure idmap files are uptodate prior to applicationn execution which would allow write permission to dataresourcecachen be limited to user  skin and overlay packages are regular packages the only differencen is the inclusion of a  or  tag in androidmanifestxmln this renders the aapt o flag introduced in commit   this commit performs no  for security reasons only skin packages in system are considerednid
6813,fix a typonid
6814,fixes in uselesslayoutrulennthe following condition      always truennthe condition the parent is not a  was not implementednid
6815,adding delayedcheck in testhaswindowfocusnnafter executing findviewbyid there are some cases where test case is failed since flags that are set asynchronously are checked only once immediately after that eventnnto avoid this i changed the code to monitor the change of flagnid
6816,vfscanf add support for l type modifier for long  man page suggests support for ld and iouxnimplement this so that  party code will work correctlynid
6817,adding delayedcheck in testinputconnectionnnafter executing requestfocus there are some cases where test case is failed since showsoftinput is called before edittext gets focusnnto avoid this i changed the code to add wait until edittext has focusnid
6818,absseekbar slightly optimized by removing a redundant snippet of coden
6819,fix launchers for sdk tools using swtmenubarnid
6820,added viewinvalidate in testcomputescrollnnthis test examines the value of flag set in computescroll is true or notnthe process of computescroll is done asynchronously form different process when scroll information needs to be updated after requestlayoutnnhowever computescroll is only called when scroll information needs updatednif it does not require updated information this test failsnnto avoid this i called viewinvalidate to modify to redraw the viewnid
6821,emulator opengl utrenderer usability improvementsnnthis patch provides two useful changes to the utrenderernunittest  the ability to control the gl window dimensions withn two env variables androidwindowwidth and  the ability to saverestore the gl window position betweenn gl connectionsnnboth are useful to use utrenderer in a demo setting nothing morenid
6822,add minplatformtoolsrev to the tools sourcepropertiesnnwe need that info to generate the repositoryxml since  mandatory attribute in the xsdnid
6823,arm  mux set gpio  to pulldisable instead of pullupn per julie regairaz julieregairazmotorolacomnnnedoffby jared suttles  rebecca schultz zavin
6824,arm  sdrc stop setting sdrcpowerpwdena on boot for  erratum  jared suttles  rebecca schultz zavin
6825,input  add support for panels with hasnorelativedata propertynnnedoffby arve hjønnevåg
6826,input  disableirq  disableirqnosyncnnalso remove duplicate swap macronnnedoffby arve hjønnevåg
6827,updated the sgrep tool so that is will treat makefiles mknand shell scripts sh as  filesn
6828,add hdmi driver to default  added default support in  for adding hdmi drivernnnedoffby srinivas pulukuru  subramani
6829,hdmi  added  hdmi  updated  bus registration with hdmi  enable  clk in  for hdmi audionnnedoffby srinivas pulukuru  kiran chitriki  subramani
6830,allow multiple opensnnthis patch reverts the limitation of allowing one open at a timennthe lock was added as an intent to avoid weird behaviour while havingnmultiple isp users simultaneously because  no adequatenmulticontext handlingnncurrently the ispget function only allows one ref count on the isp modulenhowever applications may need to keep a handle to camera driver open  open a handle to the preview wrapper which indirectly calls ispgetnnnote this is not the cleanest way to fix this ultimately we intend to merge the preview wrapper into the camera driver so that it has a  interface however for now this is a quick fixnnnedoffby sergio aguirre  dominic curran
6831,lcdhdmi  added support for switching to hdmi  hdmi is added new  device like lcd and  hdmi display can be independentrly controlled though sysfs entriesnlike lcd or tv  uses  at  hdmi is added as a new   requires the following patchesn a  b  c  driver is also copies callback functions from dpicnnnedoffby subramani
6832,arm  mux add gpio  as input pulldown to pinmuxingnnnedoffby yu kang ku  jared suttles  rebecca schultz zavin
6833,usb gadget fix rndis code to pass usb compliance tests usbcv with gethernnthis patch fixes a bug in the rndis codendue to this bug getherconnect fails as the port remains unializednnas a result following usb compliance tests were  descriptor  endpoint  fix aligns rndis code with the cdc ecm for xxxsetaltnnthe above listed usb compliance test passes with this fixnntested working fine on sdp with omap  working fine on  with  maulik mankad  leed aguilar  rebecca schultz zavin
6834,merge improve custom view search and filteringnnthis change improves the code which identifies custom views in thenprojectnnit will now filter out a number of false matchesn classes that were only defined in a javadoc these are included inn eclipse type hierarchy search resultsn anonymous classesn classes that extend view but do not define one of the  base viewn constructorsn viewcontext contextn viewcontext context attributeset attrsn viewcontext context attributeset attrs int defstylen we can only instantiate custom views with one or more of thesen constructor signatures at designtimennit also fixes two additional bugsnn it changes the search flags passed to the search engine which makesn it now find custom views that are static innerclassesn it fixes a bug in handling view descriptors which made the customn view palette not work at all in some projects in some case then descriptor would be null which caused an npe which caused the wholen palette ialization to bail this is the bug which made me dign through the custom view code and discover the above problems toonncherry picked from commit
6835,merge misc fixesnnthis changeset fixes a couple of misc problems i ran  save the current file when double clicking on an included viewn when double clicking on an included view the included view isn opened in a show included context where the including file isn surrounding the include this will read the surrounding file fromn disk and if we  save the file when opening the file thenn  possible to see a stale view best case or it  work atn all if the include tag itself  in the saved version of then  fix a bug in the select same type context menu action where then list was cleared before reading out the item to be  filter out a few more properties from the extract stylen refactoring dialog and include margin attributesnncherry picked from commit
6836,merge add code completion support for drawables animations and colorsnnthis changeset adds in descriptor metadata and xml editors forn drawables resdrawablen animations resanimn animators resanimatorn colors rescolornnthese types have also been added to the new xml file wizardnnthere is some specialized completion support for animatorsn completing on the propertyname property of  willn offer the various integer and float properties in viewsn completion for the interpolator property shows the frameworkn interpolators immediately and on top instead of having to completen the individual resource paths android and anim firstnnthere is also a new quickfix and marker resolution for the aapt errornwhich complains about an unbound prefix this will insert  attributendeclaration on the root elementnnthis cl also includes a fix to make the new xml file wizard preselectnthe current project in more scenariosnnnote this changeset adds new xml editors for these resource typesnit does not attempt to update previous editor bindings for files ofnthe given type so to test this you may need to use open with in thenpackage explorer to pick the right file typenna subsequent cl will try to migrate settings over to these editorsnbut that work will tie into another effort merging all thesendifferent editors into a single editor class that does its own contentntype switching and different viewparts for the other tabsnncherry picked from commit
6837,merge update changestxt for adt  picked from commit
6838,fix androidsdkhome handlingnna previous patch introducing the emulator launcher programndid regress the way androidsdkhome is parsed fix that bynactually trusting bufprintconfigpath to always do the rightnthing nid
6839,merge sdkmanager handle missing platforms and addons foldersnna while ago when we were dealing with monolithics sdksnthe strategy was that we wanted to make sure thatnthe  command was invoked from a properly setupnsdk folder consequently the sdkmanager required at leastnthe platforms and addons folders to be present even ifnemptynni  think that behavior is really necessary anymorenthe  tool is invoked with knowledge from its toolsnfolder so we can safely assume the top parent is the sdknfolder and create these directories if they are missingnnwe do however try to create them as early as possible ifnthey are missing so that the tool aborts early if we  them the other alternative would be to just try toncreate them when  actually installing a packagenncherry picked from commit
6840,merge emulator qemud shutup debug messagesnnthis change is already under developmenttoolsemulatorsystemqemudqemudcnnhowever this sdkqemudc source file was first deleted then revertednwith the change in between so apply it here toonncherry picked from commit
6841,fix whitespace errornid
6842,merge remote branch  into manualmergennconflictsntteststestsdpisrcandroiddpictsconfigurationtestjavanid
6843,correct fix for snapshot saving speednnqemu is a weird animal the snapshot property speedsup snapshotnsaving but also redirect all stores to a temporary file which isndeleted when the emulator exitnnuse a different property to get the desired speedup note thatnusing writeback instead of unsafe forces the use of fdatasyncnwhich will still be horribly slownn argument checking in avd snapshot commands in the consolen trying to load a nameless snapshot actually crashes the emulatornid
6844,update licensenid
6845,serial omapserial fix compilation errornnthis patch fix the omap serial driver compilation break also remove a compilation warningnnnedoffby madhusudhan chikkature  rebecca schultz zavin
6846,enable fstackprotectornid  bruce bear
6847,update earliest abi verson of crtso to include stack protector supportnid  bruce bear
6848,demo of sending arguments to a testnnrelated to  of writing an argument to a file thisnimplementation sends arguments via the am command line andnthen setting the arguments via a system property tonbe used by a testnid
6849,hierarchyviewer can dump displaylists for selected nodesnnin hierarchyviewer and  displaylist for the selected node if there is one is outputninto logcat when the dump displaylist button is clickednid
6850,add ctsverifier iconsnid
6851,sf get state lock before reading transact flagsnnif the state lock is not held when reading the transaction flags therenis a chance that the state is changed between the reading of thentransaction flags and the acquiring of the state lock if that happensnthe transaction handler could miss state changes  the transaction handler reads the transaction flags onlyntraversal is  a layer is removed and the transaction flags are updated  the transaction handler acquires the state  the transaction handler does its stuff it will not notice thenremoved layer as its version of the transaction flags does not indicatenthat any layer has been  the transaction handler committs current to draw beyond this pointnthe transaction handler has no way of noticing the removed layer ienit missed itnnthis can probably lead to all kinds of problems but the only only oneninvestigated is the one described in the example above the result ofnthe transaction handler missing a layer removal is that the layernremains forever in the purgatory list which is bad as the layer stillnholds references to its buffersnid  christian bejram
6852,fix snapshotlist optionnnthis patch makes snapshotlist work properly more specificallynn if the avd has snapshotting enabled the emulator will find then appropriate file if you  use snapstoragenn if the avd has no snapshot support the emulator will printn a userfriendly message to explain thatnn if  in the android build the emulator indicates thatn snapstorage  is mandatorynnbug
6853,add emulatorarm to sdk including windows sdknnalso fixes the fact the windows sdk  building emulatorarmnnor  bug
6854,merge fix androidsdkhome handlingnna previous patch introducing the emulator launcher programndid regress the way androidsdkhome is parsed fix that bynactually trusting bufprintconfigpath to always do the rightnthing nn merged from original id
6855,fixed issue where when a package in a shareduserid was deleted it would remove overlapping permissions of packages with the same shareduseridnninstead of scanning grantedpermissions for a package which  exist with shareduserid it instead scans the requested permissions for a packagen
6856,usb musb fix usbgadgetdisconnectnnmusbgadgetpullup should call stopactivity when usb is disconnectednnnedoffby mike lockwood
6857,functional clock ration to pixel clock is  clock value is changed based considering ratio of functional clocknto pixel clock is  this change is done based on omap  authorsnwho explains that having pixel value ratio of   subramani
6858,updated tutorial to no longer use the deprecated mapviewgetzoomcontrols function also fixed a spelling errorn
6859,make sure sizet is defined before used in stringshnnotherwise including stringsh as the first file in a c file yields errorsnnthis fixes issu
6860,avoid compilation warningnnthis patch change  in  warning unused  subramani  rebecca schultz zavin
6861,usb gadget android add helper function for usbgadgetconnect and disconnectnnnedoffby mike lockwood
6862,clarify use of inputtype flagsnnsome developers were confused about how to use the inputtype fieldnand were omitting the class type when setting variationsnnthere are places in the framework where it specifically checks forna class and variation before it invokes the desired behaviornnfor instance in edittext when setting the input type to a visiblenpassword it specifically checks for this conditionninputtype  typeclasstext typetextvariationvisiblepasswordn
6863,supporting windows osnchanged all the relevant files to support windows mostly eglwindowsapicppnid
6864,added event injection to the emulator from utrenderer windowsnalso fixed utrenderer to have one display connection per threadnand destroy it when not needed instead of creating a new one forneach window and leak itnid
6865,displaying a filename to the titlebar when  tool is invoked with specifying the filenamenid
6866,simalliance open mobile api for secure element accessnnthe api included in this patch enables mobile applications to have accessnto different secure elements in a mobile such as sims or embedded sesnaccording to the simalliance open mobile api specification the simalliancenopen mobile api specification can be found at wwwsimallianceorgncurrently the nfc embedded secure element and advanced security sd cards arensupportednid  robert h
6867,simalliance open mobile api for secure element accessnnthe api included in this patch enables mobile applications to have accessnto different secure elements in a mobile such as sims or embedded sesnaccording to the simalliance open mobile api specification the simalliancenopen mobile api specification can be found at wwwsimallianceorgncurrently the nfc embedded secure element and advanced security sd cards arensupportednid  robert h
6868,simalliance open mobile api for secure element accessnnthe api included in this patch enables mobile applications to have accessnto different secure elements in a mobile such as sims or embedded sesnaccording to the simalliance open mobile api specification the simalliancenopen mobile api specification can be found at wwwsimallianceorgncurrently the nfc embedded secure element and advanced security sd cards arensupportednnthis change is part of a bunch of changes implementing the open mobile apinthis change makes sense only if the following changes are also   robert h
6869,enable fstackprotectornid  bruce bear
6870,fix snapshot save pathetic speednnit turns out that the  property must be turned on onnthe block device corresponding to the snapshot storage filennotherwise the file is mounted odirect which on my speedy machinenlimits the operation to a max of about  mbs this explains whynsaving snapshots was so patheticnnwith this change the save throughput is up to  mbs on the samenmachinenid
6871,fix variable names related to bytecode tracingnnnedoffby tony yokoyama  compile errors encountered in the case that macro loginstr isnturned on are fixednnon branch loginstrs to be committednntmodified  vmmterpcgototargetscntmodified vmmterpoutinterpcallstubscntmodified   vmmterpoutinterpcportdbgcntmodified vmmterpoutinterpcportstdcntmodified  vmmterpportabledebugcntmodified vmooclasscn
6872,set parity in generated des secretsnndes is  bytes with the lsb used as a parity bit leaving  of usable datanthe bouncy castle implementation fails to set the parity bits when generating andes secret key  jvm implementation will give you different results thannanything using bouncy castlennthis change adds in parity calculation for des keys desede keys still need paritynin  different groupingsn
6873,avoid recipient duplication in messagingnnif you try to send an smsmms to a contact which has a comma inntheir name field the messaging app will add a duplicate recipientnfor each of the commas in their namennthe recipientseditor tokenizer only scanned directly for commasnand then looked at the spans overlapping with those regions thisnchange will take into account the span end each time and adjust thencurrent index to be at the end of the span if necessarynnfix
6874,fix mangling to translate dollar signs to allow scala methodsn
6875,range checking and proper  skipnnthe  jni code  properly do bounds checking on the input stringnthese changes do some bounds checking to prevent a buffer underflow  should allow the fractional seconds to be optional and an arbitrarynlength as specified in rfc  this will scan through arbitrary precisionnuntil it finds the timezone indicatorsnid
6876,fix bug with redraw and long press to caps locknnif you longpress on the shift key the keyboard will go straight intoncaps lock mode however it  mark the keyboard as dirty and queuena redraw this ends up only painting the uppercase characters for keysnthat you actually press and not all the charactersnnthis patch adds a call to setshiftedcurrentcapslock just before thencall path to  setshiftlocked so that the keyboardviewncan mark the entire keyboard view as dirtyn
6877,added preliminary support for samsung galaxy under linuxn
6878,add support for autoip aka  support for autoip aka   when the productnconfiguration has it enabledn add jni method populatedhcp so that wifistatetracker can fetchn dhcp information when it is notified of an updaten add icons to systemui that indicate to the user that the connectionn is locallimitedn make wifistatetracker react to an  address by setting upn a fileobserver on the dhcp lease file to that it is notified whenn the address changes later on it will then fetch the new settingsn and notify the rest of the system of the changenid
6879,add support for autoip aka  support for autoip aka   when the productnconfiguration has it enabledn move  to be an accepted reasonresult from dhcpcd so that ann  address can be returned to androidnid
6880,allowing more than one index for cursor positionnnmany implementations of cursor handling for bidirectional text andntext containing complex glyphs need two indices to correctly storena cursor position the cts should allow thisnid
6881,phone send atring when phone is ringing and headset connectednnwhen phone is in ringing state and headset is connected at that timenring or beep is not heard on the headset the added change fixes thenissuenid
6882,phone send ringclipciev updates only after slc establishmentnnunsolicited ring clip and ciev notifications were being sent duringnservice level connection establishment violates bt spec added coden to disablenid
6883,ril combined fusion changes which are dependent for dsdsnncontains the following   ril add support for   ril interface changes to support cdma and ltenn add support for lte nal strength and new network modes for lten remove sim states from rilradiostaten add messages to indicate voice radio   hardwarerilreferenceril preliminary multimode supportnn add support forn rilrequestbasebandversionn rilrequestdeviceidentityn rilrequestcdmasubscriptionn rilrequestcdmaprlversionn rilunsolcdmasubscriptionsourcechangedn rilunsolcdmaprlchangedn rilunsolexitemergencycallbackmoden make the cdmasubscriptionappindex point to the gsm applicationn handle rilrequestregistrationstate for cdmanid
6884,fixing issue  adt layout editor  handle tabwidgetnnthis change depends on  problem is resolved in the following way n graphicaleditorpartrenderwithbridge computes apilevel based on project and add it as params to bridge graphicaleditorpartjava line  layoutscene scene  layoutlibgetbridgecreatesceneparamsnit used projectkey this parameter is unused in the bridgecontextn bridgecontext use projectkey to create usable applicationinfonid
6885,adt rework extract string refactoringnnthis updates the code that inserts new  elementsnin a  xml replacing my microxml streamorientednparser by one based on the wst sse region modelnnalso added a mini doc to explain the wst region model  no doc anywhere as far as i can see i choose to placenthis adhoc doc where i need it rather than in a generic placen  not a generic doc more a reminder of the apinid
6886,respect eclipse classpath when adding files to apknniterating through the source folder may include files that the user has asked to b
6887,adt cleanup renamepackage actionnnmove it to the refactoring packagensplit action code from refactoring codenno change in functionality nor invocation viancontext menu project  android toolsnid
6888,fixed problem with keymap files copied to targetnnmoved androidmk and keymap files except avrcpkl from sdkemulatorkeymapsnto buildtargetboardgeneric this causes the keymap files to copied intonthe system image of generic and sdk products but not into the system imagenof hw products originally the qwertykl was copied to target no matternif the target had a qwerty keyboard or not which is the case for egnthe nexus onenid
6889,revert fixed problem with keymap files copied to targetnnthis reverts commit
6890,revert fixed problem with keymap files copied to targetnnthis reverts commit
6891,fix  to run on macos x correctlynnthis also fix the issue with the app never closing correctlynthrowing an exceptionnnalso updated the launcher script to match the new ones we use innthe other java based toolsnid
6892,improve the outline  make the outline use styledstrings such that we can use differentncolors for different elements in the outline use the decorationsncolor for the element type that follows the  for elements that define a text property include the text or anprefix of it if it is long in the outline thus for a button younmight see something like  submit  for elements that define a src property show thensource therefore for an imageview you might see imageview  for  elements show the name of the included layoutnid
6893,revert shutdown when capacity is  and no charging or when battery is deadnnthis reverts commit  break most automated tests because with this change if thendevice is fully charged it will simply turn off the screen regardlessnif usb is connected to hsot pc or not so for our tests most of themnare always connected to host pc and fully charged  of the timenas soon as the screen turns off the frontend test activity will bensuspendednid
6894,usb host tegra fix enumeration after  enumeration when a device is plugged while the host is in  statenid  benoit gobi
6895,usb host tegra fix a possible int storm on resume from  will reenable usb interrupts later once the bus has beennresumednid  benoit gobi
6896,fix nonnls tokensnnthere were a number of $$ references in the  externalize strings functionality will not handle thesencorrectly there must not be a space between the and the $nonntokensnni left androidxmleditorxml alone it is the file i discoverednthe problem in but i fixed those references as part of anothernpending checkinnid
6897,add a debugmode option to aaptnnwhen passed with no needed parameters to the aapt command linenaapt will insert  in the application node of the manifestnautomaticallynnthis is to be used by the sdk tools to make true debug buildsnthat require no codefile changenid
6898,add eventfd system call supportn
6899,resolve conflict from
6900,revert shutdown when capacity is  and no charging or when battery is deadnnthis reverts commit  break most automated tests because with this change if thendevice is fully charged it will simply turn off the screen regardlessnif usb is connected to hsot pc or not so for our tests most of themnare always connected to host pc and fully charged  of the timenas soon as the screen turns off the frontend test activity will bensuspendednid
6901,ril api to support omhnnril apis to support the open market handset iative this provides thenflexibility for the operatorsnetworks to define profiles for making datancalls these profiles are for different service types eg mms lbs etc andntheir associated prioritiesnnthe apis query the modem for profiles for a particular service type andnretrieves all the data profiles and their prioritiesnid
6902,fix dx tests compilation scriptnnbug  rely on environment variables like androidbuildtop in thenscript instead pass in the out directory via the makefilenid
6903,move the show included in menu itemnnthe show included in context menu was grouped as part of thenviewspecific actions setting width height orientationnetc  not really a good place since this option is really aboutnthe view as a whole this changeset moves the item down to the bottomnof the context menu next to the show in action which lets you shownthe content in another eclipse viewnnthe code was tweaked a bit to be computed lazily eg the contents ofnthe include list is not computed until the actual show included menunis openednid
6904,code cleanupnt unused import statementsnt unused private and local membersnt some more refactroingnid
6905,fixing issue  adt layout editor  handle tabwidgetnnthis change depends on  problem is resolved in the following way n graphicaleditorpartrenderwithbridge computes apilevel based on project and add it as params to bridge graphicaleditorpartjava line  layoutscene scene  layoutlibgetbridgecreatesceneparamsnit used projectkey this parameter is unused in the bridgecontextn bridgecontext use projectkey to create usable applicationinfonid
6906,arm tegra timer  use supsend offset until resumennif the suspend offset takes effect immediately printks afternthe timer suspend end up with a doubled offset save thenoffset value during timer resume but  update the offsetnused for timer reads until resumenid  colin cross
6907,arm tegra ventana fix suspend build breaknnupdate the suspend platform data for ventana to match recent changesnid  gary k
6908,arm tegra add nrboardirqsnnsome boards like ventana include peripherals which have their ownninterrupt controllers move what is currently defined as nrirqs tontegranrirqs and add a new define nrboardirqs to specify the numbernof additional irqs which may be registered by external interruptncontrollers on the boardnid  gary k
6909,arm tegra suspend preserve timer configuration across suspendnid  gary k
6910,load and apply proxy settings from config file in updatenowindow allowing headless updates to work behind a proxynid
6911,arm tegra compile usbphyc only if usb support is enablednid  benoit gobi
6912,set  proxy system properties using the  settings allowing downloads via an https proxy to worknid
6913,arm tegra usbphy moved suspendresume code to ehci drivernnthe suspendresume methods should go to the ehci driver as they onlynsaverestore ehci registersnnremove phy and ialize all phy registers in poweron as all thenregisters need to be reialized after   benoit gobi
6914,check if bt is allowed in airplane modenncurrenty the bluetooth sharing activity always quits with an errornmessage if airplane mode is on instead the activity should checknif bluetooth may be enabled in airplane mode given the currentnsystem settingsnid
6915,add support for autoip aka  support for autoip aka   when the productnconfiguration has it enabledn add strings and icons that indicate to the user that the connectionn is locallimitedn show a reconnect option in the accesspoint dialog so that then user can force a new dhcp requestnid
6916,add support for autoip aka  support for autoip aka   when the productnconfiguration has it enabledn add jni method populatedhcp so that wifistatetracker can fetchn dhcp information when it is notified of an updaten increase the dhcpcd timeout to  seconds to allow time for  arp after the  second dhcp timeoutnid
6917,arm tegra fix  typos in suspend codennfix a bugon which was checking a masked register to shift the maskninto the correct positionnnfix the comparison for suspend modes so that  is not incorrectlyntreated as   gary k
6918,usb gadget enabledisable the gadget device on vbussession callsnnif we use an otg driver the driver will detect vbus changes and notifynthe gadget driver through vbussession enabledisable the gadget drivernin vbus session so that there is no need to check the otg state on everyninterruptnid  benoit gobi
6919,usb host otg driver now addsremoves the ehci device based on id pin statusnnthere is no need anymore to check the otg state on every interrupts andnuse a work threadnnmoved the suspend code from usbphyc as this is ehci specificnid  benoit gobi
6920,usb host ehcihub add portresetnowait quirknntegra quirk the portreset bit in  does not need to be clearednand there is no need to wait for it to clear the bit will automaticallynchange to  when the busreset sequence is done and an interrupt will bengeneratednid  benoit gobi
6921,fix npe in layout lib legacy conversion for empty layoutsnid
6922,add sound support to bootanimationnna sound is played while bootanimation is running the soundnfile located in bootanimationzip is called bootogg  sound volume is a percent value of the max streammusicnvolume that comes from a persistent system property thensystem property is set by a java module according to thenglobal sound setting the default volume is   of thenmax streammusic volume that is the same as thenstreammusic default volume  indicates the target is innsilent or silentvibrate modenid
6923,bt unref pending call during bondingnnbluez issue in fallback scenario when device agent does not havenrequired method without this unref dbus timeout cause assert andnbluetoothd crashnid  christian bejram
6924,using different filenames for testrecordervideo and testrecordercamerannthere are some cases where these failures will be caused due to same filename being used in these test casesnnto avoid this i changed so that different filenames will be used for testrecordervideo and testrecordercameranid
6925,cgroup remove call to synchronizercu in cgroupattachtasknnsynchronizercu can be very expensive averaging  ms innsome cases in cgroupattachtask it is used to preventna  pointer dereferenced in an rcu read sidencritical section from being invalidated by delaying thencall to putcssset until after an rcu grace periodnnto avoid the call to synchronizercu make the putcsssetncall rcusafe by moving the deletion of the cssset linksninto freecsssetwork scheduled by the rcu callbacknfreecsssetrcunnthe decrement of the cgroup refcount is no longernsynchronous with the call to putcssset which can resultnin the cgroup refcount staying positive after the last callnto cgroupattachtask returns to allow the cgroup to bendeleted with cgrouprmdir synchronously afterncgroupattachtask have rmdir check the refcount of allnassociated csssets if cgrouprmdir is called on a cgroupnfor which the csssets all have refcount zero but thencgroup refcount is nonzero reuse the rmdir waitqueue tonblock the rmdir until freecsssetwork is callednnnedoffby colin cross
6926,add log to layout lib methodnid
6927,wlan bugfix for btwlan coexistencennif wlan is available but bluetooth is notnold code caused a crashnnnedoffby christian bejram
6928,cgroup set cgrpreleasable when adding to a cgroupns the meaning of cgrpreleasable to be set on any cgroupnthat has ever had a task or cgroup in it or had cssget callednon it the bit is set in cgroupattachtask cgroupcreatenand cssget it is not necessary to set the bit inncgroupfork as the task is either in the root cgroup innwhich can never be released or the task it was forked fromnalready set the bit in croupattachtasknnnedoffby colin cross
6929,phone appfix for wrong call status report in cdmannwhen there  mobile teriminated calls that are not conferencen  held call and  accepted call in case of cdma networknthe call status return in atclcc is multiparty added fix tondetermine if it is a real multy party callnid
6930,remove reference to internal phone constantnnuse the constant defined in the test insteadnid
6931,add nfc permission to stubs manifestnnbug  needs androidpermissionnfc to callnnfcadaptergetdefaultadaptercontextnid
6932,performance improve resource cachingnnkeeping the cache a longer with softreferences the weaknreferences are cleared on each gc cycle which makes themnnot so efficient for cachingnnon average this leads to half the time to create the newnview when changing from landscape to portrait also thentime for starting a new application will be reducednid
6933,catch exception when making thumbnailsnnwe have seen a number of differnt exceptoins thrown whilencreating thumbnails and plugging out the sd card or mountingnthe usb disk eg unsupportedoperationexceptionnfilenotfoundexception sqlitemisuseexceptionnrather than making an uber long catch lists it makes sensento just catch exception in this casenid
6934,added notification profile supportnnthis adds finergrained support for notification tones and groups settings into profilesnwhich can be easily switched api support is also added allowing configuration and profilenswitching from another program eg tasker localenna profile represents a particular set of settings and could be for example silentnoffice or night each profile contains the settings for a definable set of applicationngroupsnnan application group represents a group of applications to which the settings should applynfor example sms might contain messaging and handcentnnthe applications in an application group are globally defined the notification settings fornan application group are perprofilennfor each profileapplication group you can define behaviour for lightsvibrate and soundneither you can suppress override or leave unchanged ie system or app defaultnnexamplennwork sms vibrate ringer vibrate email no alert gmail vibratennight sms silent ringer on email silent gmail silentnid
6935,added notification profile supportnnthis adds finergrained support for notification tones and groups settings into profilesnwhich can be easily switched api support is also added allowing configuration and profilenswitching from another program eg tasker localenna profile represents a particular set of settings and could be for example silentnoffice or night each profile contains the settings for a definable set of applicationngroupsnnan application group represents a group of applications to which the settings should applynfor example sms might contain messaging and handcentnnthe applications in an application group are globally defined the notification settings fornan application group are perprofilennfor each profileapplication group you can define behaviour for lightsvibrate and soundneither you can suppress override or leave unchanged ie system or app defaultnnexamplennwork sms vibrate ringer vibrate email no alert gmail vibratennight sms silent ringer on email silent gmail silentnnthis has been on dumb nokias for years  surprised a single smartphone  have it yetnid
6936,productconfigurable sparse ext imagesnnalso pass extfs sparse image flag to the release toolnid  picked from master commit  ying wang  vikram pandita
6937,windows button wrong translation in esrusnnthe translation of the label activetabs is windows is esrusnbut it should be translated to ventanasnid
6938,reenabled ialization of sgpsniinterfacennthe gpsniinterface needs to be ialized whenever the gps isnenabled without it there will be no callback interface from the gpsnhal to the jni layer the callback interface is needed for controlnplane positioning request and for network initiated supl request onnplatforms where the modem handles those messagesnid
6939,video tegra hdmi enable wakeup on hotplugnid  erik gil
6940,fixed a crash when switching languagesnnwhen the user switches a languages on a cdma phone the gsmservicestatetrackerncrashes the fix is to unregister the intent receiver listening for thenlocale changed intent in disposenid
6941,video tegra hdcp move call to hdcp suspend out of atomic contextnid  erik gil
6942,video tegra hdmi fix vic detection for avi infoframenntypeo was causing  vics to never be populatednid  erik gil
6943,fix compile errors new compilernid  $
6944,add check for null pointer to avoid crashnnthis is added in order to prevent a crash also updating the namenof a device to null making it appear as  is probably notnintendednid
6945,add extract as include refactoringnnadd an extract as include action to the context menu which lets younextract a set of selected views and move them into a separate layoutnfile of their own and insert an  reference to the new viewnin placennyou can select multiple items as well provided they are adjacentnsiblings and in that case the newly extracted layout will use  tag as the root elementnnthis changeset also adds a name validator for resource names usednboth in the newname entry field for extracted include layouts asnwell as in the new xml file wizard it enforces that the name exceptnfor the xml suffix is a valid java identifier name since otherwisenthe r file will have compilation errorsnnthis changeset also extracts various inlined string constants likenxmlns android as used in namespace prefixes id etc andnreplaces them with constantsnid
6946,stagefright fixed for noise with aac stereo recordingnnin aac recoding channel count is not getting considerednwhile copying pcm samples to aac encoder input framenbuffer this is causing encoder input frame bufferncorruption and which is finally resulting to noise onnrecording clipnnfix this by taking channel count into account whilencopying pcm samples to input frame buffernid
6947,add  sources back for completenessnnthose come from
6948,limit the search for siblings to media windowsnna previous patch allowed skipping over multipli surfaceview windowsnwhen searching for a suitable position for the wallpaper windownhowever the patch was too generic and introduced some realy rarensideeffects sometimes the wallpaper was hidden behind anothernapplicationnnthis fix improves the previous patch by making sure the previous patchnapplies only to the surfaceview usecasesnnprevious patch
6949,cts test is not considering the case when the devcie get into silent modenby volume down keynit needs to be raised twice to get back to normal mode from the silent modenid
6950,revert usb host ehcihcd add controllerresetsphy quirknnthis reverts commit
6951,cts test is not considering the case when the devcie get into silent modenby volume down keynit needs to be raised twice to get back to normal mode from the silent moden
6952,optional s to enable sparse  imagenid  ying wang  vikram pandita
6953,fix palette preview image scaling on windowsnnwhen using palette previews with a scaling factor eg the small orntiny palette modes the preview images look bad on windows thisnappears to be because swt on windows has a different set of defaultsnfor antialiasing and interpolationnnthis checkin turns on antialiased high interpolation for imagenpainting in the palette when the palette is scaled to address thenfirst issue listed in  layout editor rendering issues in adt
6954,use the common bios for qemu and kvm with this patch we can use the samenguest bios for android  emulator w or wo kvm enablednid  jun nakajima
6955,problem when calling open sdk and avd manager actionnnrelated issue  works in the following waynn if location of android sdk has not been set or location  validnaction shows the old messagen if there is valid sdk which  loaded action show progressndialog with the please wait until sdk is loading messagenthe progress dialog is cancelablen when sdk is loaded action show the standard android sdk and avdnmanager dialognnnote avdmanageractionjava line  problem can be reproduced if you start some nonmodal progressndialog and click on open sdk and avd manager action when progressndialog is active when progress dialog be finished it will closensdk and avd manager dialognadtplugingetdisplaygetactiveshell have used shell of progressndialogngetshell returns the shell of an active workbench windownif we would use adtplugingetdisplaygetactiveshell then the sdknand avd dialog would be open whent progress dialog finising and just closenid
6956,use the current music sound volume and silent mode as boot sound volumennreceive sound setting change broadcast use a persistent systemnproperty to record the current sound setting  indicates the targetnis in silent or silentvibrate mode other value in range of  the percent value of the max streammusic volumencurrently a native module will read this system property when playna sound file at system starting up and set the volume to follow thenglobal sound settingnid
6957,added the lock internet setting feature for apnnnthe apn will be locked following the customization file specifiednso that the locked apn can not be edit or delete by end usernid
6958,added the lock internet setting feature for apnnnthe apn will be locked following the customization file specifiednso that the locked apn can not be edit or delete by end usernid
6959,added the lock internet setting feature for apnnnthe apn will be locked following the customization file specifiednso that the locked apn can not be edit or delete by end usernid
6960,use  instruction for handling byte  isa has several instructions to handle data in different byte ordernfor endian conversion byte swapping of single data words it might be angood idea to use the  instruction simplynid
6961,make the hierarchyviewer plugin not screw up ddmsnnthe hv plugin behaved like the standalone app and ializednthe androiddebugbridge with no client support even thoughnthis is handled by ddms and would recreate the bridgenobject destroying the one created by ddmsnnthis completely broke ddmsnid
6962,made find on page layout work on all screen sizesnnalso removed all linearlayouts and reduced depthnof layout by using relativelayoutnid
6963,merge remote branch  into froyomergennconflictsntteststestsdpisrcandroiddpictsconfigurationtestjavantteststestsviewsrcandroidviewctswindowtestjavanid
6964,for title bar refresh when changing layout file in same editornnbug
6965,erase sdcard when editing existing avdnnsdk bug
6966,implement a recursive version of fileobservern
6967,adjust memcpy for arm cortex  cache line sizennarm cortex  use  bytes and arm cortex  use  bytes cache linensizennthe following patchn adds code to adjust memcpy cache line size to match  cache linen sizen adds a flag to select between  bytes and  bytes cache linen sizenn copyright c stericsson sa  modified neon implementation to fit cortex  cache line sizen author henrik smiding henriksmidingstericssoncom forn stericssonnid  christian bejram
6968,merge remote branch  into eclairmergennconflictsnttestsandroidmanifestxmlnttestsjniandroidmknttestsreslayoutfocusfinderlayoutxmlnttestsresvaluesstringsxmlnttestssrcandroidopenglctsopenglesversionstubactivityjavanttestssrcandroidosctscpufeaturesjavanttestssrcandroidviewctsfocusfinderstubactivityjavantteststestsappsrcandroidappctssystemfeaturestestjavantteststestsossrcandroidosctsbuildtestjavantteststestspermissionsrcandroidpermissionctsdebuggabletestjavanttoolsdevicesetuptestdevicesetupsrcandroidtestsgetinfodeviceinfoinstrumentjavanttoolshostsrccomandroidctstestdevicejavanttoolshostsrccomandroidctstestsessionlogjavanttoolshostsrccomandroidctsversionjavanttoolshostsrcresctsresultxslnid
6969,more refactoring work convert hierarchy and change typenna lot of work on the change layout refactoring to improve conversionnto a relative layout first add a flatten hierarchy option whichncan take an entire hierarchy of layout widgets and flatten it down tona single top level relativelayout where the constraints attempt tonreflect the original layout this  always possible since somenlayout managers offer features not possible to express innrelativelayout such as a linearlayout with multiple differentnweights but it often works or is at least a good start this worknis ongoing but since my changeset is getting large i want to check innthis snapshot since the functionality is better than what is in thentrunknnthis changeset also adds a new refactoring change widget type thisncan be applied to a selection of elements and it will convert thenwidget type to the new target widget type it will also remove anynattributes that are not valid for the new layoutnnit also improves the wizards which display the possible target typesnfor change widget type it will first offer related widgets so fornan analogclock it will first offer digital clock for a checkbox itnwill offer a checked text view and a radio button etcnnin addition it will list views and layouts that it finds in anynlibrary jars except for the builtin android ones and any customnview classes in the projectnnthere is also now some preliminary support for refactoring unitntests these tests must be run as eclipse plugin tests since theynutilize the xml model and the xml model cannot be mocked the testninfrastructure reads source xml files applies the refactoring changenlist to them and diffs the output with the known expected outputnalso stored as result xml files in the test projectnnfinally there are a number of fixes and improvements to the sharednrefactoring codenid
6970,fix make distnnremove a dependency on the ota package for nown
6971,arm tegra cpuidle hack prevent  for less than a jiffynnfor some reason entering  for less than a jiffy breaks timersnid  colin cross
6972,arm tegra cpuidle better statisticsnid  colin cross
6973,arm tegra cpuidle allow  in idle with two active cpusnid  colin cross
6974,arm tegra suspend modify  suspend to return timer valuenid  colin cross
6975,fixing a couple of crashes when mcontenturi is nullnnthere are some corner cases in the gallery where it isntrying to display new images that has not been fullynprepared yetnid
6976,kernel add kernel images placeholders for qemuvboxnnnote these kernel files are empty just a comment in them they willn be replaced with the real binaries when the  for the kernel commitn tree is known the readme will be updated at that timenid  bruce bear
6977,fix  ddms screen capture colorsnnthe assumption that  bits bpp data is little endian is wrongnremoving the reversing bytes logic to produce correct colorsnid
6978,fixed context and thread leaks in appnnthe reference to the context passed in  constructor was nevernremoved from the static map of contexts and apps resultingnin a lot of leaked activites instead of mapping a context tonnull in shutdown  now actually removednthe handlerthread in app was never terminated resulting in a lotnof leaked threads the handlerthread is now gracefully terminatednin shutdownnid
6979,added support for looppathtofilename to  mountnnin keeping with the pattern of mtdpartition i have added looppath as a way to specify a loopback device this way you can do things like mount directories in system using cramfs from a file otherwise on system just one example oof how  using it i specifically went with loop rather than adding this feature as a flag as the flags system is designed to set bits in the flags argument to mount using loop fit the model in a much simpler manner and actually feels correctnnthis is a better version of the previously submitted  that also refactors the mtd case the reason for this is that i received comments that i should check for errors and return errors rather that do work in the case of success and fall through but the mtd case  doing that either and it became awkward to design the function so that it was half in one style of error handling and half in another i also made certain to use inequality comparisons for   error returns rather than checking for  refactored my large if statement so as not to have danling parentheses and disassocited the loop device on mount failuren
6980,adding tests that japanese phone number start with  and
6981,fix crash occuring when using recognizernnthe srrecognizerresultgetkeylist should return ljavalangstringnhowever the code as written before the change will actually returnnljavalangstringnnthis worked before probably by accident but sincendvmfindarrayclassforelement has been rewritten to no longer used ancached arrayclass the dvmfindarrayclassforelement actually prependsnthe and it should not be in srrecognizerresultgetkeylistnid
6982,arm tegra clock fix locking and return values in shared clocksnid  colin cross
6983,telephony combined fusion changes which are dependent for dsdsnncontains the following   telephony add support for   separate sim states from radio statesnn radio state reflects the state of the modem simready ruimreadyn nvready are subscription states and it is possible that the new cardsn have multiple subscriptions remove the sim states from radio state andn introduce a new voiceradiotech message to identify the exact voicen technology sim states will continue to be identified from then simstatus messagesnid
6984,arm tegra clock fix rounding up in clkpredictratefromparentnnfixes an incorrect attempt to round up the division it wasnaccidentally rounding to nearestnid
6985,arm tegra clock move unlock after register write in periph clocknnfixes a race condition where a disable called before an enablencould rewrite the register after the enable unlocked the locknid
6986,fix os x build missing commanid
6987,arm tegra clock add lock around shared register accessesnnadd clockregisterlock which must be locked around any accessnto a clock register that is ever accessed nonatomically bynmultiple clocksnid
6988,support broken addons in sdk manager uinid
6989,uicc support for simalliance open mobile api for secure element accessnnthe simalliance open mobile api specifies the access to any supported securenelement from a mobile application this patch adds support for the uiccnsince the uicc is linked to the baseband processor and not to the applicationnprocessor access to the uicc must be supported by the baseband firmwarenfor this reason this patch extends the android  virtual modem bynsome required at commands atcsim atccho atcchc and atcgla as definednin  ts  and extends the ril appropriate for security reasonsnaccess to the uicc is limited to the simalliance open mobile apinthis patch also adds support for using a hardware uicc inserted to a pcscncard reader instead of the  virtual uiccnnthe simalliance open mobile api was contributed under the following change    robert h
6990,uicc support for simalliance open mobile api for secure element accessnnthe simalliance open mobile api specifies the access to any supported securenelement from a mobile application this patch adds support for the uiccnsince the uicc is linked to the baseband processor and not to the applicationnprocessor access to the uicc must be supported by the baseband firmwarenfor this reason this patch extends the android  virtual modem bynsome required at commands atcsim atccho atcchc and atcgla as definednin  ts  and extends the ril appropriate for security reasonsnaccess to the uicc is limited to the simalliance open mobile apinthis patch also adds support for using a hardware uicc inserted to a pcscncard reader instead of the  virtual uiccnnthe uicc extension consists of changes with following change  emulator  native  framework ril  implementation of extendedn framework interfacennthe simalliance open mobile api was contributed under the following change    robert h
6991,uicc support for simalliance open mobile api for secure element accessnnthe simalliance open mobile api specifies the access to any supported securenelement from a mobile application this patch adds support for the uiccnsince the uicc is linked to the baseband processor and not to the applicationnprocessor access to the uicc must be supported by the baseband firmwarenfor this reason this patch extends the android  virtual modem bynsome required at commands atcsim atccho atcchc and atcgla as definednin  ts  and extends the ril appropriate for security reasonsnaccess to the uicc is limited to the simalliance open mobile apinthis patch also adds support for using a hardware uicc inserted to a pcscncard reader instead of the  virtual uiccnnthe simalliance open mobile api was contributed under the following change    robert h
6992,uicc support for simalliance open mobile api for secure element accessnnthe simalliance open mobile api specifies the access to any supported securenelement from a mobile application this patch adds support for the uiccnsince the uicc is linked to the baseband processor and not to the applicationnprocessor access to the uicc must be supported by the baseband firmwarenfor this reason this patch extends the android  virtual modem bynsome required at commands atcsim atccho atcchc and atcgla as definednin  ts  and extends the ril appropriate for security reasonsnaccess to the uicc is limited to the simalliance open mobile apinthis patch also adds support for using a hardware uicc inserted to a pcscncard reader instead of the  virtual uiccnnthe uicc extension consists of changes with following change  emulator  native  framework ril  implementation of extendedn framework interfacennthe simalliance open mobile api was contributed under the following change    robert h
6993,cts set camera default framerate to video recorder for androidhardwarectscameratesttestlockunlocknn video recorder is started without setting framerate first thus hardcoded default framerete value is set in stagefrightrecorder and then stagefrightrecorder trying to configure camera hardware with this hardcoded value  fps but there  guarantee that camera hardware can support  fps if not cts will failnn as a solution default camera hardware framerate can be used to configure video recordern
6994,make it possible to override the deskclock theme through overlaysnnas of change  it is possible to set style parent throughnoverlays with this change it is possible to use that mechanismnto set the theme for the deskclocknid
6995,camera resolve conflict between setpreviewfpsrange and setpreviewframeratenn currently camera interface shares two different methods to set framerate n previewfpsrange and previewframerate many existing camera applicationsn and cts tests expects that camera hardware has  default framerate settingn thus camerahardware should provide default values for both frameraten methods at the same time camera application usually gets default parametersn array from camera hardware changing just one of the framerate parameters and thenn sends modified parameters array back to hardware but camera hardware cannot recognizen which parameter is the correct one to use for  framerate setting one of them is obsoleten the only possible way to solve this is every hardware implementation to implementn  own workaround of this conflict by tracking framerate setting changesnn general solution simple sanity check is added in android core when applicationn uses one method to set framerate data owned by other method is deleted at the same timen
6996,make it possible to override the calendar theme through overlaysnnas of change  it is possible to set style parent throughnoverlays with this change it is possible to use that mechanismnto set the theme for the calendarnid
6997,modified so that if network does not support multipart data sms it skips this testnnif the network is ntt docomo mccmnc   test on sending sms of senddatamessage and sendmultiparttextmessage always gives timeouts since ntt docomo does not support multipart data smsnni modified so that if the network was ntt docomo it will skip this testn
6998,make instrumentation test failure message more verbosennbug
6999,fix spaceindir issue with proguard for the ant casennthis fixes the proper way to quote the compound pathsnarguments given to proguard each individual path isnquoted if it contains spacesnnquoting for libraryjars fixes the issue for the sdkninstall path containing a spacenquoting for injars and the other arguments fixes thenissue for the project path containing a space althoughnthe ant build will fail later at the dx phase in thisncasenid
7000,arm tegra fuse fix bug in getsparefusenngetsparefuse was calling tegraapbreadl and passing annoffset but tegraapbreadl requires a physical addressnfix it by calling tegrafusereadl instead which takesnan offsetnnfixes a crash booting on  parts where getsparefusenis used to determine the difference between  and   colin cross
7001,video tegra deassert reset after clocks are turned onnnin underflow recovery if the clocks are not enabled when the dc is broughtnout of reset writes to the dc will sometimes hangnid  erik gil
7002,resize layoutn
7003,allow loading monkeyimages from a local filesystemnid
7004,video tegra fix three overlay window blendingnid  michael i gold
7005,optimize mediathumbrequest ram usagennthe mediathumbrequest contains an bitmapfactoryoptions instancenthat is unused and a random instancennthe bitmapfactoryoptions instance can be removed and the randomninstance can be made static so that the object is shared amongnthe mediathumbrequests since random already is synchronized thisnshould mean no performance degrade and if the phone contains manynindexable objects the number of objects allocated goes down a lotnid
7006,video tegra fix typo from register headernid  michael i gold
7007,pthreadcondwait should not return eintrnnalso make sure pthreadcondsignal only wake up one threadnbefore the thread could be wakeup because of oldvalue change ewouldblockneintr wakeup or real wakeupnid
7008,lib fix scan merge for hidden ssidnnupdating the right queue for handling hidden ssidn
7009,added onkeylistener to alert dialogsnnbugna confirmation dialog is shown when accessibility is disabled or one of accessibility services is enablednthe accessibility is disabled or the accessibility service is enabled even though user presses cancel keynid
7010,fixed parallell thumbnail creation failurennthe thumbnail creation sometimes failed due to the garbage collectornfreeing up a fileinputstream that  have any reference butnwas used indirectly by a filedescriptor this was triggered whenna lot of thumbnails were created in parallellnid
7011,stagefright  strip extra spsppssei specific info in case an encoder pack it in codecconfignngb writer extracts the sequence  picture param set info only from the codec config and  expect this info to be present in the consequent iframe since encoders might send the first frame as idr frame it will have extra sps pps  sei specific info which gb writer does not understandnnthis will cause the gb writer to add these extra info as data  eventually corrupting the iframennthis patch strips off the extra info from the idr frames so that the parser gets the info thay way it desiresnid  sreenidhi koti  devaraj rangasami
7012,default decoding scheme set gms  packednnin function retrievetextstring handle all unknown coding schemesnas gms  packed text stringsnid
7013,fix leak when keylock is recreatednndigitalclock could sometimes leak when the keylock was recreatednthis happened because ondetachedfromwindow was called beforenonattachedfromwindownthis is the flow that causes the memory  the lockpatternkeyguardview is created and added this will startna loop dispatching onattachedtowindow to all views  patternunlockscreenonattachedtowindow is  if the configuration has changed since creation recreateme innlockpatternkeyguardviewjava is  recreatescreens is  patternunlockscreen is removed to be readded later  since digitalclock is a part of patternunlockscreen itsnondetachedfromwindow will be  the loop started in  will continue to dispatchnonattachedtowindow and will eventually  digitalclockonattachedtowindow registers a receiver that isnnormally unregistered in ondetachedfromwindow but sincenondetachedfromwindow was already called in  it will not be  the receiver has leaked and it has a reference to digitalclocknso that will leak as well together with its parents egnpatternunlockscreen and lockpatternkeyguardviewnnthe fix is to wait with the recreation of the screens in  untilnthe loop in  is finished this is done by posting this as an eventninstead of calling recreatescreens immediatelynnit is possible that this a fix for the root cause mentioned innfix  use weakreferences for receivers in digitalclock  by jim
7014,fixed crash when joining two contactsnnwhen joining contacts which do not have an associated account typena nullpointerexception will be thrown because of an illegalncomparison this fix makes sure that the account type is not used asna basis for comparison if it has an illegal value nullnid
7015,reflect the change in the original mediaaudiosystem api so that apivalidation continues to workn
7016,fixed a memory leak in the bluetooth settingsnnrelease resources in onpause rather than onresume to fix a memory leaknwithout this fix the app will crash if you are in bluetooth settingsnand tap device name and then roate the device a few timesnid
7017,add mimimum width of the buttonpanel layoutnnsome button texts are not shown correctly in one row innsome langauges eg españolnthis is changed with adding a minimum width to the buttonpanelnfor the stkmsgdialog layoutnid
7018,runtime inclusion of services in the systemserver with overlaysnnthis commit introduces a way to control the availablity of servicesnin the systemserver through overlays currently its only possiblento add services in this manner in the future it could be usednto remove services that are not needed for a specific productnconfigurationnid
7019,enlarge timeout for androidhardwarectscameratesttestpreviewpicturesizescombinationnsome device will support too many counts of preview sizes to finish test in timenid
7020,rename androidconstants  adtconstantsnnthese are constants specific to  be an androidconstants class in commonjar withnmore generic android constant valuesnid
7021,augment the autoloadvm behaviour with corresponding autosavevmonexit behaviournnautosave fires when loadvm would have been tried whether it succeeded or not innorder to bootstrap from an empty snapshot filenn new autosave behaviour inhibited with nosnapshotsave flagn underlying behaviour implemented with a new qemu option savevmonexitnid
7022,move the sdk io classes to commonjarnid
7023,arm tegra ventana fix volume up gpionid  varun wadekar
7024,implement support for alt and shift modifiersnnthe spec for keymaps and keboard input atnhttpsourceandroidcomportingkeymapskeyboardinputhtmlnmentions the stand alone alt and shift modifiersnnshift while pressed the shift key modifier is setnalt while pressed the alt key modifier is setnnthis commit implements support for thesenid  key  back altn
7025,solved android junit run configuration dialog  show by error from swtnid
7026,hu translation for accountandsettingsapknid
7027,add audiotestout option to the corennthis option can be used to quickly check audio output withoutnhaving to boot a full avd and launch a soundplaying applicationnnusagen emulator  qemu audiotestoutn qemuandroid  audiotestoutnnthis simply generates an ugly saw signal but  enough for usnid
7028,enable possibility to register for actionheadsetplug staticallynncurrently its not possible to register for actionheadsetplug innthe manifest of android applications and the intent is only availablenwhen the application is already running this leads to odd usecasesnwhere applications needs to start on bootcompleted to register fornthe intent and then stay alive instead of forcing applicationsnto do this this commit enables them to listen for this intentnin androidmanifestxmlnid
7029,tegra hwmon driver for  temperature monitornnthis driver programs the temperature monitor to throttle the cpunwhen the temperature crosses a certain level the driver alsonprograms the sensor to power down the cpu if the temperaturenstill keeps on rising and crosses a certain thresholdnnthe thresholds should be set in the  platform data sincenthese may vary for each platformnid  varun wadekar
7030,adding support for parsing of smscb pdus in umts formatnnthis enables ril to dispatch pdus in both gsm or umts formatnthe rat that was used will be transparent to clientsnid
7031,fix upstream audio bug  play with two soft voicesnnthis patch fixes a problem where using two swvoiceout at the samentime would not work unless the two voices would output sound samplesnat the same timenid
7032,consoleearlysuspend fix compilation break for consoleearlysuspendnnupdated the acquireconsolesemaphore and releaseconsolesemaphone to thenlatest kernel which changed the api calls to consolelock and consoleunlocknnos kernel reference commit   dan murphi
7033,fixing korean string for failedtoaddmediannedoffby sangjun park
7034,remove obsolete audioin and audioout optionsnnuse audio  to select the audio drivernid
7035,kernelheaders update linux input headers for
7036,fix for suppporting ussd code that including delimiter like   support delimeter in ussd code but mtnl simindia usesnthe ussd code starts with  like  added the condition for thisnid
7037,modifying description for rilunsolresponsenewbroadcastsmsnnallowing for both gsm and umts format cbs message pdusnid
7038,mergeignore cupcake for a solid merge basen
7039,inputdevice adjust orientation according to roinputhwrotationnid
7040,add
7041,adt animation preparationnnupdate layoutlib api to work better with the new scenenlocking mechanism for concurrent renderings new errorntypes in sceneresult and updated animation listenernnadt changes to record the view object in canvasviewinfonand the current layoutscene in viewhierarchynnadded a test menu item to start an animation thisnis temporary and will be fixed laternid
7042,add
7043,toolchainsnid
7044,move foldertyperelationship to commonjarnid
7045,support devices with only frontfacing camerannif the device only supports a frontfacing camera the camera count willnbe greater than zero but cameraopen will return null causing thisntest to crashnid
7046,fix sdk build on ubuntu
7047,change the foldertyperelationship and resourcefile api to return listnnthis is better as we can return unmodifiable list instead ofnarrays that could be overridennid
7048,move resourcefoldertype into commonnnmoved some constants from sdklib which is not a dependencynof common but instead depends on common into commonnid
7049,support for devices with only a frontfacing camerannthe manifest was updated to allow installation on devices without anrearfacing camera this is required for one of the cts tests alsonif the device only supports a frontfacing camera cameraopennwill return null fixed that casenid
7050,mergeignore donut for a solid merge basen
7051,pm move the clk stabilization delay to the right placennthe clock stabilization delay post a  divider change is neededneven before a sdrc interface clock reenable and not only beforenjumping back to sdramnnnedoffby rajendra nayak  kevin hilman  mike chan  picked from commit
7052,correct command arguments for   but support backward compatible usenid
7053,msm sapphire add sharp panel noveteck  driver ic settingnnnedoffby san mehat  eric olsen
7054,sdrc fix freeze when scaling core dpll to   patch fixes a bug in the core dpll scaling sequence which wasnerrouneously clearing some bits in the sdrc dlla ctrl register andnhence causing a freeze the issue was observed only on platformsnwhich scale core dpll to   and hence program the dll in fixedndelay modennissue reported by limei wang  with debuggingnassistance from richard woodruff  and girishnghongdemath  rajendra nayak  limei wang  richard woodruff  girish ghongdemath  paul walmsley  mike chan  updated patch description to include collaboration creditsncherry picked from commit
7055,consoleearlysuspend acquire btm before calling vtwaitactivennvtwaitactive drops the btm while waiting for a vt to become activenhence we need to acquire the btm before calling itnid  joerie de gram
7056,monitorh cleanupnid
7057,upstream move bottomhalf handlers to asynccnid
7058,enable kvm mode for android  emulatornnthis patch enables kvm mode on  linux to boost performance of  emulaitonnif the hardwarebased virtualization feature is present on the host machinenid  xiaohui xin  yunhong jiang  jun nakajima
7059,socketsh add socketlistdgramnid
7060,adding a rule that japanese fmc number start with  fixed mobile convergencenid
7061,upstream qemuiocnid
7062,enable kvm mode for android  emulatornnthis patch enables kvm mode on  linux to boost performance of  emulaitonnif the hardwarebased virtualization feature is present on the host machinenid  xiaohui xin  yunhong jiang  jun nakajima
7063,upstream update hxtoolnid
7064,usb gadget fmtp dequeue request on error in mtpreadnnin mtpread if waiteventinterruptible returns an error we need tonremove the request from the ep queue else on the next call to mtpread wenwill attempt to enqueue the request again potentially corrupting thenqueue this is what happens with musbgadgetqueue which does not check fornduplicate requestsnnbased on a similar change to fadbcnnnedoffby mike lockwood
7065,revamp of the sdk manager uinnthis replaces the installed packages andnavailable packages page by a single one thatncombines both installed and available updatesnnthis is still experimental and is actuallynnot enabled unless the env var experimental isnsetnid
7066,upstream minor jsonlexerc integrationnid  keep our fix for mingw buildsn
7067,enable snapshot behaviournid
7068,fix painttesttestgettextwidths methodsnnbug  of testing hardcoded values check that the variousnoverloads return the same widthsnid
7069,upstream minor integrationnid
7070,consoleearlysuspend fix compilation break for consoleearlysuspendnnupdated the acquireconsolesemaphore and releaseconsolesemaphone to thenlatest kernel which changed the api calls to consolelock and consoleunlocknnos kernel reference commit   dan murphi
7071,add adk projectsn
7072,add adk projectsn
7073,kernelheaders update linux input header for  multitouch protocol defines and various other updatesnid
7074,capture branch historyn
7075,kernelheaders update linux input header for
7076,fix proguard wrappersnnshell version this fixes the simple case ofnthe proguard binary path having a space in itnnbat version use to capture all arguments notnjust the first  ones  typical to hav
7077,fix proguard wrapper to capture all argsnid
7078,fix spaceinpath proguard for adt exportnnproguard requires paths that contain spaces tonbe quoted individually eg for injars we neednsomething like injar    top of that we need to quote the quotednargument to make sure the proguardbat wrappernpreserves the quotingnid
7079,upstream integrate block changesnnthis large patch upgrades the block support code to the upstreamnversion available in
7080,state of master capable of building gpl code from
7081,qemusocketsandroidc add inetdgramoptsnid
7082,socketoutputstream properly handle short writesnneven blocking writes can return before the full amount isnwritten eg if a signal is receivednnsince the outputstream write methods return void there is nonway of signalling a short write to the caller it has to retrynuntil everything is written or writing failsnid
7083,net wireless  add new and default wifi locale supportnnnedoffby dmitry shmidt
7084,qemusocketsandroidc add support for  optionnid
7085,use actual numbers in version numbersnnthis string is used in the browser user agent and somensites get confused when this  a dottednumber versionnnumber into thinking that they should serve stripped down htmlnthis clears the confusionnid
7086,arm tegra suspend add support for  and  suspend modesnnin both  and  sdram is placed into selfrefresh in order to safelynperform this transition the final shutdown procedure responsible fornn turning off the mmu and  data cachen putting memory into selfrefreshn setting the ddr pads to the lowest power staten and turning off pllsnnis copied into iram at the address tegrairambase  at thenstart of the suspend processnnin  mode like  the cpu is reset and executes the code specifiednat the evp reset vector since sdram is in selfrefresh this code mustnalso be located in iram and it must reenable dram before restoring thenfull context in this implementation it enables the cpu on pllp enablesnpllc and pllm restores the sclk burst policy and jumps to the  resetnvector to restore the rest of the system mmu pllx coresite etc  reset vector is expected to be found in  and isnialized during systembootupnnin  mode the core voltage domain is also shutoff as a result allnof the volatile state in the core voltage domain eg pinmux registersnclock registers etc must be saved to memory so that it can be restorednafter the system resumes a limited set of wakeups are available from  the correct levels for the wakeups must be programmed into the pmcnwakepad configuration register prior to system shutdown on resume thensystem resets into the boot rom and the boot rom restores sdram and othernsystem state using values saved during kernel ialization in the pmcnscratch registersnnresuming from  requires the boot rom to supply a signed recovery codeblobnto the kernel the kernel expects that the length and address of this blobnis supplied with the  command line argument if not present  will be disablednnfor simplicity the outer cache is shutdown for both  and  itnis possible to optimize the  routine to bypass outer cache shutdownnand  fixes from vik kasivajhula  restore pllc during  resumen fix typo which set the cpu clock burst policy to pllm rather than  fixes from vik kasivajhula  shut off the mmu during  to avoid races between the flow controllern and the instruction  fixes from scott williams  separate cpuspecific code from socspecific  fixes from alex frid afridnvidiacomn refactor pmc modes to avoid dependency on polarity of external pullupsn pulldowns for the power request linesn saverestore cpu poweroff  fixes from bharat nihalani bnihalaninvidiacomn program deep power down pad samplingnid  gary k
7087,arm mtd msmnand move empty page check after dmaunmappagennthis fixes a crash in dmasyncsingleforcpu when reading a flash page withnan uncorrectable error into a highmem pagenid  arve hjønnevåg
7088,arm outercache add shutdown and restart callbacknnadd a shutdown callback to the outercache structure and provide annimplementation for the  outer cache controller so that machinesnwhich need to flush and disable the outer cache controller prior tonexecuting the architecture reset or platform suspend code can call ancommon function to do sonnsymmetrically add a restart callback which may be called bynthe platform suspend code to reenable the outer cache followingna suspend transitionnid  gary k
7089,makes phonenumberutils support international numbers after a clir commandnnmakes phonenumberutilsjava support numbers in internationalnformat starting with ‘’ character after a clir commandnnpreviously a plus character would always be removed unless itnoccupied the first position of the number string in this casenwhen the number is preceded by  clir the plus characternwill be removed as wellnnthis is an error prohibiting a type approval of the phonennthis change will detect the plus character after the clir commandnand will insert it at the right positionnid
7090,arm  add declaration for prefetchoffset registernid  gary k
7091,fix to get  to connect after unpairingnnin this fix  profile will be connected when pairing with anpreviously paired headset the reason for this error was that thenconnection of the  profile was sent before the callbacknoncreatepaireddeviceresult was receied in bluetootheventloopjavanby not going to the state bondbonded until after this callback has beennreceived the problem is fixed however the use case is different if thenpairing is iated by the remote device in these cases statenbondbonded will be set when ondevicepropertychanged insteadnid
7092,settings add a hook for operator or vendor specific settingsnnthe settings application now provides a hook that can be used by annoperator or a vendor specific application to add an activity of choicenin the settings menunid
7093,usb android fix section mismatch errornid  gary k
7094,enabling cell broadcast smscb support in the platformnnadding a simple api enabling applications to control smscb receptionnimplementing parsing assembly and dispatching of smscb messages over gsmnid
7095,usb fsludccore fix section mismatch errornid  gary k
7096,serial tegrahsuart fix section mismatch errornid  gary k
7097,arm msm mdp work around hardware bugs in mdp  two workarounds for mdp   when blitting to a destination in a  buffer with  splitn the blit into two vertical  when blitting to a destination buffer with  or  split then blit into two horizontal stripesnid  colin cross
7098,keep also the capnetraw capabilitynnthis capability is used to open a packet connection needed byndodhcp  dhcpifc  openrawsocket in libnetutilsnid
7099,arm tegra harmony add support for suspendnnialize the suspend code with settings to enable  dramnactive suspend on harmonynnnedoffby gary k
7100,arm omap  enable  as wakeup for mpunid  mike chan
7101,arm configs mahimahi regenerate defconfignnnedoffby san mehat
7102,arm tegra pinmux add pingroup lists and gpio mapping for tegra   board designs all use a common set of pin mux configurationsnfor each device add a function to convert from the selected devicenconfiguration to the list of pingroupconfig structures that neednto be programmednninclude a function which returns the pin group for each gpio thisncan be used to configure pingroups as tristate or normal as gpiosnare requested and freednid  gary k
7103,check if we are in daylight time when calculating timezonennthe code that calculates the kernel timezone does not checknif we are actually in daylite time prior updating the kernelntime zone use timezonegetoffset which checks for daylightnsavings also updated settimezone for consistencynid
7104,added proper handling of ptynames for pipe usagennthis fixes running ppp through adb as sockets that are connectednto a pipe with the help of nc further the path construction nowncorresponds to other versions of pppdnid
7105,arm tegradefconfig fix so that it boots androidnid  gary k
7106,removing labels not used by applicationnnit seems that the following labels permlabaccessdrm permdescaccessdrmnhas been copied from the drm provider but are not usednid
7107,arm omap resource add perresource mutex for omap resource frameworknncurrent omap resource fwk uses a global resmutexnfor resourcerequest and resourcerelease callsnfor all the available resourcesit may cause deadnlock if resourcerequestresourcerelease is callednrecursivelynnfor current   resource the changelevelnimplementation is  using resourcerelease to remove  constraintnthis function may call resourcerelease again to  constrait if target  level is less than  this scenario the global resmutex down operationnwill be called again this will cause the secondndown operation hang therennto fix the problem perresource mutex is addednto avoid hangup when resourcerequestresourcereleasenis called recursivelynnnedoffby chunqiu wang  mike chan
7108,usb fmassstorage fix section mismatch errornid  gary k
7109,fixed problem with keymap files copied to targetnnmoved androidmk and keymap files except avrcpkl from sdkemulatorkeymapsnto buildtargetboardgeneric this causes the keymap files to copied intonthe system image of generic and sdk products but not into the system imagenof hw products originally the qwertykl was copied to target no matternif the target had a qwerty keyboard or not which is the case for egnthe nexus onenid
7110,sdkmanager exclude obsolete packages from automatic updatennfixes for sdk managern fix filter flag for update sdk nouin filter out obsolete packages when doing automatic sdk updaten respect the display update only checkbox which internally hasn always been to display nonobsolete updates so again filtern obsolete packages correctly when using the uin use the same code to filter obsolete packages in the noui modenid
7111,in cw interrogation service class is not sentnnas per  ts  section  ue  need to send service classnparameter in call waiting interrogation to network some networks return errornif service class is sent so setting service class to serviceclassnonenid
7112,drivers misc omapmdmctrl add panic notifier to modem drivernnthis patch introduces a panic notifier to turn off the modem whennthe kernel panicsnid  joe swantek
7113,handle stopping of services with still bound applicationsnnwhen a service is stopping we get unbindfinished when all connectionsnare unbinded if applications are still bound to this service we willnrebind the connection making the service hang in stopping state thisnfixed issues with anr during cts testnandroidosctsbindertesttesttransactnid
7114,arm msm gpio support for htc dreamnnadd gpio support for htc dreamnnnedoffby pavel machek  renamed to troutnnedoffby daniel walk
7115,adt  synchronize select
7116,net fix configrps option to be turned offnnnedoffby dmitry shmidt
7117,arm tegra harmony add support for suspendnnialize the suspend code with settings to enable  dramnactive suspend on harmonynnnedoffby gary k
7118,fixed problem with keymap files copied to targetnnmoved androidmk and keymap files except avrcpkl from sdkemulatorkeymapsnto buildtargetboardgeneric this causes the keymap files to copied intonthe system image of generic and sdk products but not into the system imagenof hw products originally the qwertykl was copied to target no matternif the target had a qwerty keyboard or not which is the case for egnthe nexus onenid
7119,arm configs mahimahi enable  packet matchingnnnedoffby san mehat
7120,arm tegra pinmux add pingroup lists and gpio mapping for tegra   board designs all use a common set of pin mux configurationsnfor each device add a function to convert from the selected devicenconfiguration to the list of pingroupconfig structures that neednto be programmednninclude a function which returns the pin group for each gpio thisncan be used to configure pingroups as tristate or normal as gpiosnare requested and freednid  gary k
7121,doc change updated usage doc for android toolnid
7122,dspbridge fix logic error in sleepdsp timeout valuenid  rebecca schultz zavin
7123,arm msm trout add back htc pwrsink supportnnnedoffby daniel walk
7124,doc change updated usage help for android toolnid
7125,arm msm trout add trout specific gpio interruptsnnthis adds the interrupt layer onto the ial trout gpionchangesnnthere changes were adapted from the google driver which listsnarve hjønnevåg  as the authornnnedoffby daniel walk
7126,move bioniceabic into common partnnactually this file is arch independent  also need itnid
7127,link against mac osx  sdk if building on  that tools built on snow leopard  can be used on leopard
7128,correct vm number updation during mbdn refreshnnthe voice mail number and voice mail tag are not getting updated properlynduring mbdn refresh when the data in mbdn ef is invalid the voice mailnnumber and voice mail tag are unchanged they retain their previous valuenwhere as they should be null in this casenid
7129,arm msm mdp fix workarounds in mdp  were a few problems with the last patch that are fixed by this  missing goto end would cause the bad blit to be executed after then workaround in one  incorrect printing of failed blit on a  fix split blits when rotatingnid  colin cross
7130,split off the dsohandle defn so it may be used by all architecturesnid  bruce bear
7131,sdk manager remove static package class mapnnwhen using the manager in noui mode one can usenfilter to select a list of package types to installnthis list is based on the array in sdkrepository constantsnand it used need a static map to the actual classes to donthe filtering the static map is now computed at runtimenso that we  risk forgetting to update itnid
7132,network wireless  fix bus down in ioctlnnnedoffby dmitry shmidt
7133,recompute feature dependenciesnid
7134,mtdtegranand  ignore return value for addmtdpartitionsnnwhen the mtd partition command line format is used ignoring thenreturn value left err set to the number of partitions which wasnlater interpreted as an error return code for tegranandprobenwhich caused the mtd master to be unregistered ultimately causingnnull pointer derefs when mounting the root partitionnid  gary k
7135,misc fix in hierarchyviewer pluginnn add plugin to the update sitesn remove ddmuilib from the plugin as it accesses the ddms pluginnid
7136,arm tegra dma reserve avp dma and shared dma channelsnnthe multimedia engine avp on tegra socs programs several dma channelsnitself for direct  control preallocate these channels from thensystem dma driver and ignore interrupts from themnnalso make sure that the shared dma channel is marked as allocatednto prevent it from also being allocated as a  exclusive dmanchannelnid  gary k
7137,arm tegra pinmux add power rails and resets to pingroup tablennthe reset values for some pin groups in the tegra pin mux can result innfunctional errors due to conflicting with activelyconfigured pin groupsnmuxing from the same controller this change adds a known safe nonnconflicting mux for every pin group which can be used on platformsnwhere the pin group is not routed to any peripheralnnalso add each pin  io voltage rail to enable platform code tonmap from the pin groups used by each interface to the regulators usednfor dynamic voltage controlnid  gary k
7138,arm tegra harmony remove hardcoded partition tablennuse the partition information provided on the kernel command line rathernthan a fixed table that is subject to changenid  gary k
7139,fix windows sdk buildnnlocation of hierarchyviewer is now in
7140,arm add ventana to machtypesnid  gary k
7141,adding a smaller timeout to capturing nodes this is so that it  get stucknid
7142,sdhcitegra implement suspend and resumenid  gary k
7143,arm tegra remove cascaded apb dma interruptsnntegra  routes apb dma interrupts directly to the interrupt controllernso there is no need for the secondlevel decoding routinesnid  gary k
7144,arm tegra pinmux enable count tristate controlsnnpin groups may be shared between a device driver in special functionnmode and one or more gpios by keeping track of the number ofncalls to configure the pin group into normal mode pins can safelynbe returned to tristate after all users have cancelled themselvesnby placing the pin group into tristatenid  gary k
7145,arm tegra pinmux separate chipspecific data from common datannmove the pingroup defions out of the common pinmux implementationnand into chipspecific files to prevent cluttering the implementationncode with thousands of lines of pingroup tables for every chipnid  gary k
7146,arm tegra pinmux additional pinmuxing supportnnadd routines to individually configure the tristate pin mux and pullnups for a pingroupconfig array so that it is possible to programnindividual values at runtime without modifying other valuesnnthis allows driver powermanagement code to reprogram individualninterfaces into lower power states during idle suspend or tonreprogram the pin mux to support multiple physical busses perninternal controller eg sharing a single  or spi controllernacross multiple pin groupsnnalso move chipspecific data like pingroups and drivepingroupsnout of the common code and into chipspecific codenid  gary k
7147,sdk add  to windows target listnid
7148,arm tegra gpio add request free and setwakeenable callbacksnnsetwakeenable propagates the irqwakeup flag from the cascaded gpio irq tonthe primary irqnnrequest ensures that the gpio is not in tristate and free reconfiguresnthe gpio to be in input mode and tristated when no other pins innthe pingroup are needednid  gary k
7149,arm tegra dma allow threshold callback to be nullnnsome continuous dma devices will rely on the  interrupt rathernthan the dma callback to detect halfbuffer completion allow nullnthreshold callbacks to support this casenid  gary k
7150,allow a surface to be reparcelednnwhen a surface is originally created in surfaceflinger the systemnreturns a surfacecontrol object which is a wrapper that can benused to create a surface this gets parceled to the client processnwhich uses the data to create an actual surface but does not createna surfacecontrol thus every process with access to a surface willnhave either a surface or a surfacecontrol but never bothnnhowever the parceling code assumes that there is always a surfacecontrolnand uses its information to perform the parcel this works for serversidensurfaces which have a surfacecontrol but if an attempt is made to reparcelna clientside surface the surfacecontrol object is null so the parcel failsnhowever a clientside object will contain a surface object instead whichnstill contains all the information necessary to perform the parcelnnthis patch adds the ability to parcel from a surface in addition to ansurfacecontrol meaning that a surface received by another process can bencorrectly reparceled to a third processnid
7151,arm msm  bump the revoke timeout to  secondsnid  dima zavin
7152,telephony fix cid when cid is unknownnnunknown cid is indicated as  by ril when telephony receives thatnvalue set cid to unknownn
7153,arm tegra pinmux add suspend support for pinmux registersnid  gary k
7154,fix eclipse build also build hierarchyviewer pluginnnneeds to be build on the build server since adt depends on itnid
7155,arm tegra dma add suspend support for dma controllernid  gary k
7156,dspbridge fix memory corruption in drvprocfreedmmresnid  rebecca schultz zavin
7157,fix eclipse buildnnprovides dummy implementations of the new testended methodnid
7158,arm tegra clocks add suspend support for clock  reset blocknid  gary k
7159,only hold a weak pointer on surfacecomposerclientsnneach process maintains an array of active surfacecomposerclientnobjects so that they can be reused as new surfaces are parcelednacross when a surfacecomposerclient is disposed it will removenitself from this list however because the list maintains a strongnreference on the object a reference cycle is created and thenclient is never deletednnthis patch changes the list to maintain weak pointers on the clientsninsteadnid
7160,net wireless  fix hwoob interrupt processingnnnedoffby dmitry shmidt
7161,arm tegra suspend remove literals from cpu save  restore codennuse the  movw and movt instructions to load literal values rathernthan allowing the compiler to silently generate literal sections all overnmemorynnsince this code needs to be relocatable may run with no mmu may runnwith mmu may run in iram the fewer literals the  including fixes from scott williams   gary k
7162,dspbridge properly intialize processcontext struct from bridgekillnnwhen the bridge is recovering from a fault it uses a processcontextnstruct allocated on the stack this struct also needs to be ializednproperly for the firmware loading operations to worknid  rebecca schultz zavin
7163,arm tegra suspend add suspend to  basic support for system suspend operations using  cpunpowergatingnnplatformspecific data power good times pmu capabilities etc must benspecified when registering the suspend operations to ensure that platformnpower sequencing restrictions are maintainednnsince all device interrupts except timers are disabled in the suspendnpath the wakeup interrupts need to be manually unmasked before enteringninto a suspend state or the processor will never wake up these forcedunmaskninterrupts are remasked immediately in the resume path to prevent thenkernel from livelocking prior to driver  includes fixes to cpu complex save  restore and power off timernconfiguration from aleksandr frid   gary k
7164,arm omap resource lock resource list in updateresourcelevelnntake the resource mutex when iterating over the resource userlistna race can occur if resourcerequest adds a first time user tonthe userlist while updateresourcelevel is callednid  mike chan
7165,arm tegra add io virtual memory manager interface iovmmnnthe tegra iovmm is an interface to allow device drivers and subsystems innthe kernel to manage the virtual memory spaces visible to io devicesnnthe interface has been designed to be scalable to allow for io virtualnmemory hardware which exists in one or more limited apertures of the addressnspace eg a small aperture in physical address space which can performnmmulike remapping up to complete virtual addressing with multiplenaddress spaces and memory protectionnnthe interface has been designed to be similar to the linux virtual memorynsystem however operations which would be difficult to implement ornnonsensical for dma devices eg copyonwrite are not present andnapis have been added to allow for management of multiple simultaneousnactive address spacesnnthe api is broken into four principal objects areas clients domains  area is a contiguous region of the virtual address space which can benfilled with virtualtophysical translations and optionally protectionnattributes the virtual address of the area can be queried and used forndma operations by the client which created itnnas with the linux vmarea structures it is the responsibility of whicheverncode creates an area to ensure that it is populated with  domain in the iovmm system is similar to a process in a standard cpunvirtual memory system it represents the entire range of virtual addressesnwhich may be allocated and used for translation depending on hardwarencapabilities one or more domains may be resident and available forntranslation iovmm areas are allocated from iovmm domainsnnwhenever a dma operation is performed to or from an iovmm area its parentndomain must be made resident prior to commencing the  vmm clients represent any entity which needs to be able to allocatenand map system memory into io virtual space clients are created by namenand may be created as part of a share group where all clients creatednin the same share group will observe the same io virtual space ie allnwill use the same iovmm domain this is similar to threads inside a processnin the cpu virtual memory managernnthe callers of the io vmm system are responsible for deciding on thengranularity of client creation and share group defion depending on thenspecific usage model expected by the caller it may be appropriate to createnan iovmm client per task if the caller represents an  interfacento user land an iovmm client per driver instance a common iovmm clientnfor an entire bus or a global iovmm client for an os subsystem eg the dmanmapping interfacenneach client is responsible for ensuring that its iovmm  translation isnresident on the system prior to performing dma operations using the iovmmnaddresses this is accomplished by preceding all dma operations for the clientnwith a call to tegraiovmmclientlock or tegraiovmmclienttrylocknand following all operations once complete with a call tontegraiovmmclientunlock in this regard clients are cooperatively contextnswitched and are expected to behave  vmm devices are the physical hardware which is responsible for performingnthe io virtualtophysical translationnndevices are responsible for domain management the mapping and unmappingnoperations needed to make translations resident in the domain includingnany tlb shootdown or cache invalidation needed to ensure coherency lockingnand unlocking domains as they are made resident by clients into the  spaces and allocating and deallocating the domain objectsnndevices are responsible for the allocation and deallocation of domains tonallow coalescing of multiple client share groups into a single domain fornexample if the  hardware only allows a single address space tonbe translated systemwide performing full flushes and invalidates of thentranslation at every client switch may be prohibitively expensive in thesencircumstances a legal implementation of the iovmm interface includesnreturning the same domain for all clients on the system regardless ofnthe originallyspecified share groupnnin this respect a client can be assured that it will share an address spacenwith all of the other clients in its share group however it may also sharenthis address space with other clients toonnmultiple devices may be present in a system a device should return a nullndomain if it is incapable of servicing the client when it is asked tonallocate a domainnnnniovmm client  called to create a new iovmm client object then implementation may create a new domain or return an existing one depending onn both the device and the share groupnntegraiovmmfreeclient frees a clientnntegraiovmmclientlock makes a  translations resident in the iovmmn device for subsequent dma operations may block if the device is incapablen of contextswitching the client when it is called returns eintr if then waiting thread is interrupted before the client is lockednntegraiovmmclienttrylock nonblocking version of tegraiovmmclientlocknntegraiovmmclientunlock called by clients after dma operations on iovmmn translated addresses is complete allows iovmm system to contextswitch then current client out of the device if needednntegraiovmmcreatevm called to allocate an iovmm area ifn lazy demandloading of pages is desired clients should supply a pointern to a tegraiovmmareaops structure providing callback functions to load pinn and unpin the physical pages which will be mapped into this iovmm regionnntegraiovmmgetvmsize called to query the total size of an iovmm clientnntegraiovmmfreevm called to free a iovmm area releasing any pinnedn physical pages mapped by it and to decommit any resources memory forn ptes pdes required by the vm areanntegraiovmmvminsertpfn called to insert an exact pfn system memoryn physical page into the area at a specific virtual address illegal to calln if the iovmm area was originally created with lazy demandloadingnntegraiovmmzapvm called to mark all mappings in the iovmm area asn invalid noaccess but continues to consume the io virtual address spacen for lazy demandloaded iovmm areas a zapped region will not be reloadedn until it has been unzapped dma operations using the affected translationsn may fault if supported by the devicenntegraiovmmunzapvm called to reenable lazy demandloading of pagesn for a previouslyzapped iovmm areanntegraiovmmfindareaget called to find the iovmm area objectn corresponding to the specified io virtual address or null if the addressn is not allocated in the  address space increases the reference countn on the iovmm area objectnntegraiovmmareaget called to increase the reference count on the iovmmn area objectnntegraiovmmareaput called to decrease the reference count on the iovmmn area objectnniovmm device  called to register a new iovmm device with the iovmmn managernntegraiovmmunregister called to remove an iovmm device from the iovmmn manager unspecified behavior if called while a translation is active and orn inusenntegraiovmmdomain called to ialize all of the iovmm  data structures block trees etc after allocating a new domainnniovmm device  called to inform the device about a new lazymapped iovmm area devicesn may load the entire vm area when this is called or at any time prior ton the completion of the first read or write operation using the translationnnunmap called to zap or to decommit translationsnnmappfn called to insert a specific virtualtophysical translation in then iovmm areannlockdomain called to make a domain resident should return  if then domain was successfully contextswitched nonzero if the operation cann not be completed eg all available simultaneous hardware translations aren locked if the device can guarantee that every domain it allocates isn always usable this function may be nullnnunlockdomain releases a domain from residency allows the hardwaren translation to be used by other domainsnnallocdomain called to allocate a new domain allowed to return ann existing domainnnfreedomain called to free a domainnid  gary k
7166,arm msm  block new client while suspended instead of failingnnalso fixes a potential issue where if there were multiple clientsntrying to open the device a random process would get it now thenlast requester always gets itnid  dima zavin
7167,arm tegra irq add suspend support for irq controllernid  gary k
7168,fix memory leaks and corner cases in mms appnnthe following problems will be fixed with these  indexoutofbounds exception when viewing a slide show mcurrentelement shouldn not exceed the size of all entries this caused indexoutofbounds  redundant call for registersimchangeobserver causes oom issuesn simchangeobserver is registered in onresume function so the call inn onquerycomplete can be  check for empty sender address before trying to get associated contact numbern when an sms is  fix cursor leak while receiving smsn
7169,arm omap resource add perresource mutex for omap resource frameworknncurrent omap resource fwk uses a global resmutexnfor resourcerequest and resourcerelease callsnfor all the available resourcesit may cause deadnlock if resourcerequestresourcerelease is callednrecursivelynnfor current   resource the changelevelnimplementation is  using resourcerelease to remove  constraintnthis function may call resourcerelease again to  constrait if target  level is less than  this scenario the global resmutex down operationnwill be called again this will cause the secondndown operation hang therennto fix the problem perresource mutex is addednto avoid hangup when resourcerequestresourcereleasenis called recursivelynnnedoffby chunqiu wang  mike chan
7170,arm tegra gpio add suspend support for gpio controllersnid  gary k
7171,arm smptwd avoid recalibrating local timernid  colin cross
7172,support for included and merged viewsnnwe have support in the layout library for handling included viewsnwhere the include tag is associated with the root elements rendered innthat included viewnnhowever there are various scenarios where this is not  including  views see issue  older layout librariesnnthis changeset fixes the above scenarios as well as an additionalnscenario where rendering included content in an outer layout did notnwork properly if the included elements were not at the root levelnnit does this by moving the canvasviewinfo construction into a set ofnfactory methods which handle various different hierarchy types ofnviewinfos viewinfos with null keys at the top are handled one waynviewinfo subtrees that introduce null keys further down are handlednanother and it attempts to match up elements in the uiviewelementnodenhierarchy with viewinfo objects if it cannot match them one to onenit will create a single bounding box view containing all unmatchednviewinfos this will for example produce a single box out of  viewsnnthis changeset also handles multiple includes the overlay maskncould earlier only handle a single include whereas the rewritten codencan handle multiple holes in the mask by computing the set ofnsubrectangles remaining after punching out the include holesnid
7173,work on animations show targetsnid
7174,usb composite add usbcompositeforcereset utility to force enumerationnnuse this rather than calling usbgadgetdisconnect and usbgadgetconnectndirectly to avoid sending usb disconnect events to userspace when resettingnthe busnnnedoffby mike lockwood
7175,usb gadget android remove unused function androidusbsetconnectednnnedoffby mike lockwood
7176,regenerate   to kernelknowngenericstatics innlibckerneltoolsdefaultspy to be able to build
7177,sdk manager in adt make it possible to unload the sdknnone of the issues when using the sdk manager from eclipsenis that at least on windows we  upgrade the platformtoolsnor the targets since they might be locked by adtntypically dexjar is in use and typically we have various dataresnttf and xml files used by any opened layout editornnthis adds the necessary infrastructure to know in adt whennpackages are going to be installed  a crude attempt tonsolve the dexjar issue however unloading the targets  yetnid
7178,do not submit add an experimental tracebb option to androidconfigureshnnthis option allows you to enable a new mode that will dump the pcnof each basic block being executed at runtime this will only impactnemulators built with androidconfiguresh not the full android buildnnyou must define the qemustartbbranges variable in your environmentnto enable the dumping this must list address ranges that when addressednfor the first time will enable the display of pc address on the terminalnnfor examplennandroidconfiguresh tracebbnmake   dump all addresses once you reach the kernelnnthe format of qemustartbbranges is described in targetarmhelpercnid
7179,improve envsetupsh zsh compatibilitynnzsh fails early if first vendorvendorsetupsh cannot be expandednso alternative path  be checked use find to list thenvendorsetupsh insteadnid
7180,sdk manager rework install logicnnthis should get rid of the annoying behavior on windowsnthat prevent the folder swap operation due to the foldersnbeing locked cf public issue  level summary of the issue and the fix the old behaviornwas to unzip in a temp folder then rename the old folder tonanother temp file and finally rename the new folder at thendesired location this fails typically when there is a filenindexer eg antivirus scanning the new folder so we  that foldernthe new logic is to try to move the old folder first into antemp folder if the fail move we have a lock on the old foldernand ask the user to fix it manually they probably have a filenopened and  a legit issue to report once that succeedednwe can directly unzip the archive into the final destinationnwithout using a temp unzip location thus avoiding the commonnindexer in progress issuenin case the unzip operation fails we try to copy not move thenold folder backnid
7181,add keymap files needed by the vnc implementationnnthis allows us to connect to the qemuandroid core emulation programnthrough vnc easilynid
7182,explicitly require low resolution time stamps on localinstalledmodule targetnnuse the lowresolutiontime pseudo target to explicitly state the acp operationnrelies on proper time stamp handlingnnsince acp is designed to act the same on every platform it discards thenmicrosecondaccurate and nanosecondaccurate time stamps regardless thenunderlying file system but this creates problems when local file system donsupport high resolution time stampsnnthe file being generated with high resolution time stamps will be newer thannthe one installed to target because the time stamp is truncated by acp thisnbehavior has been observed on a  systemnid
7183,fix broken linkifytest testsnnupdated the assertionsnot sure why these were marked as broken as thencode seems to work logicallynid
7184,add a pulseaudio audio backend for linuxnid
7185,add sigsetjmps for  adds two functions sigsetjmp and siglongjmpnthat fix bluetooth compiling error on  patch origins from
7186,making it possible to style browser using overlaynntoday it is not possible to style the browser in a good waynusing the overlay mechanism the reason for this is that thenbrowser is missing an application theme that can be overriddennnthe solution is to add a browserdefaulttheme that can benoverridden using overlaynnit also adds a default theme to the addbookmark activity enablingnit to also be styled using the overlay mechaismnid
7187,browser fails after mobile network  wifi changednnwhen connection changes from mobile network using proxynto wifi during an active browser session the cashednproxy setting will not update resulting in an attemptnto connect via wifi using a proxynid
7188,enable html selects to be rendered correctly even at small sizesnnthe  used for comboboxes previously  allow thenbox to be rendered with a smaller height than the pixelheight ofnthe graphical resource together with an error in the code thatnshould limit the height this caused small comboboxes to benrendered incorrect and impossible to pressnnto solve the problem the arrow of the combobox has been brokennout of the combobox graphical resource and put into an image ofnits own the  area has been expanded to allow thengraphical resource to scale down in height the combobox arrownis always placed in the vertical center and drawn after thenscaling has occurred the extra padding on the top and bottom ofnthe combobox has been removed as this caused layout errorsneg errors with non aligned combobox text fields when thencombobox size was smaller than the graphical resourcenid
7189,notification sounds not enabled at first bootnnall notifications sounds were disabled until the system propertynsettingssecuredeviceprovisioned is set to  this is done bynthe default setup wizard google application at first boot atnsecond boot the notications could be heardnthis is changed with adding a registration mechanism to be ablento receive updates when deviceprovisioned is changed thennnotification sounds can also be heard after first bootnid
7190,enable html selects to be rendered correctly even at small sizesnnthe  used for comboboxes previously  allow thenbox to be rendered with a smaller height than the pixelheight ofnthe graphical resource together with an error in the code thatnshould limit the height this caused small comboboxes to benrendered incorrect and impossible to pressnnto solve the problem the arrow of the combobox has been brokennout of the combobox graphical resource and put into an image ofnits own the  area has been expanded to allow thengraphical resource to scale down in height the combobox arrownis always placed in the vertical center and drawn after thenscaling has occurred the extra padding on the top and bottom ofnthe combobox has been removed as this caused layout errorsneg errors with non aligned combobox text fields when thencombobox size was smaller than the graphical resourcenid
7191,nohz fix nohz ratelimitnnchris wedgwood reports that  sched ratelimit nohz causes anserial console regression unresponsiveness and indeed it does thenbelow fixes it by not skipping out when the tick has been stoppednid  chris wedgwood  brian bloniarz  mike galbraith  peter zijlstra  colin cross
7192,adding support for bluetooth ftp profilennsee the following androidcontrib google groups post for more   christian bejram
7193,sempiternal status bar supportnnplatforms on which configstatusbarcanhide is false do notnpermit activities to hide the status bar usingnflagfullscreen the flag is allowed but it has noneffect in this case flaglayoutinscreen andnflaglayoutinsetdecor are similarly ignored it is as ifnthe status bar lies outside the addressable displaynrectanglenid
7194,add uicoreprotocol to simulate  exchangenid
7195,the status bar is hideable by defaultnnsee change  for the code that uses thisnid
7196,allow users to create shortcuts to the vpn settings on the home screennid
7197,refactoring and integrating into eclipsenid
7198,add  early param to avoid ialisation of the  controllernnsome development platforms may have issues with this controller sonallow easy disabling from the kernel command line the patch also addsna check for  in the realviewpbxc code to avoid settingnadditional  registersnid  catalin marina
7199,fix broken pluginnid
7200,arm improve the  cache performance when  is usednnwith this  cache controller the cache maintenance by pa and syncnoperations are atomic and do not require a wait loop or spinlocksnthis patch conditionally defines the cachewait function and lockingnprimitives rather than duplicating the functions or filennsince  cache controllers do not work with  cpus the patchnautomatically enables  when  is definednid  catalin marina
7201,net wireless  fix hwoob interrupt processingnnnedoffby dmitry shmidt
7202,adt  outlinepage npe fixnid
7203,add ant property when in release modennalso fix some npe in usage of isdklogwarningnid
7204,network wireless  set special oui  for softapnnnedoffby dmitry shmidt
7205,fixed dependency ob core data in androidhelpcnnalso moved along tcpdump optionnid
7206,update change lognid
7207,bug fix   url  url  url that starts with nnthe android browser inserts at the beginning of the url pathnwhen processing an  in an html document with a  tagnthis does not cause any errors but should be fixed to comply withnrfc  section  only happens at the first pass of the url parsing at the secondnpass where the base and path are parsed together this is dealt withncorrectly i am therefore fixing it by modifying the parse methodnin kurl to check for a trailing  at the end of the base segmentnid
7208,renaming and adding $nonnls$nid
7209,ant support for library depending on other librariesnid
7210,net wireless  fix interrupt enabling for level interruptnnnedoffby dmitry shmidt
7211,libstagefright update decode width and height with stride and slice heightnnupdate decode width and height with stride and slice height from the omx componentnin case of clips with dimensions that are not multiples of  omx componentn issues a port reconfiguration to notify change in stride and slice heightnif this is not updated in stagefright renderer gets created with wrongn parameters resulting in a green line on top of videonid
7212,fix ddms projects in eclipse for windowscygwinnid
7213,fix to make ddmlib ddmuilib under windowscygwinnnneeded by the latest change to sdkgiteclipsescriptcreateddmsshnid
7214,remove private api tests for phonenumberutilsnnissue  and comparestrictly are private apis that should not bentested in ctsnid
7215,optional s to enable sparse  imagenid
7216,updated android build instructions to mention envsetupsh and lunchnid
7217,productconfigurable sparse ext imagesnnalso pass extfs sparse image flag to the release toolnid
7218,dont use the default locale when formatting sql statementsnnit is not safe to use the default locale when using stringformatnto produce sql statements some locales will break the sqlnand as a consequence crash the appnid
7219,use asm instead of asm in public libc headersnnif compiling userland code with  the current header produces annerror the content of this header originally is a kernel internal headernwhere asm is acceptable in a header visible to userland this should benasm insteadnnthis change is done for all newly extracted headers by the extractionnscript by  which was recentlynmergednid
7220,update buildversiontest for  and
7221,fix for crash in pathbarlayerrecomputecomponentsnnthe crash is triggered by our stability test suite adding a testnfor null on the component to follow the pattern from elsewherenin the $
7222,handle locations with more than  chars for latlonnnfor some locations more than  characters are needed fornrepresenting the latlon information and the null characternat the end of the string is overwrittennthis causes the next member of the struct to be included whennreading the string which causes a numberformatexception innconvertrationallatlontofloat in exifinterfacejava and  is returnednnthe size of gpslongrawgpslatraw is increased to  innjheadh since this is the maximum length of the stringnie   ‘’ ’’    the length ofneach component is  since it is a  bit signed numbernin gpsinfoc strncpy will copy at most  characters sincenthis is the maximum length of the stringnid
7223,calendar sync expose calendar provider classnnin order to make it possible to develop a  party calendar syncnadapter we propose to remove the hide on the androidprovidercalendarnclassnid
7224,wifi state is incorrect when enabling wifinnmlastinfo and mlaststate need to be cleared when wifi isndisabled without this fix the shown state might be wrongnwhen enabling wifi again this is clearly visible in thenscenario when the user connects to an ap and then disablesnwifi and then walk out of range when the user enablesnwifi again it looks like the ap is still connectednid
7225,tegra video host reset syncpoints on host ializationnnadded syncpoints reset to host ialization to synchronize hw statenwith shadow variablesnid  alex frid  varun wadekar
7226,tegra video host fix race condition in hostintr wait listnid  alex frid  varun wadekar
7227,fixed memory leak in skdrawdrawdevmasknnami is supposed to free fimage above when ami is outnof scope however we have not allocated fimage yetnand we save reference to null and nothing will be freednid
7228,add a hardware control option for lcd backlight autobrightnessnncurrently backlight autobrightness is controllednby light sensor events however it may cause a battery consumptionnto increase in general this patch provides an option ofna hardware backlight device control directlynid
7229,keep full pinyin of the last character of chinese name instead of ialnnone pinyin ial may match many contactsneg looking up bt can get bai tao bai ting bi tengnbao tou and etc so use all characters of the lastntoken to narrow the lookup results that means btaonfor bai tao bting for bai ting bteng for bi tengnand so onnid
7230,arm tegra add tegrawdtdevice to devicescnid  gary k
7231,watchdog add tegrawdt drivernnadd a driver for the hardware watchdog timer embedded in nvidiantegra socsnid  gary k
7232,fs partitions add support for named partitionsnnadds a new file in  called partitionnamenthat contains the name of the partition if specified by the partitionnhandlernid  colin cross
7233,add delay to threadtesttestgetstatennwait a bit before checking that the thread state is waiting a contextnswitch between updating the  internal state and invoking waitncan cause the test to see that the thread is still runnablenid
7234,fix cameratesttestaccessparameters assertionnnissue  a float assertequals and swap expected and actual parametersnaroundnid
7235,prevent adding children into adapterviewsnnas reported in issue   possible to add views intonadapterviews such as listview this causes a rendering errornnthe root issue is that we were relying onnelementdescriptorhaschildren to determine whether a particular viewnis willing to accept children but that  entirely correct sincenall subclasses of adapterview such as listview spinner etc willnthrow an exception if you do thatnnto fix this  added a new method to descriptorutilsncaninsertchildren which performs additional checking beyondnhaschildren if it has an actual view object it will walk up thensuper class chain and see if the view extends adapterview and if nonview object is available it will filter out the known subclasses ofnadapterview well it  have to filter out spinner since thatnclass  report that it has childrennid
7236,write tests for the new itestrunlistener api methodnid
7237,permitting nonblocking sco bluetooth socket connectionnnbluetooth audio might not work if connected devices do not connectnsuccessfully their sco sockets it might happen if an error happensnduring connection and the bluetooth device which is trying to connectngets stucked the connection cannot be quiclky skipped since thenexisting implementation is synchronousnnthis fix changed the way the sco socket is connected by implementingnnonblocking mechanism to permit interrupting the connection processnusing the signaling socketpair so sco connection try can be stoppednand new tries can be done laternid
7238,initial commit for freetype plugin based on font engine manager new approach proposed from bitstream incnid
7239,initial commit for font engine manager this new approach proposed from bitstream inc will allow to plugin any font engine apart from freetype this will be very much valuable for the oems who may need the different engine than freetype or a set of engines to support the localization or new font formats this new proposal allows android to support more than one font engine dynamically at runtimenid
7240,efigpt register named partitionsnid  todd poynor
7241,mmc increase number of partitions per card from  to   todd poynor
7242,fixing the magnetometer testnid
7243,fix monkeyrunner sdk document generationnnactually generate the documentation at the correct location and also fixnthe build target name for the sdk documentation buildnid
7244,adding support for bluetooth ftp profilennsee the following androidcontrib google groups  order to make support for bt ftp server we need to do changes innbluetooth framework filesnn expand sdp uuid list with ftp uuidn add ftp service record registration on start upnid  christian bejram
7245,add a missing mutexrelease in rileventdelnnin the case of      maxfdeventsnwe must call mutexrelease before returnnid
7246,show images during canvas dragsnnwhen you drag in the canvas show a drag image for the view beingndragged the drag image is using  translucency such that it doesnnot obscure the drag feedback below  grabbing the image data right out of the rendered scene and justncopying out the rectangles for the bounds of each selected item thisnhas to take the canvas zoom into effect toonnwhile in the zoom code i modified the zoom in and zoom out buttons tononly zoom by a factor of  rather than  cleaned up the pair class slightly in an earlier version of thisnfix i was using it to pass back two results from the rectanglenpainting function i  do that anymore but the pair might as wellnbe cleaned upnnby the way as suggested in review  i rewrote the fixme commentnrelated to resource lookup and put it in this cl rather than revisingnthe other onenid
7247,sdk manager split install logic out of the archive classnid
7248,add missing return for requestsmsacknowledgennotherwise the error path will always be executednid
7249,implement  routinennthis routine takes socket address in the form of hostport and creates array of sockaddress for itnid
7250,add lock for serialize calls to getwritabledatabasenid
7251,separate mainc used to build the emulator from mainuic used to build the uinid
7252,add unit test configuration for moreunitnneclipse  have a builtin mechanism to jump between a class andnits test as well as a way to run tests associated with a givennclass there is however a plugin for this moreunitnnour projects have split off our unit tests in a separate projectnwhich requires some perproject configuration to tell moreunit wherento look for tests this information has to live with the projectnrather than in my workspace so  checking in the configuration filen it is harmless if you  have moreunit but useful if you donid
7253,move the start of the listener of appwidgethost from oncreate ton finishbindingitems to improve home screen performance in loadingn processnid
7254,change homescreen behavior when it is loading now user can scroll betweenn home screens before home gets fully loadednid
7255,fix for better performance when swiping through different home screen panelsnid
7256,fix memory leak due to surfaceview not being detachednid
7257,wifi static ip configuration bugnnthis fix makes sure that wifi does not get connectednwhen configuring static ip and not associated to anynaccess pointnid
7258,adding pan behavior on preference dialognd the preference dialog with text input to pan ifnthe display area is limited this helps the user to seenthe input betternid
7259,battery use   label overlaps actual time value fixednnboth the   label and actual time value is displayed on onenline as the text increases due to language changeespanol and timenin days hours minutes seconds there is overlap of text in displaynsolution is to put   label and actual time on seperate linesnid
7260,merge fix androidbat to properly cd to temp dir in  an issue when the sdk is not on the same driventhan the temp dir that androidbat usesnreported on
7261,context menu supportnncontext menu now shows some view propertiesn for all views quick access to layout widthheightn for linearlayout quick access to orientationn for all views quick access to all boolean enum or flag attributesnnsome follow up will be necessary in another cl namelyn booleans must be tristates true false clearedn need a way to clear enum and flags rather than just change the valuenid
7262,fix androidbat to properly cd to temp dirnnfixes an issue when the sdk is not on the same driventhan the temp dir that androidbat usesnreported on
7263,fix insetdrawabletesttestgetopacitynnbug  changed the constant state which affectedninsetdrawabletesttestgetopacity however the test  doing much ofnanything so  changed it a bit to call setalpha and checkngetopacity a couple times this test  have a problem withnconstant state because it calls setalpha before checking anythingnid
7264,fix code stylenid
7265,usb ehci tegra  change the hcd state on restartnnusbcore will change it once the bus has been resumed this fixesnthe hub  activate   error on resumenid  benoit gobi
7266,arm tegra clock add function to set sdmmc tap delaynnthe sdmmc controllers have extra bits in the clock sourcenregister that adjust the delay between the clock and datanto compenstate for delays on the pcb the values need tonbe set from the clock code so the clock can be lockednduring the readmodifywrite on the clock source registernid  colin cross
7267,telephony customize voicemail number for operatorsnnwhen the user reads voicemail number it will readnis first from sim then from preferences then fromncustomization that allows an operator to customizenthe voicemail numbernid
7268,fix more textviewtest landscape issuesnnissue  an unused view from the layout that was not letting some widgetsnincrease in heightnid
7269,telephony time count  restart after call gets disconnectednnavoid showing  when the call gets disconnected by thenother party check call state if it disconnecting thennjust return without updating the time countnid
7270,send vcard with unicode encoded strings over btnnthe standard android code  correctly handle creation of bytenpackets when sending vcard data the length of a string is used tonspecify the number of bytes being sent which works if allncharacters are ascii  byte per char but if unicode charactersnexist within the string then bytes vs string length differ whichncauses a truncation of the vcard during bluetooth sendnid
7271,fixed memory leak in function getthumbnailnnif the function is able to extract a thumbnail it returns withoutncalling the function discarddata which cleans up the parsednexif datanid
7272,fix listviewtesttestgetmaxscrollamountnnissue  test depends on the  screen size the sdk comments onnthe method and our goal not to depend on device screen size forcesnus to reduce the test to testing no scrolling for an empty adapternand some scrolling for a nonempty adapternid
7273,fix instructions on how to build the docnid
7274,fix viewtesttestgetvisiblerect for qvgannbug  of resizing the test view to  resize the widgetnto a size that will be visible on the screen by setting it tonhalf te size of the window this works in both portrait andnlandscape as wellnid
7275,arm msm rmnet track wakeups due to xmitrcv instead of globallynnnedoffby mike chan
7276,arm omap resource fix updateresourcelevel from resourcereleasennproperly call updateresourcelevel from resourcerelease on thensuccess case previously this was not getting callednid  mike chan
7277,arm msm rmnet different stat timeouts when screen is onoffnntimeout for modem powerdown can differ when the screen is onoffnallow timeout to change via early suspendresume hooksnnnedoffby mike chan
7278,unify am startservice commandsnnthis replaces the implementation with an equivalent onenid
7279,add option to set listpreference summaries from entryvaluesnncurrently when listpreferences are used in a preferenceactivity the summarynvalues are set to the same as the current index in mentryvalue this patchnadd an option summaryfromentries to allow the summary to be set from thencorresponding index in mentries to aid in localizationnnfor example a preference may be named color with the following attributesnin the locale de germannnmentryvalues  red green blue nmentries  rot grün blau nid
7280,allow   to pull symlinked filesnid
7281,usb gadget fmassstorage defer handling interface changes until it is safennpulling in some code from filestoragec we now handle interface changesnin dosetconfig which is now not called until any pending requests havenbeen successfully completed or cancellednnthis fixes a race condition that resulted in usbepfreerequest being callednwhile the request is still busynnnedoffby mike lockwood
7282,this patch is adding oss audio interface supportnthere is one problem to really make sound work the alsa drivernonly expose a virtual master and the default maximum volume is zeromute sonthe range of volume is  but oss seems have no interface to set the numbernto make audio works we can add following into hardwaresh tonchange master to front before audioflinger startsnecho  front
7283,allow prebuilt libraries and the associated makefile to be inndifferent directoriesn
7284,opencore  update refer to changelog for detailsn
7285,make the hellogallery tutorial example compilennthis fixes android issu
7286,enable previewer and resizer in defconfignnenable the isp previewer and resizer modules in the  defconfignnnedoffby dominic curran
7287,arm  enable btacbtb flushing on hs omap partsnnnedoffby erik gil
7288,arm  workaround stale prediction on replaced interworking branch on  patch adds the workaround for the    the btacbtb is now flushed at every context switchnnnedoffby catalin marinas  erik gil
7289,arm msm clean up configmsmamssversion dependenciesnnadded the following new silent not explicitly selectable featuresntmsmrpcrouterbwcompatntmsmnewadspntmsmnewaudmgrntmsmvfeclockswitchednand tied them to the value of msmamssversionnnalso centralized all rpc program and rpc version values innheader machmsmrpcversionsh which is included in each rpc drivernin this way nothing outside of msmrpcversionsh needs to dependnon the value of msmamssversionnnnedoffby iliyan malchev
7290,arm msm  reduce frame rate to  the frame rate fixed at  causes a lot of noisenstripping and color issues on the   camera sensornnnedoffby iliyan malchev
7291,fix buildn
7292,fix buildn  was a little bit too aggressive and removed a line it  haven
7293,arm msm camera  fix the reddish color shading issuennmodify the  lens correction settingnnnedoffby paul eastham
7294,allow am to start servicesnid
7295,fix make layoutlib under windowscygwinnid
7296,platomap gpio configure gpio padconf wakeups on latennconfiguring in the idle path is too slownpossible revisit if padconf changes past late idle will miss thisnbut suspend will enable it properlynnthis wakeup code got lost in the dspbridge commit putting back innid  mike chan
7297,arm msm defconfig enable netfilter support in defconfignnnedoffby san mehat
7298,add l option to adb syncnid
7299,arm msm rmnet track wakeups due to xmitrcv instead of globallynnnedoffby mike chan
7300,arm omap  remove per wakeup dependency on corennwe can remove this wakeup dependency since now  are enabled for iopad wakeup per domain is gauranteednto be awake or be woken up to servicennthe previous dependency did not handle all corner cases since therenwas no sleep dependency between core and per domains if per entersnret and core is on per will not be active for gpio handlingnid  mike chan
7301,rtc msmrtc conditionalize some debuggingnnnedoffby san mehat
7302,arm msm defconfig regenerate defconfignnnedoffby san mehat
7303,implement  in ashmem drivernnbug  bjorn bringert
7304,msmfb specify partial updates support as a panel capabilitynnnot all panels will be able to support partial updatesnnnedoffby dima zavin
7305,tests add simple direct io testnnadds a simple writereadback test of direct io on a blockndevice noden
7306,tests add simple direct io testnnadds a simple writereadback test of direct io on a blockndevice nodenid  garmin android technology group
7307,allow invalid uris to be added as observersnnif a null segment is added it will cause problems traversing the listnat a later pointnid
7308,sdio fix sdioresetcomm error pathnnnedoffby san mehat
7309,arm msm rmnet different stat timeouts when screen is onoffnntimeout for modem powerdown can differ when the screen is onoffnallow timeout to change via early suspendresume hooksnnnedoffby mike chan
7310,fix npe in immsnnthe code to show and hide the dialog is not thread safen
7311,fix a dvmabort that happened in the zygote checking that objects were scannednon the previous gcn
7312,arm omap  enable io iochain wakeups for pernnio events can also come from gpio modules which reside in the per domainnit is possible for the per to enter ret while core is still in onnif gpio  are enabled for iopad wakeups the per domain will notnwakeup in this case unless we enable itnid  mike chan
7313,arm msm snd checking the device number is no longer requirednnnedoffby san mehat
7314,adjust ninepatchdrawabletesttestconstructorsnnthis test was failing due to a known bug which has been fixed in next platformnreleasenid
7315,speculative fix for intermittent cts ui test failuresnnui related tests fail if the keyguard is currently displayednpreviously the cts harness used a separate util app which would disable thenkeyguard upon receiving a broadcastnnhowever if the util  process is killed by the system the keyguard isnimmediately displayed its not known for sure but this could explain thenintermittent ui test failuresnnthis commit adds logic to disable the keyguard in the cts test runner itselfnnbug
7316,arm msm  perform entire  transfer at interrupt contextnnnedoffby arve hjønnevåg
7317,arm msm  try to read the requested number of bytesnnif the requested read length is two or greater this should always worknit the read length is one an extra byte may be read if the interruptnhandler is not called in time the previous version always read an extranbytennnedoffby arve hjønnevåg
7318,strip invalid characters from xmlnnsometimes the dalvik tests print control characters in theirnexceptions for known failures this makes the report unviewablenin firefox so strip out the control characters before writingnthe xmlnid
7319,arm msm  try to recover if the  bus is busy after a failed transfernnif the bus is busy switch the  pins to gpio mode and drive the busnmanually this will clear the busy condition with some clientsnnthis adds a function  to change  mux settings since we donnot have mux apinnnedoffby arve hjønnevåg
7320,add an api to request route to an  hostnnadd api to create a route to an  host through a particularninterfacenid
7321,adt support for libraries depending on librariesnid
7322,update to latest froyo rcnid  bruce bear
7323,fix issue permission denial broadcasting intent requires nullnnthe added if corresponds to a similar check on another permission denial broadcasting some pagesnabove within the same modulennthe problem was spotted with broadcasting a actionnewoutgoingcall intent which currently does notnrequire any permissions it is suggested to require a new permission makeoutgoingcall for thenbroadcast receiver in phone applicationn
7324,strip invalid characters from xmlnnsometimes the dalvik tests print control characters in theirnexceptions for known failures this makes the report unviewablenin firefox so strip out the control characters before writingnthe xmlnid
7325,added more details to changelog added doc on mio buffer allocationnrenamed the miodevelopersguide docn
7326,pppd fix logging so that packets etc are correctnnthe pppd logging was incorrect it would log messages like sent pnrather than sent lcp confreq because the logging functionnhad been directly replaced with the androidlogvprint functionnnthis patch corrects that so that the log message is first formattedninside pppd before being passed to androidlogwrite insteadn
7327,cameraservice reuse the overlay when preview is restarted after image capturennin cameraserviceclientstartpreview an instance of overlay is creatednand it is passed to the camerahal before sending a command to capture annimage the preview is not stopped by the application therefore this overlaynobject is not freed after image capture the application once again callsnstartpreview at this point the cameraservice tries to instantiatenanother instance of overlay the previous instance of overlay cannot benfreed because the destructor is privatenntherefore i modified cameraservice to reuse the same instance of overlaynnnedoffby anu sundararajan
7328,fixed alarm driver problem on
7329,arm tegra add api for enabling the usb physnnmoved usb phy ialization codenadded support for  utmi phynupdated the registers as recommended by nvidia to be much closer to passing the integrity testsntodo add support for  ulpi phynnnedoffby benoit gobi
7330,add kernel header file  in bionicnnthe header file is needed to add route to an  host from user spacenid
7331,arm configs mahimahi enable net class actions and ingress net schednnnedoffby san mehat
7332,add api to add a route to  hostgatewaynnadd api to create a route to an  hostgateway through a particularninterfacenid
7333,fs partitions fix warnings in fspartitionscheckcnid  colin cross
7334,support for virtualvoicecall over sco implementation of the  partynapinid
7335,support for virtualvoicecall over sco  party apis added for starting andnstopping a virtual voice call over sconnwith review comments implementednid
7336,input  retry read if  failsnnnedoffby arve hjønnevåg
7337,support for virtualvoicecall over sco  party apis added for starting andnstopping a virtual voice call over sconid
7338,usb gadget use usb phy apinnnedoffby benoit gobi
7339,adding extra thread informationnnwhen dalvik is dumping the thread state it is quite useful to seenwhich threads are waiting for which threads and objects this is as annexample useful when investigating anr issuesnid
7340,switch the required host java environment to  path to the java toolchain is now explicitlynspecified so no manual configuration should benrequirednid  java version changed and we made envsetup automatically find the right javahomennthis change forces everyone to resource envsetupshnid  javadoc for java  you  set bootclasspath there would be errors likenjavadoc error in doclet class droiddoc method start has thrown an exception javalangreflectinvocationtargetexceptionnid  inheriting privatebootclasspath from moduels that depend on apistubstimestampnnthe inherited value has caused build breakage on mac buildnid  stayoffmylawn when setting  check stayoffmylawn in setjavahome that function alreadynrefuses to update javahome if  set to something which shouldnbe sufficient for anybody who  want the script to mess with itnnwith this change you can get the benefits of the  autoselectionnwithout having to suffer through window title changesnid
7341,arm configs msm regenerate defconfignnnedoffby san mehat
7342,arm configs msm enable cbq network schedulingnnnedoffby san mehat
7343,arm configs mahimahi disable debug optionsnnnedoffby san mehat
7344,support for virtualvoicecall over sco implementation of the  partynapinnreview comments implementednid
7345,updated the miodevelopersguiden
7346,move the code which sets the scangeneration and other fields of a chunknin scanobject to before the early return in the cases where clazz is eithernnull or unlinkedjavalangclassnthis way the  scanned last time check in markobjectnonnullcommon willnsee the scangeneration and markgeneration as equal and  dvmabortn
7347,revert fix a dvmabort that happened in the zygote checking that objects were scannednnthis reverts commit
7348,bionic fix timersettime to disarm timers if given a zero itvaluennif the itvalue member of value is zero the timer shall be disarmedninstead the current implementation of timersettime arms a timernto the current time whenever it is given a zero itvaluenthis breaks native application timers are fired up unexpectedlyninstead of being disarmednnnedoffby ohad bencohen
7349,initial changes to support counting marksweep by generationnntallies by bytes and object counts the difference between the current gcnnumber and the gc when this object was creatednincludes a way to force gc before bumping a failed alloc so generationsnare all roughly the same size where size means number of total bytesnallocted this creates  generationsnsomewhat bogus in the presence of userforced gcs or gcs which get triggered byna single object larger than the number of bytes which will force a gcn
7350,fixing issue  fix adds support for clearing frequently called numbersnid  david marqu
7351,define byte order properlyn
7352,arm configs msm disable debug optionsnnnedoffby san mehat
7353,network wireless  add driver setsuspend commandnnnedoffby dmitry shmidt
7354,add some missing gitignore filesnid
7355,process events for non android projectsnnproject opened event are triggered for all eventsnthe code would then try to get the projectstate fornthe opened project whether it was an android projectnor not filling the log with errorsnnsame thing for file modification event for defaultpropertiesnonly care if the containing project is an android
7356,fix missing nlnid  bruce bear
7357,merge commit  into mergen
7358,fix  classpath to not copy androidmknnwith the recent change to build all folders under the root foldernthere was an issue with eclipse copying srcandroidmk into the binnfolder this prevented the sdk from building locally due to duplicatenmodule namesnid
7359,merge commit  into mergen
7360,merge commit  into mergen
7361,merge commit  into mergen
7362,arm tegra suspend add barrier after restorenid
7363,prelink dalvik for   yet support prelinking and we need to disable it until it doesnid  bruce bear
7364,properly discard data if ldisc is closednid  erik gil
7365,icons for explode and outline toggle in the layout editornid
7366,refactor stripper allow a stripper other than soslim to be specifiednid  bruce bear
7367,gps initialize xtra support when gps is enablednnbug   mike lockwood
7368,vendorsetup needs to look in additional placesnid  bruce bear
7369,use dips in some testsnnissue   dips rather than pixels so that the tests scale acrossndifferent dpi devices using dips in horizontalscrollviewtestnso that less pixels are required to fling on ldpi devicesnscrollingmovementmethodtest needs to use dips so that thenview will only be scrolled twice before hitting the edgenid
7370,gps  set xtra download pending flag at boot timennxtra data downloads are now strictly on demand from the gps enginenalso fix typo in handledownloadxtradatanid  mike lockwood
7371,delete the libdiskconfig sub  another copy in buildsystemcorenid  bruce bear
7372,made debug level a runtime changeable parameternndebuglevel is a bit   erik gil
7373,move the code in scanobject which sets the scangeneration and other fields ofna chunk to before the early return in the cases where clazz is either null ornunlinkedjavalangclassnnthis way the  scanned last time check in markobjectnonnullcommon willnsee the scangeneration and markgeneration as equal and  dvmabortn
7374,merge commit  into mergen
7375,merge commit  into mergen
7376,arm msm mahimahi switch to generic wlanplath headernnnedoffby dmitry shmidt
7377,arm tegra suspend add prototype for  colin cross
7378,toolchain defines unix force correct case to be selectednid  bruce bear
7379,arm msm smd use either package  or  not bothnnthis modifies smd to use either the package  or package  not both the current code tries to allocate as  on allnsystem which can produce a scary looking error message on boot   wrong size     this error the code then falls back on the package  allocationnmethod this method is inefficient because it causes a slow downnon some systems even when the allocation method can be determinednat compile time it also causes a kernel size increase that effectsnall system and is not needednnthis change corrects the allocation to use one method or the othernand not bothnid  daniel walk
7380,fix missing nlnid  bruce bear
7381,arm tegra timer prevent  timer wrapsnnnedoffby colin cross
7382,change systembuilder tag to optionalnid  bruce bear
7383,net wireless  update to ver  includes softap fixes and unique mac address wps fix use of wlanplathnnnedoffby dmitry shmidt
7384,arm tegra suspend add accessors for cpu power timesnnnedoffby colin cross
7385,arm tegra  add isb to prevent prefetchnid
7386,sapphire makefile should only be included for arm buildsnid  bruce bear
7387,fix compilationnid  erik gil
7388,fix compile warnings and errorsnid  bruce bear
7389,fix missing nlnid  bruce bear
7390,merge commit  into mergen
7391,fix missing nlnid  bruce bear
7392,bluetooth hack  dereference null pointernnthis avoids the  panic during incoming  sends psm   connection request before the  info responsenwhen we receive that info response we crash on null pointer herennbug   nick pelli
7393,merge commit  into mergennconflictsntincludehardwareoverlayhn
7394,merge commit  into mergen
7395,merge branch  into commitn
7396,set the modes for rc files in systemetcnid  bruce bear
7397,sound oss  add full duplex operation for mono inputoutput devicennthis changes permits simultaneous playback and record using the mono device on  andnin particular use of bluetooth device for voice dialer of voice recognitionnnnedoffby eric laur
7398,dbus is not fully implemented disable it for nownid  bruce bear
7399,adjust testinstrumentationdiffcert to test that startinstrumentation throwsnsecurityexception directlynnpreviously it tested for  shell am  failing which can benindeterministicnninternal bug
7400,cpufeaturesh only exists for armnid  bruce bear
7401,arm msm kgsl invalidate base addrs when setting page tables or flushing tlbsnid  shubhraprakash das  dima zavin
7402,merge commit  into mergen
7403,merge commit  into mergen
7404,merge commit  into mergen
7405,merge commit  into mergen
7406,merge commit  into mergen
7407,merge commit  into mergennconflictsntcorejavaandroidviewanimationtranslateanimationjavantcorejniandroidmkntcoreresresvaluesenrgbstringsxmlntlibsaudioflingeraudioflingercppntlibssurfaceflingerlayerscreenshotcppntpackagessettingsprovidersrccomandroidproviderssettingssettingsproviderjavan
7408,merge commit  into mergen
7409,allow for platform projects to be used with the debug running app buttonnnsince  no way to figure out automatically which project is validnfor a given running app we read the name of the project through annenvironment variablennnote the goal of this new feature is for people working on thenplatform but who still want to use the ddms plugin and some of itsnfeaturesnid
7410,toolbox add uptime commandnnprints elapsed real time since boot as well as idle time and sleep timenid  mike lockwood
7411,adt fix npe in configcompositennfor some reason the locale used by the configstate in thenconfigurationcomposite had null members failed to reproducenit one clue might be there was a nonselected  opennas an editor tab but the java workspace was not the mainnvisible one  possible some event fired before thencomposite controls got creatednid
7412,update sdk build file to package the correct version for groovynid
7413,revert arm defconfig sholes enable kernel memleak detection in defconfignnthis reverts commit   rebecca schultz zavin
7414,build the host version of libdiskconfignid  bruce bear
7415,revert arm defconfig sholesdefconfig enable slab  list debuggingnnthis reverts commit   rebecca schultz zavin
7416,fix sdk build by packaging the new ant rules filesnid
7417,fragment rendering supportnnthis changeset adds designtimepreviewing of fragments wherena layout which contains fragments will show the contents ofnthe fragments inlinenninitially the fragments are empty but you can right click on them tonbring up a context menu where you can choose which layout to show atndesigntime this is persisted across ide sessions just like thenlistview render previewnnin addition to the generic layout chooser all layout references foundnin the associated fragment class usually what you want are listedndirectly in the menunid
7418,arm tegra timer separate clocksource and schedclocknntegraclocksourceread should not use  wrapping isnalready handled in the clocksource codenid  colin cross
7419,not possible to follow links after pinchzoom in browsernna pinchzoom may set the browser in drawispausednstate which prevent the screen from being updatednna pinchzoom starts with a call to startdragnwhich calls pauseupdatepicture which in turn setsnwebview in the drawispaused state the pinchzoomnends by invoking onscaleend which sets mtouchmode tontouchpinchdrag when the gesture finishesnontouchevent is called with action motioneventactionupnbut mtouchmode equals touchpinchdrag and that case isnnot handled so resumeupdatepicture is never callednthe function resumeupdatepicture has to be called innorder to reset the drawispaused statennthe solution is to call resumeupdatepicturenin ontouchevent if mtouchmode is equal tontouchpinchdrag in the motioneventactionup  open wwwgooglecom in classic  use pinchzoom to zoomin and  release fingers straight  click a link to go to a new page the new page does not  fling or zoom using zoombuttons to makenthe new page be displayed on screennnnote in step  it is important to release straight up in ordernto not trigger a flingnid
7420,form editor updown move accross siblingsnnupdown in the tree editor work at the xml levelnin a manifest the tree block filters elements sonthat only certain types are visible take thisninto account when moving elements updown so thatnonly siblings that match a given display filternare usednnsdk bug
7421,move emulator skins to developmentgitnnalso added new default ram config to the skinsnid
7422,adt more animation stuffnid
7423,fix bug in editor open utilitynnthe code to open a file called by go to declaration show includenetc handles two  the file is in the workspace open using eclipse ifile  the file is outside the workspace open using the fallbackn external storage which means you get a plain xml  a third scenario the file is not in the workspace but isnpart of a project in the workspace so it does have a valid ifilenthis can happen if you import a project but choose not to copy thencontents into the workspace this changeset adjusts the code to opennup an editor such that it handles this third scenario and we get ournown xml editors for these types of filesnid
7424,fix darwin buildnnthe reason for the build breakage is still mysterious thoughnwere the system headers updated during the last system update nid
7425,merge commit  into mergen
7426,added color highlighting to monthviewnn the current monthview does not have any color highlighting and makes it hard to tell what calendars have events on that day the current change fixes that issuenid
7427,merge commit  into mergennconflictsntsrccomandroidmmsuimessageutilsjavan
7428,proxy getaddrinfo when  is setnnpart of ongoing dns proxycache worknnbug
7429,media camera check for valid crop lengthnid  nagesh subba reddy  abhijeet dharmapurikar
7430,merge commit  into mergen
7431,fixing bug in the name of gl function glcleardepthf  glcleardeapthnid
7432,merge commit  into mergen
7433,merge commit  into mergennconflictsntsrccomandroidbrowserbrowseractivityjavan
7434,video tegra host disable  powergatingnnit is possible for the  block to generate an invalid memorynrequest during the power up sequence in some cases workaroundnis to disable  block power gatingnid  colin cross
7435,merge commit  into mergen
7436,manual gyroscope test for cts verifiernnthis manual test consists of  stages each stage asks the testernto rotate the device along an axis in a certain direction thenactivity turns green when the device is reporting the expectednvalues and red when it is reporting unexpected valuesnnfinally there is a warning when the sensor values are highernthan expected and may be in degreesnid
7437,fix updown buttons in uitreeblock form editornnin the manifest editor and actually all other formneditors it was possible move elements updownnusing the updown buttons however this allowed anuser to move an element in a parent that would notnaccept that parent the tree block would then notndisplay the element any more and a user would havenhad to switch to the xml view to correct thisnnthis fix thus makes sure a parent will accept thennode being moved the updown buttons are alsongrayed appropriately if the action  possiblennsdk bug
7438,replace sdkmakerelativetonnipathmakerelativetoipath was not supported on eclipse  so wenhad a local version of it in our sourcebase asnsdkmakerelativetoipathipath however our version only worksncorrectly for directories not plain files but i had been using itnfor files as wellnnnow that we no longer need to support eclipse  remove our localnversion and use the builtin path conversion methodnnfixed some invalid javadoc toonid
7439,merge commit  into mergen
7440,remove android tools  convert to android projectnnthe feature to convert a java project into annandroid project is broken  also quite irrelevantnnow since project are better created using the npwnnsdk bug
7441,arm tegra fuse add function to get tegra revisionnid  colin cross
7442,merge commit  into mergen
7443,adding null check to avoid npe on actionup in titlebarnnwhen launching browser from google search and then holding on to the stop buttonnwhen backing out of the browser and then releasing it results in a crashnactionup is triggered outside browser and getcurrenttab is then nullnadding null check to avoid the resulting npenid
7444,update changelognid
7445,merge commit  into mergen
7446,please ignore this is a test commitnid
7447,arm tegra add emcclkrate field to dc platform datannif passed in use the required emcclkrate passed in from thenboard file if no value set use ulongmax as beforenid  james wyld
7448,merge commit  into mergen
7449,please ignore this is a testnid
7450,stop wifimanagertest from disabling current networknnbug
7451,stop wifimanagertest from disabling current networknnbug
7452,serialcore add wakepeer uart operation which is called before starting uart tx the idea here is to provide a mechanism where we can wakeup our peer before sending datannnedoffby san mehat
7453,remove unused  toolchain configuration for   mark d horn
7454,rename some layout editor classesnnthis changeset contains only renaming of some classes and a couplenof  column adjustments no semantic changesnnthe name changes arennbaseview  baseviewrulenbaselayout  baselayoutrulenscaleinfo  canvastransformncanvasselection      outlinepagenid
7455,phone voice call support for dsdsnnadded voice call mmiussd support for dualnsubscriptionnid
7456,phone voice call support for multi sim functionalitynnadded voice call mmiussd support for multiplensubscriptionsnid
7457,update layoutlib api level to  will make earlier adt versions force the user to updatenid
7458,makefile rule for cts verifiernnadd a makefile rule to build and launch the cts verifiernthis should eliminate the problem of building the appnusing one lunch target and then installing an app builtnfrom a prior lunch targetnid
7459,settings add dual sim settings for multi sim functionalitynnnew settings app multi sim settings has been added tonobtain user preferred subscription for sms voicemmiussdnand data callnextended network settings to manage multiple subscriptionsnid
7460,adtlayoutlib new api to let the caller instantiate the bitmapnnthis allows us to use a bitmap more compatible with swtnnin  case because the bitmap needs to be converted to swtnbefore being displayed we create a bufferedimage using a byteninstead of a int so that we can simply do an array copynnalso we reuse the generated bufferedimage unless the size changednwhich lets us see less gc during animation playbacknid
7461,merge commit  into mergen
7462,policy status bar icons and operator name display for multi sim functionalitynnadded support to display signal strengthdata icons andnoperator name for multiple subscriptionsnid
7463,contacts fix a small grammatical error in the german translationnid
7464,msm rpc free the buffer if read failsnnin doreaddata while reading a data fragment ifnread fails to read all the required bytes free the fragmentnbuffer also correct the allocation size for fragment buffernnnedoffby niranjana vishwanathapura
7465,accumulate rendering errors and ensure they are always shownnnthere are some scenarios where rendering failures such as an npe innthe layout lib will not appear in the error display and it will notnappear in the error lognnin addition we now get fidelity warnings from the layout librarynwarning about android code using graphics operations not supported bynthe layout preview and these should all be displayed to the usernwith a proper explanationnnto solve these problems this changeset replaces the layout loggernwith a new logger  writes all exceptions to the adtpluglogthrowable method whichnresults in the full exception being captured in the error  accumulates all errors warnings and fidelity  provides a summary of all the problems at the end such that theynare all displayed in decreasing order of severity for the usernrather than the last one clobbering them allnnthe logger also records whether exceptions were logged and if so thenlast line of the error display indicates that further details can benfound in window  show view  error lognnfinally the old logger was a member of the graphicaleditorpart butnthis is a lightweight object so there is no need to cache it and innfact we  want other types of rendering such as previewnrendering popping open the error display areanid
7466,referencing of rrecordname is occured when rrecord is nullnid
7467,fix  have the right javac set in my environment nid
7468,move wst doc to sdkdocsnid
7469,win sdk split the winsdk makefile and script into  parts do not mergennmerge change  from masteropen into  to fix broken sdk buildnnthe main makefilescripts to build the windows sdk is stillnin developmentbuildtools however it defers to a newnmatching set of files here in sdkbuild to build andnpackage things that depend on the sdkgit or externalqemugitnnthis will make it easier for us to prepare sdks based onna toolsrn branch that  cut at the same time than thenplatform branchnnthis is a multipart changeset the other part is inndevelopmentgitnid
7470,merge  android tools  convert to android  into  feature to convert a java project into annandroid project is broken  also quite irrelevantnnow since project are better created using the npwnnsdk bug  picked from commit
7471,merge commit  into mergen
7472,add baselinemargins to viewinfonnalso make it so that older layoutlib that are using  return thenvalue through reflection done in layoutlibrarynid
7473,merge commit  into mergen
7474,fix androidnetctsproxytestnnbug  the code that was trying to write to secure settingsnand take off the brokentest annotationnid
7475,merge commit  into mergen
7476,merge commit  into mergen
7477,please ignore this is a testnid
7478,policy sim security support for multi sim functionalitynnadded support for pinpuk operations on multiple subscriptionsnid
7479,merge commit  into mergen
7480,fix minor issues related to module importsnn remove an infe loop when a module tries to import itselfn print better diagnostics in case of succesfulfailed module importnid
7481,sdkmanager suggest which platform to install to fix a broken addonnnthe sdk manager now has the notion of a broken installed packagenthe brokenpackage can specify thatn it requires a certain minimal platform to be installednandorn it requires a specific exact platform to be installednnthe later constraint is expressed by iexactapileveldependency andnallows updaterlogic to find which platform would fix an addon whichnis missing its base platformnid
7482,merge commit  into mergen
7483,added empty check before removing first element in waiting apn listnnif the apns are removed during a pending connect the waitingapns list will be clearednif the response returns with an exception the gsmdataconnectiontracker will remove thenfirst waiting apn without empty check so an empty check has been added to avoidnindexoutofboundsexceptionnid  christian bejram
7484,fix filename  displayed on titlebar when the file not existnid
7485,handle pullvcardlisting req without search value for number attrnnwhen sending pullvcardlisting request to the phone while usingnthe search attribute number without any search value thenphone responds with error code internal errornninstead the phone should return all numbers in the phonebooknid
7486,merge commit  into mergen
7487,phone network and call settings support for multi sim functionalitynnextended network and call settings to support multiple subscriptionsnid
7488,merge commit  into mergen
7489,modify compatibility check to include qhd  resolutionnid
7490,merge commit  into mergen
7491,the rendering target mode should be preserved across ide sessionsnnthis changeset fixes the bug where the rendering target is notnpreserved across ide sessions the way the other configuration settingsnseem to benid
7492,fix the pcbios search path for build treesnnthis patch fixes the routine that looks for the  biosnfiles when running from the build tree ie  just after building the  productnnturns out that the files are installed  by our build scriptsnid
7493,fix contexttest and contextwrappertest interactionnnbug  passed when run on its ownnbut failed when executed in batch mode contexttest wasninterfering by calling obtainedstyleattributes which wasncalling gettheme gettheme sets the theme to the defaultnif there is no theme you can only set the theme once innthe context so future calls like those in testaccessthemenno longer worked and broke the testnnthese contextwrappertests are somewhat silly since thenimplementation of contextwrapper is to just call thensame methods in the context it wrapsso i moved thentest into contexttest and made sure to set the themento the test theme at the beginningnnthese contexttests are also funny because there are multiplenimplementations of context and this one just happens to worknwith the context given back by androidtestcasenid
7494,buildplatformssh add arch optionnnthis adds the  option to replace  which isnstill supported but deprecated the reason is simply that the scriptnexpects a list of architectures not abi namesnnalso make the script accept commaseparated lists as well asnspaceseparated ones this means that now the following are equivalentnn buildplatformssh   buildplatformssh  buildplatformssh   buildplatformssh  last form is the preferred format because it makes it easier toninvoke the script with an architecture list from other scriptsnid
7495,add dropdown menu button to the palette controlnnadd a menu button to the palette label line as is done in mostneclipse windows which brings up the context menu for thenpalette this makes the palette modes etc a bit more discoverablenni played with adding a few dedicated toggle buttons there as wellnbut it looked a bit odd because the palette toolbar is a few pixelsnhigher than the layout actions bar in the canvas so visually thingsnlooked misaligned  need to address that before adding propernaction buttons in the palette title panelnid
7496,rebuildallprebuiltsh fix darwinssh with  patch allows one to use both  and  remotely build the  prebuilt binaries on a darwin machinenaccessed remotely through sshnid
7497,fix contactspeopletesttestaddtogroupnnbug  my contacts group used in the test is not created automaticallynso add the group before starting the testnid
7498,packagereleasesh support multiarch packagingnnmodify the script to allow packaging a release that supportsnmultiplearchitectures eg arm and  use the new archnoption to do that as innn packagereleasesh   that if you  use toolchain explicitely this willnadd  by default is you want to package for the  architecturenn allow commaseparated lists for arch and toolchainnid
7499,fix spareparts crash going into battery statsnid
7500,adding functionality to get the local name of an object from  local namenid
7501,support reboot optionsnnoptions supportednrebootnreboot bootloadernnstill pendingnreboot recoverynnnedoffby vikram pandita
7502,custom view handling improvementsnnfirst and foremost allow custom views to accept children such thatnyou can drag  drop children into the custom view in the outlinennsecond prevent an npe which can occur if you drag into a layout wherenthe root element is a custom viewnnthird handle  not  better provide a custom icon andninline the view class name in the outline labelnnfourth allow double clicks in addition to ctrlclick which is alreadynsupported on the custom views in the palette to allow jumping to thencustom view codenid
7503,fixed refactor bodgenid
7504,revert extra audio headers for better buildtime compatibilitynnthis reverts commit
7505,suppress videovideotesttestonkeydownnnbug  test fails when it is run with testgetduration even though the testntears down the activity there seems to be some state within videoviewnthat causes testonkeydown to fail update the expectations for nownand rename the expectations filenid
7506,change the tp datacodingscheme when encoding type is   class   encoding uncompressednmodified  no meaning  encoding uncompressednntrefer to  ts   if set to  indicates that bits  to  are reserved and have no message class meaningntso it is no matter what class is set at bit  and
7507,make apache httpclient play nice with large kernel socket buffersnngiven the large maximum size likely to be set for kernel socket buffers on ltendevices we need to stop apache httpclient from allocating some integernmultiple of that size on the heap for each socket on one device  httpnconnections would fill the heapnnbug
7508,serial tegrahsuart cleanup fifo flush and set baudrate operationsnndo necessary waits and fifo clear according to nv also use  the rate set while bringingup rx dma during to decreasenstartup timenid  andrei warkentin
7509,qemu logging  clear the logs upon receiving a   add logging timestamps for network  extended tcp redirect logs to include local srcn ipport and fixed byteordering in log filesnid
7510,mmc mmcblk add support for deferred sd bus resumennnedoffby san mehat
7511,mmc core rework mmcdelayedwork wakelock so that the wakelock is only extended if a card is added or removednnnedoffby san mehat
7512,revert mmc mmcblk add new feature  reverts commit  san mehat
7513,mmc card add mmcblockdeferredresume option to kconfignnnedoffby san mehat
7514,this patch sets up the omap uart irqflags as shared since serialc requests them to handle inactivitynnnedoffby madhusudhan chikkature  rebecca schultz zavin
7515,add  keypad as a wakeup sourcens for setting the padconf value for sysnirq line which isnconnected to   this will fix the  keypad wakeupnnnedoffby lesly a m  sripathy vishwanath  vikram pandita
7516,better noise suppression for faststandard modesnnuse longer noise filter period for fast and standard modennported from lo tree commit  moiz sonasath  aaro koskinen  rebecca schultz zavin
7517,mmc core add deferred bus resume policynna card driver can now specify that the underlying bus should notnautoresume with the rest of the system this is useful for reducing resumenlatency as well as saving power when the card driver is not using thenbus in the future  add support for manual suspendnnnedoffby san mehat
7518,fix scllsclh calculationsnnfix scllsclh calculations for hs and fast modes currently the drivernuses equal roughly lowhigh times which will result in too shortnlow  trm gives the following equationsnn fs tlow  scll  internalclkn thigh  sclh  internalclkn hs tlow  scll  fclkn thigh  sclh  fclknnfurthermore the  specification sets the following minimum valuesnfor hs tlowthigh for capacitive bus loads  pf maximum speed   pf maximum speed  speed tlow thighn   ns  nsn   ns  nsnnand for fsnn speed tlow thighn   ns  nsn   ns  nsnnby using duty cycles  hs f and  s we stay above thesenminimum valuesnnported from lo tree commit  moiz sonasath  aaro koskinen  rebecca schultz zavin
7519,fixed the problem that  get property switch  inputreadercppnif the lid state is open then inputreadergetswitchstatenalways returns  akkeysatteunknown because the switch statenis defined as  akeystateup  akeystatedownnmoreover for the key state it will return akeystateunknownneven if the supported keycode is presented in that case it shouldnreturn   means that lid state  a the accessibility of the physical keyboard but it  that the device has a physical keyboard or not this valuenshould be configured as  if the device has no physical keyboardnso the existence flag of a physical device is needed to setupnthe property configurationncurrently phonewindowmanagerdeterminehiddenstate always returnsnvisiblestate if mode i
7520,let socketclient users write binary data to clientsnnthis is a dependency for the dns proxy clsnnthis cl also adds a new socket for the netd process to inherit whichnis owned by the inet group so only apps with the internetnpermission can use the dns proxynid
7521,possible numberformatexception of parseint is outside trycatchnid
7522,basic fragment supportnnthis changeset adds preliminary support for fragmentsnn add  to the palette along with a drop handler which popsn up a class chooser to pick the fragment class all projectn implementations of androidappfragment andn  are listednn adds a fragment descriptor such that code completion works forn  elementsnn fix project callback such that it does not complain about a missingn class fragmentnn fix outline to display the name of the fragment rather than then fragment tag namenn this changeset also centers the label in mockviews since those aren still used to render fragmentsnid
7523,arm usb  fix handling of out packets on  with length   gadget level completion function was getting called for the ack packetninstead of the data packet making it impossible to read the data from the hostnnnedoffby mike lockwood
7524,fix tracing segfault due to improper upstream integratennthe integration failed to update some tcg files resulting in a crash whenntrying to trace stuff and properly a few other problemsnnundo it we will reintegrate tcg changes laternid
7525,avoid systemserver crash in viewroot surface null pointernid
7526,capture branch historyn
7527,fix tracing bug when built as  programnid
7528,fix build wrong import packagennfix build wrong import packagenid
7529,wait for completing the ialization of webviewcorennthis findall will fail when webview$mnativeclass field is not updatednthat field is updated after the ialization of webviewcorenthe test may execute before the completion of it because the test casenwaits for the completion of it on ui thread the test cannot noticenthe completion message of it in that case test will failnso the test should wait for the completion of on nonui threadnid
7530,usb otg tegra moved tegrausbh to includelinuxplatformdatanid  benoit gobi
7531,fix buffer overwrite caused by typonid
7532,adt string refactoring replace in all filesnnwhen doing an extract string either from java or xmln can scanreplace in all other java filesn can scanreplace in all other xml filesn in java also replace in assignementsn in xml also replace existing string name if already definednid
7533,usb host moved tegrausbh to includelinuxplatformdatanid  benoit gobi
7534,gles  translator implementationnthis is the  on top of opengl implementation on the hostnmost of this change is moving code which is necessary by bothngles  and gles  implementations from glescm folder intonglcommon  includes gles  entry points implementationnid
7535,dns proxy the start proxies getaddrinfo callsnnwill also need to do gethostinfo but  probably about itnnit was cleaner to do it at this level rather than speaking in termsnof dns packetsnid
7536,fix the dns proxy again for realsnnme  the suck this morningnnbug
7537,adding small tests case for   librarynid
7538,fix dns  assume writing  bytes to socketclient will be successful asnimplemented in libsysutils right now it returns an errornnbug
7539,dns proxy thread in netdnnnew thread in the netd process which listens on thendevsocketdnsproxyd socket group owned by  so only useablenby apps with the internet permission and does getaddrinfo requestsnfor other processes caching in one place rather than perappnnstill remaining proper caching based on dnsrequested lengths uppingnthe cache size getnameinfo stats flush etc etcnid
7540,fix the standalone emulator buildnnthe previous commit broke it due to the way it handled localarnid
7541,permit  length writesnid
7542,avoid redefining hostcccxx when building the emulatornnhostcc and hostcxx are definedcontrolled by the build systemnwe  want to redefine them here because this forces on linuxnthe use of the  host toolchain for all other host modulesnbuilt after externalqemunid
7543,sdk manager specify proxy on noui commandlinennthis adds  flags to specify the httphttps proxy hostport onnthe command line when using the consolebase noui sdk updatenthe commandline proxy values override settings if definednnalso revamped the argument help display to support largerncommandline long argument sizes and mandate that argumentsncan have one of ther short or long argument name optionalnid
7544,deal with the new directory structurendream is now called dreamopenn
7545,fix http redirect missing statuscode  and
7546,msm defconfig enable configmmcblockdeferredresumennnedoffby san mehat
7547,add support to flash large image files bigger then phone ram availablenid
7548,changed logging functions in bioniclogdwritecnnmain differences from original  now log channel for logidmain may exist even if logidradion facility  writetolognull now acts as always successful   more simplier to add new logging channels nown
7549,merge from mastern
7550,modified so that assertloadurlsuccessfully will use webchromeclient classnnthere is a process to wait viewgetprogress in assertloadurlsuccessfully within the test of webhistoryitemtest to become  getprogress is already  before the page starts to load there are some cases where this test fails due to process gets out of delayedcheck before page is loadednnto avoid this i made change so that progress is checked within onprogresschanged of webchromeclient class to becom
7551,mediaplayer fix audioflinger create track failurenn audioflinger track creation fails after mediaserver crashn mediaplayer  register for new sessionid value ifnmediaserver crashes during a song switch of music playernand it uses the old sessionid though sessionid values arenreset by audioflingernaudioflinger assigns the same sessionid to tone generatornand since strategies of these two session differ it wouldnresult in track creation failuren fix this issue by registering for new sessionid fornmediaplayer if mediaserver crashes in idle statenid
7552,adjust compiler compliance error to be more usefulnd the compiler compliance check ton indicate the current invalid value good for bug reports toon indicate both  and  aka  and  are supportedn explicitely name the menu item that can fix the situationnit  clear the current suggestion was the menu item namenas it looked just like a regular sentencennsdk bug
7553,omap rpres adding new framework rpresnnthis new module create devices for resources than can be accessnby the moteprocessor in   has follow this sequencen  a sequence is need to request themn  ivahdn       a sequence is need to release themn        ivahdn otherwise the pm transitions behavior isn abnormalnnnedoffby fernando guzman lugo  miguel vadillo
7554,omap rpmsg new rpmsg driver to manage resources for remote processorsnnthis patch creates rpmsgresmgr which is in charge of receivingnresource request from remote processorsnnnedoffby fernando guzman lugo  miguel vadillo
7555,escape strings extracted with the extract string refactoringnnescape any single or double quotes inside the stringnvalue defion in stringsxmln  work   workn escape   escap
7556,toolchain  delete sysroffinfo file the build requires itnid  mark d horn
7557,fix for sysroot path when building with ndknid  mark d horn
7558,rework avdinfo processingnnthis patch changes the code in androidavdinfoc to preparenfor future patches that will move ialization disk imagesnto the core including locking and creating temporary filesnn remove avdinfo structure dependencies on many of then functions to make them more genericusablenn remove skinrelated processing from avdinfonew andn avdinfonewfrombuildnn remove avdinfogetskinname and avdinfogetskindir andn replace them with a single avdinfogetskininfonn rename  to  to follown the same naming convention than the one used for diskn images eg userdataqemuimg and systemqemuimgnid
7559,simplify kernel parameters processingnnthis change simplifies the code that deals with kernel parametersnin the core by using a stralloct dynamic stringsnid
7560,remove configandroidsnapshots macronnthe feature is no longer optionalnid
7561,remove unneeded netspeed full and netdelay nonennthis patch removes the use of netspeed full and netdelay nonenwhen starting a core since these values correspond to the defaultnnusually these were triggered by the values found in the skin filesnid
7562,remove unneeded clock unix core optionnnremove the   used to start the core on linuxnwe do that by moving the problematic  clock to thenend of the list in qemutimercnnthe effect is that the unix clock will become the defaultnfor normal usage you can still use the dynticks one fornexperimentation with qemu clock dynticks thoughnid
7563,adapt to latest skianid
7564,prevent hardwareqemuini overwritesnnwhen launching two instances of the same avd we need to ensure thatnwe  endup overwriting the hardwareqemuini in the contentndirectorynnnote that this case is supported at the moment both the system andndata partition will be backed by a temporary file when this is detectednid
7565,merge from mastern
7566,quote concatenated qemu options when verbose is usednid
7567,merge from mastern
7568,modified so that loadurl will use webchromeclient classnnthere is a process to wait viewgetprogress in loadurl within the test of websettingstest to become  getprogress is already  before the page starts to load there are some cases where this test fails due to process gets out of delayedcheck before page is loadednnto avoid this i made change so that progress is checked within onprogresschanged of webchromeclient class to becom
7569,fix to build with or without packetvideo codecs and playernnnedoffby brian cod
7570,arm msm move fixed iomappings and vmallocend to  increases the total virtual footprint available for the  map and the vmalloc space from  to  which shouldnmuch improve things for hardware with  of ram discontiguousnram banks etcnnnedoffby brian swetland
7571,input  add irqflags to platform data struct to pass them to drivernnnedoffby rebecca schultz zavin  arve hjønnevåg
7572,input gpioevent allow multiple input devices per gpioevent devicennthis is needed to support devices that put nonkeyboard buttons innthe keyboard matrix for instance several devices put the trackballnbutton in the keyboard matrix in this case btnmouse should benreported from the same input device as relxynnit is also useful for devices that have multiple logical keyboard innthe same matrix the htc dream has a menu key on the external keyboardnand another menu key on the slideout keyboard with a single inputndevice only one of these menu keys can be mapped to keymenunnnedoffby arve hjønnevåg
7573,changed logging functions in bioniclogdwritecnnmain differences from original  now log channel for logidmain may exist even if logidradion facility  writetolognull now acts as always successful   more simplier to add new logging channels nownnammended commit fixes my typo on lin
7574,input gpioinput fix keys with keycode  is no longer a power of  arve hjønnevåg
7575,allow radio  along with
7576,move the sd card ialization to the corenid
7577,dump hardware config with verbose optionnnthis patch dumps the content of the hardware configurationnfile when the verbose option or equivalent debugnis usednnthis is useful to determine exactly what is launched whenndebugging emulator issuesnid
7578,move cache partition ialization to corenid
7579,merge from gingerbreadnid
7580,move kernelramdisk ialization to the corennthe qemu kernel rd and append options are still supported fornoverriding the hardware configurationnid
7581,move core audio defions under systemcorenid  dima zavin
7582,make this virtual function nonpure temporarilynnthis makes it easier for now to deal with situationsnwhere derived classes  have an implementationnid
7583,move griddatalayoutbuilder to sdk ui libnid
7584,fix cursorhandles for softinputadjustpannnavoid comparing coordinates from different coordinate systemsnby using the offset from getchildvisiblerect rather than thatnfrom getlocationinwindownid
7585,move avd name ialization to the corennuse a hardware property to send the avd name to the corenthe androidavdname core option is still supported thoughnid
7586,refactor some common dialog methods in a base classnid
7587,move some serial ports ialization to the corennthis moves the ialization of the ports used by qemudnand the kmsg component to the corenn gets rid of the oldsystem option used to suppot  android system we  officially support anything before  anywaynid
7588,plug in aboutsettings for sdk manager  sdk updater pagesnid
7589,move data partition ialization to corenid
7590,configure target of host libbfd correctlynid
7591,move system image ialization to corenid
7592,sync internal and external versionsnnapply upstream fixn  shflinkorder in section header of an shtarmexidx sectionnid
7593,move snapshot storage ialization to the corenid
7594,enable dvfsns for fixing  dvfs on  boardninitialized the sdrc params and opp tablesnnnedoffby lesly a m  sripathy vishwanath  vikram pandita  rebecca schultz zavin
7595,switch to sksafeunref for better portabilitynid
7596,mdevicelist  progresscategory findpreferencekeybtdevicelistn this line is redundencenid
7597,fix sdcard speed issues toonnit looks like we also need to set the  property to  ializing the sdcard block device otherwise it will benmounted as odirect making all io operations on the sd cardnextremely slownid
7598,remove assertnulldeviceid for some nonphone but with  connection ability type devicenid
7599,switch to sksafeunref for better portabilitynid
7600,cutils add popcountpopcountlpopcountll static inline defionsnnjust pass them through to their specific gcc builtins if we findnthat the builtins are not performing well or have other issues we cannpull in existing public implementations andor write archspecificnhelpers if necessarynid  dima zavin
7601,extra audio headers for better buildtime compatibilitynid
7602,tweak audio apis for better forwardbackwardsideways compatibilitynid
7603,improve compatibilitynid
7604,switch to sksaferefnid
7605,revert demo of sending arguments to a testnnthis reverts commit
7606,revert demo of sending arguments to a testnnthis reverts commit
7607,revert demo of sending arguments to a testnnthis reverts commit  to prevent tests from being runnid
7608,port toward newer versions of skianid
7609,remove unused function that relies on an obsolete apinid
7610,ninepatch tweaks for better interopnid
7611,add webpn
7612,add mips support to scripts and generate syscalls for mipsnnnedoffby raghu gandham
7613,fix syntax error in the scriptnnnedoffby raghu gandham
7614,mmc sdio claim host in sdioresetcommnnnedoffby dmitry shmidt
7615,ninepatch tweaks for better interopnid
7616,the vertex index should be first in
7617,remove patchtxt which seems created accidentallynid
7618,use getassetsgetlocales to compare with enusnnthe localeutilsissupportedlocale is listed locale from icu data resourcenthe icu data resource is provided by android official release and all of data resources are including enusnnthe test case below is compared string with apk resource not icu data and apk resource string is depended on phone localenthe test case should query locale from phone localenid
7619,make system properties page writeable so new futex system call worksnnkernel was changed to require writeable parameter to futex callnwhich caused watchprops to use  cpu time as the futex callsnwould just return immediately without waitingnid
7620,add interrupt for oprofile on nexus onennthis patch adds a defion of the correct interrupt to use for thenperformance monitoring hardware on the  cpu with this patchnoprofile is able to collect profile samples on the nexus onennthe patch also makes the kernel driver report an error if no interruptndefion is available instead of falsely reporting that profilingnhas been successfully enablednnnedoffby mike playl
7621,correct permissions in mkdir callsnnthe  parameter to mkdir is in octal so it should have anleading  also directories need their  bits setnid
7622,the format test of date below is only for localeus so i suggest this case should query the value of locale from phone before actually doing  use localeus dateformat instance to run the test belownid
7623,fix broken buildnid
7624,add arlocale into requiredlocalesnid
7625,support humidity sensor typenid
7626,support humidity sensor typenid
7627,use reference chooser rather than string dialog for edit textnnfix  dialog opened by contextual properties menu item should benthe reference choosernid
7628,acp ensure dst mtime always greater or equal to src mtimennwhen copying files from file systems that support high resolutionnmtime we should not truncating the nsec part instead we shouldnincrease the dst mtime by one sec to prevent dst mtime to become lessnthan src mtimenid
7629,webviewtest delayed check for savepicturennbug  file saving is done in a separate thread in webview so wait anbit when checking for the  sizennit probably should be noted in the javadoc that this is annasynchronous call furthermore the method never returns false evennif the file saving failed because the saving is done in a runnablenthat will fail silentlynid
7630,dialogtest onpanelclosed called properly nownnbug  is now called properly in froyo so undo th
7631,fix build usemingw seems to be the preferred definenid
7632,shuffle some more filesnid
7633,fix a memory leak in the graphical layout editornnthe rendering requires a looper but never actually uses itnsome views like scrollview make use of messages during renderingnputting messages into the looper message queue which was nevernread or emptiednnin the case of the scrollview the message actually containsna reference to the scrollview which would then leak with allnits children viewsnnthe fix is to delete the looper that was created this must bendone by reflection as  no public access to it and thisnmust be done from adt so that all versions of layoutlib getnthe fixnid
7634,removing more packagemanager permission testsnnbug  was another packagemanagertest in addition to the previouslynfixed packagemanagerrequiringpermissionstest that was testing thatna securityexception should be thrown however it is not expectednto throw that anymorenid
7635,diskconfig library has changed location fix include pathsnid  bruce bear
7636,use field instead of getter to meet guidelinesnnuse field directly instead of getwindow calls to meet performance guidelinesnhttpdeveloperandroidcomguidepracticesdesignperformancehtmlinternalgetsetnid
7637,typo in javadocnid
7638,replaced sdcard with method callnid
7639,gralloc add drm actionsnid
7640,armlinuxandroideabi make fpic the default instead of fpicnnthis patch modifies the armlinuxandroideabi configuration to usenfpic by default instead of fpicnnthis should only affect users the standalone android ndk toolchainnsince both the android platform and ndk build scripts will appendnthe fpic flag at compile time for all generated object filesnnnote that this  change the armeabi configuration to avoidnbreaking stuff when building the kernelnid
7641,ialize the percpu counters before replaying the journalnnwe now ialize the percpu counters before replaying the journalnbut after the journal we recalculate the global counters to dealnwith the possibility of the perblockgroup counts getting updated bynthe journal replaynnnedoffby theodor
7642,fix setlocalerelated crashnnthe android setlocale returns null which was not handled properlynby the standard library code add a simple test the check fornthis condition and avoid saving the old locale when it happensnid
7643,gralloc auto select pixel format according to color depthnid
7644,resize the layoutnid
7645,gralloc fix a crashing issue due to infopixclock   buggy framebuffer drivers eg  and nouveau reportninfopixclock   which results in a dividebyzero problemnid
7646,update changestxt do not mergenid
7647,fix  paddingnnforgot to change one line that test against  fornleft index when lines now start at
7648,layoutlib api new scenestatus enumnid
7649,temporary fix for cts buildnnthe build does not set the $path so dexdeps could not be foundnhard code the path for now but i will fix the tool to properlynuse a flag to specify the path to dexdepsnid
7650,data single data connection tracker for gsmcdmann support for multiple pdn  dual ip bearer support for   networks including support forn isparate  and  bearers if network does not support dual bearernn interrat handover supportnn optional arbitration based on service priorities if network supportsn only onelimited number of pdn but many apns need to be used forn different servicesnid
7651,video tegra fix vblank detectionnid  erik gil
7652,ialize the percpu counters before replaying the journalnnwe now ialize the percpu counters before replaying the journalnbut after the journal we recalculate the global counters to dealnwith the possibility of the perblockgroup counts getting updated bynthe journal replaynnnedoffby theodor
7653,merge cleanup arraylist usage in sdk managernid
7654,merge sdkmanager suggest which platform to install to fix a broken addonnnthe sdk manager now has the notion of a broken installed packagenthe brokenpackage can specify thatn it requires a certain minimal platform to be installednandorn it requires a specific exact platform to be installednnthe later constraint is expressed by iexactapileveldependency andnallows updaterlogic to find which platform would fix an addon whichnis missing its base platformnid
7655,merge support broken addons in sdk manager uinid
7656,arm tegra plla clock fixesnnincrease the maxfrequency entries for clocks that can be driven from pllanto match the fastest plla table entrynnnedoffby stephen warren  colin cross
7657,arm tegra prevent requeuing inprogress dma requestsnnif a request already in the queue is passed to  will end up pointing to itself insteadnof at tegradmachannellist which is the way a the endoflistnshould be set up when the dma request completes and is  list head will still point at it yet the  nextprev willncontain the list poison values when the next dma request completesna kernel panic will occur when those poison values are dereferencednnthis makes the dma driver more robust in the face of buggy clientsnnnedoffby stephen warren  colin cross
7658,rtc  fix error in rtc tick calculationsnnin the  pmupmic rtc support code whennconverting from seconds to ticks using a shiftnoperator the most significant bits were being lostndue to seconds being a  value and ticks beingna  value a hard cast was added to avoid thisnlossnnreviewedby lowell dennis  lowell dennis  jonathan mayo  peter zu  bharat nihalani  robert morell  colin cross
7659,fix drop into scrollviewnndragging something into a scrollview  workingnbecause a scrollview was not inheriting layout behaviornfrom its parent rulenid
7660,usb ehci tegra continues driving fsj during resumennto prevent usb glitchnalso only program ptc bits when resume from   jay cheng
7661,test trivial whitespace changenid
7662,arm tegra usbphy continues driving fsj during resumennto prevent usb glitchnid  jay cheng
7663,usb ehci tegra remove reschedule rhtimernnreschedule rhtimer may cause usb device resume fail as rhtimer may bentimeout and send usbreqgetstatus setup control transfer by the time whennthe device is handling clear suspend feature which in turn the device mayndrop clear suspend feature requestnnactually on port resume case the host driver  need to reschedulenrhtimer to check port status the host driver will check port status rightnafter suspend feature is clearednid  jay cheng
7664,add nosnapshotload option to permit rebootnnthis is a workaround for the emulator not being able to detect the  situation and simply lingering like a zombie on exit  savednas a zombie and is restored as a zombie which  useful denying autoloadnforces a rebootnid
7665,use  instead of  issue  logcat needs to support
7666,changing connect and response timeoutnnin bad network conditions and where switches often occur between   the timeout of  is too shortnnsetting this timeout to  seconds will improve functionality in bad conditionsnwhile it will not affect functionality in good networks this change also alignsnthe timeouts with the timeouts used by the browser connectionjavanid
7667,preserve flags field of event passed to injectkeyeventnnthis patch allows users of windowmanagerserviceinjectkeyevent tonset flags on the key event being injectednnin particular this allows long presses flaglongpress to beninjected into the window managern
7668,command line tool to enable and disable device administratorsnnfor automated testing purposes it is useful to be able to enable andndisable device administrator applications androidappadmin withoutninteracting with the usernnthis patch adds a commandnn$ svc admin enabledisable  takes a component name as a parameter and attempts to enable orndisable the corresponding administratornnthe command will only succeed when run from a root shell because rootnimplicitly has the binddeviceadmin permission so it is availablento tests running on a host pc via  shell su c  but not tonnormal applicationsnid
7669,gralloc fallback to use fewer buffer on mapping errornid
7670,onjsbeforeunload in popularurlstestnnthe test suite popularurlstest hang when running a page thatncontains a script that uses onjsbeforeunloadnnadded automatic response to onjsbeforeunload to popularurltestnso test suite answers dialog and continues positive answer onndialog means move away from the pagenid
7671,facilitate mirroring of the browser titlebarnnthe touch event handling code of the titlebarnmakes assumptions where the button is locatednand where the input field is located this makesnit hard to mirror the layout implementing bidi supportnwithout making changes to the java codennthis change makes it easier to implement mirroringnby checking if the touch event is inside the buttonnor input field making it independent of where theynare placed inside the titlebarnid
7672,merge branch  of gitandroidgitkernelorgplatformframeworksbasen
7673,preventing null pointer referencenreferencing of rrecordname is occured when rrecord is nullnthis is same patch with changeid  and upload again because of merge conflictionnid
7674,more fine grained layoutlib capability for animation supportnnmake the distinction between playing animation animatingnview insertdeletemove inside the same viewgroup and animatingnmove across layoutsnid
7675,arm tegra powergate allow calling power up when already powerednnallow calling tegrapowergatesequencepowerup on a partitionnthat is already powered reset the partition and return successnwith the clock enablednid  colin cross
7676,frameworksbase watchdog to generate tombstone of mediaserverns to service manager to keep track of pids of all processesnhosting services and to watchdog to generate tombstone of mediaservernbefore killing system server watchdog uses service  to get the pid of mediaservernid
7677,cgroup leave cglist valid upon cgroupexitnna threadprocess in cgroupattachtask could have  after cgroupexit had already callednlistdel on the same list since it only checked  before doing this the listdelncall would thus be made twicennthe solution is to leave  in a valid state inncgroupexit with  which leavesnan empty listnnnedoffby simon wilson
7678,enable kvm mode for android  emulator updatennthis patch enables kvm mode on  linux to boost performance of  emulaitonnif the hardwarebased virtualization feature is present on the host machinenid  xiaohui xin  yunhong jiang  jun nakajima
7679,rtc alarm update hrtimer if alarm at the head of the queue is reprogrammednnif an alarm was restarted with a value that moved it away from the headnof a queue the hrtimer would not be updated this would cause unnecessarynwakeupsnid  arve hjønnevåg
7680,appssettings airplane modennairplane mode depends on a cellular modem to returnna power off notification to the application to clear andnset the airplane mode database settingnnsystems without modems see that the intent return occurs before thenthe setairplane mode command is called thereby disabling the checkboxnnonly when the application looses focus and is reentered is the checkboxnenabled and the command can be sent againnnthis change will check to see if a cellular modem is available and if itnis send the intent to the modem if not the intent to the modem is not sentnbut the intent is sent to the wifi and bluetoothnid  dan murphi
7681,video tegra fix debug regs file hangnid  erik gil
7682,back port  upstream fixes for broken dejagnu testsnnupstream  and
7683,when the device has no gps datetime we can use original datetime as datetaken in the media databasenid
7684,arm tegra add generic memory vendor matchingnnupdate tegraemc to provide generic memorynvendor matching read values from  tonuniquely identify memory types and compare themnto table of memory passed innid  james wyld
7685,address cts test failures in libcore for gingerbreadnid
7686,video tegra add display inversion supportnid  ari hirvonen
7687,cts pass vogar expectation location to collectalltestsnnbug
7688,paranoid networking use inegroupp to check group membershipnnthe previous groupsearch caused trouble for partners with module buildsninegroupp is also cleanernnnedoffby nick pelli
7689,use softreferences for resource caching to improve performancennkeeping the cache a longer with softreferences weakreferencesnare cleared on each gc cycle which makes them not so efficientnfor cachingnnon average this leads to half the time to create the new viewnwhen changing from landscape to portrait also the time fornstarting a new application will be reducednid
7690,check in prebuilt toolchain
7691,fix of teardown in singlelaunchactivitytestcasennbefore a suite of singlelaunchactivitytestcase tests are runnan activity is started the activity is supposed to closenwhen all the tests in the suite have run the activity isnhowever finished one test too early this causes problemsnfor the last testnid
7692,add vogar expectation file support for ctsnnbug
7693,wsptypedecoder fixed decoding of content parametersnnthe removed condition prevented any parameter to  as integer valuenid
7694,nuke trafficstatstesttesttrafficstatswithhostnnbug  this test due to potential problems with gb this will need tonbe brought back and investigatednid
7695,use the new  toolchain
7696,change response when atcops is received when no networknnthe response to the atcops command is not according tonspecification when no operator is selected the   or similar is incorrect and will looknbad on the display of a car kit the response should be on thenformat cops  if no network is foundnid
7697,projectbranchcomponent summarynnproject againnwhat anwhy bnhow cnpossible effects nonenid
7698,projectbranchcomponent summarynnproject testnwhat test onlynwhy only testnhow gonpossible effects nonenid
7699,misc initial  drivernninitial version of the  driver to turn off the sensor when thendevice is suspended this improves standby current drainnid  greg meist
7700,check in prebuilt toolchain
7701,nuke gridviewtesttestscrollnnbug  flakey test and now broken test on gb could be a problem withntouchutils or the testnid
7702,use the correct syntaxnnto fix  buildnid
7703,merge sdk manager specify proxy on noui commandlinennthis adds  flags to specify the httphttps proxy hostport onnthe command line when using the consolebase noui sdk updatenthe commandline proxy values override settings if definednnalso revamped the argument help display to support largerncommandline long argument sizes and mandate that argumentsncan have one of ther short or long argument name optionalnid
7704,fix failure due to too many preinstalled appsnnpackagemanagergetinstalledpackages returns zero size when therenare large number of preinstalled applications because of bindernfailurenbinder  binderallocbuf size  failed no address spacenbinder  transaction failed  size  send failed reply for transaction  to  is intended to just return a valuid packagennaem for testing purposes home is always expected to be presentnon all devices and hence a good candidatenid
7705,merge load and apply proxy settings from config file in updatenowindow allowing headless updates to work behind a proxynid
7706,fuse fix attributes after openotruncnnthe attribute cache for a file was not being cleared when a file is openednwith otruncnnif the  open operation truncates the file atomicotruncnfeature flag is set then the kernel should invalidate the cached stmtimenand stctime attributesnnalso isize should be explicitly be set to zero as it is used sometimesnwithout refreshing the cachennnedoffby ken sumrall  anfei  anand v avati  miklos szeredi   andrew morton  linus torvald
7707,merge set  proxy system properties using the  settings allowing downloads via an https proxy to worknid
7708,fix androidmknnuse  instead of  vars should be set outside the ifelse block because they arenused outside the blocknid
7709,merge minor method rename in sdkmanager uinid
7710,vbox add a readytoboot androiddiskvdi targetnid  bruce bear
7711,add  to sdklibutilsnnneeded by following merges from openmaster yetnthe original change  depends on adt filesnwhich  in  yetnid
7712,arm tegra dvfs allow boot or run time disabling of dvfs railsnid  colin cross
7713,fix npe in sdkmanager parsed props can be nullnid
7714,merge sdk manager rework install logicnnthis should get rid of the annoying behavior on windowsnthat prevent the folder swap operation due to the foldersnbeing locked cf public issue  level summary of the issue and the fix the old behaviornwas to unzip in a temp folder then rename the old folder tonanother temp file and finally rename the new folder at thendesired location this fails typically when there is a filenindexer eg antivirus scanning the new folder so we  that foldernthe new logic is to try to move the old folder first into antemp folder if the fail move we have a lock on the old foldernand ask the user to fix it manually they probably have a filenopened and  a legit issue to report once that succeedednwe can directly unzip the archive into the final destinationnwithout using a temp unzip location thus avoiding the commonnindexer in progress issuenin case the unzip operation fails we try to copy not move thenold folder backnid
7715,layoutlib api updated api for insertmoveremove childnnalso added some new scenestatus enumsnid
7716,fix windows sdk buildnid
7717,merge sdk manager split install logic out of the archive classnid
7718,implement line reading on syncsocketnid
7719,add bluetooth include pathnnfixes build when boardhavebluetooth  truennnedoffby nick pelli
7720,add sigwaitinfonnthis is done by transforming sigwait in sigwaitinfonand making sigwait a wrapper around sigwaitinfonid
7721,update changestxtnid
7722,put ctstestcoverage report to the dist dir if cts is in the makengoalsnnbug
7723,cleanup android winusb inf do not mergenid
7724,video tegra set up high priority on all overlaysnnthis drastically reduces display controller underrunsnid  erik gil
7725,cpufreq interactive new  governornnthis governor is designed for latencysensitive workloads such asninteractive user interfaces the interactive governor aims to bensignificantly more responsive to ramp cpu quickly up when cpuintensivenactivity beginsnnexisting governors sample cpu load at a particular rate typicallynevery x ms this can lead to underpowering ui threads for the period ofntime during which the user begins interacting with a previouslyidle systemnuntil the next sample period happensnnthe  governor uses a different approach instead of samplingnthe cpu at a specified rate the governor will check whether to scale thencpu frequency up soon after coming out of idle when the cpu comes out ofnidle a timer is configured to fire within  ticks if the cpu is verynbusy from exiting idle to when the timer fires then we assume the cpu isnunderpowered and ramp to max speednnif the cpu was not sufficiently busy to immediately ramp to max speed thennthe governor evaluates the cpu load since the last speed adjustmentnchoosing the highest value between that longerterm load or the shorttermnload since idle exit to determine the cpu speed to ramp tonna realtime thread is used for scaling up giving the remaining tasks thencpu performance benefit unlike existing governors which are more likely tonschedule rampup work to occur after your performance starved tasks havencompletednnthe tuneables for this governor arensysdevicessystemcpucpufreqinteractiveminsampletimentthe minimum amount of time to spend at the current frequency beforentramping down this is to ensure that the governor has seen enoughnthistoric cpu load data to determine the appropriate workloadntdefault is  usnsysdevicessystemcpucpufreqinteractivegomaxspeedloadntthe cpu load at which to ramp to max speed default is   mike chan  todd poynor
7726,net wireless  fix watchdog syncronization during startstopnnnedoffby dmitry shmidt
7727,remove obsolete usb driver legacy sources  filesnid
7728,bluetooth forcably disable esconnthe sysfs interface to turn off esco does not work correctly so use this hackninsteadnnnedoffby nick pelli
7729,pthreadsigmask make it worksnnpthreadsigmask  work because kernel expect sigmask sizenof rtsigprocmask to be  the same trick than in sigwaitnid
7730,allow blank strings for the text property inputnnthe inputdialog for setting the text property was requiring thenstring to be nonempty or it would reject the input  not rightn it should be possible to set the text to blank which is common forntext fields for example since blank will clear the attributennthis code was just cut  pasted from the similar code for  where the id should be nonemptynnthe code was also not handling the case where the user cancels thendialog for custom string properties we need a null checknid
7731,add commentnnedoffby le van khanh
7732,temperature sensor drivernnreplace the pmonly driver for  with a new version written bynvarun wadekar and dmitriy gruzman add a callback to an alarmnfunction specified in the board platform datanid  todd poynor
7733,testnid
7734,custom view handling improvementsnnfirst and foremost allow custom views to accept children such thatnyou can drag  drop children into the custom view in the outlinennsecond prevent an npe which can occur if you drag into a layout wherenthe root element is a custom viewnnthird handle  not  better provide a custom icon andninline the view class name in the outline labelnnfourth allow double clicks in addition to ctrlclick which is alreadynsupported on the custom views in the palette to allow jumping to thencustom view codenid
7735,crypto tegraaes do not reset bsevvde per operationnnavp does not use the crypto engine inside the vde blocknso it is ok if we do not reset the entire block beforenany crypto operation this would save more than  per cryptonoperationnid  varun wadekar
7736,adt fix javaclass name mismatchnid
7737,the kernel command line was missing a space between argumentsnid  bruce bear
7738,enable  in tcpdumpn
7739,fix npe during startup when battery is lownnduring startup the mconfiguration in the activitythread for thensystemserver process is null until the configurationchangednmessage is received this message is sent by thenwindowmanagerservicepolicythread and later another one is sentnby the systemserverserverthread if the policythread happens to benscheduled a bit later for some reason the launchactivity messagenfor the shutdownactivity will be received first causing a npe innperformlaunchactivity when executing new configurationmconfigurationnid
7740,implement helper routines for syncronous socket operationsnid
7741,moved the arm test below the defines required for java librilproto on all platformsnid
7742,erase sd card is always availablennit is possible to select erase sd card from the menu evennthough the card is unavailable this change disables thenmenu option when the sd card is not availablenid
7743,suppress more flaky testsnnbug  of these have always been flaky and need to be rewrittennid
7744,tegra  add debounce cyclesnid  ken radtk
7745,contacts sim security support for dsdsnnhandle pinpuk mmi codes based on the mmi subscriptionnselected by usernid
7746,arm tegra use readlwritelrelaxed for resetnntegraassertsystemreset is called after the cache is disabledncalling writel will cause the  store buffers to be drainednwhich requires taking a spinlock taking a spinlock is not safenafter the caches are disabled convert to readlrelaxed andnwritelrelaxednid  colin cross
7747,adt the image given to layoutlib now shares data with imagedatannwe now create a custom bufferedimage that also includes a reusablenimagedata to generate swt images while there is still the awt tonswt conversion at least most buffers  reallocated everyntime during animation the only new allocation is the one donenin the image constructor to pass the imagedata content to the nativenimage objectnnthis also fixes the tearing issue introduced in the previousncommit by calling imageoverlaysetimage from the animationnlistener callback this should not be done in the ui threadnrunnable as each rendering reuse the same bitmapnwhen the animation listener callback returns the imagenwill be reused for a new rendering so  content willnchangennalso fixes the windows rendering by computing the propernband offset based on the swt palette datanid
7748,settings sim security support for multi sim functionalitynnextended sim security settings to support pinpuk operationsnon multiple subscriptionsnid
7749,fix crash by adb shell pm list permissions fsnnpm command makes the assumption that every permission shouldncontain androiddescription and androidlabel attributes whilenthey are not mandatory if a permission does not contain thesentwo attributes we get androidcontentresnresources$notfoundexception string resource id  by a npe when using f or s optionsnnwith the following change users will get null in output fornrespective fieldsnid
7750,virtualbox kernel confignid  bruce bear
7751,phone sim security support for dsdsnnhandle puk mmi code for the subscriptionnthat is puklockednid
7752,kbuild fix modpost segfaultnnalan   program   modulesymvers s  program received signal sigsegv segmentation faultnnit just hit  the offset calculation in reloclocation which overflowsn return void  sechdrssectionshoffset n  sechdrssectionshaddrnneg for the first rodata r   sechdrssectionshaddrnand the expression in the parenthesis produces  or somethingnequally wisennreportedby alan  krzysztof hałasa  alan  michal marek
7753,respect eclipse classpath when adding files to apknniterating through the source folder may include files that the user has asked to b
7754,revised manifest for  references tag  as the original tagnhad issuesn
7755,fix  missed  count in pullvcardlistingnnwhen the phone receives a pullvcardlisting request about mchnmissed call history pbap application sends a correspondingnresponse which contains the number of  missed  innthe header currently the number of  missed  isnincluded into a response against the other type ofnpullvcardlisting request after the phone receives mchnpullvcardlisting request which contains maxlistcount   andnliststartoffset   these parameters mean pce only wants thennumber of index because any of pullvcardlisting requestsnare missdetected as mch in this case and then the internalnvalue for  missed  is also updated so the numbernof  missed  becomes incorrect when answering thennext pullvcardlisting about mchnnthe solution is to fix the miss detectionnid
7756,telephony add interface for etws messagenid
7757,sdk add pcbios files for ia qemu emulatornid  bruce bear
7758,replace reflection with sdkmakerelativetonnreplace reflectionbased invocation of ipathmakerelativetonwhich is not available in eclipse  with usage ofnsdkmakerelativeto our own copy of the equivalent codenid
7759,add support for xhdpi when injecting a skin dpi into the emulatornid
7760,revert this checkin supports windows os in all translator libsnnthis reverts commit  commit breaks mca buildsn developmenttoolsemulatoropenglhostlibstranslatoregleglimpcpp in function  eglchooseconfigvoid const eglint void eglint   error  was not declared in this scopen make  error
7761,merge  from master do not mergennupdate layoutlib api level to  will make earlier adt versions force the user to updatenid
7762,preserve flags field of event passed to injectkeyeventnnthis patch allows users of windowmanagerserviceinjectkeyevent tonset flags on the key event being injectednnin particular this allows long presses flaglongpress to beninjected into the window managernid
7763,fix mac buildnid
7764,drm framework bug fixesnn make sure to cleanup obsolete listenersn close cursor after using itn add virtual destructor to the base class of oninfolistenerns are made by semc and sonynid
7765,this checkin supports windows os in all translator libsnnnote this is a resubmit of  to avoid breaking the mac buildnid
7766,update androidaccessory to support usbhostshield refactornid  erik gil
7767,remove skins from sdkgitnnthey are now in developmentgitnid
7768,update firmware to use new pinhandler mechanisimnid  erik gil
7769,fix eventlogtest flakinessnnissue  test was getting the current time and collecting events sincenthat time however the times in the event logs are usually recordednfaster so events could get dropped as a result there were sleepncalls that needed to be increased and adjusted for various devicesnnfix these tests to gather events by looking for an event with ancertain payload instead this should be more reliable since thenpayload is the current time from the test this  test thenevent times as much thoughnid
7770,fix copyright and clarify silent loggernnfix missing header in previous checkinnnalso remove the silent logger from the render method and create thensilent logger in the palette preview drag where  more obvious whynthe rendering is quietnid
7771,testing file operations done by the sdk managernnthis still needs worksnthe idea was to create a wrapper around file and record operationsndone instead of performing them an idea was to reuse filewrappernfor that but this fails since fileexits has a different semanticnthan filewrapperexistsnid
7772,escape strings extracted with the extract string refactoringnnescape any single or double quotes inside the stringnvalue defion in stringsxmln  work   workn escape   escap
7773,added certsign authority root certificate wwwcertsignronid
7774,add  defionn
7775,merge  from master do not mergennadd baselinemargins to viewinfonnalso make it so that older layoutlib that are using  return thenvalue through reflection done in layoutlibrarynid
7776,fix voice dialer causes null pointer exceptionnnpress some search results would cause null pointer exceptionnid
7777,remove trailing comma that was causing compile problemsnid
7778,input keyreset allow reset function to be overridennid  colin cross
7779,boardtrout use rfkill framework to control bluetooth powern
7780,usb gadget add acmldisc functionnnacmldisc works like the acm function except that it creates a linendiscipline that can be attached to any existing ttynid  benoit gobi
7781,add palette variations of widgetsnnthis changeset adds new items to the palette which are just variationsnof an existing widget but with different ial attributes innparticularnn instead of just linearlayout there are two versions of itn linearlayout vertical and linearlayout horizontalnn the progressbar has  variations large small and horizontal then horizontal progressbar looks like the seekbar without at thumb son the seekbar is moved next to the progress barnn there is a new palette category text fields which contains an number of different ializations of the  inputtypen attribute for textual and numeric passwords for names and emailn and postal addresses for phone numbers for negative and decimaln numbers etcnn since linearlayout is so common the outline handles it specially ton ensure that we show a horizontal or a vertical icon depending on then orientation attribute of the specific element rather than then generic descriptor iconnnthere are various changes to the palette icon preview and drag previewnetc to handle these changes in particular the categorynialization code had to be rewritten to be able to handlenvariations since for example the text field appears in multiplencategories so the old assumption that each view had an assignedncategory was no longer truennthis changeset also extracts a constant for the android literalnused in many places in the code and renames the existing androidnnamespace constantnid
7782,webview needs to set instance of chromeclient to use getprogress valuenassertloadurlsuccessfully is using viewgetprogress which returnsnno meaningful value without chromeclientn
7783,frameworksbase unlink death notifications of audiofocus clientsnndeath notifications of audiofocus clients  needed whennfocus is abandoned or client is unregistered the accumulatedndeath notifications causes excessive jni references and causesndalvik hosting systemserver to abort the samenid
7784,merge branch  of gitandroidgitkernelorgplatformcts into froyon
7785,quicksearchbox avoid false positive log in finalizenncursorbackedsuggestioncursor when created with a null cursornby cursorbackedsourceresult  require a close to bencalled on the cursor however the log in finalize misleadsnof a leaknid
7786,arm  mm bugfix ialize spinlock for mmcontextnnmm used at kernelschedcidletaskexit has spinlocknmmcontextidlock that is not ialized when spinlockunlocknis called at an arm machine note that mmstructcontextidlock isnusually ialized except for the instance of mm atnlinuxarcharmmmcontextcnnnot ializing this spinlock incurs bug pinlock bad magicnwarning when spinlock debug is enabled we have observed suchninstances when testing pm in  machinesnid  myungjoo ham  kyungmin park  russell king  colin cross
7787,frameworksbase handle death of clients in accessibilitymanagerservicennaccessibilitymanagerservice to request for death notifications ofnclients and to do a proper clean up of its listsnid
7788,libstagefright fixed playback of  content with  audio channelsnnfor aac content stored in a  containernif the number of channels in esds atom is zero it impliesnthat the number of channels should benretrieved from the audio object type aot specific confignid
7789,update startcts scriptnnupdate the startcts script to be compatible with the latest sdknwhich puts adb under the platformtools directorynnalso do not require that sdkroot to be set just search the pathnfor adb instead since the sdk is no longer needed for ddmlibnid
7790,frameworksbase unlink death notifications of vibrate requestsnndeath notifications of vibrate requests  needed whennbroadcast of actionscreenoff is receivednid
7791,hdmi stereo support kernel code changesnnnedoffby chong zhang   chong zhang
7792,fix layout device listnid
7793,usb gadget move usbfunction from gserial to functions structnnuserial does not use the usbfunction structure moved it from thengserial struct to the functions f structnid  benoit gobi
7794,cleanup arraylist usage in sdk managernid
7795,removing array copying with no real effectnid
7796,make the emulator find the skins in their new locationnid
7797,arm tegra enable emc clock updates after  a dummy value to  to allownclock frequency changes after   james wyld
7798,syscalls reboot add options to the reboot syscall to remount filesystems ronnadd  new commands to the reboot system call that do the same thing as thenrestart halt poweroff and  commands but also remount writablenfilesystems as readonly just before doing what the command normally doesnnow that android is using  and since we  have a standard nsetup to unmount filesystems before rebooting this allows the system tonreboot with clean filesystems and also improves boot time as the journalndoes not need to be replayed when mounting the filesystemnnnedoffby ken sumral
7799,arm  fix plla divider for  iliyan malchev
7800,open file and loop device with ordonly when o loopronotherwise ioctl loopsetfd failed bad file numbern
7801,arm  remove incorrectlydefined frequenciesnndefions for  and  were incorrect thesenfrequencies can be still requested through  iliyan malchev
7802,arm  remove unnecessary clocksnnnedoffby iliyan malchev
7803,added dummy support for usb transport on  updated getmypath functions to be safer and more  unsigned  sizet in certain  some code style changesn
7804,added configuration for freebsd  added  flag to avoid error duringn compilation incompatible type  added  include this allows correct defion ofn namespaces and makes  like types visible in  changed makefileandroid in order to build with ossn
7805,nuke webchromeclienttesttestonreceivediconnnremove this troublesome test that has been very flakeynid
7806,make xml code completion case insensitivennif  typed androidtextsi on a textview you currently get nonmatches this changeset makes the code completion case insensitiventhe way it is in java such that it for example will matchnandroidtextsizenid
7807,update buildversiontest for  and
7808,resource management refactoring and cleanupnn iresourcerepository is now a common class instead of ann interface this contains most of the code to controln a repository which was extracted from projectresourcesn projectresources extends it adding minor features such asn library support and inline id defionn frameworkresources extends it adding support for publicn resources which used to be duplicated and dispersedn in weird placesn changed the way resources are reloaded on resource change eventn instead of marking the resources as modified usingn resourcetouch the resources are now parsed as the files aren processed during the resource delta visitor this makes more sensen as there are now other listeners to the resource changes hyperlinksn that access the resource list in their listeners which  workn previouslyn this also makes the code cleaner as the previous method had to queryn the repo for items and return a list of new ones which was kindan crappy the new code is much simpler as is the post update processnn resourceitem is now the base class for resource items it includesn all the small methods that were added by all the child classes orn interfacesn projectconfigurableresourceitem are merged into the based classn iidresourceitem and idresourceitem are gone and replaced by an simpler inlineresourceitemn frameworkresourceitem is a simple override for framework resourcesnn also improved the api of a bit for the resource repository makingn more use of unmodifiable lists and emptylistmapnid
7809,updated envsetupsh to use  instead of native  on freebsdn
7810,change settings dialogs from unmanged to managednnunmanaged dialogs were changed to managed dialogs so they do notndisappear after an orientation change the allow unknown sourcesnusb debugging and accessibility dialogs are affected by thisnid
7811,input wakelock destroy wakelock if evdevopendevice failsnnnedoffby courtney cavin
7812,arm tegra add  idlemode  idle mode powergates the main cpu complex requiring anfull processor state save and restore from a reset vectornnprocessor context area is allocated during platform ializationnfrom the kernel and mapped into the hotplug page tables which alsonserve as the ial page tables for the  main processor resetnnrestoring the processor from  requires calculation of a systemnand apbclockdependent cpu power good timer value on  is a good baseline value for this and the apb clock is running  these values need to be unhardcoded for other platformsnnnedoffby gary k
7813,handle instrumentation time output that contains a bracketnnbug
7814,arm enable configcpuidle supportnnadd archhascpuidlewait and archhasdefaultidle configurationnand expose defaultidle and cpuidlewaitnncpuidlewait implementation based on the implementation in the  treennnedoffby gary k
7815,extract the dynamic context menu handlingnnthis is a pure refactoring that extracts the dynamic contextnmenu handling in a class outside of layoutcanvas the originalnis long enough like this  used by the ouline view toonid
7816,rebuild when switching to an sdknnsaves me an enormous amount of timenid
7817,add p support to mkdirnid
7818,arm tegra add  idle mode wakeup timer sourcennthe  idle state can not be woken by the internal arm timersnso reserve the last apb system timer for use as an  wakeupntriggernnnedoffby gary k
7819,changed sprintf  snprintfnnupdated to snprintf additionaly fixed code style mixing per filenremoved typosn
7820,onscreen keyboard for all activitiesnevery activity has a new menuitem keyboard if they  override the menuncreation methodsncompletely once that menuitem is clicked a new view appears on top of thenothers with thenkeyboardnnfirst upload   contain all the filesn
7821,arm msm smd convert unsigned addr to unsigned longnnunsigned translates to unsigned int but this value holds annaddress we always want to use unsigned long for addresses sincenit will change size to fit the machinennthis just convert the one address holder to unsigned longnnnedoffby daniel walk
7822,fix sensortest orientation sensor checksnnissue  test the orientation sensor if it is not presentnid
7823,arm msm smd remove unneeded predefinesnnthis just removed some unneeded predefines one needed a wholenfunction moved down further the others could just be deletednnno functional changesnnnedoffby daniel walk
7824,mmcblock allow more than  partitions per cardnnset the genhdflextdevt flag which will allocate minor numbersnin major  for partitions past  remove the use of diskdevt to determine devidx from  is always ialized from devidx and cannalways be used to recover itnnnedoffby colin cross
7825,calendarnadded color highlighting to monthviewd week start day from locale to app settingnid
7826,mmcblock allow more than  partitions per cardnnset the genhdflextdevt flag which will allocate minor numbersnin major  for partitions past  remove the use of diskdevt to determine devidx from  is always ialized from devidx and cannalways be used to recover itnnnedoffby colin cross
7827,calendarnadded color highlighting to monthviewnmoved weekstartday to an app settingntodo update text locale for week start day settingnid
7828,arm tegra add cpuidle drivernnsupports clockgated  smp idle mode and powergated  idlenmode when all slave processors are offlinennlatency for  idle state is calculated as a  weighted movingnaverage to allow for future variations due to eg cpu frequencynscalingnnwhen  is an allowed state ie slave cpus have been taken  will perform an hrtimer peekahead this avoids waiting for thenfirst processor tick following an  in order to run expired hrtimersnwhich was causing a  tick delay for most userspace  wakeup time and latency uses a  hardcoded offset to account fornthe cpu powergood timeout this is reasonable for harmony but should benunhardcoded for other platformsnnnedoffby gary k
7829,avoid preprocessing images when they  be usednid
7830,set arm specific variables to be empty for nonarm platformsnnthese variables are useless for nonarm platforms and willngenerate misleading messages during building processnid
7831,update prelink map for libwavpacknid
7832,fix insmod reading more than one module parameternnit seems wrong to put  after reading one argumentnif we are passing more than one module parameters they are not being propogatednto the kernel properlynnsecond module parameters onwards are simply being ignored by kernelnsince insmod incorrectly put  after reading first module parameternid
7833,add wavpack support to media frameworknid
7834,arm msm smd fix smd modem processor sync conditionnnwhen booting up we need to wait for the modem processor tonpartially boot this is because the modem processor doesnresource allocation for us if we  wait the modem  our requests and we end up crashing or in an unknownnstate this change just formalizes the waiting processnnnedoffby daniel walk
7835,read tag information including embedded album art from wavpack files opencorenid
7836,check contactscontenturi activity supportnnissue  a test that checks contactscontractcontactscontenturinactivity intent is supportednid
7837,fix printing order of phone objects creationn
7838,calendarnadded color highlighting to monthviewd week start day from locale to app settingnid
7839,move key event generation out of the ui realm into neutral spacennabstracted keycode event array into keycodearrayhcnmoved key to keycode translation into charmapcnid
7840,bugfix rokernelandroidqemud ril and roandroidnorilnnthis fixes both a typo and the fact that sh seems not to haventest or nsee also shbuiltinsdef testcmd commented outnnthe handling of these properties was broken having the effectnthat the modem in internaltelephonytestsimulatedjavanwas never run even if it would have been the usersdevelopersnintentionnnsee also issu
7841,adb add persistent system property for running adb in tcpip modennin addition to serviceadbtcpport you can now set persistadbtcpportnto specify the port number for adb to listen to instead of usbnthis allows the adb tcp configuration to persist across rebootsnid  mike lockwood
7842,test commitnid
7843,test commitnid
7844,fix contentresolvertest race conditionsnnissue  some delayedcheck around some potentially asynchronous callsnand add synchronization around members that are set and get byndifferent threadsnid
7845,display current ip address in advanced wifi settings screennid  mike lockwood
7846,fix jni loading for buildtestnnbug  uses native code to check the  features when usingnruntestpy the library is put into systemlib so the library isnloaded without problems however running the test in cts causesnthe library not to be found because it is not installed into thensystem directory anymore the cts  classloader is used forntests so the native code must be compiled into the  jarnin order for it to be foundnid
7847,supporting configurable adb port in ddms and ddmlibnn moving instantiation of ssocketaddr out of static ializer blockn into nid
7848,revert acp ensure dst mtime always greater or equal to src mtimennthis reverts commit
7849,add metadata support for aac amr awb and wav filesn
7850,add gapless playlist playback peut testcases currently nonfunctional and disabledn
7851,wrong thumbnails retrieved for  contentsn
7852,aac lib enable redundant pce syntax element on a raw bitstreamn
7853,test to master branch will abandonnid
7854,reposition beyond clip duration in playlist playback is not working properlyn
7855,incorrect time stamps with b frames in  high profilen
7856,removed hwcontrol dependency from the uinnqemulatorsetup has been setting brighness callback via direct call to hwcontrolnafter the change callback is set via call to uicoreprotocolnid
7857,change logger levels to appropriate values in android video mio and jb node for certain log statementsn
7858,net wireless  fix roaming failure casennnedoffby dmitry shmidt
7859,drivers input misc fix section mismatch warningnnnedoffby dmitry shmidt
7860,serial tegrahsuart fix typo preventing non  modesnid  colin cross
7861,arm tegra clock fix requesting very high periph frequenciesnid  colin cross
7862,revert proc pagemap hold mmapsem during page walknnthis reverts commit  for proper upstream fixnnnedoffby san mehat
7863,arm tegra clocks set all sdmmc clocks to  at  is the max speed reported by presentday  sdhci controllersnand is the max speed we can run without adjusting for dvfs changesnid  todd poynor
7864,arm tegra clocks add  for the external ulpi phynid  benoit gobi
7865,drivers usb gadget rndis fix section mismatch warningnnnedoffby dmitry shmidt
7866,adt fix npe in resource editor on eclipse  bug  fix is a workaround around eclips
7867,tegra sdhci remove setclock op not needednnthe sdhci controller specifies a maximum sdclk speed of  which isnnow in agreement with the platform clock and so the sdhci host maxclknno longer needs to be overridennid  todd poynor
7868,drivers usb gadget massstorage fix section mismatch warningnnnedoffby dmitry shmidt
7869,proc pagemap hold mmapsem during page walknnin ial design walkpagerange was designed just for walking pagentable and it  require mmapsem now findvma etc are usednin walkpagerange and we need mmapsem around itnnthis patch adds mmapsem around walkpagerangennbecause  callback routine use putuser we havento get rid of it to do sane fixnlog  fixed startvaddr and end overflowlog  fixed startvaddr calculationn removed unnecessary castn removed unnecessary change in smapsn use gfptemporary instead of gfpkernelnnnedoffby kamezawa hiroyuki  matt mackall  kosaki motohiro  brian swetland  dave hansen  andrew morton  san mehat  fixed kmalloc failure return code as per matt nnedoffby linus torvald
7870,simplify icons in test appsnid
7871,wifi pass interface to wpasupplicantnid
7872,arm msm smd fix section mismatch warningnnnedoffby dmitry shmidt
7873,let scripts display message dialog  input dialognid
7874,drivers video msm mddi fix section mismatch warningnnnedoffby dmitry shmidt
7875,arm tegra usbphy add support for  ulpi external phynid  benoit gobi
7876,settings improved ux when viewing open source license infonnadded spinning progress indicator to the open source license dialognthe actual file loading is now handled by a separate thread innorder to provide user feedback and reduce risk for anrnid
7877,corrected reference counter problem in rscontextcppnnwhen rsiassignname is called the object is added to vector nnamesnhowever the ref counter for the object is not increasednhave seen problem when objdestroyadd is called for an objectnand is destroyed since the ref counter goes to zeronthe problem is that nnames still has reference to it andnwe end up with a crash when looping over all objectsnin vector nnames make sure object is not destroyed as long asnnnames has reference to itnid
7878,filter out new leakmemalign method in native heap uinid
7879,fix number counter will keep going after window losed focusnnuse time pick in alarmclock long press on or make annincoming call or press power key to suspend the devicenafter resumed the counter will keep going without pressnid
7880,rc do not hardcode the wifi interfacennthe interface should be provided by the caller of service wpasupplicantnid
7881,allow two surfaceviews inbetween the app and the wallpapernnwhen two surfaceviews are used by an application which isntransparent and uses the wallpaper only one of the surfaceviewsnwill be visiblennthe problem is that when trying to find the correct locationnfor the wallpaper the window manager locates the activitynwindow and skips every window below it which is relatednfor the first surfaceview this will be ok since  attached window is the previous windownhowever for the second surfaceview this condition will failnthe  surfaceviews attached window is not the previousnwindow which is the  surfaceviewnnthe fix adds an extra check which detects this usecasenthe windows are related if the attached window is the samenas the attached window of the previous windownid
7882,acp ensure dst mtime always greater or equal to src mtimennwhen copying files from file systems that support high resolutionnmtime we should not truncating the nsec part instead we shouldnincrease the dst mtime by one sec to prevent dst mtime to become lessnthan src mtimenid
7883,arm gic add giccpuexit functionnnadd a function to be called during cpu teardown which disablesninterrupts on the processor interface of the cpu which is beingndisablednnnedoffby gary k
7884,fixed a problem that physical address is inconsistentnnwhen epollwait detected a state change of fd an eventsnstructure including pointer appointed in epollctl isnreturned by epollwait the data of each returned structurenwill contain the same data the user set with a  while the events member willncontain the returned event bit fieldnnwhen older hook and epollevent are deleted after hook andnepollevent are added newly this problem occurnnso when hook is closed rewrite physical address of epolleventnwhich is pointing hooknid
7885,arm tegra fix system event timer time calculationnnthe value provided to clockeventdevicesetevent is already scalednappropriately so the rescaling by  is unnecessarynnadditionally due to a cutandpaste error the minimum clockeventndelta was assigned to maxdeltans which prevented ths system fromnbooting after the incorrect scaling was fixednnnedoffby gary k
7886,memory leak in textkeylistenernnif a call to getprefs is made after weak reference to content resolvernis gone a new observer will be created and registered at thenresolver at registration the resolver will allocate observerentrynobjects that will eventually fill the jni global reference poolnthere is no need to create and register a new observer if one is alreadynregisterednid
7887,explicitly indicates that only bash is supportednnremove all zsh compatibility code and related commentsnndisplay a warning when other shell is used to prevent the illusionnthat building under zsh is supported when  notnid
7888,make test runner parser detect runs with no testsnnadd logic to differeniate between an incomplete test run and a test run whichncompleted successfully but has no testsnnfixes bug
7889,remove surfaceviewtest race conditionnnissue  create a separate thread to call the draw method because thenthread may not be executed by the time the test asserts that the drawnmethod was callednid
7890,prevent key dispatch anr on rapid change of orientationnnrapidly opening and closing the keyboard slider while playing antrack on the music player and touching the screen to start the keyndispatch timer an anr could occur because the  timeout occurednwith mwasfrozen true causing waitedfor to be set to zero and mwasfrozennto be set to false if the  timeout then occured again before thenmwasfrozen frozen flag was set to true again the value of waitedfornwas recalculated and if this indicated that the keydispatchingtimeoutnhad elapsed then a key dispatching anr was raised the intention wasnto restart the timeout checks if we were frozen during configurationnchange and this is properly achieved by setting starttime to thencurrent time so that the subsequent recalculation of waitedfor is fromnthis new pointnid
7891,clean up isvalidapkpath function to avoid nested if statementsnid
7892,arm tegra add support for legacy and apbdma interruptsnnmirror irq enable and disable operations on the legacy ppi systemninterrupt controller since the legacy controller is responsiblenfor responding to wakeup interrupts when the cpu is in  idle modennadd support for the system apb dma controller interruptsnnnedoffby gary k
7893,add r to chmodnid
7894,arm tegra add iram and  io aperture mappingsnnadd a macro for the arm  physical address located in the iocpunaperture since the idle and suspend transition code needs to  registers and hardcoding offsets of  everywhere is errornpronennsimilarly add an aperture for iram since suspend code will need tonexecute partially from iram when the dram is in selfrefreshnnnedoffby gary k
7895,make the two surfaceflinger tests work again these two testsnstopped working since surfacecontrol was introducednid
7896,documentation bug issue  was an issue in the timetomillis examplenalso removed some whitespaces so the filenapplies to the android coding styleguidenid
7897,arm tegra cpu hotplug supportnnto save power smp tegra socs place nonboot cpus in reset when theynare removed from the scheduling cluster using cpu hotplugnnslave cpus save their contexts incl  and vfp state out to anreserved memory region cancel smp operation and write to the socnreset controller to disable themselves this is done with caches andnmmu enabled so care is taken to ensure that all the dirty context cachenlines are cleaned out to the poc before shutting downnnwhen reenabled slave cpus execute a hotplug boot routine which mirrorsnthe ial configuration performed by secondarystartup but afternenabling the mmu return to  which restores thensaved state from the context area and returns to platformcpudienna local page directory is maintained ially a copy of mm bynthe tegra hotplug code to ensure that all necessary context data andntext is properly mapped including   mappings fornthe code which reenables the mmu this page table will also be usednfor the idle and suspend save and resume routines for the master cpunnin pseudocode the hotplug startup routine is basicallynn invalidate icache btac tlb exclusive monitorn enable icache branch predictionn invalidate dcachen invalidate scu tagsn enable smpn setup page tables to tegrapgdn enable mmu  dcachen restore  from context arean change page table pointer to context from shutdownn restore stack registersn return to platformcpudiennnedoffby gary k
7898,exclude  while building libdex for devicennin bionic there is already an implementation of  hash andnthe file  in libdex is almost identical it is onlynnecessary to build  for host version of libdexnid
7899,monthview updated to display associated google calendar colors in busybitsnadded week start day in settingsnremoved locale lookup of week start daynadded standard text todo add  for start day settingsnid
7900,arm gic add gicdistrestore gicdistexit routinesnnon systems with idle states which powergate the logic includingnthe gic such as tegra the gic distributor needs to be shut downnand restored on entry and exit from the architecture idle codennnedoffby gary k
7901,arm tegra timer prevent  timer wrapsnnnedoffby colin cross
7902,allow dlclose to properly call static c destructorsnnwith this patch and an upcoming build patch the destructionnof static c objects contained in shared libraries will happennproperly when dlclose is callednnnote that this change introduces crtbeginsos and crtendsos whichnare currently ignored by the build systemnn move defion of dsohandle to the right placenbefore that all shared libraries used the dsohandlenglobal variable from the c librarynnnote that we keep a  dsohandle in aeabic to avoidnbreaking the build until the next patch to buildcorecombonappears we will be able to remove that laternn move bionicaeabic to archarmbionic its proper locationnnnote the ndk will need to be modified to enable this feature inn the shared libraries that are generated through itnid
7903,ensure havedbus is undefinedn
7904,support split tunneling for vpn connection in pppdnnsplit tunneling information is passed to ipupvpn andnipdownvpn in a  option in the format  where  isna commaseparated list of subnets to be routable throughnppp  is a commaseparated list of subnetsnto be routed through default gateway if ipparam is not setnthen all traffic is redirected to ppp interface default behaviournid
7905,previous commit lacked this change to hierarchyviewernnthis is meant to be part of the fix for macos xnid
7906,drivers mmc sdhcitegra add suspendresume processingnnnedoffby dmitry shmidt
7907,arm tegra suspend add prototype for tegrahotplugstartupnid  colin cross
7908,arm tegra clock update common clock tablenid  colin cross
7909,arm tegra suspend add prototype for  colin cross
7910,arm tegra modify cpufreq to use virtual cpu clocknid  colin cross
7911,arm  clocks fix register offset for  clocknid  todd poynor
7912,update android project properties to support libraries depending on librariesnnthis is simply enabling the ability to add libraries to a library projectnin the uinnalso updated the change lognid
7913,adt make release and debug builds really differentnnrelease export should not be debug builds that arenstripped of their signature and optionnaly resignedninstead they should actually build the apk in releasenmodennrefactor postcompilerhelper to be easier to use fornexport feature moved all error handling into thenactual incrementalbuilder since we  want thenhelper to put errorwarning marker during releasenexportnnupdate the api of apkbuilder and postcompilerhelpernto deal better with signing keyn option to package with a sign with debug flagn new option to packagesign with given keysnndebug build through incremental builder use the newnaapt option debugmode that automatically  in the manifest this allows for thensame source code to generate debug and release buildsnncurrently only the export unsigned release apknaction use the new release build need to updatenthe export wizard also need to add support for thisnin antnnnew folder in sdkgittestapps for test projectsnto be used in upcoming automated build testsnsimple basicproject to start withnid
7914,fix icons for some ddms view by cleaning up an redundantobsolete gitignore filenid
7915,it seems that windows actually does have a header for
7916,change systembuilder tag to optionalnid  bruce bear
7917,support splittunneling in vpn servicesnnmroutelist member in vpnprofile contains commaseparated list ofnsubnets to be accessed through vpn in form of addressmasknmexcluderoutelist contains commaseparated list of subnets excludednfrom vpn in a format of addressmaskaddressmask if mroutelistnand mexcluderoutelist are empty then all traffic gets redirectednto vpn default behaviournid
7918,disable new longjmp in glibc  and laternnbug
7919,adt refactor the builders into their own packagennput the growing list of generic build classesninto the main build packagenid
7920,arm tegra clock add clkroundratenid  colin cross
7921,support additional cts host jarsnninclude another optional makefile from the cts project thatnspecifies additional jars that the cts host may need thisnwill make it easier to create modules in the cts projectnthat can be built for the host and device and shared betweennthe host and test casesnnthe first such library will include annotations likenrequiresfeature and supportsprofile that will be needednto support multiple device profiles in ctsnnanother planned libraries could include defining the ctsnversion number in a central spot and sharing code used tonprobe for certain properties like the opengl version andnother system propertiesnncan be checked in after this other change without causingnbreakag
7922,mdpi drawables for magicsmoken
7923,read log permission test fixesnnbug  a typo in the logcat command used in the test there was annextra colon in one of the argumentsnnadd a test to check that log files under devlog are not worldnreadable also check they are owned by user root and group lognncreate a jni library just for the permissions package the jni codencannot be added to the ctsteststubs jni library because the testsncannot use ctsteststubs since that acquires the permissions wenare trying to negative test i also tried compiling just the singlenjava source in ctsteststubs ially where i tried to putnfileutils and reusing the ctsteststubs jni library but the vm didnnot like it thus i take the easiest route of making a separatenjni library just for the permisions packagenid
7924,remove obsolete machinesetuphtml referencennbug
7925,make sure outofmemoryerror is handled by wallpapermanagernnmake sure exception outofmemoryerror is handled when callingnbitmapfactorydecodefiledescriptor and bitmapfactorydecodestreamnto avoid crash in the system servernid
7926,allow gdbserver to bind to a unixdomain socket using  prefixnid  gdbserver  attach  is needed on android because applications cannot bind to localhostntcp sockets by defaultn
7927,pm prevent waiting forever on asynchronous resume after abortnnonly wait on a parent device during resume if the parent device isnsuspendednnconsider three drivers a b and c the parent of a is c and cnhas asyncsuspend set on boot  is ializednto  the first suspendnsuspenddevicesandentern dpmresumen devicesuspendan devicesuspendb returns error aborts suspendn dpmresumeendn dpmresumen deviceresumean   cn  waitforcompletion will never complete  will only be called fromndevicesuspendc or deviceresumec neither of which is callednif suspend is aborted before cnnafter a successful  cycle where b  abortnsuspend  is left in the completed state by thencall to deviceresumec and the same call path will work if bnaborts suspendnnnedoffby colin cross
7928,staging android timedgpio properly discard invalid timeout valuesnnthe timed output device never previously checked the return value of sscanfnresulting in an unialized int being passed to enable if input valuenwas invalidnnnedoffby mike lockwood
7929,new test projectsnnalso fixed some trailing space in templatesnand automatically generated filesnid
7930,disable unsupported feature for nownid
7931,support for debug build in antnnant debug now automatically insert  in the manifestnnalso cleaned up a lot of the ant stuff versioned ant rules supportnfor importing different rules files based on compatibility computationnnthis is rendered moot with our new single aapt executable the antnrules will now evolve alongside aapt and there will not be mismatchnbetween the twonid
7932,drivers usb gadget fix section mismatch warningnnnedoffby dmitry shmidt
7933,context menu in outline viewnid
7934,update change log with libraries in librariesnid
7935,update the docs explaining how to build an sdknid
7936,fix comments refactor context menu codennsimple refactor of the main method populating the dynamic context menunit was started to grow a bit too muchnalso added some comments to explain  going onnid
7937,cleaned up lunarlander samplenid
7938,improve the implementation of countones function to use only  operationsnid
7939,merge commit  into mergennconflictsntdocsindexhtmlntsrccomandroidprovidersdownloadsdownloadproviderjavantsrccomandroidprovidersdownloadsdownloadservicejavan
7940,merge commit  into mergen
7941,merge commit  into mergen
7942,prevent null pointer referencenid
7943,merge commit  into mergen
7944,merge commit  into mergen
7945,resize the layoutn
7946,arm tegra hdmi nvhdcp drivernndevice devnvhdcpx is used to manage nvhdcp on framebuffer devfbxnthese devices are created on hdmi driver ialition when it isnattached to dc currently only one nvhdcp device may be created an ioctlninterface is in videonvhdcphnncheck for repeaters and store repeater info userspace applicationnqueries this status to authenticate the connection when authenticationnfails autorenegotiate every  seconds give up after  failed attemptsnreset after hotplug or policy changennuse tegradcoutnvhdcppolicyondemand in tegradcoutflags in boardnpanel configuration to select a different default policy at probe currentlynonly tegradcoutnvhdcppolicyalwayson is supportednid  jon mayo  jon mayo  phillip smith  yuhuan hsu  erik gil
7947,merge commit  into mergen
7948,arm tegra kfuse drivernnfactory programmed encrypted key fuses held in kfuse modulenuse apb dma for accessing kfuse registers reading directly can hang if anynother dma is activenid  jon mayo  jon mayo  yuhuan hsu  jon mayo
7949,merge commit  into mergen
7950,when saving http uri locally download directory may not existnid
7951,fix hierarchy viewer plugin againnid
7952,add androidport ialization in the corennalso some minor cleanups to the ui  core stuffnid
7953,revert fixed problem with keymap files copied to targetnnthis reverts commit
7954,adt  synchronized selection between canvas outline and propertiesnnthis cl adds a layoutcanvasviewer a jface viewer wrapping thenlayoutcanvas control this allows the canvas to participate in thenworkbench site selectionnnto summarizen the workbench site selection service can be seen as centralizedn service that registers selection providers and selection listenersn the editor part and the ouline are selection providersn the editor part the outline and the property sheet are listenern which all listen to each others indirectlyn hilarity ensuesnni tried to add enough javadoc in the classes to explain  on so please tell me if more is needed editor part alsonhas a link to the one web page article that brings some sense tonthis stuff i recommend reading the web page firstnid
7955,arm tegra enable kfuse clock on bootnid  jon mayo  jon mayo  yuhuan hsu  jon mayo
7956,arm tegra clocks save osc frequency in suspendnid  colin cross
7957,arm tegra add kfuse peripherial clk entrynid  jon mayo  jon mayo  yuhuan hsu  jon mayo
7958,arm tegra suspend preserve timer configuration across suspendnid  colin cross
7959,defect  days ago and date of call made are the two statusnshown on  day in call lognid
7960,arm tegra use apb dma for accessing apb devicesnid   jon mayo  jon mayo  yuhuan hsu  jon mayo
7961,arm tegra timer add suspend and resumenid  colin cross
7962,use outdir in atree to find androidjarnndepends on change  from buildcorenid
7963,pass outdir variable to atreenid
7964,revert fixed problem with keymap files copied to targetnnthis reverts commit
7965,support for editing id text string and reference propertiesnnwe have context menu items for editing the properties of the currentlynselected view but it is only available for boolean and enumeratednpropertiesnnthis changeset makes it possible to edit these properties in  it adds in all the other properties to the property context menun but instead of pullright menus the actions have as a suffixn and when selected will open a dialog asking for the new valuen this is similar to how custom layout widthheight values aren handlednn if the attribute represents a referencetype then the referencen chooser also used by the property sheet is shown and if not justn a plain text fieldnn this contextmenu feature was requested by external  it adds the id property as a top level item that can be editedn directly via an edit id menu item right next to the layoutn width and layout height properties which are also specialcasedn at the top  for views that have a text property this property is also addedn at the top level to be able to set it quickly and conveniently asn soon as we get inline editing we can consider whether this is stilln needednnin addition the changeset extracts constants for the various ids usednfor action identity and makes a common function for setting anparticular node attributenid
7966,revert fixed problem with keymap files copied to targetnnthis reverts commit
7967,shutdown when capacity is  and no charging or when battery is dead  framework does not shutdown when battery capacity is  and ancharger is attached usb or ac this handling is incomplete since ancharger might very well be attached but charging has stopped becausenusb suspended or the charging algorithm has stopped because ofnbattery safety handling also shutdown when battery is reported  might happen although charging is presentnid
7968,merge commit  into mergen
7969,merge commit  into mergen
7970,merge commit  into mergen
7971,merge commit  into mergen
7972,merge commit  into mergen
7973,merge commit  into mergen
7974,merge commit  into mergen
7975,merge commit  into mergen
7976,arm tegra clock add virtual cpu clock with dvfsnid  colin cross
7977,arm tegra suspend add accessors for cpu power timesnnnedoffby colin cross
7978,arm tegra add dvfs to clocksnid  colin cross
7979,arm tegra add support for reading fusesnid  colin cross
7980,arm serial update tegrahsuart to use ptrerrless dma apinid  erik gil
7981,adt support for libraries depending on librariesnnmajor change in the workflow linking projects and library togethernthis is now done through a single job with a queue of action to donthis ensure that each new opened project is processed one at a timenand not in parallel which would generate problemsnid
7982,merge commit  into mergen
7983,arm tegra update  to use ptrerrless dma apinid  erik gil
7984,fix  clearsilver shared library issuenid
7985,arm tegra dma api no longer uses ptrerrnid  erik gil
7986,add fulleng instead of genericeng in the lunch menunid
7987,merge commit  into mergen
7988,add support for apanic dumps to mmcemmc on an sdhci controllernndumps are transferred using pio nonhighspeed mode with sdclk   width single data rate the apanic driver relies on the osndriver defion and optional ops for max clock speednnthe apanic driver will likely reconfigure the sdhci and mmc in ways thatnbreak other users of the card it will certainly be slower access tonthe hardware is not synchronized with os usage for these reasons thisndriver should not be put into use with  apanic interfaces to checknread and erase panic dumps from the previous boot future generic apanicnwork will move those chores to userspacenid  todd poynor
7989,merge commit  into mergennconflictsntdevicescntlibpixelflingerandroidmkn
7990,arm tegra clock add maxrate parameter to all clocksnid  colin cross
7991,context menu handle boolean properties as tristatennalso offer a clear option for enums and flagsnid
7992,arm tegra clock fix enabledisable parent clocks in setparentnid  colin cross
7993,initial pass at surfaceflinger effects night modennthis change adds a mrendereffect variable that can be usednto control rendering effects at runtime one example effectnof night mode is included which renders the entire systemnin using a redonly filternnin particular this is useful on devices with oled displaysnwhere the power consumption of the red channel is much lessnthan green and bluenid
7994,fix possible npe in layout configuration uinid
7995,added surfaceflinger night mode controlnid
7996,arm spi update spitegra to use ptrerrless dma apinid  erik gil
7997,use islocationproviderenabled to test for enabled providersnnlocationmanagerservice was just checking if the string of commaseparatednlocation providers contained the provider we were interested in this worksnfine in normal cases but breaks if we add a provider such as testnetworknenabling testnetwork causes locationmanagerservice to think that the networknprovider is also enablednnthe code in settingssecureislocationproviderenabled checks for the commasnin the string as well to make sure that a provider name which is a substringnof another provider name  cause problems it also centralizes the codenwhich reads the stringnnnedoffby brad larson
7998,merge commit  into mergen
7999,fix the buildn
8000,merge commit  into mergen
8001,merge commit  into mergen
8002,merge commit  into mergen
8003,usb otg gpiovbus transceiver stubnngpiovbus provides simple gpio vbus sensing for peripheralncontrollers with an internal transceivernoptionally a second gpio can be used to control d pullupnnit also interfaces with the regulator framework to limit chargingncurrents when powered via usb gpiovbus requests the regulatornsupplying vbusdraw and can enabledisable it or limit itsncurrent depending on usb statenndbrownelluserssourceforgenet use driversotg cleanups nnnedoffby philipp zabel  david brownell  greg kroahhartman
8004,usb otg sharable otg transceiver opsnnmove otggetsetputtransceiver from omap specific codento common otgc so other upcoming drivers can share themnn dbrownelluserssourceforgenet move to driversusbotg dox nnnedoffby tony lindgren  felipe balbi  philipp zabel  david brownell  greg kroahhartman  mike lockwood
8005,merge commit  into mergen
8006,yaffs fix incorrect file pruningnnthis problem probably only seldom manifests in realword usage butnshowed up in fsx testing it needs a truncate down followed by antruncate up creating a hole followed by a truncate down but onlyncertain truncation sizes will trigger the problemnnthis would also only occur when wide tnodes are used ie a partition sizenof  chunks or morennnedoffby charles man
8007,usb move  to driversusbotgnnthis moves the  driver from the  which will be shrinking into a new driversusbotgndirectory which will grow with more drivers and utilitiesnnnote that otg infrastructure needs to be ialized beforeneither host or peripheral side usb support and may be needednbefore for pure host or pure peripheral configurationsnnnedoffby david brownell  jean delvare  greg kroahhartman  mike lockwood
8008,merge commit  into mergen
8009,added more proprietary librariesnnthe led light of the htc dream should work whennextra libraries are extracted from the htc dream andnadded to the system imagennthe wlanko is not extracted comparing to change  is already part of the project or can be build fromnsourcen
8010,arm msm sapphire add pull down to sharp panel mddi power sequencennwithout this patch leakage current occurs when the mddi panel is turned offnnnedoffby thomas tsai  rebecca schultz zavin  eric olsen
8011,fix incorrect use of localcflags localcppflags and localcxxflags in ndknnthis fixes localclfags localcppflags and localcxxflags in ndk so that they behave as described below documentation androidmktxt also fixed to reflect the changesnnlocalcflags  used for both c and c sourcesnlocalcppflags  used for c sources onlynlocalcxxflags  does not existnnthis fixes issu
8012,merge commit  into mergen
8013,merge commit  into mergen
8014,arm msm usb gadget call pullup function to enable pullup after resetnnpullup needs to enabled only when vbus is valid and gadget drivernis registered reset function was enabling pullup directly wo anynchecks call enable pullup function which performs the requirednchecks before enabling the pullupnnpatch provided by qualcommnnnedoffby mike lockwood
8015,changing glcommon lib to be a sharedlib instead of staticnid
8016,arm msm usb gadget move udc header file to platform foldernnas the same header file will be used by otg host and gadget devicenmove header file to a shared locationplatformfoldernnpatch provided by qualcommnnnedoffby mike lockwood
8017,small changes to the code before the commit for supporting windows osnid
8018,arm msm usb gadget add check to enable pullup if gadget and vbus are validnnpullup on d should be enabled when both vbus and gadget are validnnpatch provided by qualcommnnnedoffby mike lockwood
8019,this checkin supports windows os in all translator libsnid
8020,arm msm usb gadget disable pullup when vbus is offnnpatch provided by qualcommnnnedoffby mike lockwood
8021,adding a small tests application for the translator libsnwhich works both on linux  on windowsnid
8022,revert add support for camera preview to be in overlay surfacesnnthis reverts commit
8023,net wireless  reduce listen interval to  from  dmitry shmidt
8024,merge commit  into cupcaketomastern
8025,arm msm usb gadget do not suspend the phy when vbus is offnnwhen vbus is off driver tries to put the phy in suspend mode as wendont have complete infrastructure for lpm yet dont put phy in lpmnlpm as we will not be able to wakeup from the same lpm support will benimplemented in a separate patchnnpatch provided by qualcommnnnedoffby mike lockwood
8026,gingerbread branch build fix for gcc  from the sources with the following steps does not workndirectly with gcc  repo u gitandroidgitkernelorgplatformmanifestgit bngingerbread  repo   lunch choice  makennyou get the following errornhost c libutils  frameworksbaselibsutilsrefbasecppnframeworksbaselibsutilsrefbasecpp in member function ‘voidnandroidrefbaseweakreftypetrackmebool bool’ error passing ‘constnandroidrefbaseweakrefimpl’ as ‘this’ argument of ‘voidnandroidrefbaseweakrefimpltrackmebool bool’ discardsnqualifiers fpermissivenngcc seems to be less permissive than before  need some further investigationsnnthe patch below seems to fix the problem builds correctlynthis is my first patch feel free to commentnid
8027,remove simulator from the lunch menunid
8028,revert arm msm defconfig enable netfilter support in defconfignnenabling netfilter in  has caused a major performance regression in networkingnnthis reverts commit
8029,usb gadget add iad support to the cdc acmnncdcacm function uses two interfacesone control interface and onendata interfaceto club multiple interfaces into a single functionnusb standard introduced new descriptor calledninterface association descriptor iadnnmulti interface functions should add iad descriptor in the beginningnof the function descriptors and should specify the first interfacennumber and the number of interfaces that are supported in theniad descriptornniad descriptor helps host to assign multiple interfaces to anparticular function and load drivers appropriatelywindows hostnrecognizes the multi interface functions only if the function has iad descriptornnpatch provided by qualcommn
8030,arm msm usb gadget save and restore otgsc register at hw resetnnas otgsc register is used by transceiver to read the id pin statusnand for interrupts like id pin change and vbusb session valid changesnthe state of this register is cleared once the link is reset and has tonbe restored to the previous state the transceiver is aware of hencensave the state before the reset and restore the same after resetnnpatch provided by qualcommnnnedoffby mike lockwood
8031,pm usbhost clear wakeup events on both hostsnnusbhost module has  fclocks for  and  only one iclocknand only a single bit in the wkst register to indicate a wakeup eventnnbecause of the single wkst bit we cannot know whether a wakeup eventnwas on  or  so enable both fclocks before clearing thenwakeup event to ensure both hosts can properly clear the eventnnnedoffby vikram pandita  mike chan
8032,pm prcm interrupt check mpugrpsel registernnpmwkst register contents should be anded with the contents of thenmpugrpsel registers otherwise the mpu prcm interrupt handler couldnwind up clearing wakeup events meant for the iva prcm interruptnhandler for a production version of this patch we should not readnmpugrpsel from the prm since those reads are very slow rather wenshould use a cached version from struct powerdomain not yetnimplementednnnedoffby mike chan
8033,arm msm sapphire update novatek client detect and sharp panel nntthis patch does the  add retrial method for panel id detection with  mddi clientnt and treat as a sharp is still  remove the test mode of sharp panel with novatek mddi  to avoid blink of sharp panel after  change fte postion of sharp panel to  tearing issuennnedoffby eric olsen
8034,usb otg  transceiver drivernnadd driver for the high speed usbotg transceiver in   of chipsnngiven this and various other pending patches  hardware likenthat from beagleboardorg gumstixcom overo and openpandoraorgnshould now have basic usb host and peripheral connectivity withnmainline kernels ditto for less widelyavailable boardsnnnedoffby david brownell  tony lindgren  kevin hilman  felipe balbi  greg kroahhartman
8035,pm prevent hang in prcminterrupthandlernnthere are two scenarios where a race condition could result in a hangnin the prcminterrupt handler these  waiting for prmirqstatusmpu register to clearnbit  of the prmirqstatusmpu register indicates that a wakeup eventnis pending for the mpu this bit can only be cleared if the all thenwakeup events latched in the various pmwkstx registers have beenncleared if a wakeup event occurred during the processing of the prcmninterrupt handler after the corresponding pmwkstx register wasnchecked but before the prmirqstatusmpu was cleared then the cpunwould be stuck forever waiting for bit  in prmirqstatusmpu to  waiting for the pmwkstx register to clearnsome power domains have more than one wakeup source the pmwkstxnregisters indicate the source of a wakeup event and need to be clearednafter a wakeup event occurs when the pmwkstx registers are read andnbefore they are cleared it is possible that another wakeup eventncould occur causing another bit to be set in one of the pmwkstxnregisters if this did occur after reading a pmwkstx register thennthe cpu would miss this event and get stuck forever in a loop waitingnfor that pmwkstx register to clearnnthis patch address the above race conditions that would result in anhangnnnedoffby jon hunter  mike chan
8036,media video isp enabledisable the isp interrupt when turning onoff clocksnnwithout this patch an irq can occur while the clocks are off in thatncase the interrupt handler tries to access resources that  beingnclockednid  rebecca schultz zavin
8037,merge commit  into cupcaketomastern
8038,sholes enable  and   mike chan
8039,merge commit  into cupcaketomastern
8040,merge commit  into cupcaketomasternnconflictsntcoreprelinklinuxarmmapn
8041,merge commit  into cupcaketomastern
8042,arm omap resource only update resource level if there is a changennpreviosuly updateresourcelevel would always call the changelevelnfunction even if there was no change necessarynid  mike chan
8043,merge commit  into cupcaketomastern
8044,arm omap resource style change for if statementnid  mike chan
8045,guess default mmaxheight but allow layout to override thisnnwithout this code progress bar height gets smaller when thumb gets biggernin absseekbarjava onsizechangedn
8046,arm omap resource make freeuser staticnnonly resource framework calls freeuser ensure it is this waynid  mike chan
8047,merge commit  into cupcaketomastern
8048,arm omap resource protect static pool from concurrent getuser callsnnmulitple threads can call resourcerequest which can cause getusernto attempt to allocate concurrently from the static pool take thenresmutex which is used in resoucerequest and resourcerelease tonguard against thisnid  mike chan
8049,merge commit  into cupcaketomastern
8050,merge commit  into cupcaketomastern
8051,arm msm mdplcdc support output format   larry bassel
8052,merge commit  into cupcaketomastern
8053,merge commit  into cupcaketomastern
8054,merge commit  into cupcaketomastern
8055,merge commit  into cupcaketomastern
8056,merge commit  into cupcaketomastern
8057,merge commit  into cupcaketomastern
8058,merge commit  into cupcaketomastern
8059,merge commit  into cupcaketomastern
8060,merge commit  into cupcaketomastern
8061,merge commit  into cupcaketomastern
8062,merge commit  into cupcaketomastern
8063,merge commit  into cupcaketomastern
8064,fix digits direction in rtl textn
8065,merge commit  into cupcaketomastern
8066,add button to set cdma subscription sourcenncdma subscription source allows the user to choose between ruim and nvnmodes for cdmanid
8067,reorder packages in sdk updaternnsdk bug
8068,merge commit  into cupcaketomastern
8069,merge commit  into cupcaketomastern
8070,md dmcrypt add option to reuse a new global workqueuenntypically dmcrypt instances each have their own set of kcryptkcryptionworkqueues this patch adds an option which will create one set ofnworkqueues on and reuses them for all dmcrypt target instancesnin order to cut down on resource overhead on embedded systemsnnnote if you use stacked dmcrypt instances then enabling this optionnmay cause a deadlocknncc milan broz  brian swetland  andrew morton  christophe saout  san mehat
8071,merge commit  into cupcaketomastern
8072,arm configs sholes move netsched to modules enable ifbnnnedoffby san mehat
8073,merge commit  into cupcaketomastern
8074,fix remoteandroidtestrunnertestn the test device mock to return a string for getserialnumbernid
8075,merge commit  into cupcaketomastern
8076,merge commit  into cupcaketomastern
8077,merge commit  into cupcaketomastern
8078,merge commit  into cupcaketomastern
8079,merge commit  into cupcaketomastern
8080,key character map compatibility fixesnnbug  cts tests expect the keyboard character map to be qwertynfix the tests so they are keyboard character map agnostic bynreplacing the sendkey calls to sendstringsync calls which loadnthe key character map and figure out what the real keys need tonbe pressed avoid using literal a and try to figure out what thenreal key would be needed to produce an anid
8081,staging android binder create dedicated workqueue for binder deferred worknnsome drivers flush the global workqueue when closed this would deadlock ifnthe last reference to the file was released from the bindernid  arve hjønnevåg
8082,setthumboffset was missing in the previous mergen
8083,notify user regarding invalid number during mo callnnwhen user dials an invalid number network returns a failurenas unobtainable number see the table  ts  fornthe possible failure causes changes done to display message tonindicate user that an invalid number has been dialednid
8084,merge commit  into cupcaketomastern
8085,merge commit  into cupcaketomastern
8086,fix of cts knownfailurevalue  bug  in tanh testsnid
8087,notify user when user dials an invalid numbernnwhen user dials an invalid number network returns error indicatingnan unobtainable number see the table  ts  fornthe possible failure causes upon receiving that error display message tonindicate user that an invalid number has been dialed and play a tonenid
8088,merge commit  into cupcaketomastern
8089,notify user regarding invalid number during mo callnnwhen user dials an invalid number network returns an error indicatingnunobtainable number see the table  ts  fornthe possible failure causes changes done to display message tonindicate user that an invalid number has been dialednid
8090,merge commit  into cupcaketomastern
8091,adb add usb vendor id for foxconnnid  mike lockwood
8092,fit incorrect tagvfparch gastcarmcnid
8093,adb fix d and e options for adb forward commandnid  mike lockwood
8094,net wireless  fix ap interface processing and removalnnnedoffby dmitry shmidt
8095,add adb rebootbootloader to match fastboot rebootbootloadernnalso fix the formatting of one of the options in the help messagen
8096,merge commit  into cupcaketomastern
8097,merge commit  into cupcaketomastern
8098,merge commit  into cupcaketomastern
8099,merge commit  into cupcaketomastern
8100,merge commit  into cupcaketomastern
8101,merge commit  into cupcaketomastern
8102,arm msm swordfish do not override memory tagsnnuse the tags passed in by the bootloader to set the size ofnthe memory banks do not unilaterally set it to one banknof   larry bassel
8103,arm msmfb add defion for  output interface formatnid  larry bassel
8104,ukraine localization artfulbits inc httpwwwartfulbitscomn
8105,removed bootpropertiesh dependency from helpcnnfile helpc belongs to the ui while bootproperties belong to the corenid
8106,ukraine localization artfulbits inc httpwwwartfulbitscomn
8107,ukraine localization artfulbits inc httpwwwartfulbitscomn
8108,adt docknight combos in layout editornnadded proper support for qualifiers that have fake valuesnlike for languageregion or none for dock mode thosenare used by adt internally but do not represent valid values sonsome ui like the config creator must handle themnnthey  do it before which led to some weird ui behavior suchnas a language or region qualifier with valuennadded some missing iconsnncleanup some qualifiers by moving similar code into a base classnfor enum based qualifiersnnremoved dependency on the current iandroidtarget to get thenfolder segment corresponding to a qualifier as  not needednanymore now that targets use recent versions of aapt and willnmove to using the most recent one soonnid
8109,removed findbugs warnings from browseractivitynid
8110,compiler warning in
8111,allow explicit warnings for projectsnnenabled compiler warnings by default and then modified javacncommand to include warnings only if a  warning flagnlocalwarningsenable is set to truenid
8112,fixed findbugs warnings in browserbackupagentjavannthis makes sure that streams are closed in corner casesnid
8113,for avc clips with more number of spspps than the number of buffers allocated the node returns error and the clip cannot be playedn
8114,use android to prepare for upcoming armlinuxandroideabi toolchainnnthis patch does not affect current armeabi toolchain behavior at allnit only makes armlinuxandroideabi toolchain to do the same as armeabi doesnnthe current armeabi toolchain does not define unix nor unix sonsome statements wrapped by if defined unix defined unixnendif  be included however the new armlinuxandroideabintargets a linux android platform where unix and unix arendefined which results in the incorrectly inclusion of calls ofnisnanorinf isinf isnegnan ecvtr fcvtr etc we need to addnandroid to prevent these calls from being includednnas a background armlinuxandroideabi will be supported by upstream gccntrunk soon android is defined by armlinuxandroideabi toolchainnid
8115,raw support for pvmi mio file input outputn
8116,mark linked folders from library projects to be derivednnteam plugins should already ignore linked resources but it seemsnthat some  so marking them as derived is a safer betnid
8117,adding check for missing color map in gif decodernna missing color map for a gif image could previously lead to a crashnthis commit adds a null check to prevent that from happeningnid
8118,conditionally support wnopsabi compiler flag for android simulatorn
8119,merge commit  into cupcaketomastern
8120,merge commit  into cupcaketomastern
8121,merge commit  into cupcaketomastern
8122,ukraine localization for alarm clockn
8123,ukraine localization artfulbits inc httpwwwartfulbitscomn
8124,mm check if any page in a pageblock is reserved before marking it migratereservennthis fixes a problem where the first pageblock got marked migratereserve evennthough it only had a few free pages this in turn caused no contiguous memorynto be reserved and frequent kswapd wakeups that emptied the caches to get morencontiguous memoryn
8125,findleavessh properly fix argumentsnnthe first argument is the executable here findleavessh therefore wenneed to start popping from the  argu
8126,send head request   timesn
8127,do not submit testnid
8128,add support for evdo rev bnid
8129,add extended atom types to the  composern
8130,build accessibility tests and apknnbug  ctsmk was missing two lines added to  ctsmk thatnare needed to build the accessibility tests and apknid
8131,reproduce issue stepsnstep   add a playlist with only  songnstep   enable shufflenstep   play the playlist till completednnand the state of music player will be incorrectnid
8132,compiler warnings in jitterbuffer noden
8133,proc pagemap hold mmapsem during page walknnin ial design walkpagerange was designed just for walking pagentable and it  require mmapsem now findvma etc are usednin walkpagerange and we need mmapsem around itnnthis patch adds mmapsem around walkpagerangennbecause  callback routine use putuser we havento get rid of it to do sane fixnlog  fixed startvaddr and end overflowlog  fixed startvaddr calculationn removed unnecessary castn removed unnecessary change in smapsn use gfptemporary instead of gfpkernelnnnedoffby kamezawa hiroyuki  matt mackall  kosaki motohiro  brian swetland  dave hansen  andrew morton  san mehat  fixed kmalloc failure return code as per matt nnedoffby linus torvald
8134,specific test  content cannot be played on streaming with http progressive protocoln
8135,add support for evdo rev bnid
8136,add in test for receiving data in  engine unit testsn
8137,remove unused kvps from engine and codecsn
8138,update geomagneticfieldtestnnbug  commit of the followingnncommit  tue mar     fixing testnn changeid
8139,add support for evdo rev bnid
8140,define android for  to be on par with arm build requirementsnid  bruce bear
8141,fix broken logic in settingsproviderparseproviderlistnnwe were accidentally stripping both leading and trailing commasnwhen removing a provider from the enabled provider listnnnedoffby mike lockwood
8142,add new player engine test case for http streaming transfer moden
8143,fix undefined reference to dliteratephdr for   bruce bear
8144,arm tegra clock update usb host controller clocks dev idnnnedoffby benoit gobi
8145,arm   add more security checksnn check the vma size against the gpumemoryregion sizen in mmap clear ebi and smi memory regions before handing them to the usernthis prevents a malicious client from stealing the previous clients data byndoing a forced revoke and mmapping the gpu memorynnnedoffby iliyan malchev
8146,inconsistent keepalive timer during rtsp streamingn
8147,add new default devices to the layout editornnthose devices represent one of each resdensity combo for officiallynsupported screensnnsee httpdeveloperandroidcomguidepracticesscreenssupporthtmlrangenid
8148,changes made to api of a cpm pluginn
8149,usb host add ehci driver for nvidia tegra socsnid  benoit gobi
8150,net wireless  improve btcoex during dhcp sessionnnnedoffby dmitry shmidt
8151,added public api to cpm pluginn
8152,add ctstestcaselistmk to build ctsnnbug  the test case list from buildcoretasksctsmk and putnthem in a ctstestcaselistmk file this change will make itneasier to develop cts in the open since adding test packagesnand applications will no longer require multiple project changesnnanother alternative was to move the entire ctsmk file to thencts project but since the makefile is in flux in the master branchnso much that  decided to simplify things by only includingnthe test case list to avoid merge issuesnnalso i decided to keep this in a separate makefile rather thannstuffing the defions in the cts androidmk  thinkingnits better to be more explicit with an include statementnrather than being implicitly defined in the androidmknid
8153,fix auto launch config to respect minsdkversionnnwhen launch config is in automatic mode with nonpreferred avd and minsdkversion is smaller than thenproject  api level try to find an  as close to the minsdkversion as possiblennsdk bug
8154,adding bgr support for  in codecsn
8155,ukraine localization artfulbits inc httpwwwartfulbitscomn
8156,ukraine localization artfulbits inc httpwwwartfulbitscomn
8157,ukraine localization artfulbits inc httpwwwartfulbitscomn
8158,ukraine localization artfulbits inc httpwwwartfulbitscomn
8159,ukraine localization artfulbits inc httpwwwartfulbitscomn
8160,ukarine localization artfulbits inc httpwwwartfulbitscomn
8161,ukraine localization artfulbits inc httpwwwartfulbitscomn
8162,ukraine localization artfulbits inc httpwwwartfulbitscomn
8163,superh add configuration to stracenid
8164,compatibility with latest opencorenid
8165,added an utility function to set rtsp proxy server informationnnreflecting  feedbacknid
8166,you knowyou need parenthesesnid
8167,version updates for sdkinfo header files and playerdriver documentation updatesn
8168,prevent output to console when closing several projectslibs at oncennthis is due to link updates on closed projectsnid
8169,msmnand  return euclean for single error correctionsnnthis change was lost by move empty page check after dmaunmappagennsingle bit errors are frequent if we  correct more than onensymbol per sector return zero so yaffs does not retire the blocknid  arve hjønnevåg
8170,add support for file metadata scanning in more formatsnnadd support for wma wmv asf aac amr amrnb awb amrwbnand wav file metadata scanningnid
8171,fix automergenna change that was cherrypicked from the external master into  branch was automerged back into the external master in suchna way that a method and a field got duplicated this cl fixes thenmergenid
8172,the original timeout  mins is too rigorous in live networknid
8173,unused variables in addnewbookmarknnthe fields mtextview and mimageview are not used andnshould be removednid
8174,huawei fix for call function tests failing on mobile internet devices personal media players and other nonphone devicesnid
8175,arm tegra pinmux correct driving strength programming offsetnnoffset of driving strength for drvup is  instead of  change by kenjchennvidiacomnid  mayuresh kulkarni
8176,fix merge errornid
8177,the phone did not reject unsupported vcalendar itemnnvcalendar is not supported in the phone but it was notnrejected a blacklist was present in the code but notnused hence this fix enables the blacklist functionalitynid
8178,huawei fix for receive message tests failing on mobile internet devices personal media players and other nonphone devicesnid
8179,deactive binaryxml contenttypennthis breask the binaryxml editor featurenhowever it fixes the issue  which is more importantn
8180,merge into   handle animator and interpolator resourcesnid
8181,layoutlib api new log api updated scenestatus apinid
8182,fix bugs regarding dentries crossing a block  if statement in adddentry functionnif a new dentry fits the edge of inode block exactly cf offset reclen   nnadddentry function regarded it as a crossing one even though we can place it in the current inode blocknit was obviously a bug because this behavior did not conform to the behavior of dentrysize functionnnso i added an additional expression offset reclen infoblocksize to the if statementnnow the code detects the crossing condition of a new dentry very correctly in any  padding extra dentry at the end of makedirectory functionnpadding an extra dentry of  type is necessary in order to complete the current inode blocknhowever we have to consider the possibility that this padding dentry may exceed the current inode sizenin such a case the revised code just expand the length of previous dentry instead of adding a new dentrynid
8183,make imagesizefromdatasize not use hard coded valuesnnthe function imagesizefromdatasize was using hardncoded values the size of spare area and pages has becomenconfigurable so we need to read from the variablesnid
8184,make the error text participate in select all and copynnwhen there are rendering errors the error messages are listed in anstyledtext widget which opens up at the bottom of the layout editornnthis changeset makes it possible to copy  paste the error message itndoes this bynn making the global select all action operate on the error label whenn the error label has focusnn make the global copy action operate on the error label if the errorn label has selected text which could have been made selected eithern by the select all action above or by a manual mouse selectionnid
8185,bug fixes of drm frameworknn add death listener to cleanup drmserver appropriatelyn when drmserver diedn remove static declaration of muniqueidvector because it was notn needed to be static variablen remove class drmcontentids because the class does not existn remove case sensitivity for file suffix and mime typen add missed drminfoevent callbacksn contentpath in saverights could be empty becausen it is not required by some drm schemesn fix problem when empty string is passed through bindern fix naming convention to use sxxx for static variablesn fix typons are made by sony and sony ericssonnid
8186,fixed dialog handling in usbstorageactivitynndialogs in usbstorageactivity were added in a nonui threadnwhich caused crashes eg when changing orientation dialogs arennow created in the ui threadnid
8187,fix potential npe in avdcreationdialognid
8188,arm tegra ventana fix gpio key for menu optionsnid  varun wadekar
8189,performance activity manager perf unnecessary recalc of oomadjnnif an activity has bound service content providersnupdatelruprocessinternallocked will be called recursively withnthe oomadj flag set resulting in several recalculations of oomadjnwith unchanged data doing it at the end of the top level call tonupdatelruprocessinternallocked is sufficientnid
8190,merge  from master do not mergennmake the feature require eclips
8191,specific instructions about using these eclipse settingsnid
8192,fix for the android issue  of widgets in on the home screen has been resolved with this fixnid
8193,fix for the android issue id  codec  when stagefright sniffs to detect the file type wavextractor is returning higher confidence than  results in sf picking up wav decoder for playback since the actual codec is  this failsnwhen the code is changed to return higher confidence for  playback works  check if wav header is present in the  if it is present return higher confidence from the sniff function so that  decoder is used rather than wrong wav decodernid
8194,corrected scroll behavior for righttoleft paragraphsnnparagraphs with rtl direction was misplaced when pressingnand dragging on the text field the alignment used in layout have nonmeaning without the paragraph direction alignnormal for a latin textnis left aligned and alignopposite is right aligned but alignnormalnfor arabic is right alignment and alignopposite is left alignednnthe scrollto method in touchjava made the assumption that alignnormalnalways is left alignment and alignopposite is right which is wrongnid
8195,fix for the android issue no   option turn onoff  working as expected the changes are not reflecting in the notification barnthis fix will resolve this issuenid
8196,fix for the android issue  fix will resolve the issue of alarm cut enabled the marquee so that the long text will not be cutnid
8197,make the error text participate in select all and copynnwhen there are rendering errors the error messages are listed in anstyledtext widget which opens up at the bottom of the layout editornnthis changeset makes it possible to copy  paste the error message itndoes this bynn making the global select all action operate on the error label whenn the error label has focusnn make the global copy action operate on the error label if the errorn label has selected text which could have been made selected eithern by the select all action above or by a manual mouse selectionnid
8198,continue idmap generation even if name lookup failsnnin resourcesarsc files a resource is represented by a specificationnblock and one or more value blocks in rare cases a resource namenis also given a new resource id a specification block and no valuesnblocks this commit ensures idmap generation does not fail if such annentry is encounterednid
8199,improve emulator kernel rebuild scriptnn add support for building on  automatically finds the crosstoolchain archdependent if  is not usedn add autoconfig  message to indicate what was automatically configuredn select appropriate names for output filesn print their name on the terminal in case of successnid
8200,arm tegra clock save and restore audio clock during suspendnid  colin cross
8201,build overlay packages just like regular packagesnnpreviously building overlay packages required passing aapt its o flagnthis commit decouples the idmap generation code from the effects of theno flagnnsince this commit renders the o flag obsolete support for the flag wasnremoved from aapt as wellnid
8202,fix a npe when arguments are not properly understood by monkeyrunnern add the ability to pass boolean types for intent extras   fix an improper flag being passed to am startn pass the key and value to am start instead of just the valuenid
8203,webview needs to set instance of chromeclient to use getprogress valuenassertloadurlsuccessfully is using viewgetprogress which returnsnno meaningful value without chromeclientnid
8204,huawei fix for send message tests failing on mobile internet devices personal media players and other nonphone devicesnid
8205,fix ant rulesnn  is default encoding for java filesn make encoding target source also overridable in the lib rulesnid
8206,fix ctsverifier proguard issuesnnremove the specification of click handlers via xml since that  work when proguard is enablednid
8207,this is tools  in  do not mergenid
8208,cleanup refactoringnid
8209,changed bundle versions in some manifestsnid
8210,wrap error textnnwide lines in the error label for rendering errors were notnwrapped annoying when  trying to copy  paste a path out of itnto examine the file in question etcnid
8211,fix settingssecuretesttestsecuresettingsnnbug  test tries to modify secure settings which it will never be ablento do change the tests to check that the right exceptions are beingnthrownnid
8212,suppress  broken but is fixed in a future releasenid
8213,reformat changestxtnnmake the changestxt wrap such that  easier to read long linesnid
8214,update test apps and bundle them in the meta sdknn make it so that layout display something about the projectn and possibly the result of calling out to class coming from jar filesn make the activity names on the launcher to be the name of the projectsnid
8215,add specifc warnings config for most sdk eclipse projectsnid
8216,additions to changestxtnid
8217,usb driver inf file for rev
8218,merge  from master into  binaryxml contenttypennthis breask the binaryxml editor featurenhowever it fixes the issue  which is more importantn
8219,remove errortag throwable from layoutlognnwe should never only log an exception with no associatednmessagenalso  found several case in the layoutlib where therenis a message in place of the tagnnthis new api makes it more clear that  both a tag and a messagensince both are required for errornid
8220,frameworksbasetelephony release wakelock on ril request send errornnandroid telephony does not release the partial wakelock right away ifnthere is an error in sending the ril request the wake lock is releasednonly after eventwakelocktimeout occurs that prevents the phone to gonin power collpase the change is to release the wake lock as soon as thenerror in send is detectednid
8221,deactive the logging code used for issue   quite remove the logging codenjust deactivate it for right nownid
8222,add a new test testapksalwaysreadablennnow testsystemdiraccess will test not writabledeletablenfor all files in systemappnid
8223,change context menu label from clear to defaultnnthe property context menus in the layout editor lets you choosenbetween true and false for booleans and between the variousnpossible enum values for enum properties you can also reset thenvalues back to whatever the defaults werennthe menu label for this was clear this changeset changes this tondefault instead since clear sounds more like an action than anpersistent choice among many and when this option is chosen you arenremoving a local override of the property and picking up whatever thendefault isnid
8224,fix in methodprofilinghandlernnthe local and remote file paths were invertednid
8225,changes to widget text and id formatnnthis changeset changes the default text and id attributes of newlyndropped widgets in the following  use the node class name rather than the id as the ial text inn other words the default label for a button is button rather thann  this is a more common convention in other guin builders and you typically  want the actual label to ben idsomething you want it to be stringsomething so the idn prefix is slightly confusing for  the id uses method name capitalization rather than class namen capitalization eg checkbox rather than checkbox this seemsn to be the convention i see in handwritten layouts which makesn sense given that the reference will be compiled to and referencedn as a java  in the case of conflicts  use a leading  in other wordsn rather than    we have     unlikely that the user will have ten or more unnamedn widgets and if they do the leading zero still  needed then code which looks for name conflicts now also performs casen insensitive comparisonsnid
8226,adt make extractstring work on unsaved buffersnnthis also improves the ability to change xml strings innany xml file including the manifest also fixes somenedge cases related to that new abilitynid
8227,make envsetsh sourcable regardless of current dirnnandroids envsetupsh was refering to the prebuild toolchain and vendorndirectories using a relative path this conflicted with sourcingnenvsetupsh from any other directory than androids top level buildndirectory with this change the correct toolchain and vendor directoriesnwill be reached regardless of current working directory when sourcingnenvsetupsh thus making it easier to source envsetupsh and decidingnon target productbuild variant from a module subdirectorynnnedoffby christian bejram
8228,change cts report output directorynnmove the report into a separate directory because the main cts rulenwas deleting the cts directory causing issues where the report gotndeleted after it was donenid
8229,include view supportnnadd improved support for includes you can now view and edit a layoutnwithin another containing layout on a page with includes you canndouble click to warp into the included layout and it will be shownnwithin the container layout but with a semitranslucent mask to makenit obvious that you are editing only the included content not thencontainernnyou can also right click on a view and choose show included innwhich is a pullright which lists all the other layouts that arenincluding this view if there are no such views the menu item willnbe emptynnin addition this changeset adds code to detect if there are cycles innthe includes and if so adds a problem marker in the problems viewnlisting the offending chain of includesnnthis is all managed by a new includefinder class which listens fornresource file edits so it only kicks in when you save an xml filennot after each xml edit it scans layout xml files for includes andnmaintains a map of file includes this is done such that it can verynquickly provide a list of all files that are including a given targetnfile this list is also persisted across ide sessions via a projectnpropertynnalso fixes outlineexpansion to ensure that the outline always showsnthe top level childrennnnote the includerelationships are based on the base layouts thenones in layouts not in customized versions in layoutlandnlayoutport etcnid
8230,submit mergednnsquashed commit of the followingnncommit  vladimir chtchetkine  thu dec     implement attachcore ui optionnn changeid
8231,try to use the  default language by defaultnnthe configuration chooser creates an alphabetical list of languagesnand regions when you open a layout the first time it will just picknthe first item in the drop box the earliest language in thenalphabet this is often usually not the native language of thenuser who probably wants to see either their own  language ornthe fallbackother languagennthis changeset tries to ially pick the  language when younopen a new layout it does this by looking up the current locale i atnfirst attempted to select the right combobox index but ran intonproblems because the configuration matcher would later reset it to thenfirst alphabetically matching languagenninstead this changeset looks up the current locale then finds thenbest match among the available languages and regions and then addsnthis language item at the top of the language combobox list thisnmeans it gets picked by the existing default code and  also anreasonable thing to show firstnid
8232,watchdog tegrawdt several changes to watchdog drivernnadd a config option to enable the watchdog driver from probenreduce the default timeout to  secondsnread the reset reason and print a messge if the last reboot wasntdue to watchdog resetnid  rebecca schultz zavin
8233,added about files for traceview pluginnid
8234,use getassetsgetlocales to compare with enusnnthe localeutilsissupportedlocale is listed locale from icu data resourcenthe icu data resource is provided by android official release and all of data resources are including enusnnthe test case below is compared string with apk resource not icu data and apk resource string is depended on phone localenthe test case should query locale from phone localenid
8235,packagesappsmusic fix for auto resume of music after voice callnnmusic app is getting resumed once voice call ends even if user has pausednwhile voice call is in progessnadd a state variable to keep a track if user has paused itnid
8236,move emulator skins to developmentgitnnalso added new default ram config to the skinsnid
8237,add basic preferenceactivitytestnnadd a new package for androidpreferencects and add some basic testsnfor preferenceactivitynid
8238,libstagefright add check for corrupted header in  filennplayback of audio clip causes anrnthe infe recursive call of parsechunk causes anrnreturn error when mnumsamplesizes is corruptednid
8239,sigsetmaskc was not processing the mask argumentnid    bruce bear
8240,huawei cts fix for receive progress during the web hitory item test set upnid
8241,libstagefright add error handling in amrnb deoodernnreturn error when amrnb software decoder failsnid
8242,arm tegra add external memory controller drivernid  colin cross
8243,huawei cts fix for testing the international number format with the sign in the middle of the stringnid
8244,libstagefrightreconfigure audiosink after port settings change message receivednnreconfigure the audio sink after the omx component returns the correctnsampling rate and channelsnid
8245,use resourcechooser for stringsnnwhen editing the text property via edit text show thenresourcechooser assigned to resourcetypestring instead of the morengeneric referencechoosernnsome minor tweaks to incorporate feedback on an earlier clnid
8246,arm tegra cpufreq support for tegra cpu throttlingnid  dmitriy gruzman
8247,add defines for caif supportnid  mark gross  bruce bear
8248,opengles  encoderdecoder implemenationnnthe purpose of this implementation is to enable to the android emulatornto use the host graphics hardware for opengl renderingnthis change code lives under  includes the following  opengl encoder  opengl decoder  testing render control api   linux only unit test program  linux only host side egl wrapper  guest side eglgles implemenation wrapper  a fix to the code generated by emugen to avoid redundant copiesnid
8249,usb gadget multiple acm gadget instancesnn added multiple acm instance support in android gadgetn fixed multiple instance naming issue in acm functionn increased max instances from  to   john michelau
8250,usb gadget fixed android gadget function discovery  product matchingnn  bind until all required functions have registeredn consider multiinstance functions when matching productsnid  john michelau
8251,new standalone avd manager windownnthis is the the current avd manager page wrappednas a window so that it can be used either in standalonenor from the new sdk manag
8252,changes to widget text and id formatnnthis changeset changes the default text and id attributes of newlyndropped widgets in the following  use the node class name rather than the id as the ial text inn other words the default label for a button is button rather thann  this is a more common convention in other guin builders and you typically  want the actual label to ben idsomething you want it to be stringsomething so the idn prefix is slightly confusing for  the id uses method name capitalization rather than class namen capitalization eg checkbox rather than checkbox this seemsn to be the convention i see in handwritten layouts which makesn sense given that the reference will be compiled to and referencedn as a java  in the case of conflicts  use a leading  in other wordsn rather than    we have     unlikely that the user will have ten or more unnamedn widgets and if they do the leading zero still  needed then code which looks for name conflicts now also performs casen insensitive comparisonsnid
8253,add contentdescriptions to unlabeled buttons to improve accessibilitynid
8254,sdk manager dialog to perform specific updates from adtnnas a working case example this adds an adt projectncontext menu to add the android compatibility jarnto an android projectnid
8255,rtc alarm update hrtimer if alarm at the head of the queue is reprogrammednnif an alarm was restarted with a value that moved it away from the headnof a queue the hrtimer would not be updated this would cause unnecessarynwakeupsnid  arve hjønnevåg
8256,add neon optimized dequantization and inverse dctnnimplements unscaled and scaled dequantizationnand inverse dct functions in neon assemblernoptimizes web and gallery application use casennnedoffby christian bejram
8257,cgroup leave cglist valid upon cgroupexitnna threadprocess in cgroupattachtask could have  after cgroupexit had already callednlistdel on the same list since it only checked  before doing this the listdelncall would thus be made twicennthe solution is to leave  in a valid state inncgroupexit with  which leavesnan empty listnid  simon wilson
8258,add neon optimized color conversionnnimplements all upsampling color conversion functions innneon assembler optimizes web and gallery application use casennnedoffby christian bejram
8259,arm tegra hdmi hotplug fixednnmodified tegradcenable and tegradcdetect sequence for workingnhotplug detection hdmi enable pin needs to be enabled before edidndetect function is used the enable bails out early if pclkpixel clocknis  but pclk cannot be configured until modes are loaded by edidndetect functionnnbug    jon mayo  jon mayo  peter zu  yuhuan hsu  jon mayo  picked from commit
8260,frameworksbase fix for force close during rapid ff of cetain midi clipsnnrapid fast forward of certain midi clips result in force closenmessage and music app exitsnsetdatasource and prepare fail in playback complete state ofnmedia playernreturn error when setdatasource and prepare are called in playbackncomplete state so that music app can exit gracefullynid
8261,arm tegra edid modes unialized on  failnnfix unhandled  errors in tegraedidgetmonspecs that resulted inntruncated mode listsstale datanid  jon mayo  jon mayo  peter zu  yuhuan hsu  jon mayo
8262,stagefright start point of certain wav files is strangenn invalid kkeytime was set in the meta datan kkeytime meta data should be calculated based on the data read during thenprevious iteration for the first read it should be set to zeronid
8263,arm tegra add kfuse peripherial clk entrynid   jon mayo  jon mayo  yuhuan hsu  jon mayo  picked from commit  jon mayo
8264,adt add support for some new resource typesnnthey are not technically new but we never reallynneeded them turns out we do now some are used by some widgetsnnalso added an assert to detect new types of resources and a testnto make sure that all resource types and folder types are addednto the folderres relationship mapsnid
8265,revert usb host tegra remove programing ptc bits based on bus speednnthis reverts commit  is needed to resume usb from
8266,add a hyperlink resolved for android xml filesnnthis changeset adds basic hyperlink handling to android xml filesnsuch as androidmanifestxml and layout xml filesnnit registers a hyperlink detector for our xml files and the hyperlinkndetector looks up the xml model and finds the node and attributesnunder the cursor if found it then checks these attributes for a setnof patterns that it can link tonn if it finds an  element it looks up the activity name andn the package on the root element and lets you jump to the activityn ditto for servicesn if it finds a layout attribute value it attempts to open then corresponding layout file in the res folder in the project ditton for other perfile resources like drawable etcn if it finds a value resource like string dimen etc it willn search through the various xml files in values and open up then corresponding xml declaration in the editor with the declarationn selectednnnote that the resolver does not use proper full resource resolutionnbased on the sdk parsing that we have in use within the layout editornetc  the natural next stepnid
8267,handle animator and interpolator resourcesnid
8268,regulator  correct register tablenncorrect the register table for   rtcnid  danny huang  olof johansson  stephen warren  mark brown  liam girdwood
8269,set ial focus to improve accessibilitynid
8270,reformat changestxtnnmake the changestxt wrap such that  easier to read long linesnid
8271,regulator  add missing bit mask generationnid  danny huang  olof johansson  stephen warren  mark brown  split into separate patchesnnedoffby liam girdwood
8272,runtime resource overlay iteration  resource overlay allows unmodified applications to appearnas if they had been compiled with additional resources defined seenlibsutilsreadme for more informationnnthis commit is the first iteration of runtime resource overlay itnprovides the actual overlay modifications and loading of trusted overlaynpackages ie residing in vendor targeting frameworkresapknnthis commit loads exactly one overlay package the overlaynif present must target frameworkresapk and be located atnvendoroverlayframeworkframeworkresapknid
8273,webview needs to set instance of chromeclient to use getprogress valuenassertloadurlsuccessfully is using viewgetprogress which returnsnno meaningful value without chromeclientnid
8274,require eclipse  explicit dependency on eclipse  or higher to avoid peoplenaccidentally using adt with eclipse  where various features willnnot work correctly because we depend on  apisnid
8275,add  which somehow got removednid
8276,additions to changestxtnid
8277,regulator  handle both enable regbits being the samenid  danny huang  olof johansson  stephen warren  mark brown  split into separate patchesnnedoffby liam girdwood
8278,mkbootimg free allocated memorynnas a general practice  memory should be freed upnid  vikram pandita
8279,fixing race in androidhardwarectscameratesttestzoomnnremove the checking process that compares given zoom valuenfrom callback and gotten zoom value via getzoomnnbecause there is a race condition in that the callback happensnand before the call to getzoom the zoom has already been updatednnwhen onzoomchange is executed during smooth zoomnthe return value of getzoom in checking  correspond to the argument valuenin case that the zoom has been already updated before thencall to itnid
8280,arm tegra clock save and restore plld plls and pllu in suspendnnhdmi was not working after  because the plld were being resetnduring suspend plls and pllu were also not being saved addnall three to tegraclksuspendnnthe lock time for plld is  us so increase the delay afternsetting the pllsnnadd a bugon to ensure the size of the suspend context area isncorrectnnoriginally fixed by mayuresh kulkarninnoriginalauthor mayuresh kulkarni   colin cross
8281,always prepend a space before kernel parametersnnit has been reported that in certain cases qemud would think thatnthe serial device i
8282,arm tegra dvfs add emc clock to dvfs tablenid  colin cross
8283,regulator  fix  to store goregbitnid  danny huang  olof johansson  stephen warren  mark brown  split into separate patchesn minor formatting fixesnnedoffby liam girdwood
8284,android sdk installernnthe instaler have made according  change including the orgeclipseuistartup extension point whenneclipse inluding adt plugins is started extpoint check if existsnvalid sdk defined with the adtprefsprefssdkdir preferencesnif it  exists the ext point opens dialog shown  required req packages are sdk tools and sdk platform tools andnthe recommended packages are latest platform and documentationnthe user can install other packagesni have tested change using the local repositorynhttpadtaddonsgooglecodecomsvntestinstallerrepositoryxmlnand archive created on local disknnnote  have removed the addon element and the extra element the extranelement has been changed but it  documentednnnote  dialog could be opened when user click open the android sdk andnavd manager but it be good that  change be acceptednid
8285,adt  do not mergenid
8286,make the feature require eclips
8287,fix findjdktoolsjar to be cygwinfriendlynid
8288,crypto tegraaes call initcompletion before setting the transfernid  varun wadekar
8289,numberpicker set formatter local value to usnnas the arabic language formatter would make number  to arabicnlanguage word means onetwothree numberpicker  like to shownany thing other than numbers add local settings to us make thennumb
8290,disable change pin when pin is inactivenndisabled the option to change pin code when pin lock is disablednthis is done by adding dependency to the checkbox above in the xml filenid
8291,layoutlib api move addmovechild api back to using indexnnalso add an optional data bundle to sceneresultnid
8292,adding goldfish tty events mmc nand and battery device supportnid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
8293,add  with the pdevbus driver copy the arm version because  smallnid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
8294,implement attachcore ui optionnid
8295,add valgrindn
8296,cts coverage build improvementsnn add additional dist goals to copy over the css and xsl resourcesn to make viewing the report easiernn fix ctsapicoverage to take a path argument for dexdeps sincen the build does not have dexdeps in its path after buildingnid
8297,headers and config for goldfish headers and kconfig only builds with thengoldfishdefconfignid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
8298,layoutlib api fixed wrong camelcase in apinid
8299,adding function copying  pixels from other  filenid
8300,add snapshot handling for avd creation details and launchnnalso respect  user  by disabling snapshot launch and support
8301,extend android with cdma mobile technology supportnnthis is a clean upload of the first contribution of a project that has the goal to extend thenandroid telephony layers with cdma mobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use casenimplementationsnthe final contribution will support cdma functionality for android phonesnsupportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnuc mobile originated callnuc mobile terminated callnuc network phone settingsnuc supplementary services partlynnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationnnvarious review comments are also fixed with this contributionnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
8302,cgroup fix cpuset permission checknnthe permission check code added by cgroup add generic cgroup subsystemnpermission checks does not build and also leaves a variable unializednfix itnid  rabin vincent  christian bejram
8303,enabled ndkgdb on phones without working runasnsome phones such as the samsung galaxy s is missing a working runas binarynthis patch is a workaround which uses the su binary if the runas binary is not workingnthis means debug functionality of native code will be included into the samsung galaxy s and other phones in the galaxy seriesnid
8304,prevent deadlock when using forknnwhen forking of a new process in bionic it is critical that itndoes not allocate any memory according to the comment innjavalangprocessmanagercnnote we cannot malloc or free after this pointna nolongerrunning thread may be holding on to the heap lock andnan attempt to malloc or free would result in deadlocknhowever as fork is using standard lib calls when tracing it a bitnthey might allocate memory and thus causing the deadlocknthis is a rewrite so that the function cpuacctadd that fork callsnwill use system calls instead of standard lib callsnnnedoffby christian bejram
8305,add documentation for us and kr radiosnnbug
8306,imagecapturejava modifies the way memory is measured during testimagecapturenn has some additional fixes related to package namesnid  emilian peev
8307,camerastartupjava package name fixnid  emilian peev
8308,move the goldfish audio driver to the generic directory add the audio driver if configarchgoldfishnis configured common for arm and  no need to change the config filenid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
8309,add  support to the golfish framebuffer drivernid  sheng yang  yunhong jiang  xiaohui xin  jun nakajima
8310,merge from donutn
8311,building  simlator on ubuntu   complains aboutnlacking intmax without including  errornframeworksbaselibssurfaceflingersurfaceflingercpp in member function ‘virtual androidstatust  const  androidparcel ’  error ‘intmax’ was not declared in this scopenn
8312,merge from cupcaken
8313,arm   fixes build break when dallas  driver is not compilednnnedoffby romit dasgupta  rebecca schultz zavin
8314,merge from cupcake alphasort lists of proprietary filesn
8315,arm  prevents mpu power domain to enter offretention in cstate  romit dasgupta  rebecca schultz zavin
8316,fix cm issue  aosp issue  is a first idea to fix cm issue  aosp issue  original implementation just stored the local time as thensent time and not the time  indicated in the sms messagenby the smsc i intended to add a second inboxdate value for thenreal smsc time but that would need a lot of changes on severalnplaces in the sourcenso this request can also be seen as some kind of rfcnid
8317,musb add context save and restore supportnnadd musb register save and restore functions call thesenfrom the driver suspend and resume pathsnnnedoffby anand gadiyar  vikram pandita
8318,arm tegra dma remove spam lognninterrupt during enqueue happens periodically when thendma is almost starving this happens under certain notnuncommon scenariosnnnedoffby iliyan malchev
8319,arm tegra suspend fix build with   andrei warkentin
8320,fix method table wrong in comandroidserverhardwareservicecppn
8321,video tegra fix dccmdstatecontrolupdate register valuesnid  erik gil
8322,alphasort lists of proprietary filesn
8323,arm   turn off hardware during overunderflownn leave  running during underflow for a couple of reasonsn first the  buffers a few samples and if we get a new writen before those samples are flushed we will keep continuous audion second we burn cpu time stopping and restarting the hwn frequentlynn fix tegraaudioinoutgetsetnumbufs was causing dma ton readwrite to null hw addressnnnedoffby iliyan malchev
8324,added more proprietary librariesnnthe led light of the htc dream should work whennextra libraries are extracted from the htc dream andnadded to the system imagennthe wlanko is not extracted comparing to change  is already part of the project or can be build fromnsourcen
8325,the directories included in localdroiddochtmldir already haven$localdir prepended where required so do not add them at thisnstagenremoves some build warningsnid
8326,disallow java keywords in resource namesnnif you create a resource file that is a java keyword bad stuffnhappens it  even make it into the r filennthis modifiers the resource name validator used among other places innthe new xml file wizard to disallow these names along with a suitablenerror messagenid
8327,usb gadget fsludc fix a race between epdisable and epqueuennfixed a possible null pointer exception when an endpoint getsndisabled while a request is being enqueued in parallelnnunmap the request buffer if we fail to enqueue the requestnid  benoit gobi
8328,add logging to precompiler buildernnthere are some reports of npe in the builders on mderivedprogressmonitornwhich means startuponinitialize would fail to finishnnthis adds a log in the method should an exception be thrownnid
8329,add play animation menunnadds a new dynamically populated context menu named play animation whichncontains  sectionsnn first the most recently played animation name this is iallyn empty but once  played an animation the most recently one isn listed therenn create this is a shortcut which opens the new android xmln file wizard preconfigured to point at the current project andn with the animation category selectednn android builtin  this is a submenu also lazily populated whichn lists all the builtin android framework animations alphabeticallynn the animations in the current project if any listedn alphabeticallynnselecting any of the project or framework animation names will causenthe animation to be played once during the animation selection andnhover overlays are temporarily hiddennnthis is just a start we should playrewindstop buttons maybe a loopntoggle button etc somewhere on the screen when  selected annaniation we should also try to filter out animations especiallynframework ones that have no effect on the current selectionnfinally error messages need to be handled better since we are reusingnthe render session from the editornid
8330,layoutlib api add capability querynnalso add a map of new layout params attribute when movingnviews from one parent to anothernid
8331,add dereference for snapshot block device handlingnid
8332,strings for ni position request are moved to resourcesnnthe strings used by the framework for network iated positionnrequests are now string resources that can be properly localizednid
8333,disabled  lines that break the sdk build biosbin in sdktoolsatreenid
8334,more cts coverage build improvementsnnbug  build server  display the xml report with the xslntransformation thus when you clicked on the xml file younwould just see the raw xml which  very useful so makenthe report generator output a single html file by transformingnthe xml into html in codenid
8335,net wireless  fix driver  retry abilitynnnedoffby dmitry shmidt
8336,arm tegra fix powergatedebugfs return valuenid  benoit gobi
8337,fix ctstelephonytestcasesphonenumberutilstesttestcallmethods fails due tonphonenumberutils minmatch set to  for china region shipnid
8338,fix build do not mergenid
8339,merge from gingerbreadnid
8340,extract as include support for configuration variationsnnfirst add support for the extract as include refactoring to updatenall identical code fragments in configuration variations of the samenfile for example if you have a particular subtree of xml elementsnin a file that you have then duplicated into say a landscape modenthen applying the extract as include refactoring will locate the samencode fragment in both files and replace both code fragments with anninclude and this is optional with a checkbox in the wizardndialog this only happens when the extracted code fragment isnidentical in both files the code fragments can vary in terms of xmlnformatting and attribute order and namespace prefix choice but thenelement hierarchy order names attributes defined and attributenvalues must be identicalnnsecond make fixes to the change layout and change widget typenrefactorings such that when the id of the converted element isnchanged then references to that id are updated as wellnnthird ensure that the refactorings are enabled even when there is nontext selection in that case the refactoring will apply to the elementncontaining the caretnnsome test infrastructure improvementsnid
8341,add revision number to the layoutlibnid
8342,check more build constantsnnbug  that the build constants meet the guidelines in cddnsect
8343,add in support for pyboolean in map parsingnid
8344,add ial and final move events on dragnid
8345,add more logging to adt for file open and binary xmlnnalso in the pluginxml associate our editors to the purenxml contenttype this should prevent eclipse from tryingnto use our editors for an invalid unsupported typennit  fix the fact the contenttype  properly discoverednid
8346,video tegra nvmap add carveout killernnthis change attempts to reclaim carveout memory by killingnother carveout users when an allocation fails processesnare killed in order of priority from lowest to highest and thennfrom largest to smallest usersnid  rebecca schultz zavin
8347,extend android with cdma mobile technology support with review comments fixednnthis project has the goal to extend the android telephony layers with cdmanmobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use casenimplementationsnthe final contribution will support cdma functionality for android phonesnsupportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnuc mobile originated callnuc mobile terminated callnuc network phone settingsnuc supplementary services partlynnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationnnvarious review comments are also fixed with this contributionnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
8348,add libcamera to the list of proprietary filesn
8349,new versions of kernelwlankonn
8350,cpufreq interactive governor saverestore irqs around cpumask spinlocksnnneed to use irqsaverestore spin locking for cpumasks since thesenare accessed in timers and in thread contextnid  todd poynor
8351,layoutlib api sceneresult api clean upnid
8352,arm  move  to not overlap vmalloc rangennnedoffby erik gil
8353,revert usb host tegra remove programing ptc bits based on bus speednnthis reverts commit  is needed to resume usb from
8354,net wireless  fix memory leak in case of dhdbus failurennnedoffby dmitry shmidt
8355,this is a contribution of a project that has the goal to extend thenandroid telephony layers with cdma mobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnnthis is a combination of  commitsnncoreapicurrentxml  updated the file with the new  which was added and modified for the cdma implementationncoreconfigmk  updated with  libs for the libraries to run the emulatorncoreprelinklinuxarmmap  added new libs for prelinkingnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
8356,stagefright amrnbamrwb change some occurrances of inline into static inlinennthis fixes compilation as c while the source files are namedncpp they actually are compileable as pure c but the nonstandardninline caused multiple defions of some symbolsnnparts of this was committed on the master branch of the opencorenrepository in commit
8357,add logging to help track down issue  in the wildnid
8358,stagefright amrnb add missing const qualifier to table declarations in headersnnthis was committed on the master branch of the opencorenrepository in commit
8359,stagefright amrnb add includes for prototype declarations of tablesnnthis was committed on the master branch of the opencorenrepository in commit
8360,stagefright amrnb remove extern from table defionsnnlocal prototype declarations are added where no suitable ones arenavailable in headersnnthis fixes warnings when compiling as c while the sourcenfiles are named cpp they actually are compileable as pure cnnthis was committed on the master branch of the opencorenrepository in commit
8361,stagefright amrnb change the asm keyword into asmnnthis is required for building in  modenid
8362,add glreleated runtime librariesnnthis patch adds various libraries needed by libglso to our  used to build sdk binaries these are needed to build variousnunit tests of our opengl hw emulationnnnote these runtime libraries are only needed because wen directly link lgl to our test executables and the linkern refuses to do it if it  find all libglso dependenciesnn these libraries are not needed to run the final executablenn as long as a working libglso is installed on the host systemn the program should run just finennthese libraries are taken from ubuntu packages and are mitstylenlicensed for example seenn
8363,display update packages as subitemsnid
8364,use  log when availablenid
8365,create sound device nodes in devsndn
8366,fixed dutch translation for protipsnid
8367,enable kvm mode for android  emulator updaterebasennthis patch enables kvm mode on  linux to boost performance of  emulaitonnif the hardwarebased virtualization feature is present on the host machinenid  xiaohui xin  yunhong jiang  jun nakajima
8368,close inputstream in hostutilsnnissue  was opening fileinputstreams but not closing themnid
8369,net monitor  stats per packetnnadding functionality to ifacestat that maintains aggregate stats fornthe  for every packet sentreceivednby an app adds a new proc directory structure   ashish sharma
8370,add kernelrebuilding script for the emulatornnsupports both arm and
8371,fix npe in smsmanagertest setup methodnngetdeviceid can return null so check for the telephony featurenremove the emulator check since we  use the emulator to testncts at all anymorenid
8372,stagefright amrwb make local const arrays staticnnthis avoids some cases of multiple defions of symbolsnnmost of this was committed on the master branch of the opencorenrepository in commit
8373,update pcbios binariesnnreplace the  bios binaries with real onesnngenerated by running make in externalqemupcbiosnat  externalqemupcbiosreadme for build requirementsnid
8374,stagefright amrwb make a global const array staticnnthis fixes compilation as c while the source files are namedncpp they actually are compileable as pure c prior to thisnthis table produced multiple defions of the same symbolnnthis was committed on the master branch of the opencorenrepository in commit
8375,update requirements for telephonymanagergetdeviceidnnwe allow alldecimal meids for lte devicesnid
8376,removed packetid unique constraint issue  packetid inside the improvider is marked as uniquenbut it can happen often that this is not the case this resultsnin messages not shown inside the im applicationnnbecause the messages are stored inside an in memory table thendatabase version does not need to be upgradednnmore details at
8377,adds register context saverestorennadds saverestore of  context registers called during isp  resume and also when isp clocks are enableddisablednnnedoffby dominic curran
8378,enable autoidle  smartstandbynnenables the following power management related bits in the  modulen autoidlen automatic ocp clock gating strategy is applied based on interfacen activityn smartstandbyn  module tries to go to standby during the vertical blankingn periodnnnedoffby dominic curran
8379,add  power constraints for sony camerannadds power constraints for the  camera sensor sony  no constraint was applied then isp stopped working if  wentnto  when streaming  at   needs to be kept at  while streaming with this sensornnfor every readwrite to memory the following throughput constraintnis requirednn  x  x  x    kbytesecnnbecause of a known hardware bug the data must be written into a temp buffernbetween the preview and resizer modules thus the pipeline is setupnas followsn sensor   rcvr  ccdc  preview  temp mem  resizer  memnnthis means for every pixel there will be three  operationsn  preview write to temp memn  resizer read from temp memn  resizer write to final memnnthis then multiplies the thruput by  the practical tput isn  x    kbsnnthis constraint successfully holds the  to  dominic curran
8380,stagefright amrwb change a c style cast into a c style castnnthis fixes compilation as c while the source files are namedncpp they actually are compileable as pure c except for thisncastnnthis was committed on the master branch of the opencorenrepository in commit
8381,arm msm defconfig switch to slob allocatornnnedoffby san mehat
8382,enable a minimum set of drivers that are known to cut clocksnnthis configuration aims to provide as many drivers as possible that are known to be pmfriendly and intentionally leaves out those that are not right now that means drivers that cut clocks and hit ret and off modes most if not all of the modules here also suspendresume correctlynnin the future this defconfig will probably also expand to include smartreflex avs dvfs etc for now just clockcuttingnnnedoffby mike turquett
8383,arm msm defconfig switch to cfq io schedulernnnedoffby san mehat
8384,add optimized version of memcpy for cortex  new code to memcpy function optimized for cortex  new armonly loop for operations where source andndestination are alignednncopyright c stericsson sa  neon implementation to fit cortex  cache line sizenfor those running  bytes  cache line sizenalso split the implementation in aligned and unaligned accessnfor those that allows unaligned memory access with neonnfor totally aligned operations armonly code is usednnauthor henrik smiding henriksmidingstericssoncom for stericssonnid  christian bejram
8385,fix use of intermediatesnid
8386,add request focus to textfieldsnnthis changeset adds a couple of focus related  when the first text field is added into a layout it isn automatically requesting  there is a new context menu item available on textfields to requestn focus when invoked on a text field it will both addn  to itself and remove it from any other text fieldsn that have set it in the layout when invoked on a text field whichn already has focus it will offer to clear the  the advanced section of the palette also contains then  tagnid
8387,adt differentiate icons in from editorsnnin elementdescriptor provide  icon methodsn geticon returns a generic icon whatever the descriptorn this is used by the xml content assistn getformicon return an icon specific to the descriptorn this is used by the form editor in the blockdetail treennthe icons are the same autogenerated stuff than beforena changeset with specific  icons would be more than welcomenid
8388,hwmod add  modulesnnthis patch adds hwmod defions forn  fdifn iss enable itnnnedoffby miguel vadillo  fernando guzman lugo  benoit cousson  paul walmsley  kevin hilman
8389,telephony cleanup catservice thread on disposennwhen the catservice is disposed by cdmaphone or gsmphone the handlernthread is still running so the catservice thread never quits causingnanother catservice thread to start next time when catservice is startednid
8390,add the sourceandroidcom projectn
8391,fix  sends authentication tokens in clear text for picasannswitching picasa api to use https instead of http in order to protect the user from attacks aiming to get his authentication tokennid  andrea
8392,net wireless  update example locale tablennnedoffby dmitry shmidt
8393,full goldfish qemu configurationnid  bruce bear
8394,base goldfish config only includes the fbnnthis builds a minimal ia goldfish qemu configuration but  expectednto boot since the device support  there you can see the androidnsplash screen in the emulatornid  bruce bear
8395,base goldfish config does not include gf devicesnid  bruce bear
8396,add flags to control various optimizationsnnadds flags to makefile to control the optimizations in memcpynmemset and memcmp optimized for cortex  christian bejram
8397,add optimized version of memcmp for cortex  new code to function memcmp optimized for cortex  c stericsson sa  neon optimizationnnauthor henrik smiding henriksmidingstericssoncom for stericssonnid  christian bejram
8398,add optimized version of memset for cortex  new code to function memset optimized for cortex  c stericsson sa  neon implementationnnauthor henrik smiding henriksmidingstericssoncom for stericssonnid  christian bejram
8399,add back listing for the  uc radionid
8400,add optimized version of memset for cortex  new code to function memset optimized for cortex  c stericsson sa  neon implementationnnauthor henrik smiding henriksmidingstericssoncom for stericssonnid  christian bejram
8401,enable use of clz instruction in ffs function for cortex  use of faster code in ffs using clz instruction fornother architectures than  enables usage of ffs function in dlmallocnnnedoffby christian bejram
8402,mux mode change for hdmi  campclk gpio mode is set to  for bringing out hdmi out of  requires the following patchesn  srinivas pulukuru  subramani
8403,ohci add flag for tracking clock enablennwith aggressive clock management we could turn off the usb clocksnin the bus suspend path we may need to access registers afterna bus suspend without doing a bus resume for instance in thendriver remove pathnnadd a flag for tracking the enabled clock and use this tonturn on the clock if required in the driver remove pathnnalso remove a clock disable call in the ohcistop pathnnnedoffby anand gadiyar  vikram pandita
8404,arm   define pixel clock values for nec panelnnthis patch defines  ranges of pixel clock for  display which is necnwvga panel   and  which is minimum typical andnmaxmium clocks respectively by default we support minimum to make sure fckpcknclose to  rationnnedoffby subramani  rebecca schultz zavin
8405,ohci fix clock management in driver suspend pathnnwith aggressive clock management we might have turned off thenusb clocks in the bussuspend path if no usb devices are connectedncurrent code attempts to turn off the clocks again in the drivernsuspend pathnnsimilarly in the driver resume path we turn on clocks to allownohcifinishcontrollerresume to complete if the bus werenpreviously suspended we need to turn the clocks back offnnadd a flag to track a suspended bus and accordingly manage thenclockgating code in the driver suspendresume pathsnnnedoffby anand gadiyar  vikram pandita
8406,ohci reset usb host on rmmodnnreset the usbhost so that the hardware is in a known statenafter the driver is removednnnedoffby anand gadiyar  vikram pandita
8407,adt manifest fix xml attribute completionnnxml completion  done properly for attributes for elementnthat had a dash in themnid
8408,code cleanup and use modern c syntaxnnapply the following changesn remove outofdate workaround  use  prototype and stdint typenid
8409,add pand to rc add pand updown scripts to start busybox udhcpd andnadd udhcpd confign
8410,make the jni lib an optional modulennmake it a user module will force it installed no matter thenime is actually required by the product or not replace thenuser by optional and add requiring the libjnilatinime by usingnlocalrequiredmodulesnid
8411,use  attributeconst to reduce code sizennattributeconst is mainly intended for the compiler to optimizenaway repeated calls to a function that the compiler knows will returnnthe same value repeatedlynnby adding attributeconst the compiler can choose to call thenfunction just once and cache the return value therefore this yieldsncode size reductionnnhere are the reference results by armeabisize for crespo devicennbeforen text data bss dec hex filenamen      text data bss dec hex filenamen
8412,use bswap to optimize byte ordernnbionic libc already makes use of   instruction fornendian conversion and this patch rewrites some parts of  with  and  routines which is known tonbring performance improvementsnnthe reference  on nexus snnbeforenrounds  size  time  speed  mbsnnafternrounds  size  time  speed  mbsbnid
8413,linker minor optimization of elf header manipulatingnnthis patch applies the following changesn word alignment to the temporary space for holding elf headern instead of sequential character comparison of elf header usen precalculated valuenid
8414,enable apic support in goldfish kernelnnto support  irq number we need enable apic in kernelnnhowever this depends on the goldfish  cooperation patchnotherwise the interrupt  be injected anymorennnedoffby jiang yunhong
8415,merge stagefright aacencamrwbenc remove trailing whitespacenid
8416,toolbox rewrite insmod by using mmapnnsome kernel modules like atheros  wireless driver are biggernin size and it is more efficient to use mmap instead of open readn
8417,cooperate the goldfish driver with device modelnnupdate goldfish device  status to qemu device modelnso that device model knows exactly when to inject the interruptnnnedoffby jiang yunhong
8418,call ontimechanged when ampm changedncommit for   call  ontimechanged when ampm changed onnics althou it does on gingerbreadnnsolutionncall ontimechanged as like as hourminutes doesnid  seongjae park
8419,arm tegra clock remove unused clock opsnnnedoffby colin cross
8420,arm tegra clock handle dvfs missing regulator betternnconvert the clkisdvfs check to only check for a dvfs structurenand not for the dvfs regulator so that clkisdvfs always returnsnthe same value even when  check for a missingndvfs table in dvfssetrate to prevent a panic if the table isnincorrectly configured move the regulatorget call in dvfsnto after the table configuration so that a null regulator whichnis valid if  still ializes the table andnensures dvfssetrate returns  for valid frequenciesnnnedoffby colin cross
8421,add the files installed from externalsepolicy to the legacy prebuiltsnnthe externalsepolicy androidmk was modeled after the existingnsystemcorerootdirandroidmk in order to place the se android policynfiles into the ial ram disk image this appears to be deprecatednnow but we have yet to find a way to make it work otherwisensuggestions welcomenid
8422,add libselinuxinclude to srcheadersnnthis was required in order to pick up the libselinux headers fornbuilding bootablerecovery dalvik  frameworksbasensystemcore and systemextrasnid
8423,extend forkandspecialize to take additional inputs and to set the selinux security contextnnforkandspecialize presently sets the dac credentials for the app processnmodify it to invoke libselinux to set the selinux security context as wellnextend it to take additional inputs from the caller in order to providenmore selectors for deciding what selinux security context to usenid
8424,pass the filecontexts configuration to  and  configuration is used to determine the file security contextsnto set on the files in the  or  image that is generatednthis is similar to the androidfilesystemconfigh tables for determiningnthe uidgidmode but as a configuration rather than codenid
8425,add flac support to the media frameworknnflac support is based on  libflac reference library it onlynsupports  and  decoding  to  dithering is notnimplementednid
8426,arm defconfig mahimahi switch from cbq  htbnnnedoffby san mehat
8427,check fastboot oem command line lengthnid  bruce bear
8428,arm msm disable the allocator for pmemcamerannnedoffby iliyan malchev
8429,app music app crashes when tries to launch on  patch adds new buttonbar png files to the what appearsnto be the correct directory there may be a better way to fix thisnnnedoffby karimuddin sayed  chris kelli
8430,add jni bindings for some of the libselinux interfacesnid
8431,modify installd to set the selinux security context on package directoriesnninstalld already sets the uidgidmode for package directoriesnextend it to also call libselinux to set the selinux security contextnid
8432,adds documentation to cdmacelllocation get latlong methodsnnadds better documentation to the getbasestationlatitude andngetbasestationlongitude methods to indicate the units for latitudenand longitude in cdmacelllocation unlike the android location apinmethods latitude and longitude in cdmacelllocation are not in decimalndegrees but instead in  seconds due to a more obscure  standardnunderlying the telephony api the current javadocs on the androidndeveloper page  do not indicate the units fornlatitude and longitude in cdmacelllocation making it very difficultnfor developers to interpret the output of these methods especiallynsince  seconds is not a commonly used unit for latitude and longitudenin applicationlevel code this patch adds clear documentation tonthese methods so developers can clearly understand the units fornlatitude and longitude without having to dig through the androidnplatform source codenid  sean barbeau
8433,pass additional inputs when spawning apps via the zygote and add selinux permission checksnnwhen spawning an app process the activitymanagerservice has additional informationnabout the app package that may be useful in setting a selinux security context on thenprocess extend the processstart interface to allow passing such informationnto the zygote spawner we originally considered using the existing zygoteargsnargument but found that those arguments are appended after the class name andnleft uninterpreted by zygoteconnection merely passed along to the class or wrappernthus we introduce a new seinfo argument for this purpose presentlynthis is only used to convey a string indicating whether the app was from thensystem partition but this may be extended in the futurennmodify the zygoteconnection to interpret the new option and convey it tonforkandspecialize as well as passing the nice name as a further inputnalso modify the zygoteconnection to apply selinux permission checks onnprivileged operationsnid
8434,add cts tests for the accessibility apis eclairnid
8435,add cts tests for the accessibility apis eclairnid
8436,added support for email notificationsnnprocesses wap messages of type applicationvndwapemnwbxmlnon receiving an emn the email starts a sendreceive for the email  address is included in the messagenndependant on chang
8437,arm msm sapphire add missing file to makefilennnedoffby iliyan malchev
8438,arm tegra add spi platform devicesnnnedoffby erik gil
8439,fix sdcard mount issuennpush voldfstab on to the emulator which is now denot
8440,fix npe when opening layout and target is still loadingnid
8441,implemented pthreadatforknid
8442,arm tegra fix name of  irqnnnedoffby erik gil
8443,spi add spitegra drivernnnedoffby erik gil
8444,video tegra nvmap several fixes to the carveout killernnmodify the carveout killer to only kill tasks with lower prioritiesnthan the one  trying to allocatenafter delivering a sigkill to a task wait for something to exit andncleanup before retrying the allocationnid  rebecca schultz zavin
8445,net wireless  update to version  use  locale for usn remove dhdsdiomemdump functionnnnedoffby dmitry shmidt
8446,crypto tegraaes hack to disable hw aes for dmcryptnnthe hardware aes engine is required for key management fornhdcp but since  performance is bad we  want itnenabled for dmcrypt this hack changes the craname fieldnso dmcrypt  find a match but leaves the cradrivernamenfield unchanged to the device file interface will still find itnnnedoffby ken sumral
8447,new layoutlib api getviewparent and getviewindexnid
8448,net add udp stats and pkt count to uidstatnnnedoffby dmitry shmidt
8449,cleanup warnings in the formbased ui editornid
8450,add libselinux to localstaticlibraries wherever  is  now calls libselinux in order to determine thenfile security context to set on files when creating  imagesnid
8451,extend and ueventd for se androidnnadd se android support for and ueventdnnn load policy at bootn set the security context for service daemons and their socketsn new builtin commands setcon setenforce restorecon setsebooln new option for services seclabelnnueventdn set the security context for device directories and nodesnid
8452,extend  to support setting selinux security contexts in  imagesnnmodern  includes support for extended attributes and thus can supportnselinux security contexts extend  with support for lookingnup the right security context from the filecontexts configuration andnsetting it in the generated image this is similar to the existing supportnfor looking up the uidgidmode via androidfilesystemconfigh and setting itnbut via configuration rather than defined in a headernid
8453,add support for specifying adb timeout in ddms testrunnernnalso handle timeoutexception in adt test runnernid
8454,arm tegra clock add quirks for pllunnpllu is slightly different from the rest of the plls thenlock enable bit is at bit  instead of  in the miscnregister and the post divider field is a single bit withnreversed values from other pllsnid  colin cross
8455,modify rc and goldfishrc for se androidnnif on the emulator set a policy boolean and restore the context ofnsysqemutrace to allow accesses not normally permitted on a devicenset the security context for the processnrestore the security contexts of various runtime directories and filesnspecify the security context for services launched from the rootfs sincenwe cannot label their executablesnid
8456,extend toolbox with se android supportnnadd z option to ls and ps for displaying security contextsnmodify id to display security contextnadd new selinux commands chcon getenforce getsebool loadpolicy restorecon runcon setenforce setseboolnid
8457,cpufreq interactive new  governornnthis governor is designed for latencysensitive workloads such asninteractive user interfaces the interactive governor aims to bensignificantly more responsive to ramp cpu quickly up when cpuintensivenactivity beginsnnexisting governors sample cpu load at a particular rate typicallynevery x ms this can lead to underpowering ui threads for the period ofntime during which the user begins interacting with a previouslyidle systemnuntil the next sample period happensnnthe  governor uses a different approach instead of samplingnthe cpu at a specified rate the governor will check whether to scale thencpu frequency up soon after coming out of idle when the cpu comes out ofnidle a timer is configured to fire within  ticks if the cpu is verynbusy from exiting idle to when the timer fires then we assume the cpu isnunderpowered and ramp to max speednnif the cpu was not sufficiently busy to immediately ramp to max speed thennthe governor evaluates the cpu load since the last speed adjustmentnchoosing the highest value between that longerterm load or the shorttermnload since idle exit to determine the cpu speed to ramp tonna realtime thread is used for scaling up giving the remaining tasks thencpu performance benefit unlike existing governors which are more likely tonschedule rampup work to occur after your performance starved tasks havencompletednnthe tuneables for this governor arensysdevicessystemcpucpufreqinteractiveminsampletimentthe minimum amount of time to spend at the current frequency beforentramping down this is to ensure that the governor has seen enoughnthistoric cpu load data to determine the appropriate workloadntdefault is  usnsysdevicessystemcpucpufreqinteractivegomaxspeedloadntthe cpu load at which to ramp to max speed default is  mike chan  todd poynor
8458,remove  from the palettennthe  tag is already removed from the palette this changesetndoes the same thing for the similar  tag since it does notnwork you cannot drag a  tag somewhere into an existing layoutnthe common case of rendering views with  as the root doesnwork but that does not involve the palettenid
8459,hook up framebuffer changes with ui windownid
8460,better support for  clearsilver buildnnthis patch ensures that clearsilver is built as  even if a  toolchain is used by default eg when building the linux sdknid
8461,add support for custom linux host toolchains when building the sdknnthis is needed in order to build linux sdk binaries that can runnproperly on ubuntu  hardy by default the host toolchainnon  lucid generates machine code that  run on hardyndue to glibc abi mistmatchesnnnote that nothing happens if the new toolchain is not in thenprebuilt treenid
8462,added final modifier where appropriate to increase performance resubmit in master branchnid
8463,added final modifiers to relevent variables will increase performance slightlynid
8464,finished shuffling filesnid
8465,added the cpmdevelopersguide documentn
8466,use the atsecure auxv flag to determine whether to enable secure modennthe linux kernel provides an atsecure auxv flag to inform userspacenwhether or not a security transition has occurred this is more reliablenthan directly checking the uidgid against the euidegid because it coversnnot only setuidsetgid but also file capabilities selinux and apparmornsecurity transitions it is also a more efficient test since it doesnnot require any additional system callsnid
8467,add extended attribute xattr system call wrappers to bionicnnthe xattr system calls are required for the se android userspace innorder to get and set file security contexts in particular libselinuxnrequires these callsnid
8468,arm tegra clock add max voltage to dvfs regulator callsnndetermine the maximum voltage from the dvfs table and pass it to thenregulatorsetvoltage callnid  colin cross
8469,arm tegra clock simplify recalculating clock ratesnnthis patch moves the clock rate recalculation into each ofnthe generic clock operations that can affect the rate andnmakes all of the clocks use the generic mul and div statenvariables to store their relation to their parent clocknit also removes the nowunused pll rate variables and thenperclock recalculaterate operation as they are now all thensamenid  colin cross
8470,fix the problem that color drawable cache key conflicts another drawable onenthe cache key of a color drawable resource may be the same as anotherndrawable  valuenid  duplicated codes and replace tab to white spacesnnand try to fix compile errorn
8471,extend  to support setting selinux security contexts in  imagesnnextend  with support for looking up the right security context fromnthe filecontexts configuration and setting it in the generated image this isnsimilar to the existing support for looking up the uidgidmode vianandroidfilesystemconfigh and setting it but via configuration rather thanndefined in a headernid
8472,extend forkandspecialize to take further input argumentsnnextend forkandspecialize to take two further input argumentsna seinfo string and the nicename for the process these can be usednas further selectors in determining the selinux security context fornthe processnid
8473,arm tegra cpufreq allow rounding of target ratennthe ondemand cpufreq governor requests cpu frequencies that are not innthe allowable cpu frequency table the cpufreq driver must determinenthe most appropriate valid ratenid  colin cross
8474,misc add  compass drivernnoriginally written by htc contributions by motorola and akmn misc import  from motorolannmajor style and code cleanups by praveen bharathi  misc  clean up code violations in  misc  clean up coding style add suspend and resumenid  dima zavin
8475,arm  fix issues in the  clock codennuarts do not have dividers in the clockandreset block on tegranthe dividers are in the uarts themselves remove the  flagnfrom the uart clocks and extend periphclksetrate to handlenrate   when  and  and increasenthe max rate to  to match pllpnnincrease the max rate for emc and pllm to   ddr andnadd a pllm table for   ddrnnupdate cpcon values for pllm table to match specnid  gary k
8476,arm tegra clocks fix loop indexing bugnnbecause the processid loop was never exited early dvfs alwaysnprinted an error message that it was unable to find a dvfs tablennafter fixing this platforms that do not have vddcpu regulatorsnwould segfault in dvfssetrate because regulatorget returnednnull check for null in dvfssetrate so that platforms withoutnregulators can perform frequency scaling without voltage scalingnid  gary k
8477,tegrasdhci treat  as invalid card detect  is a valid gpio number  so the check in the tegransdhci driver for a valid card detect pin should compare against   gary k
8478,add new exceptions to ddmlibnn adbcommandrejectedexception is thrown when adb  respondnto the command with okay this used to throw a normal ioexceptionnbut it can be useful to throw a different type the messagenof the exception is the error string returned by adbnn shellcommandunresponsiveexception is the new timeout exceptionnfor output received by shell command running on devices thisnmakes the distinction between timeout when talking to adb andnissue with shell command not outputting anything also made thenjavadoc for the ideviceexecuteshellcommand clearer to what thentimeout renamed to maxtimetooutputresponse doesnnalso added a better timeout to the idevice methods to installuninstallnapps as the default  timeout was likely to be too lowncurrent default value i
8479,fix for crash when setting live wallpapernnthis fix prevents a crash that sometimes happens when setting anlive wallpaper it happened when pressing set wallpaper buttonnin the live wallpaper preview activity before the preview wasnfully loadednnthe crash happened in native code while updating the wallpapernsurface when calling minputchannelregisterinputchannelnbecause the previous call tonmsessionaddmwindow mlayout viewvisible mcontentinsetsn minputchannelnhad failed the fix aborts the surface update when it is notnpossible to add the windownid
8480,sensor command line interface implementationnnimplement an unified sensor command line interfacecli on emulatornto check all available sensors and getset specified sensor datanid
8481,tegra  fixed  multiplexed pin controlnnwith this fix more than  multiplexed pin groupsnare set properly and each  adapter belong tonthe mux has its own bus segmentaion to accessnid  kyungsik le
8482,appssettings airplane modennairplane mode depends on a cellular modem to returnna power off notification to the application to clear andnset the airplane mode database settingnnsystems without modems see that the intent return occurs before thenthe setairplane mode command is called thereby disabling the checkboxnnonly when the application looses focus and is reentered is the checkboxnenabled and the command can be sent againnnthis change will check to see if a cellular modem is available and if itnis send the intent to the modem if not the intent to the modem is not sentnbut the intent is sent to the wifi and bluetoothnid  dan murphi
8483,implementing onresume in additional call settingnnimplementing onresume to handle ialization inngsmumtsadditionalcalloption since it extendsntimeconsumingpreferenceactivity which relies on onresumento maintain its foreground statentimeconsumingpreferenceactivity reading dialog will thennblock the settings for editing while reading the whole timenid
8484,adding missing breaks in bnsurfacecomposerontransactnid
8485,use the new urgent voice mail inidcatornnper operator request if a voice mail is considered urgentna special indicator icon should be usednid
8486,incorrect response code after pull of invalid vcard handlennwhen calling pullvcardentry with an invalid nonexistingnvcard handle the response code is always oknninstead the phone should respond not found accordingnto bluetooth pbap specificationnnthe problem exists both for phonebook and call logsnid
8487,displaying urgent voicemail iconnnper operator request added code to propagate voice mailnmessage priority flag normal or urgent from cdma phonenobject to application level the changes are used by thenphone applicationnid
8488,avoid dead lock by send ntp request in separate threadnnrequests to ntp server takes time and could also fail this will hangnthe throttle service thread as resources are locked during this timenother processes requesting throttle info during this time will alsonhang and cause anrsnninstead send ntp requests in separate threadnid
8489,set stk header if icon is null and selfexplanatorynnas per spec if title icon is null and selfexplanatory the headernshould still be set header must be either an icon default appnname or a title text provided by the simnid
8490,taking wakelock in popularurlstestnnwhen running popularurlstest on a target device the screen goes intonsleep in the middle of the test runnnadding aquire wakelock in setup of popularurlstests so screen does notngo black when running a long stability test releasing wakelock againnin the teardownnid
8491,dalvik compile fixes with gcc  is compiled with werror causing it to fail with gcc  it creates additional warnings mostly about variablesnbeing defined but never used if logndebug is setnnthis fixes the warningsnid  bernhard rosenkraenz
8492,added dropbox broadcast notificationnnto monitor the dropbox an application have to either poll the dropboxnand keep track of all entries or observ the datasystemdropboxndirectory the later requires that the application runs as systemusernthis commit adds that a broadcast intent is sent when something is writtennto the dropbox and an application can just listen on this intent andnthen reads the entry with help of the dropboxmanager classnthe application have to hold the permission androidpermissionreadlogsnto get the intentnid
8493,fixed gsm encoded network iated position requestnngsm encoded network iated position requests were previouslynnot correctly decoded the gsm encoded string was decoded asnascii but not all characters are encoded in the same way forngsm and ascii these characters was not displayednnbesides that when the number of characters was evenly dividednby  the last character was lost this is also correctednid
8494,added a timeout to avoid accelerating a fling unintentionallynnif user fling scrolls then stops page with his finger to readnsomething then starts to scroll again the page scrolls withnthe speed of the last fling scroll instead of starting withnzero speednnchecking the time since getdowntime to avoid accelerating thenfling if the user stopped scrolling and starts again withoutnlifting the fingernid
8495,fix build with gcc  and werrornngcc  is smart enough to optimize out the iserror variablenin contexts where the macro expands to something not needingnthe variable causing it to error out with variable definednbut not used if werror is onnid  bernhard rosenkraenz
8496,add rtc support for virtualboxnnenable rtc cmos and android alarm driver support in vboxdefconfignmodify android alarm driver to support  daniel fag
8497,stagefright aacenc properly terminate a commentnnthis avoids a warning about within a commentnid
8498,add linux toolchain to target  ubuntu hardynnthis toolchain will be used to generate sdk linux binaries that runnproperly on ubuntu hardy heron  reason for this is that code generated on lucid lynx which uses glibc  not binary compatible with hardy which provides glibc  see  for the script that was used to build these binaries from scratchnid
8499,properly select docknight mode combo when opening a layoutnid
8500,make it possible to override the sdk path using an env varnnthe value will only be used if it matches an existing directorynuseful for testing from eclipsennnote this is a hack that does not change the preferences so if the usernlooks at window  preferences  android the path will be the preferencesnone and not the overriden onenid
8501,crypto tegraaes improve encryptdecrypt performancenn enabledisable clocks only once per requestn create a thread for handling the  work queuen always set vde clocks to the max before processing a requestnid  varun wadekar
8502,cherrypick  from  error message during exportnid
8503,fix failing test to locale specific issuennadd arar to locale dependent bug exception listnid
8504,adt update changelog for adt
8505,video tegra nvmap  store task struct for kernel threadsnnno need to maintain a reference to the task struct if the clientnis a kernel thread in this case just set the task to nullnid  rebecca schultz zavin
8506,improve test apps to make them easier to usenneach app now properly reference its name in layout output andnin launcher activitiesnid
8507,resource parser should strip unescaped from string valuesnid
8508,cherrypick  from  output error in the  tostringnid
8509,net wireless  add configfirstscan optionnnnedoffby dmitry shmidt
8510,fix test apps using a librarynid
8511,pbap fix name tag value of vcardnnwhen the phone receives pull vcard entry request from a pce devicenpbap application sends the phone book object which is representednas one single file that contains all of the corresponding phonenbook entries currently the phone book entry contains a phone numbernin n and fn fields when phone number is not locally saved inncontacts this behaviour is not according to pbapspec  solution is to change the value used in n and fn fields to blanknwhen phone number is not locally saved in contactsnid
8512,frameworksbase assorted build fixesnnassorted build fixes for gcc   bernhard rosenkraenz
8513,stagefright aacenc fix an inline asm constraintnnoutputonly parameters should use  or  constrains never rnnthis avoids a warning about the variable  being usednunializednnthis avoids loading the unialized value into the registernbefore it is overwritten by the multiplicationnid
8514,added georgian glyphs to the stock droidsttf from equivalent dejavu fontsnid
8515,added georgian glyphs to the stock droidsttf from equivalent dejavu fontsnid
8516,fixing segmentation fault when sending events in telnet using numeric event codesnnexample command that fails event send   null only detects event types which  have a defined code   null detects the end of the list because endcode is defined as null  nid
8517,reopen a layout if  already openednnthis is for the case where a layout is openednand eclipse tell its editor to reopen it because it wasndouble clicked again in the package explorer due to thenmatchingstrategy having returned truenid  reorder configs for the wxga device confign
8518,removed broken surfacetestnnbug   look like  doing anything usefulnid
8519,gitignore ad
8520,arm tegra add support for mcemc bandwidth statisticsnnprovide a mechanism to perform statistical sampling of thenmemory controller usage on a clientbyclient basisnand report the log through sysfsnnoriginal work by gkingnvidiacomnid  mayuresh kulkarni
8521,arm tegra clock round frequency up in clock dividersnnwhen picking clock divider values the clock framework picksnthe closest frequency that is lower than the requestednfrequency if the value from a clock divider rounds downnand then the new rounded down frequency is requested itnwill get rounded down again resulting in a frequency twonsteps lower than the original requested frequencynnfix the problem by rounding up when calculating the frequencyncoming out of a clock divider so if that frequency isnrequested again the same divider value will be pickednid  colin cross
8522,net wireless  disable wake irq at driver stopnnpreviously at driver stop interrupts were not disabled andnmight cause neverending waking upnnnedoffby dmitry shmidt
8523,add dropsupport for include tagsnnadd the include tag back into the palette and add special dropnsupport for it such that when it is drop a resource chooser pops upnand asks you which layout to include a new validator prevents anynlayouts from being chosen that would result in a cyclicndependencynnthis requires some infrastructure changes first drop handlers mustndistinguish between a view getting created as part of a previewingnoperation and getting created interactively second in order tonsupport cancel removing an inserted include if the user decides not tonset an include the node wrappers need to support removing an elementnalso use the metadata originally intended for the preview iconnfactory to also bypass palette drag previews for widgets that  uinid
8524,delete brokensuppressed databasecursortest testsnnbug  tests seem to stress test the device it will probably fail onnlower end devices and create unnecessary inquiriesnid
8525,adt fix unittestsnid
8526,cherry pick fix issue with referenced java projectnnalso improve slightly dx error reportingnnthis is cherrypicked from masternid
8527,new test project for eclipse referencing java projectsnid
8528,fix sms tests for nontelephony  send the test sms if the device  have a line number failnthough if the device says it has telephony but  have a linennumber if the device  report having telephony but has a linennumber then check that no messages come back when sendingnthe sms messages to the device these tests will now timeout whennwaiting for the messages which indicates successnid
8529,use resanimator rather than resanim for the play animation codennwe should be using resourcetypeanimator rather than resourcetypeanimnfor the designtime playable animations simple tweak to make thencreate animation dialog able to create files into resanimatornthough this needs to be improved with proper animatorinterpolatornroot elements etcnid
8530,move adt to  do not mergenid
8531,frameworksbase fixes the null checknnthis condition was never met if it was met it would be nullpointerexceptionnfixed the condition so that the listener will be unregistered properlynid
8532,video tegra work around overlay corruption on underflowsnnoverlays can get their internal state corrupted during and underflowncondition the only way to fix this state is to reset the dc if we  consecutive frames with underflows assume  hosed and resetnid  erik gilling  michael i gold
8533,frameworksbase fixes the null checknnthis condition was never met if it was met it would be nullpointerexceptionnfixed the condition so that the listener will be unregistered properlynid
8534,revert futex restore one of the fast paths eliminated by  reverts commit   dima zavin
8535,fix issue with referenced java projectnnalso improve slightly dx error reportingnid
8536,arm  report dropped audio framesnnadded reporting of lost audio buffers due to input overflownor output underflow to help keep av sync during video playbacknor recordingnnnedoffby eric laurent  iliyan malchev
8537,net wireless  disable wake irq at driver stopnnpreviously at driver stop interrupts were not disabled andnmight cause neverending waking upnnnedoffby dmitry shmidt
8538,reorder animation submenunnlist local animations first followed by the create button followednby the frameworks animation submenu also drop the recentitemnid
8539,execvp bcopy is deprecated use memcpy insteadnnthe function bcopy is marked as legacy in  and removed  memcpy  is its recommended replacementnid
8540,sipapi add support for basic offeranswer model defined in  summarized in the table  in  which is shown below therenare some patterns to exchange sdp messagesnnthis patch partially implements the cases for the row  and  innthe table the column labeled as ini iate the session isnsupported while the one est update the session is left as isnthat is this patch does not care about reinvite cases for nownn excerpt from  from heren offer answer rfc ini est earlyn n  invite req  invite resp rfc  y y nn   invite resp ack req rfc  y y nn  invite req  invite resp rfc  y y nn   invite resp prack req rfc  y y nn  prack req  prack resp rfc  n y yn  update req  update resp rfc  n y ynn table  summary of sip usage of the offeranswer modeln excerpt from  to herenid  masahiko endo
8541,add  optimized strlennnmerge the arm optimized strlen routine from linaro although it isnoptimized for arm  the performance is still reasonably fasternthan the original on  machinesnnreference benchmark on nexus s arm   ghznnbeforen prc thr usecscall samples errors cntsamp         prc thr usecscall samples errors cntsamp          jim huang
8542,ressend avoid spurious closes and rare failurennwhen looping over the current list of sockets we are connected tonuse getpeername not getsockname to find out who the remotenend is this change avoids spurious close and rare failurennorigin isc bug  and fixed in libbind
8543,sipapi bugfixesenhancements for registration processingnnthis patch set fixes problems for registration processingnn o autoregistrationprocesssetlistenern  suppress calling mproxyonregistrationfailed at false timingnn o autoregistrationprocessrunn  once expirytimer value has given from the registrar servern use it for sending further register messagesnn o minexpires headern  according to  table  the header exists only inn register response with error code  interval too briefn given expirytimer will be reflected to the next registraitonn processnn o sipregistrationlisteneronregistrationdonen  argument expirytime will be set propery so that it comformsn to the api defionn for deregistration case the value will be  this is a revised version of the following patchnn  picked from commit  masahiko endo
8544,sipapi add support for  redirectionnnif the uac gets  response for outgoing invite request trynredirection cycle until the given contact list being exhaustednor succeed to make a redirected callnid  masahiko endo
8545,sipapi miscellaneous bugfixes and  add missing trycatch  secure pointer checks to avoid  addmodify some methods in siphelper class for future  reorganize invite response handling for readabilitynid  masahiko endo
8546,new files to add hax supportnnqemu emulator interacts with the hax kernel module a hax hardwarebased accelerated executionnkernel module is required to use hax support most guest instructions run in vmx nonrootnie in hardware mode and achieve nearnative relative to the host performancenqemu still emulates piommio instructions and nonpg paging mode operationsnnhax is supported only on mac os x and windows hosts when intel vt is presentnid  zhang xiantao  xin xiaohui  jiang yunhong  nakajima jun
8547,changes to existing files to add hax supportnnhax hardwarebased accelerated execution employes hardware virtualizationntechnology to boost performance of the android emulator on mac os x or windowsnhostsnthis changeset includes the changes required to the existing files to passnthe compilation haxh is added but confighax is disabled so that nonreal changes addednid  zhang xiantao  xin xiaohui  jiang yunhong  nakajima jun
8548,change the mp table to support  irq numbernnnow the mp table include  entry increase to the number of ioapicnpin number all goldfish devices should be covered by thisnid  jiang yunhong
8549,libc fix pthreadrwlockinitializernnthe macro defion was incorrect and resulted in a compile errornwhen usednnfix
8550,display output error in the  tostringnid
8551,fixing wrong japanese phone  rules that japanese number start with  and
8552,frameworksbasetelephony release wakelock on ril request send errornnandroid telephony does not release the partial wakelock right away ifnthere is an error in sending the ril request the wake lock is releasednonly after eventwakelocktimeout occurs that prevents the phone to gonin power collpase the change is to release the wake lock as soon as thenerror in send is detectednnalso change rilsend not not send a request if there is no connection tonvendor ril as the request will always failnid
8553,discard tlv objects with  paddingnntlv objects should not be padded still some sim use paddingnwhen sending items next action indicator tag this causesnstk to throw execption and not being installed now suchnobjects are discarded and stk will be installednid
8554,arm  fixed several issuesnn acquire the dma request spinlock in dmatxcompletecallbacknthis was omittedn allowsuspend was called by mistake in startrecordingifnecessarynevery time it was executed which could cause the wake lock to benreleased during audio capturennnedoffby eric laurent  iliyan malchev
8555,choose a good locale when opening a file for the first timennbecause the selection of the full config to use for displaynis complicated due to having to find something that matchesnthe configuration of the edited file this is a bit morencomplex than simply changing the select in updatelocalesnnin fact the selection made there when there is no stored confignis pointless instead  decided later by findandsetcompatibleconfignwhich find the proper combination of device and localenn this is actually broken since we added the nightmode and dock modenwe need to include those in the list of config we try out  fixnthis in a later patchnid
8556,video tegra nvmap fix per client accountingnnfix the way the total number of carveout allocations isnmanaged per clientnid  rebecca schultz zavin
8557,warn user about compilation errors causing rendering failuresnnif you have certain types of errors in your project then renderingnwill fail with messages that may be confusingnnthis changeset attempts to identify some of these common scenarios andnoffer detailed explanations to guide the user in the right  if the project contains aapt errors which means aapt did not runn successfully and the rendering failed with an error related ton resource lookup then begin the render error message with ann explanation in bold that this project contains resource errors thatn could explain the below rendering errors and to investigate thosen resource errors  if the project contains javac errors and the rendering failedn after the custom project class loader has been consulted thenn display a message stating that compilation errors could haven caused the failure and to investigate those errors  if a custom view is loaded and it does not provide a  or  argument constructor which takes an attributeset emit a warningn that xml attributes on the view will not worknnin addition this changeset cleans up a few other related thingsnn tags are no longer displayed as part of the error message these aren intended for internal checking only for example to identifyn resource errors from other errorsnn the error display text can now show a vertical scrollbar if the textn is longer than the available spacenn the code which marks the project class loader as used is marked usedn as soon as  asked to resolve a class name rather than at then completion of a successful load since we want to know about failingn custom classes as wellnid
8558,libstagefright return error on setminbuffersize failurennopenmax component returns omxerrorbadparameter when then client tries to set the buffer size other than the maximumn aligned value on input portnstagefright asserts if the setminbuffersize failsnadded code to remove assert and return an error onn setminbuffersize failurenid
8559,improved error message during exportnid
8560,libstagefright clips with invalid nal length causing media server  causes an assert when nal lengths are invalid causing medianserver crash return back unsupported errornid
8561,video tegra nvmap clear  on releasenna struct nvmaphandle may be shared by multiple clients if thenoriginal client the handle owner is destroyed but the handle isnstill referenced by other clients  points to freed memory tonprevent this clear  when the owner frees its reference to thatnstruct nvmaphandlenid  rebecca schultz zavin
8562,nuke problematic contextwrappertestnid
8563,arm tegra  audio fixesnn release can take a long timennreleasing the out file handles can take a long time becausenwe wait for a stop completion that may never arrivenn fix possible dma list corruptionnnif things have gone wrong and a waittillstopped timesnout prevent list corrption in the dma by dequeing anynqueued requestsnnnedoffby iliyan malchev
8564,sh fix untilwhile statement behaviornid  youngho cha
8565,libstagefright replace check with runtime errornnwe  want the process to crash in case of parser error conditionnthis change replaces a check with returning an error value ifnkkeymaxinputsize  exist parser does not set this if stsz atom isnnot presentnid
8566,remove unnecessary skimagedecoderlibjpegcppnnadding files outside $localpath is a bad idea it generates output filesnto an unexpected directory in this case  not in $productout which is not correctnworse it makes the build system be unable to build differentnarchitectures arm and  simultaneously since the output filesnconflcitnnseems we can just remove skimagedecoderlibjpegcpp since  in libskianid
8567,fix npe in the ddms plugin device viewnid
8568,this patch fixed the order of digits in rtl textnoriginally digits that were in rtl text were displayed in rtl order you can see that digits direction was set to the direction of the text before itnit is now always set to lrt which is the way it should ben
8569,add rev  of the ant rulesnnfor now they are the same as the  modified setuptask to deal better with older toolsnid
8570,shorten the default help from the android scriptnsn default is to print the global options and then list of verbsobjects but not their detailedn optionsn using android help create shows all possiblen create xyz optionsn using android help create project shows onlyn the options for this particular commandn as usual an incomplete command will prints itsn specific options as helpnnsdk bug
8571,add abi filtering and version code injection in the ant rules and tasksnid
8572,fix the order of digits in rtl textnnoriginally digits that were in rtl text were displayed innrtl order you can see that digits direction was set tonthe direction of the text before itnnow it complies better with
8573,package ant rul
8574,fix the gdbserver build for  which uses  during compilationnid
8575,added missing media keycode keycodemediarewind removed duplicate keycode keycodemediapreviousn
8576,arm msm smd force the halfchannel struct aligmnent to  the alignment prevents gcc from generating byte reads for wordnmember variables lack of this caused issues when the app processornmodified struct members and the modem saw a partial word writenid  dima zavin
8577,arm mahimahi defconfig enable blkdevloop in defconfignnnedoffby san mehat
8578,arm msm  remove device gain control for pcm playbacknid  dima zavin
8579,fixing problem with spaces in ndkbuild argumentsnnndkbuild accepts commandline arguments which are passed tonthe underlying make process for examplenn ndkbuild  these extra arguments could not contain spacesnn ndkbuild  dcat failsnnthis change fixes that issuenid
8580,added a myip option that allows a nondefault ip address for the simulatornid
8581,export qemulator structure to a header file and make it available globallynid
8582,fix some javadocs regarding the timeout api changenid
8583,when running from the android build system and no skin is definednon the command line check for a skin in $androidproductoutskinnid
8584,use the androidmyip property to get the default ip addressn
8585,arm add archprovidesudelay config optionnid  colin cross
8586,added support for wap messages of type applicationvndwapemnwbxmlnnthis allows for email notification messages to be acceptednnthe email project has also been changed to accept and processnthe emn messagennse
8587,removed some more hardcoded ip addressesnid
8588,kernelheaders update extcontrols  kernel headers to introduce string control supportnby  fromnhans verkuil  pavan savoy
8589,parse multipartvndwapmultipartalternative which is a part of multipart body nested multipartnnand take the first part of parsed as a parent part datanid
8590,add checking for myip optionnid
8591,implement  in ashmem drivernnbug   bjorn bringert
8592,add simple hellonative examplenncopy hellojni into hellonative and remove all the java™ partsnmaking it into a native “hello world� sample applicationnnthe process of writing an androidmk for mksh involves lettingnits buildsh configure script compile and link a few “scan�nprogrammes and for this we need appropriate defions ofncc cflags cppflags ldflags and libs we generate thesenvia systemcoreshmkmfsh which contains excerpts of thenbuild log of compiling this application it also is fullynfunctional as a console “hello world�n
8593,fix a possible deadlock in eclipseadtnnthe issue is that sometimes phones will stop responding to shellncommands launched through adbnnone of these commands is executed in devicemonitorquerynewdeviceforinfonhowever this is done from a loop that acquires a lock that is used innother places including building this basically renders eclipsenuseless as eclipse will refuse to do anything until the build isnfinishednnthe fix is twofoldnfirst move the call to querynewdeviceforinfo outside of thensynchronized blocknnthis fixes the deadlock issue but this will not fix the problemnthat the device monitor will still be stuck with a shell commandnthat never returnsnnthe second part of the fix is to add a timeout to shell commandnexecution additionnaly this patch contains a lot of clean upnof the adb api in ddmlib especially around exceptions thrownnduring timeoutnid
8594,add a place holder for an  kernelnncontributions by mark gross   bruce bear
8595,arm tegra tegrafb free irq in probe error case and remove functionnn  fixes from review by jaya kumarn free irq in probe error case and remove functionnid  jaya kumar  colin cross
8596,no change but git insists it has nid
8597,arm msm sapphire make machsapphire mutually exclusive with trout and halibutnnkernel changes are coming which will render the sapphire kernel not bootable onnother  platforms halibut and trout this patch sets halibut and troutnbuilds to no by default enables sapphire only and adds some filesnspecifically for machsapphire which before depended only on machtroutnnnedoffby iliyan malchev
8598,arm tegra add cpufreq supportnid  colin cross
8599,arm tegra add performance request frameworknid
8600,arm tegra clock redo debugfs clock interface add clock  reset peripherials on clkdisablencorrect flags on  input clocknautodetect state of all clocks on nadd cpu sys and bus clocksnfix clksetrate on pllsnreplace perclock locking with global clock locknid  colin cross
8601,arm tegra  disable clock when idle fix dvcnid  colin cross
8602,netsocketreceivedgram use socketsendto instead of sendtonid
8603,arm tegra add archspecific udelay using tmrusnid  colin cross
8604,arm msm sapphire adjust makefileboot and memoryh for new load addressnnnedoffby iliyan malchev
8605,fixed findbugs warnings in errorconsoleviewjavannsave some memory by marking errorconsolemessagelist staticnid
8606,arm tegra add performance provider for ahb busn
8607,arm msm sapphire rearrange the kernel memory map for new radionn new radio with  more memoryn reduce the sized of the pmem poolsn moves the kernel load address to  iliyan malchev
8608,arm msmdefconfig disable halibut and troutnnnedoffby iliyan malchev
8609,arm add archprovidesudelay config optionnid  colin cross
8610,arm tegra clocks fix clk resumenid  colin cross
8611,add null check to the packageinstallernnavoid a potential npe by adding a null check to the packageinstallernid
8612,adds the ability to customize the fast scroller drawablesnnin order to be able to customize the fast scroller this patch makes itnpossible to set the drawables used for the thumb and the background ofnthe index letter via the theme it also adds attributes for thenabslistview which allows the drawables to be set directly in a layoutnxml setters and getter are added as wellnid
8613,arm tegra gpio add setwakeenable callbacknnsetwakeenable propagates the irqwakeup flag from the cascaded gpio irq tonthe primary irqnid  colin cross
8614,arm tegra pinmux add suspend support for pinmux registersnid  colin cross
8615,run knownfailure tests in ctsnnbug  run tests marked with the knownfailure annotation becausenthey passfail randomly across devices making the cts reports noisynnthe modification in collectalltests will throw out known failurentests for the androidcore tests entries for these known failuresnwill no longer appear in the testcase repository of xml filesnnthe change in descirptiongenerator throws out the known failures innthe cts tests like androidnetcts these will no longer show upnas wellnnyou can still use the runtest utility to run known failures becausenthose do not consult the xml files to decide what test cases shouldnbe executed if you need to exclude knownfailures for runtest thennyou can add a predicate in instrumentationctstestrunner at the bottomnof the filenid
8616,optimized maps usage by adding explicit types and improved performancennoptimized the use of maps for improved runtime performance thensite object can be accessed directlynid
8617,parse custom text header and ignore itnnsome mms carrier append own custom header as text into pdudata we should parse it and ignore it at the momentnid
8618,adding new attribute for listview fastscrollsidennnew attribute for specifying which side to show the fast scroll thumbnicon possible values are left right and both the default valuenis rightnid
8619,arm tegra gpio fix buildnid
8620,tests for settinggetting fast scroller thumb sidenntest for setfastscrollside and getfastscrollside in abslistviewnid
8621,add null checking to prevent unexpected nullpointerexceptionnngetauthtoken could return null bundlenid
8622,force recompilation after library changes and fix some cleanuprefresh issue in the buildersnnone of the fix is that the gen folder is no longer deleted on clean or full buildnwhich should reduce errors where eclipse complain the gen folder is missingneven though  presentnnalso move projectstate into sdk as  really only managednby the sdk and it allows us to move its constructor to package privatenid
8623,hacks to make the system start up without opencorennthis  be submittednnthe basic idea is to remove the native libraries that link against opencorenexcept for libsystemserverso where the call into such a library is removednnfurther hacks include not waiting for audioflinger to start and removing medianclasses from the list of preloaded classes so that zygote  crash tryingnto ialize themn
8624,dependent change for parse instrumentation result bundles in sdknid
8625,update build script to support goldnid
8626,added drawpostextonpath methodnnthe drawpostextonpath method allows for text positioned onna straight line to be drawn along a pathnthis method can be used by layout engines to implement thencanvasdrawtextonpath method for complex scriptsnid
8627,arm tegra fix naming of usb controllers typonid  benoit gobi
8628,usb gadget fmtp add ioctl for sending events via the interrupt endpointnnnedoffby mike lockwood
8629,addremove some knownfailure annotationsnnbug    the knownfailure annotations form tests now passing innfroyo for nexus one using the cts test runner put onnknownfailure annotations for those that are failing but passingnwith the runcoretests test runnernnmultisockettest is an exception that  seem to make sensenand fails in both runnersnid
8630,dependent change for parse instrumentation result bundles in sdknid
8631,enables writing to usim phonebook fixes issu
8632,fix a few divergence bugs and security problemnsee readmegoogle for detailsnid
8633,update binutils for androidnid
8634,arm msm sapphire adjust memory map for more memorynn move the kernel load address to  increase available memory to  iliyan malchev
8635,arm msm fix build warningnid  nick pelli
8636,fix how the defaultprop modifications from the ui are reloadednnthe ui to edit the target and library changed the projectstatendirectly causing havoc on the filelistener which must be thenentry point to reload modification into projectstatennthis patch makes the ui work on a copy of the properties whichnare then saved separately from the projectstate whose savenmethod disappearednna next patch will enforce the projectproperties of the projectstatento be read only so that this does not happen again forcingnto clone it before modifyingsaving itnnthis patch also fixes the reloadingrelinking of the libraries uponnmodification of the defaultprop but more work is needed herenid
8637,arm msm dma remove msmdmovflushnnmsmdmovflush is a subset of msmdmovstopcmdnnnedoffby arve hjønnevåg
8638,arm msm msmserialhs only add dma rx callback when requirednnthis allows power collapse to occur when the uart is idlennnedoffby nick pelli
8639,arm msm dma add msmdmovenqueuecmdnocallback and msmdmovaddcallbacknnuse msmdmovenqueuecmdnocallback instead of msmdmovenqueuecmd tonstart a dma transfer without turning on the dma interrupt this allows thendma to be active while the  is in power collapsencall msmdmovaddcallback to enable the interrupt or call completefunc fromna tasklet if the dma has already finishednnalso fix the interrupt handler to release the spinlock before callingnthe callbacksnnnedoffby arve hjønnevåg
8640,added getunitsperem method to skfonthostnngetunitsperem can be used as convenience method tonfind out the number of font units per em squarenwithout having to fetch the head tablenid
8641,add comments for the  string creation patchn
8642,add comments for the  string creation patchn
8643,gfx fixups for   exist on   try to ialize itnnauthor chunfeng zhao   bruce bear
8644,fixed problem using https with apache http client when using proxynnproblem described  fix is to set default port for scheme to avoid passing  as portnwhich would cause an illegalargumentexceptionnid
8645,net wireless  fix dhdoswdtimer if bus is downnnnedoffby dmitry shmidt
8646,fix buildnnrename makefile use the camera stubnndo not submitn
8647,make http header class handle multiple cachecontrol fieldsnnthe http specification states the following about the fieldsnmultiple messageheader fields with the same fieldname may be presentnin a message if and only if the entire fieldvalue for that header fieldnis defined as a commaseparated list ie values it must benpossible to combine the multiple header fields into one fieldnamenfieldvalue pair without changing the semantics of the message bynappending each subsequent fieldvalue to the first each separated by ancomma the order in which header fields with the same fieldname arenreceived is therefore significant to the interpretation of the combinednfield value and thus a proxy must not change the order of these fieldnvalues when a message is forwardednid
8648,arm omap sholes add disclamer for  and  tweak voltage lvlsnnthese speeds are not officially supported by the sholes hardwarenso these are at your own risk also tweak voltage levelsnid  mike chan
8649,arm msmserialhs use msmdmovstopcmd instead of msmdmovflushnnmsmdmovflush was added for this driver but msmdmovstopcmd alreadynprovides the needed functionalityn
8650,disable building libdiskconfig on nonlinux hostsnnlibdiskconfig depends deeply on some linuxspecific things likenusrincludelinuxfsh which  exist on other oses disablenbuilding the host library for those platformsnid
8651,improved error handling when font loading failsnnwithout this this patch an application could trigger a platform crashnby callingnn typeface typeface  typefacecreatefromfilen boolean isbold  typefaceisboldnnthe crash occurs since the findnameandstyle function does notnreturn an error codenid
8652,surfaceflinger logging fpsnnthis patch enables logging the fps value calculated in surfaceflingernsubmitted on behalf of sripal bagadia  anu sundararajan
8653,fix npenid
8654,improved error handling when font loading failsnnwithout this patch an application could trigger a platform crashnby callingnn typeface typeface  typefacecreatefromfilen boolean isbold  typefaceisboldnnthe crash occurs since the skia error that occurs when font loadingnfails is not propagatednwith this patch the typeface constructor throws annillegalstateexception when skia fails to load the font ie whennthe native instance is nullnid
8655,hack to build against latest androidnndo not submitnndisable camera entirelynstub a mandatory override in the audio coden
8656,lowmemorykiller  try to kill the same pid over and overnn under certain circumstances a process can take awhile tonhandle a sigkill especially if  in a scheduler group withna very low share ratio when this occurs lowmemkiller returnsnto vmscan indicating the process memory has been freed evennthough the process is still waiting to die since the  actually freed lowmemkiller is called again shortly afternand picks the same process to die regardless of the fact thatnit has already been  to die and the memory has alreadynbeen reported to vmscan as having been freednn solution is to check fatalsignalpending on the selectedntask and if  already pending destruction return indicatingnto vmscan that no resources were freed on this passnnnedoffby san mehat
8657,cleaninmg upnid
8658,supportnnadd in makefiles and support files for  buildsn based on changes by wonjonglee  additional changes by mark gross  additional changes by bruce beare   bruce bear
8659,resolved conflictsnid
8660,arm omap resource properly alize variable in updateresourcelevelnid  mike chan
8661,no changes just restored changed files from last sync over the orignalsnid
8662,fix configurationtestwritetoparceltestnnbug   writetoparceltest that has fallen outnof date with changes to configuration it still passes on thenemulator because it was testing the defaults which are all zeros the test case a bit to test alternating zeros and nonzeronconstants to make it fail when things get out of date furthermorentest null and nonnull locales toonid
8663,added support for emn email notification wap messaging on recieving a emn it will start a mail sync for the given accountnid
8664,merge cupcake into masternnconflictsntlibaudioaudiohardwarecppntlibaudioaudiohardwarehntlibcameraqualcommcamerahardwarecppntlibcameraqualcommcamerahardwarehn
8665,fix dream buildnnuse proper makefile namenrefer
8666,overlay added support for croppingnnadded  function pointers to overlaydatadevicetn setcropn getcropnnnedoffby anu sundararajan
8667,overlay added support for croppingnnadded support for  new apis setcrop and getcropnmust be merged along with the patch  anu sundararajan
8668,include stdioh in toolsaidlasth to make the code build on
8669,grxmlcompile include  in files that wants netwarchnto make the code build on  in netwarch uses  which is no longernimplicitly pulled in by  in gcc
8670,arm msm msmserialhs disable datamover when clocking off uartnnnedoffby nick pelli
8671,arm msm msmserialhs disable datamover when clocking off uartnnnedoffby nick pelli
8672,fix npenid
8673,video tegra add tegra framebuffer drivernnnotable ommisionsnt fb physical geometry is not setnt lacks interface to set overlaywindwo xy  changesnt make fb devs registered by the dc drivernnnedoffby erik gil
8674,spi tegra ialize spinlock in probe functionnnnedoffby erik gil
8675,arm msm msmserialhs disable datamover when clocking off uartn
8676,add localdisabledccppflags variables to remove specified flags from globalccppflagsnid
8677,remove the modal dialog that showed when adt start with no sdk setupnid
8678,video tegra add tegra display controller drivernnnotable ommisionsnt support for anything but lvds panelsnt inegration with nvhost driver to sync updates with  fb physical geometry is not setnt lacks interface to set overlaywindow xy  changesnt suspendresume supportnt move code into driversvideotegradcnt modularize output supportnt clean register dumping add debugfs register filent code review feedbacknt make the display controller register the framebuffer devicesnnnedoffby erik gil
8679,video tegra remove old tegra fb drivernnnedoffby erik gil
8680,disable ffastmath in androidmk because sqlite  when ffastmath is enablednndepends on changeid
8681,arm tegra display controller clock max is  erik gil
8682,arm msm  always read at least two bytesnnif we tell the controller to stop at the same time as it finished readingnthe first byte it may ignore the stop request loose bus access or failnto start the next read or write we now always read an extra byte if ansingle byte read was requestednnnedoffby arve hjønnevåg
8683,arm msm  only send stop for last for the last write message in the groupnnthis allows drivers to perform a write followed by a read with a repeatednstart a repeated start after a read is still not possiblennnedoffby arve hjønnevåg
8684,arm msm  prevent infe readsnnthe contoller sometimes ignores our stop request send a new stop requestnbefore flushing every other bytennnedoffby arve hjønnevåg
8685,arm msm  improve error recoverynn reduce bus busy timeoutn call recovery function if the bus is busy at the start of a transactionn wait for bus busy to clear after a transactionn move read stop on timeout to recover functionnnnedoffby arve hjønnevåg
8686,protect some media code with buildwithoutpvn
8687,ukraine localization artfulbits inc httpwwwartfulbitscomn
8688,fix wifi for dreamn
8689,fixes to make dalvik compile for  the blx instruction is only supported from  and onn select the correct interpfilesn
8690,correctly expect the return type of strchrconst char to   in c so that the code builds on  c overloads strchr so that strchrconst char return  and strchrchar return   dmtraceparseandaddfunction really wants to write to its   argument i just casted a pointer pointing inside of  to
8691,cat use new cat package from frameworksnnas all stk related classes were moved to new cat package this applicationnneeds to use new package instead of old onenid
8692,cat generalize stk into catnnrename all stk classes comments and variables into cat classesncat card application toolkit is the common class that hasnfunctionality of both stk and ccatnid
8693,fixed a documentation error in the asynctask contstructornid
8694,add  to the lunch menunid  bruce bear
8695,arm msm stop the vfe before releasing the sensornnon  the sensor needs to be released after stopping the vfe but beforenreleasing the adsp vfe and qcam tasks otherwise the dsp locks up the codenfor  is modified accordinglynnnedoffby iliyan malchev
8696,move buildspec vars to boardconfigmknid  bruce bear
8697,correctly expect the return value of rindexconst char to be of   to make the code build on  c spec overloads string fucntions like strtsr and rindex so thatnrindexchar returns  and rindexconst char returns  this patch you get an invalid conversion from ‘const char’ ton‘char’ error on
8698,allow targetarch to be set from boardconfigmknid  bruce bear
8699,localize include  in files that uses the printf family ofnfunctions to make the code build on  further cleaned up header include dependencies so that exnincluding  no longer pulls in printfn
8700,cat move stk imlpementation into cat foldernid
8701,ccat initial ccat implementationnnlaunch stk service for cdma phonenid
8702,parse instrumentation result bundlesnnduring tests there are perinstrumentation based results emmittednas keyvalue pairs examples include performance tests and normalntests in code coverage mode currently most of these are discardednby instrumentationresultparser this change adds parsing functionnstores the keyvalue pairs in a map and finally send it tonitestrunlisteners at the end of test runnid
8703,add hours to ddms log timestampnid
8704,ukraine localization artfulbits inc httpwwwartfulbitscomn
8705,fixed the select all issue in  issuesn  select all  select all videos and photos in one albumn  select all deselects some items previously selectednnthe problem is caused by the same ids in the image table and video tablenin database the id generation for each item is fine but we cannot usenid as the only criteria for the uniqueness of items if one image has thenid  in the image table and one video has the id  in the videontable and both of them happen to be in the same bucket then only onenwill be selected when we do select allnid  madan ankapura
8706,ukraine localization artfulbits inc httpwwwartfulbitscomn
8707,improve the choice of default configurationnnwhen you open a new layout the layout editor needs to pick an ialnconfiguration for the layout currently the choice of layout isnbased on the project api level such that it picks tablet screen andnlandscape orientation for api  and phone and portrait for lowernapisnnthis changeset adds another factor the currently used configurationnif you have another layout visible and you open a new layout then thenconfiguration for the current layout will be used for the new layoutnif it is a compatible matchnid
8708,ukraine localization artfulbits inc httpwwwartfulbitscomn
8709,crypto add support for  hardware dmcryptnnadd the  crypto driver from trusted logic ported to  with changes to allow it to run without the protected appnnnedoffby ken sumral
8710,ukraine localization artfulbits inc httpwwwartfulbitscomn
8711,ukraine localization artfulbits inc httpwwwartfulbitscomn
8712,migrate render target settings to released versionsnnwhen loading the  render target setting which as of adt  per project rather than per layout check to see if it has a codenname and if so see if the user has the final version of the platformninstalled as well if so migrate the render target to the finalnversion instead since the user probably did not intentionally want tonstay with the prerelease version after installing the final versionnid
8713,ukraine localization artfulbits inc httpwwwartfulbitscomn
8714,demokit add  for usb accessory to androidmanifestxmlnid  mike lockwood
8715,ukraine localization artfulbits inc httpwwwartfulbitscomn
8716,ukraine localization artfulbits inc httpwwwartfulbitscomn
8717,ukraine localization artfulbits inc httpwwwartfulbitscomn
8718,ukraine localization artfulbits inc httpwwwartfulbitscomn
8719,mechanism to disable swtmenubar in  sdk manager  should not try to change thenmenu bar when invoked from eclipse actually  because the swtmenubar lib  even presentnto it crashes with a noclassdef exceptionnnthis cl adds the notion of invocation context sonthat we know what is invoking the manager and we cannchange the ui accordinglynid
8720,update license to apachenid
8721,fixed media sets still appearing issue after all albums in  are deletednnif we delete all media sets in  by selecte all andndelete basically making  empty through one shotndelete next time we enter  we can see delted albumsnare still therennthe cause of this issue is when the number of media sets becomesnzero eg after one shot delete the original logic skips checkingnfor any deleted sets we should check if there is any change in mediansets including the case it is totally gone regardless of the currentnnumber of media setsnid  madan ankapura
8722,ukraine localization artfulbits inc httpwwwartfulbitscomn
8723,add neon optimized dequantization and inverse dctnnimplements unscaled and scaled dequantizationnand inverse dct functions in neon assemblernoptimizes web and gallery application use casenid  christian bejram
8724,globally disable opencoren
8725,deal better with situations where opencore is disabledn
8726,fix neon optimized idctnnfixes missing constant in  all  suboptimizationnfor neon idct implementationnid  christian bejram
8727,fix neon optimized idctnnfixes missing constant in  all  suboptimizationnfor neon idct implementationnid  christian bejram
8728,ukraine localization artfulbits inc httpwwwartfulbitscomn
8729,libc fix leak in the dns threadspecific statennnote this is a backport from the internal hc branchnnthis patch fixes a leak that occurs when creating a newnthreadspecific dns resolver state objectnnessentially each thread that calls gethostbyname or getaddrinfonat least once will leak a small memory block another leak happensnanytime these functions are called after a change of the networknsettingsnnthe leak is insignificant and hard to notice on typical programsnhowever netd tends to create one new thread for each dns requestnit processes and quickly grows in size after a   hoursnnthe same problem is seen in other system processes that tend toncreate one thread per request toonnthe leak occured becasue resn was called twice when creatingna new threadspecific dns resolver state in resgetthreadnnthis function could not properly reset an existing thread and wasnleaking a memory blocknnthe patch does two thingsnn first it fixes resn to prevent any leakage when resettingn the state of a given resstate instancenn second it modifies the resgetthread implementation ton make it more explicit and avoid calling resn twicen in a row on firsttime creationnnfix for bug  and bug
8730,ukraine localization artfulbits inc httpwwwartfulbitscomn
8731,stagefright amrnb fix a bug on architectures where long is  bitnninitially this code gave a warning comparison is alwaysnfalse due to limited range of data type if long was  bitnadditionally the output from the amr encoder was mostly noisennthis was committed on the master branch of the opencorenrepository in commit  on aosp contribut
8732,iterate over each package and then work on the individual resourcesnnthe way this is currently implemented is to implement a singlenlist of resources for all the existing packages since resourcesnincludes all sorts of things the resulting string is huge andnat some point it exceeds the command line length limit  onennthis patch iterates over all the available packages and for eachnone it processes the resources to extact the ones of interestnit will fork a shell n times with n the number of packages butninformal testing shows no significant slowdown because of thisnthe alternative is to do more work in make and then leave thencomplex filtering to grep using only one fork but it does notnshow any significant speed up and it will exhibit the originalnproblem eventuallynnsubmitted by vaidhyanathan mayilrangam gopalan
8733,stagefright amrnb properly negate all valuesnninitially input values   negated properlynnthis was committed on the master branch of the opencorenrepository in commit  on aosp contribut
8734,stagefright amrnb restart the pxn pointer when retraversing the array on overflownnthis is a safeguard to avoid issues in a rare codepathnnthis was committed on the master branch of the opencorenrepository in commit  on aosp contribut
8735,die in a loop when opencore  theren
8736,stagefright amrnb fix audio distortion in an amrnb clipnnthis fix had the packetvideo internal tracking  was committed on the master branch of the opencorenrepository in commit
8737,require phonecall permssion for outgoingcallreceivern
8738,ukraine localization artfulbits inc httpwwwartfulbitscomn
8739,ukraine localization artfulbits inc httpwwwartfulbitscomn
8740,add neon optimized color conversionnnimplements all upsampling color conversion functions innneon assembler optimizes web and gallery application use casenid  christian bejram
8741,ukraine localization artfulbits inc httpwwwartfulbitscomn
8742,omap ohci  stop method should call ohcistopnnwithout this the ohciomap driver will not cleanup the debugfsnnodes when the driver is unloaded so the next insmod will failnif configdebugfs and configusbdebug are both selectednnalready merged into mainline as commit  vikram pandita  anand gadiyar  rebecca schultz zavin
8743,usbhost enable hw save and restorennnedoffby anand gadiyar  rebecca schultz zavin
8744,ohci add aggressive clock managementnnturn off the usbhost and usbtll clocks in the suspend pathnand turn them back on in the resume path this will allownthe  to enter lowpower modes after a usb suspendnnremotewakeup is not supported when the clocks are disablednthis needs to be handled by a sideband signal gpio nnnedoffby anand gadiyar  vikram pandita
8745,ohci factorize ohci clock managementnnfactorize usbhost and usbtll clock enabledisable codenthis code will be reused in the bus suspend and busresumenpathsnnnedoffby anand gadiyar  vikram pandita
8746,arm msm defconfig enable  in defconfignnnedoffby san mehat
8747,arm msm defconfig regenerate defconfignnnedoffby san mehat
8748,add support for configuration of the sco pcm  add support for configuration of the   add support for different patchram download ialization for newer chipsnid
8749,check mlidopenrotation for negative valuennthere are valid use cases where you might not want to rotate thenscreen based on a lid open event behave just like docking and ifnthe rotation is negative then ignore itnid
8750,fs blockdump  display inode changes if blockdump   san mehat
8751,mmc core hold a wake lock accross delayed work mmc rescannnnedoffby san mehat
8752,improve warning messages for permission denial due to nonexported intent receiversn
8753,block blockdump add number of sectors to debug outputnnnedoffby san mehat
8754,net wireless  fix resources release in case of sdio failurennnedoffby dmitry shmidt
8755,libcorergapacheharmonyxmlexpatparser in c the return typenof strchrconst char is   instead of   overloads string functions so that strchrchar returns  andnstrchrconst char returns   this patch fixes an invalidnconversion from ‘const char’ to ‘char’ error when building with
8756,phonenumberutils in c the return type of strchrconst charnis   instead of   fixes an invalid conversion from ‘const char’ to ‘char’ errornwhen building with
8757,initialize the whole indx array with nbpulse  values instead ofnnbtrack  otherwise some of the last  elements may be leftnunialized for some inputsn
8758,properly negate all valuesnninitially input values   negated properlyn
8759,add support for scanning flac filesn
8760,update prelink map for libflacn
8761,add flac support to the media frameworknnflac support is based on  libflac reference library it onlynsupports  and  decoding  to  dithering is notnimplementednid
8762,arm msm  send another byte if we are still the bus master in  a transfer timed out before we told the controller to stop writing thencontroller may be waiting for more data to write write  as the lastnbyte after switching the lines to gpio mode to trigger a failurennnedoffby arve hjønnevåg
8763,make go to declaration work for  namesnnconflictsnnteclipsepluginscomandroidideeclipseadtsrccomandroididecommonlayoutlayoutconstantsjavanid
8764,modify linuxarmmk to support the  architecture instead of  was only implemented on strongarm and  see httpenwikipediaorgwikiarmarchitecturenand will be more difficult to support since it does not support the bx  on the other hand is used in a wide range of  is also not supported by bionic or dalvik but  isnnthumbmode is not yet enabled since there are some unresolved abiissuesn
8765,basic fragment supportnnthis changeset adds preliminary support for fragmentsnn add  to the palette along with a drop handler which popsn up a class chooser to pick the fragment class all projectn implementations of androidappfragment andn  are listednn adds a fragment descriptor such that code completion works forn  elementsnn fix project callback such that it does not complain about a missingn class fragmentnn fix outline to display the name of the fragment rather than then fragment tag namenn this changeset also centers the label in mockviews since those aren still used to render fragmentsnnconflictsnnteclipsepluginscomandroidideeclipseadtsrccomandroidideeclipseadtinternaleditorslayoutdescriptorslayoutdescriptorsjavanid
8766,arm msm smdrpcrouterservers hold a wakelock while calling rpccallnnnedoffby arve hjønnevåg
8767,fragment rendering supportnnthis changeset adds designtimepreviewing of fragments wherena layout which contains fragments will show the contents ofnthe fragments inlinenninitially the fragments are empty but you can right click on them tonbring up a context menu where you can choose which layout to show atndesigntime this is persisted across ide sessions just like thenlistview render previewnnin addition to the generic layout chooser all layout references foundnin the associated fragment class usually what you want are listedndirectly in the menunid
8768,arm msm smdrpcrouter hold a wakelock while while reading a packet and while packets are queuednnnedoffby arve hjønnevåg
8769,fix bug in editor open utilitynnthe code to open a file called by go to declaration show includenetc handles two  the file is in the workspace open using eclipse ifile  the file is outside the workspace open using the fallbackn external storage which means you get a plain xml  a third scenario the file is not in the workspace but isnpart of a project in the workspace so it does have a valid ifilenthis can happen if you import a project but choose not to copy thencontents into the workspace this changeset adjusts the code to opennup an editor such that it handles this third scenario and we get ournown xml editors for these types of filesnid
8770,binary xml editornnthis change contains the workaround  detailsnse
8771,cleanup iupdaterwindow in sdkmanagernnthe interface was supposed to be for the internalnwindow implementation the public updaterwindowndoes not need this interfacenid
8772,arm msm sdio add irq supportn
8773,arm msm rmnet lock a wakelock for half a second when receiving datannnedoffby arve hjønnevåg
8774,arm msm smdtty lock a wakelock for half a second when receiving datannnedoffby arve hjønnevåg
8775,bluetooth fallback from esco to sco on error code  unspecified errornnkyocera  headset returns this error code when esco is attemptednnnedoffby nick pelli
8776,arm msm smdqmi add a wakelock with a timeout to prevent sleep after receiving a qmi notificationnnnedoffby arve hjønnevåg
8777,added more proprietary libraries dreamopennnthis patch is the same as  which is for the cupcake branchn
8778,added snooze dialognid
8779,nothing importantnid
8780,update skiaemoji license notices for better accuracynid
8781,ant add customizable targets between the default onesnid
8782,added autosnoozebut not worknid
8783,remove spurious whitespacen
8784,foonid
8785,added format for snoozing dialog snoozing for hh and mmnid
8786,added commentsnid
8787,nothing importantnid
8788,cpufreq stats do not account for idle time when tracking timeinstatennsetting ignoreidle to  ignores idle time from timeinstate accountingnncurrently cpufreq stats accounts for idle time timeinstate for eachncpu speed for  that have a low power idle state this improperlynaccounts for time spent at each speednnthe most relevant case is when the system is idle yet cpu time is stillnaccounted for at the lowest speed this results in heavily skewed statisticsntowards the lowest speed which makes these statistics useless when tuningncpufreq scaling with cpuidlenid  mike chan
8789,timepicker dialog for snooze time setting and  autosnooze via preference snoozecounter are fully functionalnid
8790,there is multiple bugs when trying to connect a socketchannelnregistered in a selectorn the selector will generate spurious socketconnect readyn operations calling finishconnect on this ready op willn trigger noconnectionpendingexceptionn if the opconnect operation is not removed from the interestn set then subsequent call to select or selectlong will returnn immediately and the thread will probably  of the cpunthe problem is that the underlying file description is registerednin the os select as soon opconnect is requested when it shouldnonly be set when the connection is pendingn
8791,fixes for skia to build for  we are no longer supporting the  architecture see   but instead  we should test on  instead
8792,restart the pxn pointer when retraversing the array on overflown
8793,fix a bug on architectures where long is  bitnninitially this code gave a warning comparison is always false due tonlimited range of data type if long was  bit additionally thenoutput from the amr encoder was mostly noisen
8794,added usb vendor id of sharp based on   vendor id
8795,added  usb vendor id  upon  requestn
8796,import mkshcurrent as of  from cvs qd anoncvsanoncvsmirbsdorgcvs co pa mkshnremoved makefile cvsnnthis code is not a contribution it shall be handled as an externalnsource the licence it is under is suitable for android it is bsdnlike and contains an explicit copyright grant and i know of no pantents covering a shelln
8797,adb add five second timeout for usb writes on linux hostnnthis helps us recover when things go wrong during automated testingnid  mike lockwood
8798,add  implementation for androidnnretrieved fromncvs qd anoncvsanoncvsmirbsdorgcvs co pa n  is code written by me specifically for androidnand starts the series of commits that are contributionsn
8799,added  vid  upon their requestnid
8800,add module licence and summary of legal notices of code actually compiledn
8801,adb do not mix printf with write when writing to stdoutnid  mike lockwood
8802,remove netbsd® ashnid
8803,add missing newlines to adb usage messagen
8804,import printfc from mirbsdnnretrieved viancvs qd anoncvsanoncvsmirbsdorgcvs co pa n srcusrbinprintfprintfcnnthis is derived from the original bsd source code and slightlynadapted to work well as optional mksh builtinn
8805,make  daemonport on the host machine configurablennthis is the first cl of a somewhat larger effort which among other thingsnwill involve changing the emulator and ddms to talk to adb running on anconfigurable portnnthe port can be configured using environment variable androidadbserverportnnfurther cls will also address the set of ports used for the local transportnid
8806,now that we have mksh nuke that ugly shhistory hackn
8807,fixing spelling errors in adb docsnid
8808,shlistc is no longer needed without dshhistoryn
8809,add  usb vendor id to adbnid
8810,add script used in manually creatingadjusting androidmkn
8811,adb remove obsolete adbconnected system propertynnthis was used for adb networking which no longer existsnthis code also failed when adb was not running as rootnid  mike lockwood
8812,and finally the hopefully working androidmk file for mksh as shn
8813,update skiaemoji license notices for better accuracynid
8814,resolves issue  simplifyautomate application package name refactoringnid
8815,speling fixnid
8816,update skiaemoji license notices for better accuracynid
8817,net wireless  add fw crash trap debugnnnedoffby dmitry shmidt
8818,sdk setup fixesnn sdk setup cd to the sdk dir to cope with the casen where the setup is executed from a shortcut with an different base directorynn sdk manager properly detect update sdk and update avdsn commandsnid
8819,fix incorrect check for logueventsnnloguevents is a boolean value as defined in systemcorehntherefore code should use an if check and not an ifdef check as thenmacro will always be definedn
8820,rescale menu icons to fit menu item heightn
8821,fix a runtime exception caused by arraylist to string conversionnid
8822,ndkgdb more robust error detection for   commandsnnthis allows ndkgdb to properly detects when some adb shell commands failnthis prevents certain errors from incorrectly propagating to later partsnof the scriptnnsee  for contextnid
8823,sha module is deprecatednnthis patch removes the deprecated warnings from the pythonnscriptsnid
8824,a tiny http server to test sourceandroidcom changesnid
8825,usb gadget acmrndis iad class subclass  prot should match  ifacennmicrosoft recommends that the class and subclass fields ofnan iad match the same fields from the first interface in thencollection that the iad is grouping in practice we are alsonfinding that the protocol fields should also match withoutnthis change the default microsoft composite driver may notngroup interfaces properly which is what allows childnfunction drivers with  to load correctlynnnedoffby mike lockwood
8826,speedup gdbsetup generation with large list of include directoriesnnthe gmsl  function is very slow with a very large number of itemsnso provide an alternative nonrecursive implementation that works muchnfasternnsee  for contextnid
8827,update the sensor emulation to use the new halnnthe sensor hal in libhardware was recently updated thisnchange updates the sensor emulation to match the new halnid
8828,replace spaces with underscores in hardware namennsince hardware name is converted to lowercase replacing spacesnwith underscores looks better than removing themnid
8829,cts fixes for androidhardwarectscameratesttestpreviewfpsrangebycamerann when variable framerate is active and depending on the lightn conditions the framerate can get very low this should ben taken in to account during the process of discarding then measurements and leave just enough data this way the checksn and calculations that follow can proceed without any issuesnid  emilian peev
8830,net wireless  update to version  dmitry shmidt
8831,bugfix  run getandresettestmetrics in a loopnid
8832,allow build with prebuilt directory for gmp mpfr and mpcnid
8833,merge assembly coded  and
8834,do not treat warnings as errorsnnon  gcc  complains  warnings being treated as errorsnexternalquakequakesrcwinquakesvmaincpp in function   error  may be used unialized in this  error  may be used unialized in this functionnmake  error
8835,fix keytests for azerty keyboardnnazerty keymap is different when compared to qwertynusing a fails the testcase in case of azerty hencenuse x which is the same in both azerty and qwertynid
8836,add make file to build bccmd utility for csr bluetooth modulesnnthis patch adds make file to support building bccmd utilitynwhich is needed by csr bluetooth modulesnnto build bccmd utility set boardhavebluetoothcsr to be truenid
8837,do not include all subdirectories if the target is not cresponid
8838,usb gadget composite dynamically set iad bfirstinterfacennbfirstinterface should be set equal to binterfacenumber ofnthe first interface in a grouping  currently being setnonly when a composite device is bound and it does not getnupdated when functions are enabled or disablednnnedoffby mike lockwood
8839,fix startsearch condition on dialog because pressing search key causes anr popupnif search key is pressed on dialog and there is no search item then do nothingnhow to reproduce the issuensettings  about phone  legal information  google legal  press search key  touch list item or press back key  anr popup is shownnid
8840,usb gadget android fix gadget descriptor compliance for  core team mandates that composite devices  must use    instead of the usual  in all fieldsnthis is not a problem currently on linux hosts but it is anproblem when connecting to windows hosts without this changenthe default microsoft composite driver will not groupninterfaces properly which is what allows child functionndrivers with  to load correctlynnnedoffby mike lockwood
8841,usb gadget composite use separate switches for connected and config statennalso remove disconnect debouncing which  actually work on some platformsnnnedoffby mike lockwood
8842,ashmem fix deadlock when system is low on memorynnwhen system is low on memory allocating memory while holding thenashmemmutex may try to directly reclaim memory then ashmemshrinknis called in same thread it will deadlock at acquiring ashmemmutexnthis change lets ashmemshrink return failure if ashmemmutex is notnavailable memory will be reclaimed from othersnid  yuanyuan zhong
8843,fix pwrite declaration in ndk platform headersnnthe corresponding fix is already in the bionic libc source treennse
8844,sourceandroidcom documentation cleanupnndownload and build instructions for aosp updated from stone age tongingerbread eranid
8845,zoom improvementsnnfirst add a new zoom to fit toolbar action this will look at thensize of the rendered image as well as the size of the canvas areanand compute the largest possible scale factor that will zoom thenrendered image while showing everythingnnthis is particularly useful when working with larger devices such asnwxga where typically the rendering comes up showing only the top leftnportion of the image and the zoom out function often zooms out toonmuch since it does not have fine granularitynnsecond add icons to the various zooming functions the zoom inoutnicons are from eclipse wtp the other three are minor derivations fromnthese icons using  for emulate real size  for  and an outlinenfor zoom to fitnnthird hook up zoom in zoom out zoom to  and zoom to fit tonkeyboard shortcuts applicable to the canvas onlynnfinally tweak some labelsnnalso updated the ddms screencapture icon since there was a screenncapture icon in the same eclipse wtp icon foldernid
8846,workaround for sqlite limitation for order by calculated columns in union queriesnndue to unknown reasons sqlite  compile statements likentselect from antunionntselect from bntorder by somefunctioncolnnthe most elegant workaround i found is rewriting statement to the form ofntselect fromnttselect from antt unionntt select from bntorder by somefunctioncolnnsuch queries are usefull when implementing custom ordering for some text labels ie contact namesnif you develop some localized application it may be needed to place label in native language before english labelsnnin this situation order by clause likenorder byntcasenttwhen  between  and  then   endnt labelnnis obvious way assuming that labels contains only uppercase lettersnunfortunately this order by clause  be used within sqlitequerybuilderbuildunionquery method due to sqlite limitation listed abovenid
8847,hiding media from folder with nomedia filennthis patch allows media files present in a folder withna nomedia file to be hidden after these files have beennpreviously indexednnbug   david sobreira marqu
8848,rilh do not merge and do not submitnnthis is the current rilh plus current aosp suggested changesnid
8849,pm wait for completion of the parent resume before resumingnnif the parent device is in the dpmresuming state resume might get callednbefore the  resume has completed because dpmwait  getncalled this issue was introduced  pm prevent waiting forever on asynchronous resume after abortnnwait for completion of the parent resume if the parent state is  dpmoffnor  dpmresumingnid  benoit gobi
8850,update keylistener classes for azerty hardwarennneed to check meta key state in lookup function in keylistenernclasses to take care of case where one hardware key is used fornalpha  digit with function keynid
8851,video tegra host force memory bus to full when using   or mpenid  colin cross
8852,update numberkeylistenertest for azerty devicesnnneed to check meta key state in lookup function to take carenof case where one hardware key is used for alpha  digit withnfunction keynid
8853,add quickfix and quick assistant for creating resourcesnnthis changeset adds two related featuresnn a marker resolution which adds a quickfix to aapt errors forn nonexistent resources this means that you can right click on then error in the problems view to create the associated missingn resourcenn a quick assistant which looks for a missing resource on then current line and if found adds a fix handler for it similar to then quickfix abovennwhen a fix is invoked it will create the new file or value and opennit in the editor with the relevant value section selectednnthe quick assistant can be invoked by the normal   thenquickfix must be invoked from the problems view the java editor seemsnto add an extra level of integration with a lightbulb in the editornmargin but we  get that in xmlnnthe quickfixes work for all valuebased resources as well as somenfilebased ones in particular those supported by the new xml filenwizard which it reusesnnthis changeset also adds unit tests for quickfixes along with a fewninfrastructure changes to support itnid
8854,arm tegra clock add shared emc clock for tegragrhostnid  colin cross
8855,sdk manager dialog to manage user addon sitesnid
8856,arm tegra clock add roundrate op for shared clocksnid  colin cross
8857,ninepatch support for drawing at a different densitynid
8858,add missing notice filesnnalso fix some makefiles to make sure the notices arenpicked upn move the makefile outside of the source foldern resources are now in the source folder directly insteadn of being inside srcresources  much simplernid
8859,video tegra host disable mpe autopowergatennit is seen that autopowergate of mpe causes some issues when long runncamera stress test is run the issue manifest itself in the form ofnmpe syncpoint not getting triggered from hardware and hence the callernwho is waiting on it hangs up the systemnndisabling autopowergate for mpe seems to resolve this issuennoriginal work of jay cheng  mayuresh kulkarni
8860,fix a  code generation bugnnthe problem was caused by backporting a patch from upstream withoutnits necessary dependencies this patch changes the implementation  so that we keep the optimization without generatingnbad codenid
8861,fix write of disk sizes in ini filesnnthe old implementation always expressed the size as multiples of kilobytesndue to an improper order to size checks for example  was written  instead of  which is correct but suboptimalnid
8862,arm fix up vfp exception location in thumb modennthe exception handler in entryarmvs checks for thumb mode andncorrectly determines the exception location and instructionnbut vfpbounce uses the uncorrected location off the stacknif the vfp exception occured in thumb mode fix up thenexception location on the stack to match the value that wouldnbe returned in arm modennfixes segfaults in userspace applications running in thumb modencaused by a handled vfp exception returning to the middle of theninstruction that triggered the exceptionnid  russell king  colin cross
8863,adt fix issue with launch checking manifest debuggable attributennthe builds done by the incremental builders now always  unless  another value already set sonthe check for the attribute at lauch should only test if thenattribute is set to false manuallynid
8864,fix a crash that happened when the content directory  have a cacheimg filennthis only happened for fresh newlycreated avds existing ones used for testingnthe emulator already had a cacheimg and booted properlynid
8865,merge remote branch  into gingerbreadnid
8866,adds a workaround for building gdbserver in
8867,concurrentmodificationexception in abstractpropertiesfieldspartnni ran into a concurrentmodificationexception when creating an xml filenusing the plain xml wizard not the android xml wizard because inwanted to create an xml drawable which is not supported by the newnandroid xml wizardnid
8868,fix issue setting javadoc to classpath containernnthis change fixes  android classpath container  allow changing javadoc attachmentnid
8869,adt always give fillparent to layoutlibnnif a layout is created for android  but then rendered in   because   know what matchparent isnnthis change makes the parser given to layoutlib replace on the flynmatchparent with fillparentnid
8870,remove broken layouttest testsnnbug  annotations said unsure if asserted widths are correctnthey probably are not due to varying screen sizes and orientationsnid
8871,delete datepickerdialogtestnnbug  only had brokentests so it was not being run anywaynid
8872,fix build by updating idecommon to the new layoutlognid
8873,do not submitnnenables qemu when running inside vboxnid
8874,add optional data to layoutlog apinid
8875,clarify the factory reset button textn the string on the final factory reset button to be morenexplicit about what exactly is being erasednid
8876,fix padding check on encrypted hls streamsnnhls streams must be padded to  bytes for aes encryption this changenskips erroneous the padding check if the buffer is already a multiplenof  bytesnnnedoffby daryll strauss
8877,remove ref to nonexistent dir in  androidmknnremove the reference to nonexistent directory   androidmk thus eliminating thenfollowing buildtime warningnline  cd ctstoolsctsnativexmlgeneratorsrcresn no such file or directorynid  ed boraa
8878,cast the constants to statust to try to keep the enum size at  bytesnnthis is test code to show the problemnnlogesizeofunknownerror d sizeofunknownerrornstatust s  unknownerrornif s  unknownerrornloges  unknownerrornelsenloges  unknownerrornnwithout this patch this printsnsizeofunknownerror   unknownerrornnwith this patch this printsnsizeofunknownerror   unknownerrornid
8879,fix calendarview cts failuresnnwhy google added a condition to save cpu timemaybe it would causenthe calendarview not showing the title in jan because the defaultnvalue of mcurrentmonthdisplayed is  assign  as default value to mcurrentmonthdisplayed thenconstructor will call goto to assign a correct value to it not onlynthat previously it only shows month in the title but now it alsonshows year so i also added a newyeardisplayed for showing it correctlynverify steps cts should not fail in the holo test in jan i havenverified it with
8880,xml code completion improvementsnnthis changeset contains a number of improvements to the codencompletion in xml  add suffix completion in attribute values for dimensionaln attributes this will add in or complete prefixes of units liken dp sp etc for fractional attributes the and p suffixesn are completed in both cases there is also a tooltip messagen provided shown in the completion documentation popup inn addition for flag values when completing at the end of a flagn then the separator character along with the other flag valuesn except those already set are  handle completion when the caret is not at the end for examplen if you have the following sourcenn   caret positionnn then if you invoke code completion you will also be offered then attribute layoutweight and selecting it will replace then layoutwidth attribute with layoutheight it will not insertn layoutweight in the middle of layoutwidth this handling is donen not just for attribute names as shown here but for attributen values and element tag names as  improve resource completion sorting when completing resourcesn consider which attribute is being completed and use thatn information to sort the resources for example if completing an text attribute then string and androidstring resourcesn will be listed first for attributes like margins dimen will ben first for include layout the layout attributes will be listedn first and so on also the resources are sorted alphabeticallyn as the second sort  hide some builtin eclipse code completion items in particularn the default code completion provider for eclipse will always addn the current attribute value as a completion this is extremelyn confusing since if you have a typo code completion will tell youn that what you have is okay i personally witnessed this confusingn a user who had typed something from memory and code completionn seemed to him to confirm that he had it rightnn to fix this the code which installs completion providers willn identify the builting wst completion provider and when foundn replace it with a filtering wrapper this completion providern delegates all its calls to the wst completion provider but itn recognizes a few patterns in particular the above attribute valuen completion proposal as well as some namespace and schema ones andn removes thesenn the reason we only filter out these items instead of removing itn completely is that the completion provider also appears to ben responsible for inserting code templates defined by the user andn we  want to neuter those if defined by the  fix a bunch of corner cases flags could only have a singlen separator resource attribute completion items were missingn icons and completion in some positions was not  unit tests there are now comprehensive unit tests for coden completion each unit test points to a particular source filen and a particular position within the source file and code completionn is invoked for that position a set of unit tests dump out then allowed completion items for each such position and these aren compared against golden files a second set of unit tests thenn specify a particular code completion item among the choices ton be applied and then applies that completion item to the documentn this along with the caret position indicated as is writtenn into a golden file and used for comparisons to make it easyn to see what these tests do the golden file is actually recordedn as a diff so in the test you will see something like thisnncode completion in  for     there are some other misc changes we had some code which usedn dip for device indepdendent pixels such as the absolutelayoutn handler since dp seems to be preferred the code will nown use that insteadnid
8881,adbfastboot add usb support for intel vendor idnnthis patch adds intel usb vendor id into the supportnlist for adb and fastbootnnnedoffby wu hao  jack ren
8882,panda enable board specific audio haln boardusesgenericaudio to equal falsennow that the audio hal is available for pandanuse board specific audio halnid  dan murphi
8883,panda add  audio support for pandannenable panda audio halnid  dan murphi
8884,cts fixes for androidhardwarectscameratesttestpreviewcallbacknn setpreviewdisplay was omitted during the individualn preview resolution tests the camera documentation statesn that a call to either setpreviewdisplay or setpreviewtexturen is necessary in order to start the preview apart fromn that setpreviewdisplay is mandatory on platforms which utilizen an overlay for camera previewnid
8885,switch eclipse plugin build to eclipse  rcpnid
8886,missing cts changes via gbnnthese changes were checked into gingerbread but  make it back tonto open gbnid
8887,for  line qwerty azerty and some number key that are assigned with same hard keynid
8888,fix threading issue with layout reloadnnthe layout change listener which can be called on any thread mustnnot access swt state unless  on the swt thread there were somenexisting swtredispatch blocks to handle this but one code path wasnmissing this changeset moves the entire method under a single swtnredispatch block insteadnid
8889,missing cts changes via open froyonnthese changes were checked in via openfroyo but  make it backnto this buildnid
8890,customizable pdp reactivation behaviornnenable customization of pdp reactivation behavior specificallyntemporary failure causes based on operator requests the failurencause implementation is moved from gsmdataconnection andncdmadataconnection into the failcause enum in dataconnection in ordernto centralize the failcause handling within the failcause enum thentemporary failure causes can be customized through the system
8891,the center aligned test has to have  pixel marginnnif either a container size or drawable size is odd then lefttopnand rightbottom delta would not be equal there would be  pixelndifference so the test should allow  pixel differencenid
8892,projectresourcesgetsourcefiles can now be configured to only return the best matchnid
8893,build libbfd for host seperately and install in
8894,projectresources can now be queried for all source file for a given resourcenid
8895,clean up the api around layoutlibnnmove styledensitybasedresourcevalue into layoutlibapinand make the api use that instead of the  get ride of the interfaces once only obsolete platformsnuse themnnin idecommons also got rid of layoutbridgewrapper and movednthe code in layoutlibrary which does not expose the bridgenanymore and instead expose an api similar to the layoutbridgenclassnnupdated adt to use layoutlibrary directly instead of going throughnlayoutlibrarygetbridge this allows us to hide somenthings like querying the api level and relying instead onncapabilities with special handle for legacy bridgesnnalso added an error message to layoutlibrary to display whynit may have failed to loadnadded a check to the api level and  load layoutlibnthat are more recent than the clientnid
8896,allow build with prebuilt directory for gmp mpfr and mpcnid
8897,use layoutlogtagresourcesprefixnid
8898,add some missing moduletagsnthese androidmk files were missing the moduletagsnid
8899,fixing nontelephony device test failuresnnsome of the telephony tests are notapplicable to nontelephony devicesnid
8900,add fnortti to androidmk of libopenslesnnthe c files of libopensles are actually c but the suffix cnmakes the build system compile it like a c file  have the flag fnortti on  rtti isnenabled by default hence results in a linking errornnthe patch disables rtti explicitly for module libopenslesnid
8901,adjust mbiggertouchslopsquare to the suitable valuennif the scaling factor is larger than  ie   is bigger than  double tap condition should be bigger than a single  onenthis causes the fail of the following cts test cases in the device hasnover  densityn androidviewctsgesturedetectortestn testontoucheventn androidviewctsgesturedetectorsimpleongesturelistenertestn testsimpleongesturelistenernto fix this issue  add a new public methodnviewconfigurationgetscaledlargetouchslop then the value returnednfrom that method is used as a slop area of mlargetouchslopnid
8902,improve hyperlink resolution for configurationsnnthe hyperlink resolver would only look for values in the base valuesnfolder this did not work well for resources that are only defined innspecific configurations this changeset improves the search to look innall eligible resource folders it also uses support from the layoutnlibrary to more quickly identify the right files to checknnthe hyperlink resolver now also considers the configuration chooser innthe designtab if opened and uses this configurationnfirst therefore if you for example have chosen to view a particularnlanguage hyperlink resolution will jump to the specific translationnstring rather than the base string as beforenna few other fixes are includednn look in the current file for id references to resolve first commonn in a layout where you have id references to attachmentsn fix search for attr attributesn fix bug where attributes inside a custom view class would be ignoredn and it would jump to the custom class insteadnid
8903,fix for cts testscreenconfigurationnnthe previous implementation of testscreenconfiguration failed tonpass some acceptable aspect ratiosnexample a screen in  screen ratio that is  pixels widenwould have to be  pixels high to be exactly  this isnof course not possible so we must allow both  and  pixelsnin this example the previous implementation would onli
8904,net add udp stats and pkt count to uidstatnid  ashish sharma
8905,fix possible buffer overflow in a new active heapnnthere is a potential buffer overflow in case more than twonheaps are created as per current implementation the  being used when the new heap size is determinednie the new size  overall abolute maximum heap size overheadntherefore the overhead must include all of the previously creatednheaps but now it only considers current active heap which is soonnto be old heap thus the new heap size will be larger thannallocated buffer size mspacenid  matt moohyun shin
8906,wait for finishing the scrollingnnif abslistview is applyed the following  testsetonscrolllistener failsnnthis patch is to avoid the failnid
8907,manifest for
8908,improved conversion accuracy of exif geotag datand degrees and minutes of geotag data into double to avoidndata loss during castnnalso improved error handling if geotag data  be parsednid
8909,add test to verify nx is enablednnbug
8910,usb host tegra remove clear portresume to clear portsuspendnnportsuspend bit will be cleared by the host controller when portresumenchange to   jay cheng
8911,added check to make orientation calculations more robustnnadded check avoid a division by zero resulting in nan which in turnnmakes checkfullytilted to ignore high tilt angles from then onnif x y z     then there is no tilt or rotation andnthis vector must be ignored this check is extended to ignore allnsmall acceleration values where noise can be of big influencennlow or zero readings can happen when space travelling free fallingnbut more commonly when shaking or getting bad readings from the sensornthe accelerometer is turned off when not used and polling it too soonnafter it is turned on may result in
8912,move to rev  and update change lognid
8913,drop the drawable cache completely on configuration changennthere was a lot of fancy code just above the clear to ensurenthat drawables that  affected by the change are keptnthen the entire array was cleared this patch removes thenclear so that the drawables that  changed are reallynkept matching the logs comments and larger part of the codennthis patch also fixes the various constant states to returnncorrect changingconfigurationsnid
8914,add java hyperlink support and xml improvementsnnadds androidrelated hyperlinks to java files if you for examplenhave this code in your activitynntsetcontentviewrlayoutmainnnand you control click on main this will now offer in addition tonthe normal declaration hyperlink go to xml declaration whichnwill then warp to the mainxml filennyou can add in the second modifier key to directly jump to the androidnresource and bypass the normal java declaration which would take youninto the r file the android java hyperlink works from r file fieldndeclarations too by the waynnthis now also works for id attributes defined inline so if you fornexample jump to  and this will open the  element found in the layout directorynnyou can also open nonxml references such as drawableicon thisnwill run the eclipse open command on the iconnnthe processing of xml regions is improved so it will now onlynhighlight say the value part of an xml attribute or the name part ornthe element tag name partnnfinally the hyperlink resolvers can now jump into android resourcenfiles as found in the sdk data directory thus you can warp intonsay androiddrawablealertdarkframenid
8915,integrate  into  swingworker back to the sdknnneeded bi
8916,drop the drawable cache completely on configuration changennthere was a lot of fancy code just above the clear to ensurenthat drawables that  affected by the change are keptnthen the entire array was cleared this patch removes thenclear so that the drawables that  changed are reallynkept matching the logs comments and larger part of the codennthis patch also fixes the various constant states to returnncorrect changingconfigurationsnid
8917,update to rev
8918,do not try to run the audio config testsnnthis actually prevents the script from working when using a crosstoolchainnid
8919,integrate  into  ant version check in setup tasknid
8920,fix  dtmf tones for bt handsfree on cdma networksnnwhen calling voice mail or bank using a bt carkit with numeric keypadnwhen pressing  in a voice menu the  command is sentnfrom bt carkit to the device for cdma no dtmf are sent over the networknand no tones are generated for umts it sends a correct dtmf commandnbut still no tones are generatednfor cdma phone the  command handler should send correctndtmf commands to the network by using correct method andnfor both phones cdma and umts we should generate local dtmf tonesnid
8921,make the phone options dialog use current languagennthe title of the phone options dialog is displayed using wrongntranslation if the user changes the current language setting movingnthe settitle call to preparedialog to ensure that the title getsnupdated before the dialog is shownnid
8922,adding delayedcheck in testinputconnectionnnafter executing requestfocus there are some cases where test case is failed since showsoftinput is called before edittext gets focusnnto avoid this i changed the code to add wait until edittext has focusn
8923,script to extract binaries embedded in textnnextractembeddedfilespl will extract  binary filesnembedded in a text file it will also extract embeddednplain text filesnnthis is particularly useful for extracting binary lognfiles embedded in the dumpstatebugreport outputnna unit test script testfileembeddingsh is alsonincludednid
8924,adding an  implementation to nnthis is useful for running programs synchronouslynduring startupnid
8925,fix build error in when building with bootchartnnthere was a build error in c if you enabled bootchart thisnshould probably be shipped upstream if not fixed alreadynid
8926,port  to androidnnsee  for details sourcentaken asis except modified to not use c stl fornfile ionid
8927,fix database race condition fornctswebkittestcaseswebchromeclienttesttestonreceivediconnid
8928,support nuking  sockets as well as  linux when an interface goes down all its  are deleted so relying on knowing the  addresses on the interface is brittle insteadnsupport nuking all sockets that are bound to ip addressesnthat are not configured and up on the system thisnbehaviour is triggered by specifying the unspecifiednaddress or  if an ip address is specified thenbehaviour is unchanged except the ioctl now supports  well as  lorenzo colitti
8929,extended search for duplicate mms messages during downloadnnmms messages sent from some test servers all have the same message idnwhich results in the message being deleted from the inbox after anfirst message has been downloaded this is fixed by requiring that thenids and subjects of two messages are identical to regard them asnduplicatesn
8930,zoom with scrollwheel in traceviewnnthe zoom factor is  hardcodednthe fixed point is given by the mouse position when zooming innwhen zooming out we use the previous fixed pointnthis commit do not launch an animation when zoomingnid
8931,test requestroutetohost except typewifinnif the device is set wifion then testrequestroutetohost always failsnid
8932,underline the error range for aapt errorsnncurrently aapt errors only show up as an error icon in the left handnmargin and the user has to figure out from the error message where onnthe line the error occurrednnthis changeset uses information in the error message to identify thenspecific range of text on the line that is affected and underlinesnitnid
8933,androidel make androiduninstallapp not reinstallnn uninstall rather than reinstalling the appn fix reference to argumentnid
8934,wait for finishing the scrollingnnif abslistview is applyed the following  testsetonscrolllistener failsnnthis patch is to avoid the failnid
8935,stkapp fix null pointer crash when receiving refreshnnadd an additional check to fix null pointer crashnid  christian bejram
8936,send unsolicited time response to first signal strength query after loadvmnid
8937,return error if  fails in emulated smbus transfernid  varun wadekar
8938,usb ehci reduce overhead of the scanperiodic loopnnscanperiodic is called with irq disabled merged alan  patchnto reduce the overhead of  is a patch which ought to reduce the overhead of the loop itnavoids doing the expensive call to qhcompletions more than oncenfor each qhnid  benoit gobi
8939,contacts import sim contacts support for multi sim functionalitynid
8940,small gui fix for playtonennensured that the activity is visible to the user for at least thenduration specified in the proactive commandnid  christian bejram
8941,telephonyprovider sms support for multi sim functionalitynnadded support to send and receive message on multiple subscriptionsnid
8942,wlan improve connect mechanism to wpasupplicantnnfunction wificonnecttosupplicant  try to accessnfile  to quickly after callnto wifistartsupplicant the file may have not been creatednyet this also fixes wlan randomly turning off after startnid
8943,mms sms support for multi sim functionalitynnextended mms app to send and receive sms on multiple subscriptionsnid
8944,frameworksbase sms support for multi sim functionalitynnsupport to send and receive smsmms on multiple subscriptionsnid
8945,wlan improve firmware load delay handlingnnnew function waitingforwlaninterface added and put insteadnof usleep in wifiloaddriver we check continuosly  interface was created or not in the loop for maximum  seconds the previous implementation could cause problems innthe future as  seconds could still be not enoughnid
8946,add account type check for invisible sync adaptersnnthe invisible sync adapters array is modified tonstore the sync adapters instead of their authoritiesnso that sync now function will only synchronizenthose with the same account type as the currentnaccountnid
8947,show partition info in report headernnbug  output of the  command in the report headernsee the bug for a picture of what it looks likenid
8948,resolveractivity removes activity from recent applicationsnnif an application is present in recent applications and itnfor some reason is open again from resolveractivity thenapplication is removed from recent applicationsnnthe application is removed since  started with flagnflagactivityexcludefromrecents the intent used to startnresolveractivity mintent is also used to start the activitynselected in the resolveractivity resolveractivity is started withnflagactivityexcludefromrecents setnnthe solution is to use the flags of the activityinfo of the selectednactivity in the resolveractivitynnthe following steps reproduce the  launch   is displayed in recent  go to  enter y in the searchbar and press  launch resolveractivity by selecting a video in search  select browser in   press homekey  browser is removed from recent applicationsnid
8949,incallscreen fix setup call when not registered to networknnadded possibility to place calls while not being registerednto a network since a location update procedure should benperformed if there is a nonforbidden network availablenid  christian bejram
8950,fix comprehension required in proactive commandsnnif a proactive command was sent that should be terminated by the stknincluding setupcall without comprehension required no terminalnresponse was sent which resulted in hanging of the uicc sessionnnthe comprehension required flag is now correctly parcelednid  christian bejram
8951,pauseupdatepicture prevent resumeupdatepicturennif a call to pauseupdatepicture is followed by resumeupdatepicturenwithout contentdraw executed in between then resumeupdatepicturenwill not resume the drawing this can happen when zooming in or outnrapidly causing the visible view of the page to be out of sync  layoutnnlooking at the code in contentdraw we see that if the boolean mdrawisschedulednis true it means that a webkitdraw message is posted on the message queuenunless mdrawispaused is true in which case it means that a webkitdraw messagenshould be posted as soon as the drawing is resumed againnnwith this interpretation of mdrawisscheduled it should not be set to false innpauseupdatepicture hence this fix makes sure that if the value is true uponnentering pauseupdatepicture then that value is keptnnsteps to reproducenatopen a web page with a link wwwgooglecom clasic viewnbtzoom in to maximum limit either “� button or pinch outnctzoom out to maximum limit either ““ button or pinch inndtclick on a linknetlink cannot be openednid
8952,fix the build by putting a missing localmoduletagsnid
8953,patch to backup settings using backupagenthelpernnoriginal patch on froyo
8954,icon support for proactive commands according to   nnfixed loading of icons from simnfixed terminal responses when loading fails for proactive commandsn terminated by the stk see for detailsnnterminal response with prfrmdiconnotdisplayed will not be sent ifn loading of icons fails for proactive commands that are not terminatedn by the stknnterminal response with prfrmdiconnotdisplayed will not be sentn for setupcall in the case that either the   or then   icon couldent be loaded this will require update of then comandroidinternaltelephonycommandsinterfacenid  christian bejram
8955,remove broken assertnnthe assert can be false in normal conditionnid
8956,allow also chars in parsing keycode in keyboardparsecsvnid
8957,add support for including within specific configurationsnnthe current support for includes are limited to including a viewnwithin the base layouts defined in layouts this changesetngeneralizes this to track all includesources such as an include fromnthe landscape version and offers to let you view and edit the currentnview within each of those specific configurations the configurationnwill be switched to one that is compatible with the outer includingnview it is possible that this will switch to a different inner viewnthat seems better than trying to force editing an inner view in annouter view that  actually be shown at runtimennwe should enhance the configuration chooser such that it will onlynoffer options in its various combo boxes that are compatible with theninner view as well that is not addressed by this changesetnid
8958,not glyphs come from the project that stands under apache  licencenid
8959,add support for multi sim functionalitynnspawning two ril daemons to support multi sim functionalitynid
8960,check unknown sources is enabled by defaultnnbug
8961,issue  use matchparent or fillparent based on api levelnnfixes issue  new layout editor always insert matchparentneven on older platformnnview rules can now look up the api level of the current project andnbased on that choose to use matchparent or fillparent when they neednto manipulate the layout attributesnid
8962,added support for handling priority of displaytextnid  christian bejram
8963,vold fix formatting of media storage on multicard systemsnnin case platform has two mmc cards emmc and media mmcnthe external mmc can get mounted  or  cannot assume media mmc is   vikram pandita  madhusudhan chikkature rajashekar
8964,added check for input parameters in sendpdunnthis change is part of change  return error code whenncomposing pdu fails se
8965,added support for handling priority of displaytextnnrequires that the catapp has permission for gettasksnid  christian bejram
8966,telephony support for lte signal strength displaynnadded support in telephony for lte signal strengthnui displaynid
8967,add prefix constants for layoutlog tagsnnsome tags have categories for instance resourcesresolveni created a new constant that contains resourcesnid
8968,install host libbfd in toolchainnid
8969,bluetoothdevicejava sbleutoothbluetoothnid
8970,usb gadget fmtp make sure request is dequeued if transfer is cancelednnif the host cancels a file transfer while we have a read request pendingncall usbepdequeue to cancel the readnalso return ecanceled from mtpioctl if we are canceled in mtpreceivefilennnedoffby mike lockwood
8971,install host libbfd in toolchainnid
8972,allow winsdk build with  patch allows the window sdk build lunch sdkeng make winsdknto work properly when useccache is defined in the environmentnnthere is no windows ccache prebuilt but since  crosscompilingnfrom linux detect it and use the linux prebuilt binary insteadnnnote depends on  for a complete solution to the problemnid
8973,refining mainuic to better separate ui and core related ializationnnthe main reason for this is to clarify ialization for ui that starts corenand ui that attaches to an existing core in this cl i didn removed data option that seems obsolete  affect anything in the coden passed through timezone option that  affect anything in the ui and is neededn only in the coren removed dependency on avd info from the core core needed only virtual device namenid
8974,fixed icon handling for proactive commands according to    christian bejram
8975,add layoutlib log tag constants to layoutlognid
8976,fix windows build when useccache is definednnthis avoids a problem where the makefile force the use of thennonexisting prebuiltwindowsccacheccachenid
8977,reenable adt sample testsnid
8978,guard against badly configured projects in aidl processornnthe project could have source folders that  existnid
8979,a bit more refactoring around the resource repositorynn move configurable in the same package as folderconfigurationn move resourcemanagergetconfig in folderconfigurationn move resourcemaangerprocessfolder in resourcerepositoryn move resourcemanagerprocessfile in resourcefoldern rename some misc methodsnid
8980,fix qwertymultitapkeylistenertest testsnnbug  the fragile setup code that required the target textview to benfocused with code that directly call onkeydown insteadnid
8981,media video tegra avpsvc force memory bus to full when avp is enablednid  colin cross
8982,arm tegra clock round rate before dvfsnncall the  roundrate op if it exists before settingndvfs rate ensures dvfs is set to the rate the clock willnbe at after the later call to setratenid  colin cross
8983,generic alarm weekday view issuenid
8984,cts fixes for androidhardwarectscameratesttestpreviewcallbacknn setpreviewdisplay was omitted during the individualn preview resolution tests the camera documentation statesn that a call to either setpreviewdisplay or setpreviewtexturen is necessary in order to start the preview apart fromn that setpreviewdisplay is mandatory on platforms which utilizen an overlay for camera previewnid
8985,rounds up scaled widthheightnnin framework the scaled value is calculated by rounding upnex androidutiltypedvaluecomplextodimensionpixelsizenthis test should be calculated same that framework does donid
8986,usb gadget composite usbgetconfiguration must return  in unconfigured statenid  oleg matcovschi
8987,net support nuking  sockets as well as  linux when an interface goes down all its  are deleted so relying on knowing the  addresses on the interface is brittle insteadnsupport nuking all sockets that are bound to ip addressesnthat are not configured and up on the system thisnbehaviour is triggered by specifying the unspecifiednaddress or  if an ip address is specified thenbehaviour is unchanged except the ioctl now supports  well as  lorenzo colitti
8988,revert iandroideffectc is actually a c filennthis reverts commit  is unnecessary after adding fnorttinid
8989,add test to verify an uninstall of app wipes its datanid
8990,avoid repeating manifest element namesnnin the manifest form tree avoid repeating element namesnin the tree labels eg myactivity activity can justnbe myactivitynid
8991,xml code completion improvementsnnfirst fix code completion for android resources such that if yountype android the various resource types androiddrawablenandroidlayout etc are offerednnsecond fix completion for the android token itself such that if yountype a then android is offered as a completionnnfinally make resource name completion work even for attributes  marked in the metadata as allowing resource references thisnwill not be done for empty completion context but if the usernexplicitly types a in the value field then resource completionnwill work this is necessary for some attributes where our metadata isnwrong such as androidminheight where code completion currentlynrefuses to complete a dimen completion prefixnid
8992,fix system clock stops ticking issuenndue to original logic calculates the rtc of the next minutuenby calendar  be affected by the daylight saving statusnwhen device is leaving the daylight saving  get currentntime plus the offset of the daylight saving offset bcz  to get the time this will make the system clocknstop ticking until the offset is passednthe solution is to advance the next alarm by adding  directlynid
8993,silence console during testsnid
8994,add a method for replacing tokens in the preprocessed headersnid
8995,use asm instead of asm in public libc headersnnif compiling userland code with  the current header produces annerror the content of this header originally is a kernel internal headernwhere asm is acceptable in a header visible to userland this should benasm insteadnid
8996,arm tegra ventana remove pdapower devicennpdapower is only needed on pdas and phonesnid  varun wadekar
8997,replace all occurrances of asm with asm in the output headersnnasm conflicts with userland code compiled with  the userlandnlibc should only use asm instead therefore this transformationnhas to be applied to all exported headersnnthis only changes archarmasmbyteorderhnid
8998,fix a bug that prevents the compilation of s assembler filesnnthe root of the problem is that the compiler  generate anyndependency file for s files only s ones so our dependency filenprocessor failednnadd a simple test to do nothing if the file  existnid
8999,merge  from master add snapshot handling for avd creation details and launchnnalso respect  user  by disabling snapshot launch and support
9000,medialibstagefright adding ctts handling for  parser currently doesnt understand the ctts structure if decodedntime stamp is not sample as presentation timestamp then the frames willnbe presented to av sync logic in wrong ordernnthe  parser mandates to take into account the ctts if the decode  timestamps are not the samennnedoffby sunita nadampalli  dan murphi
9001,fix a typo that broke localarmneon  truennse
9002,video tegra reset default window in releasenid  sergey kudakov  erik gil
9003,fix buildplatformssh to run with dashnnfix for
9004,play ringtone on phfbt headset even in silent modennpeople were missing phone calls when their phones were in silentnmode and they were listening to music on their phfbt headsetsnid
9005,form focus experiment do not submitnid
9006,detect and handle invalid number of fatsnnif the number of fats field in the boot sector is zero givenan appropriate error codenid  sebastian rasmussen  christian bejram
9007,improve for the scrolling when fling listviewnnflingrunnable have used post message for the scrollingnif the interval of drawing request from framework isnless than the time of grafic native library drawnnthen the scrolling of listview is not smoothnid
9008,emulator move platformspecific modules to developmentgitnnthis copies the platformspecific emulator modules from sdkgit intondevelopmentgittoolsemulatorsystem note the use of guard variablesnto prevent clashes when the original modules are still in the treennthe goal is to submit this and  later remove the modules from sdkgit when we move the internal sdk branchnto the appropriate toolsrxxx branchnid
9009,misc fix in projectcallbacknid
9010,prepare for moving platformspecific emulator modules to developmentgitnnwe need to move the platformspecific modules to developmentgit tonavoid some clashes this patch uses a guard make variable to ensure thatneach module is only built oncennthe plan is to simply copy these modules to developmentgit then removenthe current ones from sdkgit the guard variable is here to ensure thatnthe transition happens smoothly ie if a build contains modules innboth directories only one of them will be builtnid
9011,net wireless  turn off configusnondfschannelsonlynnnedoffby dmitry shmidt
9012,correct the interframe delays logicnnnedoffby sergey kudakov
9013,libc  replace   bi
9014,add unittests for proper  behaviour when included from cnnse
9015,fix mocklog to build on
9016,ndk fix stdinth defions for cnnfix the stdinth header for c inclusion the limit and constant related macrosnshould only be defined if stdclimitmacros and stdcconstantmacros arendefined respectivelynid
9017,new error status for layoutlib apinid
9018,libstagefright check size before doing a copynnthis will avoid memory violation when a error occursnduring fetchingnid
9019,libc   make stdconstantmacros available if only stdlimitmacros is definednid
9020,telephony initialize ril with the correct cdma subscription mode settingnnif the telephony restarts after a crash android ril sets thencdma subscription source value from the preferredcdmasubscriptionnsetting and that causes the mismatch with the value in the settingsndatabase chosen by the user the change is to use thencdmasubscriptionmode setting instead when creating the ril objectnnalso remove the setting preferredcdmasubscription from the databasenid
9021,add swingworker back to the sdknnneeded bi
9022,revert futex restore one of the fast paths eliminated by  reverts commit
9023,add ant version check in setup tasknid
9024,rename iflogiif to ifalogiifnid
9025,rename iflogdif to ifalogdifnid
9026,rename iflogeif to ifalogeifnid
9027,rename iflogwif to ifalogwifnid
9028,rename iflogvif to ifalogvifnid
9029,rename iflog to ifalognid
9030,support multiple lifecycles in testsnnbug   of the lifecycle tests expected onstop to be called howevernthere is no guarantee that onstop will be called since that appnmay be killed in that situation enhance the tests to supportnmultiple lifecycles by adding a runmultiplelaunchpads methodnid
9031,update the ddmlib api for pushpullinstallnnthe api now throws syncexception instead of returning syncresultnnthe idevice api to installuninstall now returns a singleninstallexception that encapsulate all the other ddmlibnexceptionnnalso the recently added exceptions now  extend ioexceptionnanymorenid
9032,override local keystorealias info when using export project to exportnid
9033,use a different kernel boot line for the disk installernid
9034,apkbuildertask is now more lenient with missing libs foldersnid
9035,test upload please ignorenid
9036,rename logvif to alogvifnid
9037,rename logassert to alogassertnid
9038,rename iflogiif to ifalogiifnid
9039,rename iflogdif to ifalogdifnid
9040,arm tegra pinmux add tegramuxsafe option for pinmux tablesnnsetting a pingroup to tegramuxsafe will automatically select anmux setting that is guaranteed not to conflict with any of thenhardware blocksnid  colin cross
9041,add support for codeless projectnid
9042,arm tegra pinmux fix debug output for group with no pullupsnid  colin cross
9043,changes to callcard to fetch contact image instead of default image while dialingalertingnid
9044,add glsurfaceview pauseresume tests to ctsnnthis change adds two new tests that repeatedly call the onpause andnonresume methods of a glsurfaceview object one of the tests has a delaynbetween the pauseresume and runs fewer iterations while the other test has nondelay and runs more iterationsnnthese tests simply verify that the system is able to perform multiplenpauseresume sequences without crashingnnbug
9045,add new sensor types for handling gyro data and device orientation more efficientlynid
9046,fix npe when a library does not have a libs foldernid
9047,add new sensor types for handling gyro data and device orientationnmore efficientlynid
9048,add another delayed check to websettingstestnnbug  some more flakiness with another delayed checknid
9049,voicedialer application killed when rotating portrait to landscape has been fixednid
9050,wait properly in cachemanagertesttestcachefilennbug  test properly waited for the cache to be cleared but it  to check the cache after loading the url which is an asynchronousnoperationnid
9051,added launcher for soundrecorder applicationnid
9052,net wireless  add getpower supportnnnedoffby dmitry shmidt
9053,adt  let groovy rules access a public api of the rulesenginennthis is done by injecting a property in the groovy rule instancenwith a new interface the iclientrulesengine the client callbackncurrently has  useful methods debugprintf which has been movednout of inode and loadrule this last one is the key here itnallows one rule to request another one to be loaded and get itsnobjectnid
9054,retouch during the update processnn retouch data is stored alongside libraries in systemlibretouchn compressed retouch filesn use time and devrandom to decide on offset for randomizationn shift libraries down negative offset shifting up collides withn linker at  required a fix for a weird filesystem issue on sw update on then phone files  seem to read properly on the first open a closen and reopen seems to be needed sometimesnid
9055,demo commitnid
9056,library aslr codenn retouch data is generated as part of the make processn added new edify functions for retouching and undoing retouchn extensions to ota script to supply retouch file lists into updaterscriptn compressed retouch files using time to decide onn location of libraries  bits of entropy  offset windown we make sure to print a warning message if unhandled relocaions ever appearn fixed the retouch make scripts retouch iff apriorisoslim have been runn do not retouch for prebuilts since we  retouch them unless they aren locally prelinked firstnid
9057,add new sensor types for handling gyro data and device orientation more efficientlynid
9058,add new sensor types for handling gyro data and device orientationnmore efficientlynid
9059,run pngcrush brute rem alla over all png files in frameworksbasecoreresnnthis reduces  bytes in  png files to  bytes which is anreduction of  bytes or   bytes in  headersn  bytes in  idat chunksn  bytes in  iend chunksn  bytes in  ihdr chunksn  bytes in  plte chunksn  bytes in  bkgd chunksn  bytes in  chrm chunksn  bytes in  gama chunksn  bytes in  iccp chunksn  bytes in  itxt chunksn  bytes in  mkbf chunksn  bytes in  mkbs chunksn  bytes in  mkbt chunksn  bytes in  mkts chunksn  bytes in  phys chunksn  bytes in  prvw chunksn  bytes in  sbit chunksn  bytes in  srgb chunksn  bytes in  text chunksn  bytes in  time chunksnn  bytes in  headers and chunksnnaftern  bytes in  headersn  bytes in  idat chunksn  bytes in  iend chunksn  bytes in  ihdr chunksn  bytes in  plte chunksnn  bytes in  headers and chunksnid
9060,arm tegra move legacyirqh to includemachnid  benoit gobi
9061,usb host add ehci driver for nvidia tegra socsnid  benoit gobi
9062,second submission of working implementation of retouch during thenupdate process moved the original code to mmasternn retouch data is stored alongside libraries in systemlibretouchn compressed retouch filesn use time and devrandom to decide on offset for randomizationn shift libraries down negative offset shifting up collides withn linker at  required a fix for a weird filesystem issue on sw update on then phone files  seem to read properly on the first open a closen and reopen seems to be needed sometimesn
9063,usb host ehcihcd add controllerresetsphy quirknnonly reset the controller when doing so  also reset the phy tegra quirknid  gary k
9064,second submittsion of library aslr code moved to mmaster this timennsecond pass at aslr for androidnn retouch data is generated as part of the make processn added new edify functions for retouching and undoing retouchn extensions to ota script to supply retouch file lists into updaterscriptn compressed retouch files using time to decide onn location of libraries  bits of entropy  offset windown we make sure to print a warning message if unhandled relocaions ever appearn fixed the retouch make scripts retouch iff apriorisoslim have been runn do not retouch for prebuilts since we  retouch them unless they aren locally prelinked firstnid
9065,fix issue  froyo rtl regressionnid
9066,prevent browser becoming unresponsive when surfing to a url with many escaped charactersnnsurfing to a webpage with many characters in the url will hang the browser for several minutesnto reproducenstring url  intent  new intentintentactionview uriparseurlnintentaddcategoryintentcategorybrowsablenstartactivityintentnnthe raw url is used to match previously visited urls in the history database with the sql like operatornthe like operator does however treat signs as wildcards and an exhaustive and unnecessary search is madenthe fix uses the escape functionality of like to treat the signs in the url as nonwildcardsnas underscore is treated as also treated as a wildcard it is escaped as wellnid
9067,add a new api on drm framework for streamingnnin case of drm streaming decrypt session can start just afternreceiving the header and it  need to wait for the entirencontent however current api of drm framework only accepts filenhandle or uri with this new api drm session can startnwithout waiting for the entire contentns are made by semc and sonynid
9068,there is a wrong faketouch feature defion in xmlnnthe feature androdhardwarefaketouchmultitouch is not definednin androidcontentpmpackagemanager so it  exist innthese defion files it causes the failure of cts systemfeaturetestnid
9069,mask edge interrupt when system bootingnnthis is to avoid the interrupt lost for goldfish event deviceninterrupt is lost if an interrupt is injected during system bootingn and corresponding driver is not setup still as current goldfishnevent device didnid  jiang yunhong
9070,fix  dependencies in the feature declarationnid
9071,disable setderivedtrue on linked library source foldersnnit turns out  a bad idea as the user will get a warningnwhen editing the files in the linked folder eclipse documentationnsays that team plugins should handle the linked folder and notnadd them to the repositorynid
9072,test noopnid
9073,bionic headers align socketh with the latest kernelnnalign the bionic socketh header with the latest  kernelnid  dan murphi
9074,fix typo in kernelcpusetcnncpusetc contains a reference to task where it should bentsk this fixes a build error while using  possibly others in   ed boraa
9075,monkey changes to release lock before reporting anr and meminfonnreport anr dumpsys after releasing lock on monkeythisnthis ensures the availability of the lock to activity  dumpsys while holding the lock on this causes a cyclicndeadlock when twoanrs are reported one after the  activitycontroller is registered to activitymanagerservicenfor handling anrthe first anr caused by either service timeout ornbroadcast timeout is reported byactivitymanagerservice to  via binder meanwhile the lock onnactivitymanagerservice is held by servicetimeout or broadcasttimeoutnnappnotresponding corresponding to first anr reports procrank andnacquires a lock onmonkeythis and sets few bool variables likenmrequestanrtraces and mrequestdumpsysmeminfoand returns the controlnto  servicebroadcast timeoutnvm executing monkey process switches the control to main monkeynthread and it acquires thelock on monkeythis and proceeds to reportnanr tracesnnmeanwhile a second anr occurs and activity manager service  appnotresponding via binder appnotrespondingnreports the procrank and waits to acquire the lock on monkeythisnwhich is being held by  main threadbusy reporting first anrnthis results in a blocking wait for  corresponding to second anrnnmeanwhile the  main thread holding lock on monkeythisntries to report the meminfo for first anr invokesnreportdumpsysmeminfo which in turn causes the android runtime tonlaunch dumpsys process the dumpsys process queries service managernto get a reference to meminfo service and invoke dump on the samenthe meminfo service is created by  the dump method tries to acquire a lock onnactivitymanagerservice which is held by  awaiting the response fromnactivitycontroller for the second anrnnthis cyclic deadlock continues for a minute after which watchdognthread of systemserver kills systemserver as it  got thenresponse from  monitor the monitornof activitymanagerservice too tries to acquire lock on this and isninvoked once in every minutenndeadlocknnnactivitymanager  activitycontroller  monkey main   activitymanagernid
9076,staging android lowmemorykiller remove bitrotted codepathnnnow that  murdersynchronous this code path will never bencalled and if it does it  tell us anything useful othernthan we killed a task that was already being killed by somebodynelse but  gotten  signal yetnnnedoffby san mehat
9077,specify content length in ctstestservernnbug   send buffering updates if it  know thenduration of the fileso specify a content length header tonappease it this fixes mediaplayertesttestplaystream which wasnblocking on waiting for a buffering updatenid
9078,revert arm sholesdefconfig enable configprofilingnnthis reverts commit
9079,sched add a generic notifier when a task struct is about to be freednnthis patch adds a notifier which can be used by subsystems that maynbe interested in when a task has completely died and is about tonhave  last resource freednn the android lowmemory killer uses this to determine when a tasknit has killed has finally given up its goodsnnnedoffby san mehat
9080,device option sometimes ignored on start commandnwhen used with test optionnnthe value fetched from the option was overridden fromna value retrieved from a previous session this changenlets the device option have the final saynid
9081,staging android lowmemorykiller fix taskstruct leaknnas it turns out the configprofiling interfaces leak antask struct if the notifier chain returns notifyok dohnnthis patch reworks lowmemkiller to use the new generic tasknfree notifier chainnnnedoffby san mehat
9082,add new sensor types for handling gyro data and device orientation more efficientlynid
9083,disable preview after capturennif the preview is allowed to run continuously anpreview frame can be delivered using the previous parametersnnnedoffby lucifer liu  chris dearman
9084,fix problem with intent being found as hiddennnon some builds even with identical source trees the buildncould fail reporting that intent was a hidden type howevernintent is not hidden and the error was wrongnnthe problem lies in the java system somewhere in that thenindexof method was returning an index beyond the end of thenstring the resolution here is simply to copy the string tona new string and search that this resolution proved to benstable and reliable on gingerbread and while it occurs muchnless frequently on ice cream sandwich it has still beennspotted a few timesnid
9085,arm configs msm enable configprofilingnnnedoffby paul eastham
9086,shoud specify the resource class instance as an argument of the methodnnewdrawable and change the name from  to  changes for
9087,fix issue  froyo rtl regressionnid
9088,expanded comments for added string resourcesnid
9089,add new sensor types for handling gyro data and device orientationnmore efficientlynid
9090,arm msm mahimahi expand available memory by   bank  by  moved gpu mem and camera pmemninto unused areas of smi expanded memory bank in   by  and highmem in  bank  by  thisnfrees up a significant chunk of memory on mahimahinnnedoffby michael huang
9091,adt  add   submenu to  context menunid
9092,do not merge adjust ninepatchdrawabletesttestconstructorsnnthis test was failing due to a known bug which has been fixed in next platformnreleasenid
9093,revert expanded comments for added string resourcesnnthis reverts commit  to commit amendnid
9094,fix the problem that the wrong message is shown if this activty is recreatednafter the uninstallation is donenid
9095,do not merge speculative fix for intermittent cts ui test failuresnnui related tests fail if the keyguard is currently displayednpreviously the cts harness used a separate util app which would disable thenkeyguard upon receiving a broadcastnnhowever if the util  process is killed by the system the keyguard isnimmediately displayed its not known for sure but this could explain thenintermittent ui test failuresnnthis commit adds logic to disable the keyguard in the cts test runner itselfnnbug
9096,bt server sockets should not use high securitynnsockets with authentication and encryption requirement should not usenlmsecure flag which indicates high security reserved for sap onlynid  christian bejram
9097,fix memory leak when repeatedly playing a video filennwhen a video file is played a reference to a movieview is used in anhashmap as key when stopped playing the value in the hashmap is setnto null the key is never removed from the hashmap and the movieviewnnever removed by the gc now the entire instance in the hashmap isnremoved enabeling the gc to clean not used movieviewsnid  christian bejram
9098,make the default skin a bit more dynamic based on the platformnid
9099,move valueresourceparser into a better packagenid
9100,fastboot set the language local stringnnset the language local string to  english us enus such thatnfastboot will successfully read the usb descriptor serial number stringnthe usbdevfs ioctl fails when the windex is not ialized with thenlocal for the unicode of the usb descriptor string usbdevfs is annobsolete interface and fastboot probably needs a rewrite to use libusbnlike what is in adbnid  mark d horn
9101,adt  link  context menu to active  menunid
9102,remove unused variable and associated importnid
9103,added final modifiers to variables to increase performance slightlynid
9104,enable eappwd support in wpasupplicantnneappwd rfc  is an eap method that uses a shared password for authentication it has thensimplicity of configuring  but comes with the strong authentication of   partha n
9105,adt  drag from outline viewnnthe drag source listener delegates the handling to the canvasnd the  to no longer listen to parts activationsninstead  one instance of  per instance ofnthe graphicaleditorpart and the link is provided in the constructorndirectlynid
9106,arm update tegradefconfignnadd machventana iovmm fiqdebugger ashmem binder   and other miscellaneous related configsnndisable debugllnid  gary k
9107,arm tegra harmonyventana register android usb devicenid  gary k
9108,fix the layoutlib paintsetpaint methodnnit would change the text rendering info but not recomputenthe java font objects the effect is a broken font renderingnin the edittext which use this method to copy some paintnobject before using the copy for the actual drawingnid
9109,fixed infe loop in qemuaiowait affecting savevmnnsolved by porting a check on aio operations from qemu mainlinenin mainline commit
9110,permit mac addresses without colonsnnbug
9111,adt  delegate drop events from outline to canvasnid
9112,fix setlocalerelated crashnnthe android setlocale returns null which was not handled properlynby the standard library code add a simple test the check fornthis conditionnnbionic will fix this problem keep this patch local innorder to be able to target previousexisting releases of thenplatformid
9113,translation error for close in esrusnnthe tanslation of the zoom choice close is wrong itnmeans close as in closing a door not close as in nearnsomethingnnchanging translation to mean close to somethingnid
9114,merge fix in sdksourcesnnfor user addons the counter used to save the urls was starting at onenwhile the counter used to load them was starting at zeronnnow they all start at zeronid
9115,the forward translation is wrong in esrusnnthe american spanish translation of the forward buttonnis wrong the translation means forward as in forwardingnan email not forward as in go one step forwardnnchanging translation to the same as in spanish version whichnmeans forward like in nextnid
9116,fix in sdksourcesnnfor user addons the counter used to save the urls was starting at onenwhile the counter used to load them was starting at zeronnnow they all start at zeronid
9117,crypto tegraaes perf remove unnecessary polling and memsetnid  varun wadekar
9118,adjust hint feedback locationnnwhen you select items in the relative layout the layout attachmentsnare displayed below the canvasnnthis changeset tweaks the positioning of these hints they arendisplayed to the right of the window instead of below it if thencanvas is taller than it is widenid
9119,use proper variable typingnid
9120,check battery level when doing master clearnnif phone is resetting and battery is drained the phone might end up innan unsupported state if the battery level is low a dialog will alertnthe user and master clear will not proceed when user presses thendialog button master clear will revert to its ial ui statennfurther changes include that the onbackpressed method is implementednto show ial ui state if final state is active this removes thenflashing of ial ui state when pressing back in final stagen
9121,fix extract as include refactoring for layout attributesnnthis changeset fixes several issues with the extract as  transfer all the layout attributes to the includen itself generally the layout attributes are particular to then inclusion context they are not shared among the different uses ofn the include for example in  the include may be in an linear layout and have a layout weight and in another layout then included may need relative layout  generate a new id for the included tag  for any layout references to the old extracted id use the includen tag id  generate the new layout in the same folder as the source of then extract operation since it may depend on properties only definedn therenid
9122,adding processing of special ussd codesnninputing an uncommon ussd string with in the middile  could not be processed correctly because itnis identified as an ss codennaccording to the ts   the phone should not forbid thenstring but rather let the network handle itnid
9123,test startusingnetworkfeature typemobilehiprinnbug
9124,telephony registerunregister phones with callmanagernnunregister the outgoing phone and register the new one when technology changenis detected otherwise callmanager keeps trying to use an already dead phonenwhich causes a crashnid
9125,add sigsetjmpsnnit adds two functions sigsetjmp and siglongjmpnthat fix compiling errors in bluetooth and mkshnncopy directly from sigsetjmps of openbsdnid
9126,vold fix several formatvol issuesnnif there is a partition mounted before just format that partitionnotherwise only ialize mbr in these casesnn no partition table foundn there are multiple partitions but none is selectednnbesides if ialize mbr failed try to format the whole disknid
9127,video tegra fix hdmi audio programmingnnthis was causing the onkyo  to drop out audionid  erik gil
9128,vold fix a race condition between vold and mountservicennthe details of the race condition is described in th
9129,vold fix always pending issue if partition table is not continuousnnthe partition table may not be continuous saynn device boot start end blocks id     c        linuxnnin this case the volume will always be pendingnnso instead of relying on mpendingpartmap just count how manynpartitions we expectednnbesides if block uevent missing  set mdisknumpart
9130,libdiskconfig add missing localmoduletagsnid
9131,arm  add thermal support to pandannadd ondie temp support enabling these two flags willnenable very basic soc thermal handlingnnthe ondie temp sensor will call cpufreq to throttle andnunthrottle the cpu frequency based on the temperature recievednfrom the ondie sensornid  dan murphi
9132,hdmi detect hdmi connection state at probe timenncheck if hdmi is connected at probe time because we willnnot get an hpd interrupt in this casenid  dan murphi
9133,asoc audio add parameter to force a headset statennfor devices that have dedicated audio paths with no detectionnthe switch state can be forced to the proper state based on anboard file entrynnthis will allow the default state to be connectednid  dan murphi
9134,alsa soc  add switch based headset detection supportnnandroid relies on a switch class driver to report ueventnfor headset status this adds support for basic headset statusnreporting to the  codec driver the switch is registerednonly if the codec private data indicates it should be usednthis allows boards that  use jack detection mechanism tonregister the switch for headset detection elsewherenid  chris kelli
9135,nedoffby garret pick  cast the constants to statust to try to keep the enum size at  bytesnn this is test code to show the problemnn logesizeofunknownerror d sizeofunknownerrorn statust s  unknownerrorn if s  unknownerrorn loges  unknownerrorn elsen loges  unknownerrornn without this patch this printsn sizeofunknownerror  s  unknownerrornn with this patch this printsn sizeofunknownerror  s  unknownerrornid
9136,revert hack dsscomp remove uv check in grallocqueuennthis reverts commit  this hack as it is no longer needed with updated hardwarencomposer halnid  dan murphi
9137,fastboot add vendor intel into support listnntest of upload to the new google gerrit servernnthis patch adds vendor intel into fastboot it is needed bynkernel change on usb vendor idnid  wu hao  mark d horn
9138,fix build by updating adttest to the new layoutlognid
9139,fix dividers for linearlayout tabwidgetnnchildgettopchildgetleft already contains offset for divider heightwidthnso we need to subtract it otherwise divider will be drawn behind the childnid  vladimir baryshnikov
9140,arm  panda force headset state to connectednnpanda boards do not have the headset detection pinnconnected so therefore the correct headset state is nevernsetnnenabling this state will notify user space that an audio devicenis connectednid  dan murphi
9141,packagesproviderstelephonyprovider ip version supportnnadd support for creating carriers table in telephonydb for profilesnthat may have a bearertype fieldnnthe bearertype column can have three values ip   there is no value in the column  support is assumednid
9142,remove some actions before milestonennthe show include facility  work properly until we backportnlayoutlib to all the  sdk layoutlibs the play animation  yet productizednid
9143,ril add support for  release  networks  setupdatacall accepts ip version parameter  deprecate rilrequestlastdatacallfailcause as it cann causes problems when several pdn contexts are active failure reasonn should be returned when setupdatacall returnsnn add failure causes for release  networksnid
9144,settings remove gsmdataconnection in favor of mmdataconnectionnid
9145,various layout fixesnnfirst fix absolute layout such that it properly handles both screennscaling as well as various screen resolution densities when itncomputes the dip positionsnnsecond pass the bounds surrounding the mouse position when a drag isniated to the view rules this is used by both absolute layout andnrelative layout to properly handle dragging bounds in particular innrelative layout this is used to match a border not only when the mousencursor gets near the edge but when the bound edges also get near thenedge in absolute layout this is used to show a correct boundnrectangle that has the proper offset from the original drag positionnwhich may not be the center which until now it was assumingnnthird in relativelayout when there are no children offer a leftnalignment regardless of where you are within the rectangle this isnsimilar to how linearlayout worksnnin addition two internal changesn factor the various relativelayout string constants into then layoutconstants class this had the nice side effect of revealing an typo where we were referencing a nonexisting value constants ftwn make the rulesengine log the exceptions not just the errorn messages thrown by iviewrule calls that way the full stack tracen is available in the error viewer including line numbers etcnid
9146,reconcile  into masternid
9147,vold handle disk with no partition correctlynncurrently we can mountshare disk with  partition but when the disk is removednwe  unmountunshare it as cleanup work is done on partition removalnneed to call partition like cleanup work if disk has no partitionnid  ethan
9148,fix debuggerd native crash dumpn   in aosp introduced walkingnboth the symbol table and dynamic symbol table the problemnis that it was dereferencing values whether or not the two tablesnwere both present which could wind up reading from invalid memorynthe read from a bad address would cause debuggerd itself to crashnwhich  handlednid
9149,implement core display deriving it from android displaynncore display is a framebuffer client that receives framebuffer updates and dispatchesnthem to the ui attached to the corenid
9150,handle browserframe is null in   method contentdraw  handle the casenwhen browserframe mbrowserframe is null if browserframenis null and method contentdraw is executed a nullpointerexceptionnwill be thrown causing the appplicationto crashnnthis patch checks browserframe against null before  usednin order to avoid a crashnnthe problem has not been able to reproduce but it has happenednsince found by a live user the call stack indicates that a timernhas fired in jwebcorejavabridge which has triggered a contentdrawnin the meantime webviewcore has been destroyed which  browserframe to nullnid
9151,use mydir in a consistent way as othersnid
9152,increase ctsapp test stabilitynnbug  ctsapp tests start launchpadactivity which in turn callsnstartactivityforresult and expects onactivityresult to setresultnto success other tests  use startactivityforresult and arencoded to depend on ondestroy to send back a result which defaultsnto cancelled when activitymanagerservice decides to change thenconfiguration for some reason ondestroy terminates and neverngets back the result it ends up setting cancelled and causesnthe tests to fail thus fix launchpadactivity to ignorenconfiguration changes that activitymanagerservice to preventnit from being destroyednid
9153,viewanimatorsetanimatefirstview  work for outanimationn
9154,vm interconnectionnid
9155,new ifthenelse custom ant rules to simplify some ant rules logicnnalso cleaned up some attribute of our other custom tasks to conformnto the standard convention all lower case all those were new in
9156,fix possible infe loop when optimizing a malformed dex file with multiple defions of the same classnnthe dalvik verifier  catch the case when a dex file has multiplendefions for the same class later during optimization this canncause an infe loop when optimizemethod is called on the samenmethod multiple timesnnthis fix adds a new classseen flag that is only used during verificationnto mark classes that have been seen by the loadallclasses method innorder to detect when multiple class defions are presentnnsee issu
9157,arm do not call flushcacheuserrange with mmapsem heldnnwe  be holding the mmapsem while calling flushcacheuserrangenbecause the flush can fault if we fault on a user address thenpage fault handler will try to take mmapsem again since both placesnacquire the read lock most of the time it succeeds however if anothernthread tries to acquire the write lock on the mmapsem eg mmap innbetween the call to flushcacheuserrange and the fault the downreadnin dopagefault will deadlocknnalso since we really  be holding the mmapsem while callingnflushcacheuserrange and vma is actually unused by the flush itselfnget rid of vma as an argumentnid  dima zavin
9158,get rid of floating point operationsnnthis was only needed for the optional  builtinnand the shell  ever need floating pointnbesides it will work better without in thumb modenid
9159,replace arm with proper variable for cpuabinid
9160,locationmanagerservice fix bug removing proximity alertsnnalerts were not being removed from the mproximitiesentered arraynnnedoffby mike lockwood
9161,small mask calculation optimizationnnget rid of loop to calculate bitmask where  will sufficenid
9162,adb add  usb vendor idnnnedoffby mike lockwood
9163,userland support for vm interconnectionnid
9164,add at keyboard mappings for a back and menu keynnback  escnmenu
9165,call registerlocalizedcollators with the current localennmake jni function for setlocale call registerlocalizedcollatorsnwith the current locale not previous one every time it is possiblennthis is a partial cherrypick of
9166,add screenshot commandnnadd ability to take a screenshot of the currently displayed framebuffernon a device using the command line adb command previously thisnfunctionality was limited to ddms which hindered the ability to scriptntaking screenshotsnnusage is adb screenshot
9167,staging android lowmemkiller substantially reduce overhead during reclaimnnthis patch optimizes lowmemkiller to not do any work when it has an outstandingnkillrequest this greatly reduces the pressure on the tasklist locknimproving interactivity as well as improving the vmscan performancenwhen under heavy memory pressure by up to  in testsnnnote for this enhancement to work you need configprofilingnnnedoffby san mehat
9168,net wireless  unregister bus in case of timeout failurennnedoffby dmitry shmidt
9169,arm sholesdefconfig enable configprofilingnid  rebecca schultz zavin
9170,net pppdeflate switch zdecompalloc to vmalloced decompress buffersnnon systems with high memory pressure allocating an order  contiguous regionnfor decompression can fail at run time instead use virtually contigous memorynallocated via vmallocnid  rebecca schultz zavin
9171,for reasons unknown it seems that file file is defined in this headernit does not appear to be used anywhere but causes duplicate symbolsnif applications happen to include the same header files in two placesn
9172,fix instrumentationtest stability issuesnnbug  sporadic orientation changes by activitymanagerservice restartedninstrumentationtestactivity and therefore lost the mouse and keynevents that the test checks for thus ignore these orientationnchanges in instrumentationtestactivitynid
9173,arm omap pm hack disable watchdog in  suspendnndisable hardware watchgod in the cpu suspend code right before wfininstead of driver suspend hooks this allows us to catch any lockups innthe suspend resume path that are caused by driver suspend resume hooksnnhard lockups turn into reboot in production so users do not have to pullntheir batterynid  mike chan
9174,add attempts to gc before failing external allocationsnnwe were experience the same symptoms as described in  here is a patch that solves the problems for us the discussion on the bug mentionsnthat such a solution would not work due to the lack of a compacting gc but this turnsnout not to be the case for us the reason is that collecting a few small bitmap objectsnreally makes a huge difference for the external allocationsnncalling the gc prior failing allocations is really the normal way for the vmnto act so and managing external allocations should not be differentn
9175,move all ant rules under sdkfilesantnid
9176,arm  mahimahi add board support for  on cdma revsnnnedoffby iliyan malchev
9177,update sdkatree with new ant rules locationnid
9178,arm  mahimahi driver for summit micro  switch chargernnnedoffby haley teng  iliyan malchev
9179,add contentdescription attributes for some views which are used for accessibilitynid
9180,arm  mahimahi driver for  speaker amplifiernnnedoffby haley teng  iliyan malchev
9181,add support for signing in the multiapk ant buildnid
9182,arm  mahimahi add macro iscdmaversionnnnedoffby iliyan malchev
9183,arm msm merge  into  iliyan malchev
9184,build move dumpvarmk include after selectmk includennbecause the dumpvar target was included early in envsetupmk it wasnnot possible to use it to dump variables that were defined by makefilesnincluded later like the toolchain variables in comboselectmknnmove dumpvarmk to after selectmk and javacmk so that shell functionsncan be created using the toolchain build variablesnid  gary k
9185,separate audio stack and sdlnid
9186,fix the ant test rules  were created from the wrong  filenid
9187,mmc sd remove debugging printknnnedoffby dima zavin
9188,sort the ime list before showing to usernnthe original list is unsorted so the order is random to usersnfor users who installed two or more chinese imes they may seenchinese ime english ime chinese ime  odd to usersn
9189,arm msm troutsapphire move cpldbase outside the vmalloc rangennsapphirecpldbase and troutcpldbase were inside the range of memorynallocated by the kernel for virtual mappings causing the io mappingnto be overwritten if the kernel allocated the spacennto reproduce allocate then deallocate all virtual kernel memorynthe mapping will be removed and the kernel will crash when any ofnthe io memory is accessed eg for changing phone brightnessnid  christopher lai
9190,add support for  virtualbox emulationnnto make a virtualbox install imagen make installerimgn
9191,first commit ignore java files they are there just so it buildsnid
9192,disk installer boot and install from devsdbnnthe grub menu for android now includes a specific entry for installingnfrom devsdb for use with virtualboxnid
9193,realign use of signedunsignedlong use offt and realign format parametersn
9194,fix displayed message in some ant targetsnnouput properties were renamed from package to filenid
9195,moved dependency on androiduisetwindowscale to uicoreprotocolhnnalso cleaned up dependency on androidbaseport variablenid
9196,target to generate virtualbox imagennthe kernel command line can be different when using the disk installernthis allows the console to go to the screen for the disk installer whilenstill going to the serial port for normal bootsnnremove a check for vboxmange being installednnadds some somewhat more clear instructions on completion or failurenid
9197,rewrote nsformatttlnnok so you the reviewer are now sitting there going why would anyone spendnpart of their life to rewrite this routine heck how would anyone even knownit existed and might benefit from being rewrittennnit volunteered itself thuslynntarget thumb c libccommon  bioniclibcnetbsdnamesernsttlcnbioniclibcnetbsdnamesernsttlc in function  warning suggest braces around empty body in an   warning suggest braces around empty body in an   warning suggest braces around empty body in an   warning suggest braces around empty body in an   warning suggest braces around empty body in an  statementntarget thumb c libccommon  bioniclibcnetbsdnamesernsnetintcnnthe compiler was confused by the code and as i investigated the  my own confusion over the logic of the code grew and grew until thencode begged me to rewrite it i must admit  never in my life seen codenthat loaded upper case letters into a string and then went back and loopednover that string to run tolower on it i mean why not just load in thenlowercase values instead i shudder to think how much  has been releasedninto the atmosphere just over that bit of codingnnand of course since i was doing something silly and knew you the reviewer wouldndefely think i was doing something silly i also wrote some test code tonmake sure i  written a broken replacement for code that was somewhatnsilly to me but was otherwise functionalnnthere is one difference between my replacement code and the original thenoriginal code would use the t macro to check at each individual portion of thenstring as it built it so if it were trying to build  and ran out of roomnin the destination buffer after  you would get  in the destination buffernnmy code builds the whole string and then checks that there is room for it innthe destination buffer i checked the callers and when  is returned forninsufficient buffer space they all give up anyway eg no one used the partialnstring value for some bizzare purposennmy eye also glanced down to nsparsettl and i found a few things that beggednme to tweak them as well i  see any purpose to the usascii andnprintable checks all values are  handled without those checks i  see why one needed to force lowercase when all one had to do was addnthe lowercase values to the perfectly good switch statement already presentnnthere are other issues with that parser that called to me to fix them but infigured i was already pushing my luck with you the reviewer to get you tonapprove this much of a rewrite over a confused compiler nnhere is the test code i wrote for nsformatttlnnint main int argc const char argv nn char           int res     printf res d buf sn res  res     printf res d buf sn res  res      printf res d buf sn res  res       printf res d buf sn res  res        printf res d buf sn res  res          printf res d buf sn res  res          printf res d buf sn res  res          printf res d buf sn res  res          printf res d buf sn res  res         printf res d buf sn res  res  nsformatttl    printf res d buf sn res  res  nsformatttl    printf res d buf sn res  you can see i checked to make sure the trailing  was getting into thendestination buffer by preloading the buffer with  for the first testnni believe i have  code coverage and also made sure to check the corner casesnon rejecting buffer size including the case of the trailing  being properly rejected as wellnnand i checked the worst case extremes of feeding in  and  i also figurednout a value to feed in that would produce a maximum length string to makensure i had properly sized the temporary buffernnresults from the testnnres  buf   buf   buf   buf   buf   buf   buf   buf   buf   buf   buf   buf  you will note that while the compiler was confused with the originalncode it really did deserve a rewrite this new code may not shave secondsnoff the boot time but it will reduce stack size and save some cpu cyclesnnthank you for your timen
9198,add the config file for virtualbox kernelnid
9199,add at keyboard mappings for a back and menu keynnback  escnmenu
9200,fix buildnnswitch to using public apis instead of private onesnid
9201,reduce compiler anxietynnwarning from compilernntarget arm c libm   in function  warning suggest parentheses around arithmetic in operand of  arm c libm
9202,fix a leak in renderthemeandroidnnthe code was changed to mimic the other ports and use a static instance insteadnof leaking a new object each time the method was callednid
9203,sometimes the compiler is very right found bug in bessel routines for floatnnoriginal compiler errornntarget arm c libm   in function  warning comparison between signed and unsigned integer  in function  warning comparison between signed and unsigned integer expressionsntarget arm c libm   subtle but ix is masked with  so it can never ever have a valuengreater than  so i switched to using the unmasked hx and added ancast as a reward to the compiler for being rightnni checked the original routines that  was ported from in  andnthe   use  so this issue  exist therennlet that be a warning to those that just slap on casts to shut up the compilernsometimes  sniffed out a bug for you nnsimilar fixes in the other functionsnid
9204,prebuilt audio library with no sdl dependencynid
9205,overlay added support for cropping and committing updatesnnadded  apis to overlaydatadevicet to support croppingnadded the api commitupdates to overlaycontroldevicet this api must be called after a setposition or setparameter call for the changes to takeneffect in this way we avoid multiple stream onoff calls and transition is more smoothnnnedoffby anu sundararajan
9206,fix webviewtesttestaccesscertificate assertionnnbug  was being called twice once with a null and then withna nonnull certificate the first call though set thenmhascalledsetcertificate and then this caused the later notnullnassertion to fail get rid of those methods and just directlynuse setcertificate and getcertificate to check that the certificatenis set properlynid
9207,use a property to enable the  lan port on the emulatornid
9208,reversed order of const and static to hush warning from compilern
9209,fix build disable opencore by defaultnnfixes  is not meant to be a permanent fix but since everyone exceptna handful of people need this  easier to set it for everyonenand have that handful of people unset is locally than to forceneveryone to make a local tweakn
9210,arm tegra fuse add function to read chip unique idnid  gary k
9211,use  for qemu and sdkn
9212,dspbridge  bother trying to flush a null ptr  log spammy and holds the mmapsemnid  rebecca schultz zavin
9213,scheduler cpuacct enable platform callbacks for cpuacct power trackingnnplatform must register cpu power function that return power innmilliwatt secondsnid  mike chan
9214,continuation of fixes begun in patch to  my bad for breaking up the patchn
9215,scheduler cpuacct enable platform hooks to track cpuusage for cpu frequenciesnnintroduce new platform callback hooks for cpuacct for tracking cpu frequenciesnnnot all platforms architectures have a set cpufreqtable definednfor cpu transition speeds in order to track time spent in at variousncpu frequencies we enable platform callbacks from cpuacct for this accountingnnarchitectures that support overclock boosting or  have predefinednfrequency tables can implement their own bucketing system that makes sensengiven their cpufreq scaling abilitiesnnnew filencpuacctcpufreq reports the cpu time in nanoseconds spent at each cpunfrequencynid  mike chan
9216,sound oss  fix cleanup on errornid
9217,add kernel header file  header file is needed to add route to an  host from user spacenid
9218,arm tegra clock remove cpu clock from clk setup tablennthe cpu clock cannot be changed during the clock because itnmay require adjusting a regulator that is not set up yet leavenit how the bootloader configured it and let the cpufreq drivernhandle it laternid  colin cross
9219,adapt to new location of libcorenid
9220,cpufeaturesh is only available for armnid
9221,long modifier was on the wrong argumentn
9222,adapt to new location of libcorenid
9223,fix sim buildnid
9224,arm select kerneldebuggercore when fiqdebugger enablednnfiqdebugger calls kerneldebugger which is only present whennkerneldebuggercore is also selectednid  gary k
9225,adapt to new location of libcorenid
9226,overlay added support for croppingnnoverlayh overlaycppnadded  new apis to support croppingnnlayerbuffercppncalled commitupdates after setting the postion and rotation so that the updates can take effectnnnedoffby anu sundararajan
9227,adapt to new location of libcorenid
9228,added support for wap messages of type applicationvndwapemnwbxmlnnthis allows for email notification messages to be acceptednnthe email project has also been changed to accept and processnthe emn messagennsee   telephonyjavacomandroidinternaltelephonywappushoversmsjavantmodified telephonyjavacomandroidinternaltelephonywsptypedecoderjavanntmodified telephonyjavacomandroidinternaltelephonywappushoversmsjavantmodified telephonyjavacomandroidinternaltelephonywsptypedecoderjavan
9229,mmc subtract boot sectors from disk size for emmc  devicesnnthe csd sector count reported by emmc  cards includes the bootnpartition size subtract this from the size reported to the disknsince the boot partition is inaccessiblenid  gary k
9230,fix a potential leak in javautiltimernnin  run method the  variable is used while findingntasks to run because it is unialized for a portion of the loopnit will still contain an invisible reference to its previous valuenpinning it in memory if the  queue becomes empty it will thennattempt to wait until either more tasks are added or the timer goes awaynnhowever if the pinned task itself contains a reference to the timer this willnprevent the  finalizer from ever running meaning that this thread willnwait indefely this causes both threads and memory to stack upnnexplicitly setting this variable to null alleviates the problemnnsee  more information on invisible referencesnid
9231,arm omap  change prcm irq warn to printkoncennavoid log spam switch to printkoncenid  mike chan
9232,adapt to new location of libcorenid
9233,arm msm mdp prevent blits scaling down by more than  colin cross
9234,ashmem fix ashmemsetprotmasknid  arve hjønnevåg
9235,attempt to fix intermittent adt test run failuresn the adt test run steps to be more  start the jdt test run listener server side connection before the clientnside this is invokked via the launchaddprocess   fork off a separate thread to run the tests this was alwaysnredundant and inefficient anyway since the androidlaunchcontroller alreadynforks off a thread to perform the launchnnbug
9236,arm msm camera  lens correcionsnnnedoffby iliyan malchev
9237,add missing include statements required to compile at least using  debian squeezen
9238,enable timezone be specified at startupnthis requirement comes from larger carriers on nonus regions demanding the timezone be specified at deployment timenthe nitz being unavailable on many networks outside usasn add a timezone setting that gets into effect when the autotime is turned off at startupn associated currentxml changen set the default timezone value be gmtn databasehelper loads the stringn alarmmanagerservice ialized with the supplied value only when autotime is not setn servicestatetracker uses the supplied value only when autotime is not setn
9239,adt  cutcopydeleteselectall global actionsnnalso provides a linked context menu for the canvasnpaste action is in the menu but will be implemented in a next clnid
9240,arm omap  set iochain wakeup before per goes into retnnprogram io chain wakeup before we setting per domain into retnid  mike chan
9241,make the gsm simulator more realisticnn the phone number of the phone is now built by concatenating  to the console portn convert number in remote call by concatenating  to the portn numbern convert called number to a number starting with  fixed a bug in smsaddresstostr where the length returned isn incorrect is the length of the phone number to convert is oddnid
9242,binder fix memory corruption via page aliasingnnbinderdeferredrelease was not unmapping the page from the buffernbefore freeing it causing memory corruption this only happenednwhen pages had not been freed by binderupdatepagerange whichnproperly unmaps the pagesnnto reproduce create a program which opens mmaps munmaps then closesnthe binder very quickly this should leave a page allocated when thenbinder is released when binderdeferrredrelease is called on thenclose the page will remain mapped to the address in the  but that area may be returned by allocpage with thenmapping to a different physical page intactnnpagepoisoning will greatly increase your chances of noticing anynproblems adding debug to show the addresses of the   and the  on allocation innbindermmap and on free in binderdeferredrelease may help withnverifyingnid  christopher lai
9243,arm omap  read core and per next states before io chainnid  mike chan
9244,add missing include statements required to compile at least using  debian squeezen
9245,checkpoint adding more bluetooth cts testsnnbluetoothadapterenablenbluetoothadapterdisablenbluetoothadaptergetstatenbluetoothadapterisenablednbluetoothadaptergetnamenbluetoothadaptergetaddressnbluetoothadapterlisteningusingrfcommwithservicerecordnbluetoothadaptergetremotedevicenbluetoothadaptergetbondeddevicennnote this test case now takes  seconds to complete because of the bt offonnstress testnid
9246,refactored the proposed glwallpaperservice and glsurfaceview so that they share a common codebase yet remain completely backwardscompatiblenni put the common code for both into eglhelper and left it public so glwallpaperservice can use it in the wallpaper package and so that developers can use it to create glsurfaces in other waysni added one additional public interface which is glrenderer and is shared by glsurfaceview and glwallpaperservice glsurfaceview keeps its renderer but that now extends glrenderer so that any glrenderer can be used in a glsurfaceview and a glwallpaperservice interchangeably which is something i found myself needing when i developed a live wallpaper it opens up the option for a game to include a live wallpaper component that uses the same renderer as the game itselfnni tested this code with my live wallpaper and with my latest game engine no problems occurednnpatchset  moved glwallpaperservice into androidservicewallpapernpatchset  removed a nonfunctional import statement in eglhelper that referenced glwallpaperservicen
9247,fix sim buildnid
9248,add missing include statements required to compile at least using  debian squeezen
9249,add missing include statements required to compile at least using  debian squeezen
9250,porting unsubmitted cupcake debuginstructioncount testsnnremoved some useless lines and fixed some formattingnnsquashed commit of the followingnncommit  phil dubach  fri jul     integrate unsubmitted cupcake change  tcts add test cases for androidosdebuginstructioncountnid
9251,usb android gadget mass storage fix format issue for vista hostnnas part of formating the mass storage device host sends the inquirynscsi command as per the standard the command length for thisncommand should be  bytes whereas the vista host sends  bytesnnwhen the command length of the command is not equal to the standardnlength the device sends a phase error as part of the status phasenwhen the host receives a phase error it reenumerates hence thenerrornnif the command is inquiry and the command length is  bytesntreating this as a good command and not sending the phase errornto the host fixes this issuennnedoffby velempati chiranjeevi  mike lockwood
9252,arm omappm resource prevent possible deadlock when alloc user dynamicallynnprevent possible deadlock when allocating dynamically for a user structnid  mike chan
9253,binder fix memory corruption via page aliasingnnbinderdeferredrelease was not unmapping the page from the buffernbefore freeing it causing memory corruption this only happenednwhen pages had not been freed by binderupdatepagerange whichnproperly unmaps the pagesnnthis only happens on architectures with vipt aliasingnnto reproduce create a program which opens mmaps munmaps then closesnthe binder very quickly this should leave a page allocated when thenbinder is released when binderdeferrredrelease is called on thenclose the page will remain mapped to the address in the  later we may map the same physical page to a differentnvirtual address that has different coloring and this may causenaliasing to occurnnpagepoisoning will greatly increase your chances of noticing anynproblemsnid  christopher lai
9254,enable opencore on master part
9255,enable opencore on master part
9256,adt  document the sdk build process and new cupcake sdk changesn
9257,enable opencore on master part
9258,fix the event interrupt in ioapic modelnnafter switching to ioapic model the goldfish event device is brokennand no input can be sent to emulatornnthe reason is when system ializing ioapic the event  interruptnis enabled by kernel core code because  edege interruptnwhen goldfish event driver is enabled the interrupt is injected rightnafter eventsprobe begin events read to some specific register andnbefore requestirq because the requestirq is not called the kernelnassume the interrupt is spurious interrupt and will masked it outnand the interrupt will never be injectednncurrently there is already a hack in goldfish event device emulation whichninject interrupt to driver after input device is iate with ioapicnsupport we have to postpone the injection to after requestirq this postponenshould be ok because  that time we can say driver is fully readynnthis requires corresponding kernel changes and the patch is set so that it stillnhas backward compatibility for original driver it will inject first interrupt asnbefore while for new driver it injected only after ack from driver that is readynid  jiang yunhong
9259,modify packagemk to make localrequiredmodules worknncurrently the jni library will be installed in systemlibnonly if the localmodulestags  user is defined howevernwhen  not needed by any application it will still beninstalled in the systemlib which is wasting thenstorage space also when the variable localjnisharedlibrariesnis defined the jni library will be included in the apknbut this is another redundant when the application is builtnwith the frameworknnto resolve the issue we apply following  check the localrequiredmodules and put it in then allmodules$ only builtin the jni library when goal is allmodulesn otherwise make the localjnisharedlibraries an localrequiredmodules dependencynid
9260,increase irq number in  emulatornncurrently android emulator support at most  irqs this patchsetnincrease the irq number to  which should be enough for a long timennirq largger than  is now passed through ioapic and local apic the apicndevice model is in the emulator already but only support   irq numbernbecause all interrupt is passed from pic to ioapicnnadding a logic in pic so that if the irq number   is passed tonioapic directly this changes requires several changes in other componentsnfirstly the pc bios currently the pc bios present mp table to covernonly  interrupt increase it to be  also secondly the kernel isnupdated to utilize uniprocessor apic modelnnalso change the ioapic pin number from  to  so that  enough innexpected rangenid  jiang yunhong
9261,linker optimize sysv elf hash functionnnthis change can avoid one iterative operation in inner loopninspired by glibcnid
9262,enable contact image in dialalerting statenid
9263,enable catact image display while dialingalertingnid
9264,revert enable catact image display while dialingalertingnnthis reverts commit
9265,fixed disappearing menu options when switching from landscape to portraitnnthe email client had menu options that appeared to disappear when one menunitem was pressed while the phone was rotated between landscape and portraitnmode menu options and text were actually already there but they werenusing white textnnthe issue is that the alert dialog used by the email client was using recyclednviews when the phone was rotated one textview had the pressed flag setnwhen it went into the recycle bin that textview was then pulled out of thenrecycle bin as a different menu option so the textview that was open innlandscape became save in portrait then the text option that was previouslynset then had its flag cleared since that option was not the one with the pressednflag set because of the recycle change the option that was not selected continuednto print its text as if its pressed flag was set this made option that was usingnwhite text change between portrait and landscape modennthe fix was to clear the focus selected and pressed flags when a view is pullednfrom the recycle bin to be reused the focus selected and pressed flags arenall properties that are manipulated by the listview and its parents abslistviewnadapterview and viewgroup the recyclebin class is an inner class in abslistviewnand is only used by its childrennid
9266,arm tegra harmonyventana register additional devicesnnregister gart pdapower and otg devicesnid  gary k
9267,issue  t browser crash possibly related to invalid ssl certificaten
9268,arm tegra ventana add ial support for ventananid  gary k
9269,arm tegra harmony add  controller wlannid  gary k
9270,arm defconfig sholes switch from cbq  htbnnnedoffby san mehat
9271,arm tegra timer implement schedclocknid  colin cross
9272,improve library linkunlink againnnimproved library list added to the bundle by comparingnthe old and new library list when something changednthis is the only way to ensure that all indirect librariesnare added removednnsince it means we now have a list of added and a listnof removed libraries the link and unlink methods arenmerged into a single updatelink method that does it allnnthis also means that  only one type of actionnbundle so the classfields name have been updated tonreflect the new way  donenid
9273,fix  buildnid  mike lockwood
9274,add gnustack annotation to android codenid
9275,add more console logs during adt test runnnthis is intended to give the user more visibility the exact progress of thentest run and also better notification of failuresnnalso tweak the adt launch action so it reports its terminated when the testnrunner thread is no longer activennrelated bug
9276,ukraine localization artfulbits inc httpwwwartfulbitscomn
9277,ukraine localization artfulbits inc httpwwwartfulbitscomn
9278,ensure that systemetcvoldconf is created in the generic productnthis is necessary to let the emulator mount sd card images properly through the vold mounting daemonn
9279,move netrelated routines from mainc to netandroidcnid
9280,ukraine localization artfulbits inc httpwwwartfulbitscomn
9281,ukraine localization artfulbits inc httpwwwartfulbitscomn
9282,ukraine localization artfulbits inc httpwwwartfulbitscomn
9283,ukraine localization artfulbits inc httpwwwartfulbitscomn
9284,cast the constants to statust to try to keep the enum size at  bytesnnthis is test code to show the problemnn logesizeofunknownerror d sizeofunknownerrorn statust s  unknownerrorn if s  unknownerrorn loges  unknownerrorn elsen loges  unknownerrornnwithout this patch this printsn sizeofunknownerror  s  unknownerrornnwith this patch this printsn sizeofunknownerror  s  unknownerrornid
9285,cast the constants to statust to try to keep the enum size at  bytesnnthis is test code to show the problemnn logesizeofunknownerror d sizeofunknownerrorn statust s  unknownerrorn if s  unknownerrorn loges  unknownerrorn elsen loges  unknownerrornnwithout this patch this printsn sizeofunknownerror  s  unknownerrornnwith this patch this printsn sizeofunknownerror  s  unknownerrornid
9286,add  mouse support in virtualbox default confignnenable  mouse support in vboxdefconfig to allownuse of captured mouse in virtualboxnid  ed boraa
9287,add voldconf for dreamnnnedoffby san mehat
9288,copy voldconf when buildingnnnedoffby san mehat
9289,add batch mode support to goldfish kernelnnwhen running in the emulator environment mmio access has impact on performancenbecause each mmio operation causes a context switch from the kernel virtualizationnmodule to the userlevel qemu processnid  xin xiaohui  zhang xiantao  nakajima jun  jiang yunhong
9290,this is teest please ignorenid
9291,make sqlite use the current localennwhen a new locale was set in settings sqlite was using the wrongold localenid
9292,arm tegra clock remove unused clock opsnnnedoffby colin cross
9293,update build dependencies in adt build scriptnnadd groovy and layoutlib build dependencies and refresh building log messagenid
9294,enable eappwd configuration in wifi settingsnneappwd rfc  is an eap method that uses a shared password for authentication it has thensimplicity of setup as  no certificates but provides strong authenticaiton like   partha n
9295,add  productnnby inheriting from full this will be more selfmaintaining andnautomatically gets a betterconfigured variant eg it has localesna date format etcnid
9296,delete libcore now in its own projectnid
9297,fix setrequestedorientation calls for increased stabilitynnbug  of random failures in dialogtest and instrumentationtest seemednto occur commenting out the setrequestedorientation calls innapplicationtest seemed to remove the problem it seems if the orientationnis not restored properly then froyo will attempt to change thenorientation on subsequent activities causing the test activities tonrestart and making the references to the prior activity nullnncreate a method that check what the current orientation is in order tonswitch to a new orientation and then restore the original orientationnid
9298,should unescapexmlsrc before getpartbynid
9299,fix typo of  end tag in appwidgetsxmlnid
9300,fixes for skia to build for  we are no longer supporting the  architecture see   but instead  we should test on  instead
9301,first step of multiple apk supportnn new export type project to handle exporting a single app representedn by multiple projects for different minsdkversion for instancenn cleanedup the current ant tasks and eclipse builder to notn deal with apksettings anymore  not possible to generaten more than one apk in a single pass the export project willn handle this and call out the normal build system to exportn each variant make older deprecated attribute actuallyn output a warningnn ant rules  now with support for multi apk export lotsn of clean up add new properties to be overriden by then multiapk export task make older one overrideable toonn better handling of older rules older tasks etcn in the setuptask used by the normal buildnn add split by abi to apksettings and use it in then new multi apk exportnn new custom task for multiapk export replacesn setuptask for exporttype projects calls out to then  buildxml after settingoverriding propertiesn this also override the  versioncode with an new composite one made of different valuesn also uses a different buildxml so added a new templaten buildexporttemplatennvery much a work in progress still to donadd other types of apk split createupdate export projectsnexport the build log nnalso we need to refactor the normal build rules to avoidnso much duplicationnid
9302,arm tegra clock handle dvfs missing regulator betternnconvert the clkisdvfs check to only check for a dvfs structurenand not for the dvfs regulator so that clkisdvfs always returnsnthe same value even when  check for a missingndvfs table in dvfssetrate to prevent a panic if the table isnincorrectly configured move the regulatorget call in dvfsnto after the table configuration so that a null regulator whichnis valid if  still ializes the table andnensures dvfssetrate returns  for valid frequencies  callnregulatorsetvoltage if the regulator is null this is valid  but will fault if  colin cross
9303,fixed deserialization problem in datepickernnduring onrestoreinstancestate for datepicker the internalnstate of the widget is restored properly thus setting theninternal year month and day but the spinners  updated to that state immediately that is to saynthe internal state of the widget  match the spinnersnin that case which can cause confusionnid
9304,suppress webviewtesttestaccesscertificatennbug
9305,enhancement on call log added sort by and filter by options for call lognid
9306,suppress ninepatchdrawabletesttestgetopacitynnbug  always seems to return true even after i used an imagenwithout any transparent pixelsnid
9307,fix silly ialization bug that caused gdbserver to fail randomly when attaching to unix socketsnid
9308,fix for bug  files with spaces fail to opennnfrom  you try to use a webview to open an image of any typenthat is stored in your  assets directory the imagenwill be written to the screen as text instead of drawn asnan image if the filename contains a spacennthe problem stems from mimetypemap which determines thenfile type from the url spaces represented as  not included in the list of acceptable characters fornan image file name causing the image to be treated as plainntext i am remedying this by adding  to the listnid
9309,ukraine localization artfulbits inc httpwwwartfulbitscomn
9310,ukraine localization artfulbits inc httpwwwartfulbitscomn
9311,ukraine localization artfulbits inc httpwwwartfulbitscomn
9312,ukraine localization artfulbits inc httpwwwartfulbitscomn
9313,ukraine localization artfulbits inc httpwwwartfulbitscomn
9314,ukraine localization artfulbits inc httpwwwartfulbitscomn
9315,ukraine localization artfulbits inc httpwwwartfulbitscomn
9316,cpufeatures add androidgetcpucount functionnnthis new function returns the number of cpu cores detected bynparsing proccpuinfonnalso add a new arm feature flag androidcpufeaturearmldrexstrexnto indicate whether the cpu support the new ldrexstrex instructionsnintroduced with
9317,update ndk toolchain sources to  the reference git date for the toolchain source downloadnscript and removes two local patches that are no longer needednsince they are now in androidgitkernelorgtoolchainnid
9318,neon optimized implementation of  patch does the followingn neon asm blitter from  to  without blendn special case for no scaling but the scaling case is almost as fastnn copyright c stericsson sa   christian bejram
9319,ukraine localization artfulbits inc httpwwwartfulbitscomn
9320,ukraine localization artfulbits inc httpwwwartfulbitscomn
9321,add unittest for pthreadrwlockinitializernn update doc the actual fix is already in developmentgitndknid
9322,ndk fixes pthreadrwlockinitializer defionnnthis is a fix for  see  for the correspondingnfix in the c library headersnid
9323,ukraine localization artfulbits inc httpwwwartfulbitscomn
9324,fixed minor typo of macro namenid  mark d horn
9325,ukraine localization artfulbits inc httpwwwartfulbitscomn
9326,provide localdir as some product variables might need a reference directory ie productcopyfilesn from localdir to localpathn
9327,cleanup output when searching for leaves  want to see things like warnings of looping symlinksn
9328,use sigemptyset to ialise sigsett valuesnsigsett may not be implemented as an integral typenid  raghu gandham
9329,mips mips architecture support for bionicnnother contributorsntraghu gandham  kalyan  leung  gladkov  raghu gandham
9330,restore default signal handling after debugger handles exceptional signalnnthis prevents the fault that caused the original signal from beingnrepeated ad infumnnnedoffby raghu gandham
9331,endian build  code correctly for bigendian targetsnnnedoffby raghu gandham
9332,error numbers are target specific use the system suppliednnerror numbers when mapping error numbers to messagesneftype is not used anywhere in android so removed itnnnedoffby raghu gandham
9333,ukraine localization artfulbits inc httpwwwartfulbitscomn
9334,use mapfixed when allocating prelinked shared library regionsnnprelinked libraries must be mapped to a fixed address mapfixed is ignorednfor nonprelinked libraries  raghu gandham
9335,ukraine localization artfulbits inc httpwwwartfulbitscomn
9336,libc  fix typo in intmaxcuintmaxc defionnid
9337,ukraine localization artfulbits inc httpwwwartfulbitscomn
9338,make inline resourceitem able to generate resourcevaluennthis change fix the issue that since the simplification ofnthe resource repository the resource item for inline id valuesnwould not be called to generate a resourcevalue since theirnlist of source file was emptynnthis moves the creation of the resourcevalue to the resourceitemnso that inlineresourceitem can override itnnthis required moving findmatchingconfigurable into folderconfigurationnwhich is a much better place for it anywaynid
9339,ukraine localization artfulbits inc httpwwwartfulbitscomn
9340,net wireless  allocate skb with gfpkernel flag if possiblennnedoffby dmitry shmidt
9341,libc  proper cnnthis patch prevents the defion of various macros when  isnincluded from c the iso  standard mentions that when this headernis included from a c source file limit and constant related macrosnshould only be defined when asked explicitely by definingnstdclimitmacros and stdconstantmacros respectivelynnthe  lacked the proper ifdef endif blocks for thenfollowing macrosnn intptrmin intptrmax uintptrmax ptrdiffmin ptrdiffmaxn intmaxmin intmaxmax uintmaxmaxn inptrc uintprc ptrdiffc intmaxc uintmaxcnnthis is intended to fix  we copy this file to
9342,add comment remove blank linen
9343,improve zygote heap sharingnnlots of classobject structures are unshared and thus make whole pagesnunshared a big contributor to this is the ializing class loadernlogic which has two writable words in a classobject and does indeednseem to write them a lotnnclass which are created early have a low serial number and arenprobably being created by the zygote and would benefit from betternsharing this change move the two words for classes with a low serialnnumber to a global making the two words in those classobjects unusednand thus more likely to be shared across appsnnmeasured increase in sharing is c  per app at a cost of c  in unshared globalsnnthis might be better as a  ornsomething many classobjects have zero loaders and the typical countnseems to be very small it should be possible to remove the two wordsnfrom the classobject and at the same time have a smaller global datanstructurennrespond to  commentsnmoved the external initiatingloaderlist from gdvm to allocated storagenmade the warning for the const go awaynremove vminitc from the commitnrevert globalsh to not contain zygoteclasscutoffnuse calloc rather than mallocclearn
9344,cameraservice recreate overlay only if height and width has changednnthis patch prevents unnecessary destruction and creation of overlaynnnedoffby anu sundararajan
9345,this is a contribution of  targeted assembly for the fast bytecode interpreter engine this is an ial contribution with minimal optimizations that target the intel atom processor we expect to continuously improve this code it is expected that there will be a discussion on the potential merge of this code and similar efforts ie the  directory first included with cupcake while this code is intended to target atom and not a generic  processor we were able to show the following improvements over the cportable interpreter using the simulator buildnbuild targetsimulator truentargetbuildtype releasentargetproduct simnenvironment intelr  quad cpu    portable interpreternia  fast ia interpreternembedded caffeinemark iapipi average of  improvement on overall  iapipi average of  improvement on raw  piia speedup mtrt  jess  compress  db  jack    warehouse noncompliant modified to run on dalvikn  noncompliant modified to run on dalivkn
9346,overlay added support for resizeimputnnthere are cases where camera hal wil lbe receiving preview frames from the image pipe that are actually larger than the client requested size at thenmoment the overlay architecture does not allow the data side of the overlay to dictate a preview input frame size as an interim solution we havenadded a new overlay data side api that would allow camera hal to resize the input frame sizennnedoffby anu sundararajan
9347,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
9348,added support for camcordernnimplemented new interfaces for camcordernsubmitting on behalf of chao hannnnedoffby anu sundararajan
9349,overlayh added support for resizeinputnnthere are cases where camera hal will be receiving preview frames from the image pipe that are actually larger than the client requested size at thenmoment the overlay architecture does not allow the data side of the overlay to dictate a preview input frame size as an interim solution we havenadded a new overlay data side api that would allow camera hal to resize the input frame sizennnedoffby anu sundararajan
9350,fixed the sys path for  eeepcn
9351,add libhardware module for lights on troutn
9352,fix system service crash when booting while on battery powern
9353,fixed the build break for
9354,the original preloadedclasses has some classes that are not supported by  i have split preloadedclasses based on the platforms this may not be applied to android makefile standardn please let me know if you have  fixed the sys path for batter devices on the  platformn
9355,video camera optionsn
9356,arm  mahimahi correct the virtual key layout for cdma version systemrev   haley teng  iliyan malchev
9357,arm mahimahidefconfig compile  and  iliyan malchev
9358,arm  mahimahi add gpio defions for cdma versionnnnedoffby haley teng  iliyan malchev
9359,changes to enable adhoc wifi connectionnid
9360,changes to enable adhoc wifi connectionsnid
9361,vold reimplement getueventparam in the correct waynnthe original implementation can not find correct parameters for certainncases for example if you have both foobar and foo try to find foonmay be mismatched the correct way is to match with  from original patch of yi sunn
9362,add support for using newer ant rules distributed by the toolsnnright now the ant rules are packaged with each platform thisnis a problem when we want to release newer versions of the rulesnas we would have to respin newer rev for all major platforms justnfor thatnnthe new mechanism has the ant rules both in the tools foldernand in the platforms the platform indicates which versionsnit supports support is based on the features of external toolsnsuch as aapt aidl and dex the custom tasks cannfigure out a newer but still compatible ie not relying onnnewer options in aaptaidldex version from the tools foldernand then uses this newer versionnid
9363,arm msm  remove boardspecific code add headernnnedoffby iliyan malchev
9364,arm tegra clock let clock dividers pick next lower possible frequencynid
9365,arm msm  remove the chargestatelock spinlocknnthe charge state is modified only in batteryadjustchargestatennnedoffby iliyan malchev
9366,arm msm switch to the hierarchical token buckets htb packet scheduling algorithmnnnedoffby iliyan malchev
9367,merge remote branch  into  iliyan malchev
9368,arm  mahimahi make the bcmbtlpm device struct staticnnnedoffby iliyan malchev
9369,expanded bank  of  by  moved gpu memory and camera pmem into smi expanded memory bank in  bank  by  and highmem in  bank  bank by  michael huang
9370,binder fix memory corruption via page aliasingnnbinderdeferredrelease was not unmapping the page from the buffernbefore freeing it causing memory corruption this only happenednwhen pages had not been freed by binderupdatepagerange whichnproperly unmaps the pagesnnthis only happens on architectures with vipt aliasingnnto reproduce create a program which opens mmaps munmaps then closesnthe binder very quickly this should leave a page allocated when thenbinder is released when binderdeferrredrelease is called on thenclose the page will remain mapped to the address in the  later we may map the same physical page to a differentnvirtual address that has different coloring and this may causenaliasing to occurnnpagepoisoning will greatly increase your chances of noticing anynproblemsnid  christopher lai
9371,arm  mahimahi add board support for  iliyan malchev
9372,merge remote branch  into  iliyan malchev
9373,arm  mahimahi add cdmaboard support for  switch chargernnnedoffby haley teng  iliyan malchev
9374,added new option in message settings to select number of sms pagesnid
9375,resolves issue  go to problem in source from logcatn removed eclipse version dependencyn added todo for suggested search improvmentn
9376,include the api level  fields in the parceln
9377,arm msm mahimahi expand available memory by  expanded  bank  by  moved gpu mem and camera pmem into unused areas of smi expanded memory bank in  bank  by  and highmem in  bank  by  michael huang
9378,trim the mime type portion of contenttypennfixes parsing of contenttype headers like textplain  unit tests for whitespace and the charset parametern
9379,enhancement on call logs added new options for sortingfiltering and deletingnid
9380,libsysutils reimplement netlinkeventfindparam in the proper waynnthe original implementation can not find correct parameters for certainncases for example if you have both foobar and foo try to find foonmay be mismatched the correct way is to match with
9381,resolves issue  go to problem in source from logcatn
9382,asserting mprovider was not null was kind of pointless  according to the docs classnewinstance does not return  a function in mprovider was being used before the assertion so the assertion will always passn
9383,resolves issue  simplifyautomate application package name refactoringn
9384,do not build acc for host environmentnnacc does not appear to be used anywhere after being built fornthe host so  bother to build it  not  clean andnwould not function correctly on a  hostn
9385,arm msm mahimahi microp adjust als zone in light sensornnvariance in light sensor readings for lower zones due to  noisenor calibaration issues so increase lowest zone rangenid  mike chan
9386,testcase fjetplayertests sometimes hangnnfailing to terminate render thread at release causesn to hang because old render threads disturbs the setupnid
9387,delay disk inserted broadcast until disk is readynndelay sending of volumediskinserted broadcast until the disk isnready ie until all the partitions have been received fromnkernel this solves a race with mountservice otherwise there is anrisk that mountservice tries to mount the sdcard before thenpartitions have been received and the card will fail to mountnid
9388,npe fix in statusbarservicemakeexpandedvisiblennthe crash occurs when you trying to expand the statusbarnand the trackingview  been attached to window yetnthe fix is to only allow this when the trackingviewnhas been attached to windownnyou can reproduce this easy by trying to expandnthe status bar during bootntry to expand the status bar as it was visiblenid
9389,free allocated struct after freeing fieldnnfree allocated mtdreadcontext after freeing buffer field in structnnot beforenid
9390,adds thread locking to protect tztime global cachennthe reason to introduce this solution was a crash that occurred inntzload function because of racing condition between two dalviknthreads which were using the same global resourcesnid
9391,text labels when settings pinpassword are not correctnntext labels were not consistent when setting screen locknusing pin code or password in settings the user is gettingnthe wrong feedback  in the ui when the incorrectnpinpassword are inserted for example if the user entersntoo long password the ui will say pin can be no longer  digits and this is wrongnid
9392,closing cursor in finalizer to avoid gref and fd leak in acorennthe finalize call did not clean up completely this eventuallyncaused the androidprocessacore to crash since it ran out of fdsnand gref to increased above  if an application forgot to closenits cursor objects a warning was also added when this happens sonthat application developers can correct their mistake thenincluded test case tries to verify that the finalizer works asnexpected by creating a bunch of cursor objects without closingnthem without this fix the acore process crashes after about  and the test case ends with process crashednid
9393,return name of newly created contact when creating a shortcutnnthe extrashortcutname was not set properly when returning a resultnfor a newly created contact resulting in a shortcut withoutnany name the name will now be queried for and set after the contactnhas been creatednid
9394,crypto tegraaes use polling instead of interruptsnnthe vde engine has the capability to interrupt the cpu after it isndone with its aes encryptiondecryption of a block but use of interruptsncauses a drop in performance and hence poll for the dma busy engine busy bitsnto check if encryptiondecryption completednid  varun wadekar
9395,fix npe due to missing processitemmpackageinfonnthe reason was that a item was removed from the sparsearray whileniterating it causing one processitem to be skipped in the loop whichnmakes sure that mpackageinfo is not null this happens when allnprocesses for one uid is stopped and a new process is creatednthis problem was found by running monkeynid
9396,make  the default charmapnnthis patch makes  the default charmap for skins  specifiy one explicitely note that the qwerty charmapnis here for historical reasons only all skins provided by allnsdk android platforms explicitely mention  so this patchnwill mainly impact magic skins like those created by an optionnlike skin  gets rid of the obsolete qwerty charmap it was nevernused by any of the skins provided by the sdk and is incorrectnn simplify androidcharmaphc coden lazyload the charmap name in hwgoldfisheventsdevicecn
9397,allow finalization to happen before doing external allocationnnsometimes when trying to allocate memory from the external heapnwe need to wait a while after a garbage collection to allownfinalizers to run that could potentially free more external memorynwithout this fix we will sometimes fail to create bitmaps withnthe dreaded javalangoutofmemoryerror bitmap size exceeds vm budgetnid
9398,usb host tegra fix setportfeature portsuspendnnthis fixes a regression where hubs cannot detect new devices once theynhave been autosuspendednid  benoit gobi
9399,sort the results of findleaves againnncommit  changed findleavespy to sort the output files so thatnthe order is deterministic and  cause spurious build errors whennfiles happen to be listed and hence read in different order onneg addremove the makefilesnnthis correction broke after commit  because the conversion tona set with set in order to remove duplicates came after sort andnpotentially altered the order of the elementsnnthis commit fixes makes sure findleavespy is guaranteed to returnna sorted filename list without duplicatesnid
9400,bugfix in android junit run configuration page in eclipsennbugfix for bug  a user leaves the android junit run configuration pagenan icon is disposed upon returning to the page the pluginntries to reuse the icon which is disposed causing annillegalargumentexception this bug is fixed by this commitnid
9401,orientationchange event sent too earlynnthe orientationchange event is sent to native webkitnbefore the screen dimensions have been reported to native webkitnthus scripts using the orientationchange event willnuse wrong dimensionsnnthis patch sends the orientationchange event to nativenwebkit after the new dimensions have been reportednnreproduce this problem by create a website whichnuses the orientationchange event read the windowinnerwidthnand windowinnerheight and print to console in thenorientationchange eventhandler load the website into thenbrowser rotate the screen without the patch thenwidth and height values are wrong with the patchnwidht and height are the correctnid
9402,cdma authentication key supportnnallow applications to validate and store the cdma authentication keynfrom the vendor radiointerfacelayer ril layer there is alreadynmostly support for this we just need to expose itnnthe motivation for this change is to provide needed support for somenoperator network applicationsnid
9403,fix the screencap command to output data in the format that ddms expectsnnthis series of patches changes the mechanism used by the ddms debuggernto ensure that the screenshot tool always captures an accurate atomicnimage of the screennid
9404,add the screencap tool to the built system imagennthis series of patches changes the mechanism used by the ddms debuggernto ensure that the screenshot tool always captures an accurate atomicnimage of the screennid
9405,tuna add product specific defion to hdcp symlinknnadd product specific defion to the hdcp symlink creationnnwithout this protection performing a make after lunch for other productsnwill force the inheritance of this symlink into the buildnwhen creating the ota and update packages for other targets thesensymlinks are not creatednnthis will cause other products to fail hdcp symlink association sincenthe symlink was not created for the target productnid  dan murphi
9406,extend android with cdma mobile technology support review comments fixednnthis is a clean upload of the first contribution of a project that has the goal to extend thenandroid telephony layers with cdma mobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use casenimplementationsnthe final contribution will support cdma functionality for android phonesnsupportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnuc mobile originated callnuc mobile terminated callnuc network phone settingsnuc supplementary services partlynnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationnnvarious review comments are also fixed with this contributionnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
9407,extend android with cdma mobile technology support review comments fixednnthis is a clean upload of the first contribution of a project that has the goal to extend thenandroid telephony layers with cdma mobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use casenimplementationsnthe final contribution will support cdma functionality for android phonesnsupportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnuc mobile originated callnuc mobile terminated callnuc network phone settingsnuc supplementary services partlynnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationnnvarious review comments are also fixed with this contributionnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
9408,extend android with cdma mobile technology support review comments fixednnthis project has the goal to extend the android telephony layers with cdmanmobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use casenimplementationsnthe final contribution will support cdma functionality for android phonesnsupportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnuc mobile originated callnuc mobile terminated callnuc network phone settingsnuc supplementary services partlynnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationnnvarious review comments are also fixed with this contributionnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
9409,use vogar expectations to clean up remaining testsnnthere were still some core tests that  pass in the overallncts run that passed individually there were also some frameworkntests that are also consistently failingnnin the interest of time these tests will be suppressed to avoidna multiproject change create a expectations file in the ctsnproject and use that to filter out some core tests this approachnactually seems useful so use to to filter out some of thenframework tests as well this is probably easier than deleting andnadding annotationsnid
9410,improve performance of windowstatetostringnnthis fix improves the performance by caching the string that shouldnbe returned and reuse it next time if possiblenthis will make it faster to switch between activities approximatelynhalf the time to create the new view when changing from landscape tonportrait also the time for starting a new application is be reducednas windowstatetostring is being called thousands of times in thisncasenid
9411,mmvideo  vdec correcting boundary check in ialize  callnnthe boundary check  round the length of the data fieldsnto  aligned values though it copies it that way this mayncause mem corruptionnnnedoffby sidipotu ashok
9412,input evdev add missing wakelockdestroynid  benoit gobi
9413,does not gurantee trigerring the audio the test always passed with
9414,add support for custom linux host toolchains when building the sdknnthis is needed in order to build linux sdk binaries that can runnproperly on ubuntu  hardy by default the host toolchainnon  lucid generates machine code that  run on hardyndue to glibc abi mistmatchesnnnote that nothing happens if the new toolchain is not in thenprebuilt treenid
9415,mmvideo  vdec boundary check for sequence header lengthnnthe seq header len is unbounded this can cause mem corruptionnrestrict the max seq header lengthnnnedoffby sidipotu ashok
9416,add linux toolchain to target  ubuntu hardynnthis toolchain will be used to generate sdk linux binaries that runnproperly on ubuntu hardy heron  reason for this is that code generated on lucid lynx which uses glibc  not binary compatible with hardy which provides glibc   see  for the script that was used to build these binaries from scratchn
9417,better support for  clearsilver buildnnthis patch ensures that clearsilver is built as  even if a  toolchain is used by default eg when building the linux sdknid
9418,arm tegra cpufreq change function signature for cpu speed throttlingnnthe  driver is now passed a function pointer from the  platform data to be called when alarms are asserted orndeasserted switch to a single function for throttlingnenabledisable suitable for calling via the temperature alarmncallbacknid  todd poynor
9419,compute default memory size from screen sizennthis change is used when using a magic skin eg skin  when using the full android build system in order to determinena good default for the ram sizenid
9420,fix for a crash when gc weak referencesnnwhen a weak reference had been cleared there was a small risk thatnthe vm crashed when the cleared reference was garbage collectednnthis is an example of code that can cause the problemn integer referent  new  wref  new  wrefclear set the referent to nullnnwhen a garbage collection starts all objects are scanned lookingnfor objects that can be collected during this phase a list ofnweak references is created a check is performed to ensure thatnonly references with a nonnull referent are added to this listnin most cases for the example above the referent will be nullnat this point and it will never be added to the list but ifnthe timing is extremely bad it looks like it is possible for thenreference to end up on the list before the referent has been setnto null and the referent is set to null a little while laternthis means that we now have a reference on the list with a nullnreferentnna bit later in the garbage collection flow the list of weaknreferences is traversed in order to clear the references thatncan be collected here we got the crash because the code assertednthat the referent of the references in the list should bennonnull and in some rare cases it actually was null the fixnis simply to remove the assertnid
9421,print concatenated qemu options with verbosennthis makes it easier to launch the core qemuandroid with the samenset of options than the standalone emulatornid
9422,the phone is crashing when unknown mime content is transferrednnthe content resolver does not take care of the illegalstateexceptionnthat is thrown in gettype and that needs to be fixednid
9423,normalize output from aapt d values resourcesnnmake the output from aapt dump values resources normalized so that it can be used as input to the xml resources as is even ifnit has special charactersnnthis also assures that it will not be possible to fool it by placing strategically placed n and nid
9424,remove broken noactivityrelatedpermissiontestnnbug
9425,resubmit framebuffer service implementationnid
9426,adt fix palette items to use full widthnid
9427,rename iflogiif to ifalogiifnid
9428,rename iflogdif to ifalogdifnid
9429,rename iflogeif to ifalogeifnid
9430,added ffs function support required by  enabled vsscanf function support required by alsalibn
9431,rename iflogwif to ifalogwifnid
9432,rename iflogvif to ifalogvifnid
9433,rename iflog to ifalognid
9434,use the external  command to grab the screennnthis series of patches changes the mechanism used by the ddms debuggernto ensure that the screenshot tool always captures an accurate atomicnimage of the screennnwhen the ddms debugger requests a screenshot try to grab it using annexternal tool which knows how to talk to the surfaceflinger and fetchnan accurate screen imagennif this fails for any reason fall back on reading directly from thenframe buffernid
9435,battery level based on energynowenergyfullnnif the power supply driver in the kernel  provide with  variable but provide energynow and energyfullnvariables the battery level is calculated from these  energynvariablesnthis is useful for the  acpi implementation where  noncapacity variable it has been tested in a virtualbox environmentnid  daniel fag
9436,rename logassert to alogassertnid
9437,frameworksbase fix to release reference in amnnbackuprecord has a reference to processrecord which  when the backupagent is unbound fix is to releasenthe corresponding referencennfix to release references of activityrecord in pending activity listnconnection records list of a servicenid
9438,update  goldfish kernel imagennthis image was generated using the following repositoriesnon androidgitkernelorg and corresponding  kernelqemugitn    externalqemugitdistribbuildkernelshn  was generated by invoking the script withnn pathtobuildkernelsh  image is only intended for emulation with th
9439,rewrite outline drag  drop handlernnrewrite the drag source and drop target listeners for the outline thendrop target listener now uses the swt tree support for drag  dropnsuch that you for example get drop position feedback lines betweennsiblings you can now drag items within the outline to do precisenreordering as well as target particular positions during dropsneither within the outline or from the canvas or the palettennthis changeset also fixes a number of other issues i ran into at the same timenn fix keyboard shortcuts such that they map to the same context as then canvas eg when you activate the outline it shows the same undon context as if you click in the associated canvasnn fix a bug with context menu code when none of the options aren selected in the xmlnn fix selection dispatch if you had two side by side canvasesn selecting items in the outline would show highlights in bothn canvases it now only causes selection syncing with the associatedn canvasnid
9440,fix makefilein a previous checkin broke build using gmpmpfrmpc tarballsnid
9441,reenable show included in and handle target compatibilitynnhook up the show included in menu item to the layout  which tracks whether nested parsers arenhandled by the layout library also handle this properly in the somenrelated scenarios if you switch rendering targets on a page that isnalready in an included context remove that included context sincenotherwise  be editing the including file rather than thenincluded file and when you jump from an including file to annincluded file only set inclusion context if the target file is eithernnot open or its rendering target supports inclusionnnalso fix a bug in the ialization of capabilities it was passingnthe project target rather than the rendering target back from thenonxmlloaded method which meant the clipping support flag was notnset correctlynid
9442,frameworksbase fix to clear observercall in contentservicenna list of observercalls is created by contentservice as it notifiesnchanges to the registered content observers this object holdsnreference to observernode and icontentobserver and is not beingncleared after notification fix is to clear the listnid
9443,fix touchscreen emulation to return correct minmax coordinate bounds do not mergennthis is needed by future changes in the input framework that depend onntouchscreen devices to properly return the minmax bounds of theirnabsolute pointer coordinatesnnfixes bug
9444,input gpiomatrix send inputsync after reporting keysnnnedoffby jeffbrownandroidcomid
9445,tweak tabhost drop handlernninstead of creating a single tab create  tabs instead and pick anbetter id since  used as the tab label by the designtime tabspecncreatornid
9446,revert  images to nonsparse format againnnit seems like  no support for processing sparse disk images across the tree except for  make systemimg usable as created by the build system create a normal image until sparse support improvesnnpartial revert of
9447,frameworksbase release references of uripermissionownernnthe list of references to uripermissionowner kept track innwriteowners  cleared when requested by activitymanagerservicenfix is to check and clear writeownersnid
9448,arm tegra make cpu thermal throttling configurablennbased on work by dmitriy gruzman and varun wadekarnid  todd poynor
9449,input evdev indicate buffer overrun with syndroppednnadd a new evsyn code syndropped to inform the client when inputnevents have been dropped from the evdev input buffer due to anbuffer overrun the client should use this event as a hint tonreset its state or ignore all following events until the nextnpacket beginsnnnedoffby jeffbrownandroidcomn
9450,revert revert merge  from masternnthis reverts commit  was not supposed to merge down from  to masternsince the original reverted commit was a cherrypick from masternto
9451,frameworksbase remove redundant code in windowmanagernid
9452,revert pin the development project for nownnthis reverts commit
9453,bluedroid fix bluetooth rfkill id issuesnnthe patch tries to fix two issues observed in some systemsnn the rfkill id is not continuously distributedn the bluetooth rfkill id changes at runtimenid
9454,revert merge  from master do not mergennthis reverts commit
9455,fix npe when deleting a layout resource filennthe includefinder tries to read the file but the workspacenis not in sync so although the resource exists in thenworkspace there is no xml file to read anymorenid
9456,arm tegra usbphy use utmiphypreresume for  toonnthis prevents disconnects on resumenid  benoit gobi
9457,input send synreport event only if a key has been  send an evsynsynreport event if no key has been released onnresume this makes the input subsystem take a wakelock on resume even ifnno key event has been generatednid  benoit gobi
9458,add go to declaration support for styles and embedded textnnthis changeset adds support to the go to declaration code for stylesnstyle strings are a bit different from resource urls they can havenan android prefix but they  specify a resource type fornexample go to declaration can now jump to the value in the parentnattributenn    will show the themeblack style defion in the  documentnnin addition the hyperlink resolver can now also link to fragments ofnan attribute value in particular in the above if you point anywherento the left of the only the androidtheme range will benselected this lets you go to parents since styles inherit from othernstyles by adding to them with dotsnnthird the hyperlink resolver can now link to resource urls that is innthe content part of xml documents eg a text node not an elementnname or attribute value as an example you can now jump to the colorndefined inside this style elementnn       this changeset adds unitplugin tests for the hyperlinknresolver which asserts the expected list of matches and the expectedneditor context when the default link is openednid
9459,fix openglesversiontestnnbug  the egl calls between eglinitialize and eglterminatenid
9460,input gpioinput send inputsync after reporting keysnnnedoffby jeffbrownandroidcomid
9461,add glyphs for the georgian languagenid
9462,update  virtualbox kernel imagennthis image was generated using the following repositoriesnon androidgitkernelorg and corresponding  kernelqemugitn    externalqemugitdistribbuildkernelshn  was generated by invoking the script withnn pathtobuildkernelsh   image is only intended for emulation with the virtualboxnprogramnn remove obsolete config filen update readmenid
9463,usb host tegra fix resuming low speed devices from   benoit gobi
9464,rename iflogvif to ifalogvifnid
9465,rename iflogeif to ifalogeifnid
9466,rename iflogwif to ifalogwifnid
9467,changed sprintf  snprintfnnupdated to snprintf additionaly fixed code style mixing per filenremoved typosn
9468,allow scrolling of framesets even when frameflattening is enablednnon a page that uses frames and with a touch screen it isndifficult to distinguish between scrolling an individual framenand scrolling the entire page to get rid of thisnproblem android uses something called frame flatteningnthis means that a frame is expanded to the size of its contentnand hence there is nothing to scroll in the frame any morennnormally on a page with frames webkit disables scrolling fornthe main frameset however such scrolling should not be disablednif frame flattening is in effect since then the user ends up notnbeing able to scroll at all neither for the main frameset nornfor the individual framesnnwhen disabling scrolling for the main frameset a check is firstnmade to see if frame flattening is active however  flattening code does not use the functionnframesetflatteningenabled instead it is governed by a definenflattenframeset as a result scrolling was incorrectly disablednfor the main frameset even though  frame flattening wasnusednid
9469,add large medium and small textviews to the palettennadd variations of textview using the various textappearancenattributes to get the standard styles for large mediumnand small text viewsn androidattrtextappearancelargen androidattrtextappearancemediumn androidattrtextappearancesmallnnalso removes edittext from the form widgets category tondiscourage using the untyped fieldnid
9470,arm tegra usbphy program dpdmobserve depending on the device speednnlow speed devices require a kstate resume signaling instead of jnid  benoit gobi
9471,update the nodeliveryreports listnnadd additional carriers that dont support sms delivery supportnid
9472,ignore tests with side effectsnnit looks like a contenthandlerfactorytest marked with sideeffect isncausing subsequent luni net tests to fail even though those tests passnon their ownnid
9473,modified traceview classpathnnwhen launched from eclipse traceview crashed because it did notnfind the resourcesnid
9474,arm goldfish add support for  framebuffersnnthis depends on a new io read port used to retrieve the format fromnthe emulator programnnnedoffby david  turn
9475,refactoring quick assistantnnadd another quick assistant to the editor which offers the variousnrefactoring operations for the current editing context if the caretnis in a value declaration then the extract string refactoring isnoffered otherwise if the caret is on an element tag name or openingnor closing tag then the elementrelated visual refactorings arenoffered wrap in change widget change layout extract as includenprovided of course the current editor is a layout editornid
9476,corrected  test case queries for all effects and then tries to recreate themnby using the type uuid of the effect this however failed for effectsnthat did not implement a standard type these effects will have theirntype set to audioeffecteffecttypenull and thus reconstruction ofnthem would fail made the test skip effects that has this null typenid
9477,code cleanupnn comment outremove unused variablesdebug coden use dateutilsformatdaterange instead of localn utilsformatdaterangent enables not using deprecated constant dateutilsformatutcnid
9478,move sdk tools and adt version to
9479,fix a typo make the example correctly use localsharedlibrariesnid
9480,visibility and unused code fixesnnmodify visibility of variables and functions according to report from ucdetectornnalso remove unused constructor syncstatecheckboxpreferencecontext attributesetnthis in turn makes androidutilattributeset an unnecessary importnid
9481,parse the manifest mintargetsdkversion to configure the layoutlibnnthis is needed to configure applicationinfo in the layoutlibnso that some widgets properly apply different behaviors basednon the app targetsdkversionnid
9482,make avdcreationdialog compatible with windowbuildernid
9483,on imageview or imagebutton drop ask user for drawablennsimilar to the  tag handling when you drop an image anresource chooser inputting drawable resources pops up and lets younpick the drawable to be shown in the image if you cancel then thendefault image will be set insteadnid
9484,parse the manifest mintargetsdkversion to configure the layoutlibnnthis is needed to configure applicationinfo in the layoutlibnso that some widgets properly apply different behaviors basednon the app targetsdkversionn
9485,support mirrored axes on touchscreennnif an axis is mirrored min  max in the absolute position valuesngiven by the input device driver and  backed by a real displaynmirror them internallynthis seems to be legal according to  documentationinput andnis partially supported by android already by its assumption that thenmin value is the top or left end of the touchscreennntested with a touchscreen that has a mirrored yaxisnid
9486,more code completion fixesnnthis changeset fixes additional corner cases for xml code completionnnit handles inserting new attributes in more places meaning fornexample that if you code complete here   you will still getnnew completion where the inserted attribute contains  the completer also handles inserting full element tags withnopening and closing tags in more scenarios and still avoids doingnthis in the case where you are on an opening line of an element whichnalready contains attributes on subsequent linesnnthe new unit tests reveal additional minor corner casesnid
9487,traceview integration into eclipsennnew plugin which adds a traceview view to eclipsenid
9488,parse the manifest mintargetsdkversion to configure the layoutlibnnthis is needed to configure applicationinfo in the layoutlibnso that some widgets properly apply different behaviors basednon the app targetsdkversionnid
9489,split boardnandpagesize into page and sparennboardnandpagesize was wrongly set to the concatenation ofnboardnandpage and boardnandsparesize with this changenthe image size calculation in defionsmk will be correctnthe call to mkyaffsimage is unaffectednid
9490,edit avds in avd managernnsdk bug
9491,fix touch emulation for  emulatornnthere is a bug in the previous commit because the values of thenandroiddisplaywidth and androiddisplayheight variables are notnproperly ialized when eventsdev is callednnthe variables contain their default values  and  insteadnof anything specific to the  skinemulated lcdnnthe result is that touch emulation  work well if the screennis not exactly  because reported touch events are thennincorrectly scalednnnote the problem  exist in the master branch whichn fixed the issue with a different patch which takes caren of the coreui separation work to do stuff the right waytmnnthis adds a  patch to fix the issuenid
9492,do not merge nuke abslistviewtesttestonscrollnnbug  is broken like gridviewtest due to a bug in touchutilsnand overscroll it will have to be revisited laternid
9493,applying the previous rotation state when refreshing screen imagenid
9494,fix nocallpermission tests for nontelephony devicesnnnontelephony devices are not expected to honour telurlnrequests and hence the tests for such url are by defaultnpassed in device which launch telephony featurenid
9495,ril interface changes for stk call control featurennadded support for stk call control as per  ts  sect
9496,add newline inside new root elements and some move code aroundnntweak the new xml file creation code to insert a new line inside thencreated root element indent and place the cursor there this meansnthat you end up withnn  n  of where denotes the ial caret positionnn   means you can instantly press ctrlspace to complete on thenelements etc and is similar to how eclipse creates new methodnbodies from templates adding newlines such that you can instantlynwrite code there instead of having to open them upnnall the diffs for this are in newxmlfilewizardjava the othernmodifications in this changeset are simple move refactoringnoperations as described nextnnthe second change in this changeset is moving some code around suchnthat common utility methods live in more natural places rather thannwhere they were first needednnin particularnhyperlinksopenurl  adtpluginnhyperlinksopenjavaclass  adtpluginnhyperlinksopenfile  adtpluginnandroidcontentassistgetandroidxmleditor  androidxmleditornresourcechoosercancreateresource  resourcehelpernresourcechoosercreateresource  resourcehelpernhyperlinksparseresource  resourcehelpernresourcenamevalidatorisvaluebasedresourcetype  resourcehelpernresourcenamevalidatorisfilebasedresourcetype  resourcehelpernid
9497,update changestxt to reflect work on issues  and
9498,query the camera for the preview format instead of hardcodingnnuse the getpreviewformat method to find and then convert thenpreview format from a string to pixelformat currently  and  formats arensupported with  being the default whennthe preview format string from the camera is not recognizednid  sean mcneil
9499,add renderscript support to the ant build systemnid
9500,add handling of proximity sensornna proximity sensor is added to the sensors the proximity sensor hasnresolution  and maxrange  this means that it can be either  or
9501,check boot cmdline for androidboothardware in ueventdnnsince uevent is the program with the server side codenfor propertyget we cannot simply get the property settingnfor rohardware the hardware name must be acquired in thensame way that does this includes looking at the cmdlinenid  sean mcneil
9502,configure tabhosts on dropnnadd a dummy child to the tabhost on dropnid
9503,hyperlink improvementsnnfix java hyperlink navigation such that it works with androidrnresources too not just project local r fieldsnnfix navigation into android values this was already supported fornfilebased resources in the framework but it did not search fornvalues and did not navigate into specific portions of the possiblynlarge xml filesnnfix such that opening an xml file shows the editor tab not thennamevalue pair editornnfix hyperlink modifier key combination and target name to make themnuniform and match the other items listed in the preferences  categorynid
9504,change gglsurfaceformat to integernngglsurfaceformat is defined as a gglubyte followed by  reservedngglubyte values it appears that this may have been done becausenof an endian issue but it is clearly incorrect gglsurfaceformatnis indeed an integer see the value of  innhardwarelibhardwareincludehardwarehardwareh specificallynthere is a test of the format for  innframeworksbaseservicessurfaceflingertexturemanagercppnid  sean mcneil
9505,fix error logging for nullmessage exceptionsnnsome exceptions such as nullpointerexception can have null as theirngetlocalizedmessage this meant that the render session could havena result with a null message but a nonnull exception this scenarionwas not handled for some error resulted in a failed result but nondetails givennid
9506,new decorcomposite for subpanels in the glenna decorcomposite wraps a control or composite such as the palettenand adds a little header with an icon a title and an optionalntoolbar of iconactionsnnthe gle palette is revamped to use this some actions will benadded later to toggle viewing views or layoutsnneventually the new property panel will be one of these toonnterminology i tried to avoid the words panel or page or panenwhich are just too overused since this is merely more than decorationnaround a control  a  also added a couple builder classes to make it less verbosento set gridlayout and griddata objects if these are useful outnof the editors we could move them somewhere else laternid
9507,move classes to idecommonnnresourcefolderfile and children classes singlemulti filenresourceitem and children classesnresourcerepository base and framework project stays in adt for nownall the resourcequalifiers and folderconfigurationnid
9508,refactor rename palettecomposite into palettecontrolnid
9509,adding proximity sensor simulationnnproximity sensor is added in emulator and avd ini file is modified tonbe able add a proximity seensor to a avdnid
9510,add a new  toolchain with gcc
9511,mkuserimgsh set default size according to the $srcdir sizenncalculate the default size by $srcdir size plu
9512,fix test for nontelephony devicesnncheck for the presence of the telephony featurenbefore testing for the callnid
9513,add a network operator into the not support list of delivery reportnid
9514,fix ctstelephonytestcasestelephonymanagertesttestgetdeivceid fail for wifi onlyndevice that still return a nonnull device id for gms application shazam othernpopular gms application may also have the problem if the application check the devicenid when runningnid
9515,remove unused contenttypebindingnnthis was added as a test when investigating the issue  actually harmful and prevents from following links tonlike androidstringok from xml resource filesnid
9516,parse mintargetsdkversion and pass it to layoutlibnid
9517,make edit texts grow in horizontal linearlayouts using weightsnnif you drop a text field in a vertical linear layout then the widthnof the text field is automatically set to fill this uses metadata toncheck what the fill preference is of each dropped viewnnthis changeset extends this scheme to also grow text fields in anhorizontal linear layout however instead of using fillparent on thenlayoutwidth this uses a layoutweight instead this means that thentext field will fill but it will not push subsequent children out ofnthe way the way a fillparent wouldnnthis changeset also changes the default orientation of a linearlayoutnthat is created in new xml files i looked around and noticed mostnlayouts that have a linearlayout at the root will use a verticalnlinearlayoutnid
9518,add mintargetsdkversion to the layoutlib apinnthis will allow some widgets to properly behave based on thenminsdkversion and targetsdkversion of the project duringnrenderingnid
9519,msm clock use debug name in debugfsnnthe name member of struct clk is not always unique use thendbgname member instead since it is always uniquenid  stephen boyd
9520,libstagefright replace various checks with error return  read if nal is corrupt  crash the process instead return an parser error coden start kkeymaxinputsize might not be set if the clip  haven a stsz atom instead of taking out the entire process in blindn anger meekly return an error valuennomxcodecn setminbufsize omxindexparamportdefion can fail if the sizen we provide is bogus for some reason or another again  killn the process in this casen allocate buffer can fail on devices that  have enoughn memory to handle high res clipsnid
9521,msm clock remove dead codennthis code  used or is effectively a noop remove itnid  stephen boyd
9522,video tegra nvmap add logging to some error conditionsnid  rebecca schultz zavin
9523,stagefright omxcodec read input in a separate threadnnpreviously if the input source blocks it would block all otherncallbacks from the omx component which is harmful for lowlatencynsetupsnid
9524,fix install of gmp mpfr and mpc for temp buildsnnbug fix for change  allow build with prebuilt directory forngmp mpfr and mpcnthe previous change removed the install steps for gmp mpfr and mpcnthis resulted in temporary builds from tarballs generating the binarysnbut not installing them for use in the future steps of the toolchain buildnid  mark d horn
9525,msm clock migrate to clkdevnnmigrating to clkdev has several advantagesnn less code in machmsmclockcnn a more robust clkget implementationnn clkaddalias supportnn clkgetsys supportnnin general this will help board authors setup clock aliases andnbreak the dependency on device pointers in the clock tablesnid  stephen boyd
9526,fix unit tests from the previous refactornid
9527,stagefright iomx provide a writeable copy of the setparameters argumentnnthe qcom omx video encoder component in nexus one the binaryndistributed with froyo at least will try to write into thenparameter data which is allowed according to the openmax il specnwhere the parameter  a const pointernnwhen setparameter is called over the binder iomx interface with thisnomx component it leads to a segfault since the parameter data isnread onlynid
9528,fix aapt error rangennturns out the aapt errors always list a line number that correspondsnto the line where the element starts if the error occurs in annattribute that is on a subsequent line the code to identify theneditor offset failednnthis changeset addresses that by using a document forward search tonlocate the attribute the quickfix code was also checking for an exactnline number match so that code is tweaked as wellnid
9529,fixing memory leak in preferencescreennnevery time the preferencescreen is displayed a new listview isncreated and bound to the adapter as the same adapter is used duringnthe lifetime of preferencescreen and the listviews never getsnunbound the adapter will contain a list of unused views the old viewnshould be unbound from adapter when we create a new viewnid
9530,pin the development project for nown
9531,always return a valid index from  an invalid input string ends with a backslash inside a commentnor quoted string the returned index would be past the end of thenstring in one case this would lead to a runtime exception beingnthrown from multiautocompletetextviewperformvalidationnid
9532,noopnid
9533,msm clock support clksetparent clkopsnnvoting clocks are linked to the clock they vote on with a parentnpointer implement this api for sub drivers which wish to use itnid  stephen boyd
9534,make default value of autosync in syncstorageengine configurablennthis will make the default value of the automatic synchronizationnin the syncstorageengine configurable with overlays for use bynvendors who want or have legal requirements to have the synchronizationnoff by defaultnid
9535,fix touchscreen emulation to return correct minmax coordinate boundsnnthis is needed by future changes in the input framework that depend onntouchscreen devices to properly return the minmax bounds of theirnabsolute pointer coordinatesnnfixes bug
9536,adb fix reboot interfacennfor the casenadb rebootna null string is getting passed to rebootnso choose the right reboot api that does not take parametersnfor the case of adb rebootnnother casesnadb reboot bootloadernadb reboot recoveryngo through the other api that take the reset reason stringnnnedoffby vikram pandita
9537,msm clock push down clock count and locking into sub driversnnthe clock voting code will need to call clksetrate fromnwithin a spinlock so we must push down the refcount and lock intoneach sub driver to avoid recursive locking we have to dropnclksprintrunning since the count has been pushed downnid  stephen boyd
9538,msm clock replace clock handles with real clocksnndynamically generating clocks at runtime  work well withnclkdev currently handles are generated whenever clkget isncalled on a shared clock instead of doing that add the handfulnof clocks voting on  as new clocks make the clocks act thensame as the handles but  dynamically allocate them atnruntime this allows us to migrate to clkdev while maintainingnthe  rate voting via the clk apinid  stephen boyd
9539,msm clock implement rate votingnnsome clocks have multiple consumers where each consumer requiresna minimum rate implement a sub driver to aggregatenclksetrate calls from each consumer and call clksetratenon the parent clock when the minimum requested rate of all thenvoters changesnid  stephen boyd
9540,monkey fix to write iteration counter to log only when requestednid
9541,sip use expiry time from contact  section  does not mention the expires headernbut does say the contact headers must be present and thatnthe expires parameter in those must be presentnnat least one registrar sipgatecom does not provide annexpires header in the response but does provide the expiresnparameter in the appropriate contact headernid
9542,this is now tool
9543,merge  from master do not mergennfix touchscreen emulation to return correct minmax coordinate boundsnnthis is needed by future changes in the input framework that depend onntouchscreen devices to properly return the minmax bounds of theirnabsolute pointer coordinatesnnfixes bug
9544,increment cts version to
9545,merge  into  do not mergennthis is needed since developmentgit in  is master so thenmoved items are duplicatednoriginal commit msgnnprepare for moving platformspecific emulator modules to developmentgitnnwe need to move the platformspecific modules to developmentgit tonavoid some clashes this patch uses a guard make variable to ensure thatneach module is only built oncennthe plan is to simply copy these modules to developmentgit then removenthe current ones from sdkgit the guard variable is here to ensure thatnthe transition happens smoothly ie if a build contains modules innboth directories only one of them will be builtnid
9546,stagefright omxcodec do draininputbuffers asynchronouslynnif draininputbuffers defers the reading to the input reader threadnomxcodecread can return the first output frame as soon as itnis available before all the ial input buffers have been fillednid
9547,froyospecific startcts fixesnnbug   include a prebuild ddmlib so add back thenstatements to require the sdkroot variable to be setnhowever keep the code that checked sdkroottools andnsdkrootplatformtools that was patched innid
9548,stagefright omxcodec release the lock while reading from the input sourcennwithout this a blocking input source may block the whole objectnfrom operating eg block it from returning finished output buffersnto the callernid
9549,cgroup remove call to synchronizercu in cgroupattachtasknnsynchronizercu can be very expensive averaging  ms innsome cases in cgroupattachtask it is used to preventna  pointer dereferenced in an rcu read sidencritical section from being invalidated by delaying thencall to putcssset until after an rcu grace periodnnto avoid the call to synchronizercu make the putcsssetncall rcusafe by moving the deletion of the cssset linksninto freecsssetwork scheduled by the rcu callbacknfreecsssetrcunnthe decrement of the cgroup refcount is no longernsynchronous with the call to putcssset which can resultnin the cgroup refcount staying positive after the last callnto cgroupattachtask returns to allow the cgroup to bendeleted with cgrouprmdir synchronously afterncgroupattachtask have rmdir check the refcount of allnassociated csssets if cgrouprmdir is called on a cgroupnfor which the csssets all have refcount zero but thencgroup refcount is nonzero reuse the rmdir waitqueue tonblock the rmdir until freecsssetwork is callednnnedoffby colin cross
9550,cgroup set cgrpreleasable when adding to a cgroupns the meaning of cgrpreleasable to be set on any cgroupnthat has ever had a task or cgroup in it or had cssget callednon it the bit is set in cgroupattachtask cgroupcreatenand cssget it is not necessary to set the bit inncgroupfork as the task is either in the root cgroup innwhich can never be released or the task it was forked fromnalready set the bit in croupattachtasknnnedoffby colin cross
9551,wrong behavior in the settings application when the phone is rotatednnthis commit contains three fixes for rotation problems in thensettings  icclocksettings changes in the code to handle the use casenrotate the phone during the sim pin change  masterclear changes in the code to handle the use casenrotate the phone during the master clear  brightness changes in the manifest to handle the use casenrotate the phone when setting the brightnes level this use casenwas not possible to handle in the code the same way as the othernuse cases since ondialogclosed for the brightness preference isncalled after the displaysettings activity already is restarted duento the rotation since the physical display brightness is always setnin ondialogclosed a glitch can not be prevented unless thenmanifest is modifiednid
9552,usb gadget composite usbgetconfiguration must return  in unconfigured statenid  oleg matcovschi
9553,back port upstream patch  for  patch gives more detailed description of  it in general improves performance on   to take advantage of this featurenid
9554,usb gadget composite usbgetconfiguration must return  in unconfigured statenid  oleg matcovschi
9555,fixing toast remaining on screen and not go to sleep modennadded code to dismiss toast when exiting out gallerynappears appjava is not using the main ui looper onenis causing sending message to a handler on a dead threadnexception also it could cause the toast not to hide asna result the screen  go to sleep mode to pop upntoast from intentservice we need to ensure toast is madenfrom main ui threadnid
9556,icons for the xml editor page tabsnid
9557,avoid sending two pdp deactivate at the same timennwhen an application is aggressive and calls startusingnetworkfeaturentwo times in a row the state machine in the framework gets confusednthis patch will not allow a disconnect when state is disconnectingn
9558,usb gadget composite usbgetconfiguration must return  in unconfigured statenid  oleg matcovschi
9559,layoutlib api refactoringnid
9560,integrate  from masternnfix ddms and hierarchyviewer bat files on windowsnnthese were not setting the bin dir properpty correctlynand as a consequence the tools complain they  find adbexennthe fix is to set it to the directory of the script but tonavoid spacesinpath issues we use the fs modifier to getna spacefree short name for the cd value and since we  use cd combined with fs we use a for loop trick to set itnnnote that ddmsbat was in unix endofline mode so i changed itnback to dos endofline modenid
9561,add drop handler for slidingdrawernnadd a drop handler for slidingdrawers such that when dropped from thenpalette they create the mandatory handle and contentnchildren without this you get a rendering error insteadnid
9562,allow  for buildversionnnbug
9563,make ddmlib recognize a device in adb  statenid
9564,move the resource resolution code into idecommonnnalso move the layoutlib api to use a new class for all resourceninfo instead of  maps one string and a booleannnthe goal is to move resource resolution code into adtnso that we can use it to better display resource informationnin the uinid
9565,adjust tests to work without hintingnid
9566,remove obsolete  from adttests classpathnid
9567,go back in history before closing activitynnon backkey go back in history one step at a time instead of closingnthe activity immediately this is consistent with other viewers andnmakes browsing files on sdcard easier the default backkey handler isncalled at the end of the historynid
9568,input evdev indicate buffer overrun with syndroppednnadd a new evsyn code syndropped to inform the client when inputnevents have been dropped from the evdev input buffer due to anbuffer overrun the client should use this event as a hint tonreset its state or ignore all following events until the nextnpacket beginsnnnedoffby jeffbrownandroidcomn
9569,when going to other activity destroy selfnnafter   sync add a new account and savenit we now return to the account list rather than to thencreating account view this is considered to be more whatnpeople expectnid
9570,hid hidinput remove obsolete default events per packet settingnnequivalent logic has been added to the input core insteadnnnedoffby jeffbrownandroidcomn
9571,added fix for race condition in ringer notification on cdma variantnnin cdma during a incoming call ril sends out anunsolresponsecallstatechanged message which triggers angetcurrentcall since we are already getting the current callnril sends out unsolcallring right afternnthis causes the callnotifier to think that it is a repeat ringnso it calls ringerring before the custom ringtone query isnfinishednnthe ril sequence is different in gsm it  send out ancallstatechange first so this problem  happen in gsmnso set a variable to wait for the custom ringtone query to finishnor time out before processing a repeat ring request in callnotifiernid
9572,input set default events per packet for mt devicesnnuse the number of absmtslots or absmttrackingids to choose andefault number of events per packetnnnedoffby jeffbrownandroidcomn
9573,fix touch coordinate range is not correctnnif the size of panel is  the x coordinate which the touchndriver report is from  to  and y is from  to  ifngetrange returns max min the range of x is  but thenactual range should be  it causes the xscale in inputreadernis not equal to
9574,ringtone is not saved when the phone is rotatednnif the user first picks a new ringtone then rotates the phone andnfinally presses ok the new ringtone is not saved the playback ofnthe new ringtone is also interrupted when the phone is rotatednthis fix saves the new ringtone and does not interrupt the playbacknwhen the phone i rotatednid
9575,fm radio add support for fm radio in androidnncreating interface and framework for using fm radionrx and tx from different vendorsnid  christian bejram
9576,display text clr msg after delay expects result code oknnsend residtimeout response if stkdialogactivity is sent to thenbackground due to another acitivty has replaced it as forgroundnactivity when a callback call interferes and closes thenstkdialogactivity the session still needs to be ended if thensession is not ended in a controlled way stk will end up in anwrong state if stk is in wrong state it will be unable tonprocess subsequent callbacksnid
9577,increase pdu parts buffer size for performance reasonsnd the size of the temporary buffer used when storing a pdu partnto  bytes instead of the previous  bytes this greatlyndecreases the time needed to store relatively large pdu parts thentimes to store pdu parts were so long that we frequently ended up withnan anr this change resulted in a total time usage of  ms insteadnof  ms for  kb worth of datan
9578,corrected message size calculation when replacing resizable mediannreplacing resizable media in slideshow will yield in an incorrectnmessage size an exception will be thrown when validating the size andnthe application will crash this change fixes this problemn
9579,add support for bmp and wav content types in mmsnnthis change adds support for bitmap images bmp and wave audionwav formats for mms this is a musthave requirement for somenoperatorsn
9580,add custom views and third party views to the palettennthis changeset adds a new category to the palette custom  thirdnparty views which is populated with androidviewview subclassesnfound in the current project or any of its libraries and in anynjars included by the project they can be dragged directly to thencanvas and control clicking on the palette entries will jump to thensourcennthere are a bunch of adjustments in various places to make workingnwith custom views better from ensuring that we  use fullynqualified class names in default ids to showing the java class iconnfor custom views in outline and elsewhere to making zerosized viewnhighlight and expand when selected like we do for laoyuts since withncustom views  quite easy to end up with an invisible view thatnyou  see after dropping itnnthere are also some fixes to the code which looks up third party andncustom views which was already used by the wrap in refactoring tonhandle inner classes to filter out non public or abstract classesnand most importantly to only include views reachable from the currentnproject since the view search necessarily is workspace widenid
9581,add support for  framebuffersnnthis modifies the emulator so support  framebuffersnyou can create such a framebuffer using one of these methodsnn add a bpp  line to the display element of your skinn use the new  skin option format eg skin  that the result will be hideous since the kernel driver stillnthinks the hardware is only  this will be addressed in anlater patch to hwgoldfishfbc and to the kernel drivern$kerneldriversvideogoldfishfbcnid
9582,fix nonexternalizedstring referencesnni had accidentally used nonnls instead of $nonnls in somencode that explains why eclipse would sometimes insert a spacenbetween the and the non partnnthis changeset replaces these with proper $nonnls entriesnid
9583,telephony  ack cb messagesnnsmsdispatcher receives its own broadcast to ack messagesncb message needs to be excluded from the acking code sincenit should not be ackednid
9584,hw goldfishfb minimize the size of the update rectanglennthis patch modifies the  update callback to compute the minimumnbounding rectangle of each framebuffer update before that the code onlyncomputed the minimum and maximum y coordinates assuming  and  should help reduce unnecessary trafficchurn for our  framebuffernprotocolnnmoreover introduce the ability to support framebuffers display surfaces withndifferent depths this is a first step towards providing  framebuffers tonthe guest system to slightly speedup emulated rendering on gingerbread andnabovenid
9585,improve handling of custom widthheight layout attributesnnremove the custom items from the menus which were not hooked upnanywaynnif there is a custom value eg not fillparent matchparent ornwrapcontent add it into the menu directly such as  andnshow it as selectednnin addition always add a other menu item at the end invokingnother will pop up a dialog asking you to enter a new custom valuenwhich is then appliednnthis addresses issue  in multiissue  eclipse layout editor contains many bugsnid
9586,revert allow  for buildversionnnthis reverts commit
9587,frameworksbase fix to release references in  bindings is a hashmap to keep track of all activenbindings to the service this is not cleared when the service isnbrought down by activity manager this adds up the references tonintentbindrecords and its references to servicerecord fix is tonclear the  restarter is a reference to the service and is notncleared when the service is brought down by activity manager thisnadds up the references to servicerecord fix is to set the referencento null when the service is brought down by activity managernid
9588,increment cts version to
9589,frameworksbase fix to release references to previous live wallpapernnthe service connection to the previous live wallpaper is unbound whenna new wallpaper is effective although the service connection isnunbound it is not disconnected and its reference to  and engine is still effective this adds up to the totalnjni references and causes dalvik hosting systemserver to abortnfix is to release the references in clearwallpapercomponentlockednid
9590,crypto tegraaes disable clock at end of probenid  colin cross
9591,remove references to swt from classes that are moving to idecommonnn move the swt based geticon from the resource qualifier and use a staticn helper insteadnn make a new enum resourcedeltakind to replace the iresourcedeltan integer constants and use the same helper class to convert fromn one to the othernn make resourcerepository exclusively use the iabstractfilefoldernn use the ilogger in place of adtplugin which implements iloggernid
9592,the layout height should be the value scaled by the densitynid
9593,remove broken mediacontrollertestsnnbug   seem like they will be reliable even if they are fixednid
9594,display aidl cmd line in adt build verbose modenid
9595,remove broken touchdelegatetesttestonnnbug
9596,add zoombutton default imagennzoombutton extends imagebutton so it was picking up thendefault image but for zoombuttons use one of the builtinnzoom images insteadnid
9597,fix more paintbreaktext testsnnbug  uncommented  broken tests earlier although they do passnremove those tests and consolidate the testing of the differentnbreaktext functions into a single testnid
9598,drop handler for radiogroup webviewnnadd a drop handler for radiogroup which puts a few radio buttons innitnnmake webview default to match parent in both dimensionsnnalso fix superclass of the slidingdrawerrulenid
9599,fix shell and logcat optionsnnthey  work because the guest was trying to write to the wrong serial portnid
9600,sligh speedup for pixel conversion routines with  devicenid
9601,fix bounds computation for drags from palette to canvasnnwhen you drag over the canvas the potential drop location is shownnalong with an outline of the component as it would appear at thatnlocation this relies on knowing the size of the dragged componentnnwhen dragging from the palette we use the drag preview image howevernthe bounds were a bit too big because we were using the raw size ofnthe drag image and it now includes a drop shadow this changesetnadjusts this such that we use the original viewinfo bounds from thenrender rather than the usually larger image boundsnid
9602,hw framebuffer add support for  framebuffersnnthis provides a new read io port to return the  format to thenkernel drivernid
9603,fix keyboard shortcut  keyboard shortcuts often  work in the layout  had this bug where intermittently the keyboard shortcuts forncut copy paste undo etc  worked turns out  notnintermittent at all our keybinding registration was wrong whichnmeant that only the last opened editor would actually work the globalnactions would always map to that one editor i discovered this when inhappened to have two editors side by sidennthe global action registration mechanism we were using assumes thatneach view has its own iactionbar  generally true but not forneditors that means we have to reregister the action bindingsnourselves when the active editor changes to do that we register ournown ieditoractionbarcontributor which will notify us when the actionsnneed to be updated for editor activationnid
9604,dalvik dump kernel stack of specified threadnnthe kernel level stack trace will be stored in the traces filenand would help in better debugging of anrsnid
9605,fix to edit window with windowsbuildernid
9606,remove duplicate item to avoid compiling errornnthe gcc  complains about the duplicate  in function  error operation on  may be undefinednid
9607,fixing indeterminate progress bar animation statennwhen showing a progress bar instance more than oncenit will not animate after the first timenid  david sobreira marqu
9608,disable audio support in our custom sdl buildnnthis is not needed anymorenid
9609,further activity lifecycle testing improvementsnnbug    prior change ran the lifecycle checking activity and if itnfailed to match ran the activity again with a different expectednlifecycle however running the activity again could cause thenactivity to follow the original lifecycle that failed thusnfollow the expected lifecycle as long as possible and then switchnto other possible lifecycles when running into lifecycle mismatchesnnalso do not check the lifecycle for onstop or ondestroy methodsnbecause those are not guaranteed to be executed at all delete testsnthat checked onstop and ondestroy being called because they willnprobably hang in the futurenid
9610,added a c option to sun
9611,fix a typonid
9612,minor refactor moving manifestdata out of the parser classnnalso started added new data parsing screen supportnid
9613,arm tegra harmony make board calls explicitnnnedoffby colin cross
9614,enable interconnection of emulatorsnnthis patch adds a sharednetid option to the emulator whichnjoins the emulator in a shared networknif the option is given the emulator is started with an additionalnnetwork interface bound to a multicast socket this multicast socketnemulates a network hub interconnecting emulatorsnif the sharednetid option is not given nothing changesnid
9615,drivers staging lowmemorykiller only consider reclaimable file pagesnnlowmemorykiller currently uses nrfilepages to determine how manynpotentially reclaimable pages are in the page cache this numbernincludes anonymous page cache pages which cannot be reclaimed innsystems without swap if  enough of these anonymous pagesneg due to heavy use of tmpfs the lowmemorykiller may nevernkill any processes at allnninstead use nractivefile nrinactivefile for systems withoutnany swap available this limits the lowmemorykiller to consideringnpages that are backed by files on physical media and can actuallynbe reclaimednnnedoffby seth forshe
9616,arm tegra move common platformdeviceregister into boardsnnnedoffby colin cross
9617,be tolerant of gps session and engine on status messages arriving out of ordernnbug   mike lockwood
9618,edit number before call option in contactlistactivitynid
9619,fix for gps engines without separate session and engine status eventsnngpsstatussessionbegin now implies gpsstatusengineonnand gpsstatusengineoff now implies gpsstatussessionendnid  mike lockwood
9620,defect  edit number before call option in contactlistactivitynid
9621,removed ununsed imports and unused variablesnid
9622,removed duplicate build pathsnid
9623,pthread introduce pthreadsetnamenp as a mean to give names to threadsnn so that each cloned process at the kernel level can be namednindependently tools like  can display the cpumemory statisticsnfor each  thread if show threads mode is onnnwith this function in place we can convert dalvikthreadc setthreadnamenfunction over this function this feature ought to be provided by thenunderlying c library and not coded directly in dalviknid  andré goddard rosa
9624,add support for devbususb file system and add new unix group aidusbnn now creates files in devbususb for user access to usb devicesnfiles are chmod  with group aidusbnnnedoffby mike lockwood
9625,removed some warnings added type argumentsnid
9626,fix for gps engines without separate session and engine status eventsnngpsstatussessionbegin now implies gpsstatusengineonnand gpsstatusengineoff now implies gpsstatussessionendnid  mike lockwood
9627,gpslocationprovider do not release wakelock until the gps engine is fully offnid  mike lockwood
9628,defect  edit number before call option in contactlistactivtynid
9629,reduced warningsnid
9630,removed unused imports and variablesnid
9631,be tolerant of gps session and engine on status messages arriving out of ordernnbug   mike lockwood
9632,phone display supplementary service notificationsnncallnotifier registers for svc notifications and the messagenis displayed in the form of toast to the user with the appropriatentext depending on the type of notificationnid
9633,use integer for loop counter instead of floatnid
9634,check for the absence of a framenthis crashes in the situation where the xhr responsexml method is beingncalled on a document with meta
9635,minor tweaks to match  internal codennthis better aligns the two variants of the code to try to avoidnfuture merge conflicts and other surprisesnid
9636,moved androidemulationsetup from androidmainc to androidqemusetupcnid
9637,add all new source folders in a single pass in new project wizardnid
9638,do not submit use compiler directive usearabicskia to enable the arabic support either in skia or in canvasnid
9639,add new remote control servicennthis patch exposes the new screenshot functionality to applicationsnnan application which is signed by an authorised key can use the newnremotecontrolservice to grab screen images and to inject input eventsnning keys can be authorised at os build time or via a new internalnapi with signature level permission alternatively remote controlncan be enabled globally the user will have to dismiss a warningnmessage to enable thisnnthe service is accessed via the androidosremotecontrol java packagenapi documentation is provided in this package in javadoc format andnends up in the standard sdk documentationn
9640,commandline tool to authorise and deauthorise remote control applicationsnnadd a module to the svc commandline tool which can add and removenauthorised keys tofrom the  database this cannbe used from adb shell but not from other shellsnnto add an authorised applicationnn$ svc remote add comrealvncandroidsampleservernnto revoke an  authorisationnn$ svc remote del comrealvncandroidsampleservernid
9641,add support for incremental screen grabbingnnthis builds on a previous patch to provide support for grabbing onlynthe areas of the screen that have changed since the previous grabnthis greatly improves performance for applications such as vnc serversnthat want to react to display changesnna new boolean parameter  has been added to grabscreennif true the function blocks until the screen changes rather thannreturning immediatelynnanother parameter  returns the changed area of thenscreen to the calling applicationn
9642,add javalevel apis to new screen grabbing functionalitynnthis patch extends the surfacesession object to expose the newnscreengrabbing interfaces to java code within the core android osn
9643,choose native library with best match instead of last matchnid
9644,arm tegra  fix  driver behavior on timeoutnacknid  colin cross
9645,adding mimetypes to the mimetype map used in the web viewnnsometimes a web server reports a faulty mime type usually when the mimetype for thisntype of content is not configured on the server in this case the server might reportntextplain as the mime typennwhen this ocurrs the phone opens this content as plain text inline in the browser insteadnof asking system if this is supported by any applicationnnthis is the case for the following mime typesnnxmf which mimetype is audiomidinmxmf which mimetype is audiomobilexmfnamr which mimetype is audioamrnnby adding these mimetypes to the lookup table in the browser it is possible to guess thenreal mime type based on the file extension and asks the system for support for thenmimtype in the table fixing the problemnid
9646,defect  delete contact based on contact idnid
9647,defect  number before callnid
9648,arm tegra gpio mask irq sense typenid  colin cross
9649,remove sym isprintingkey false checknnbug  vendors desire to share the sym key with printable charactersntherefore take out the check that enforced that isprintingkeynreturned false when given sym leave the other false checks thoughnto make sure the method  always return truenid
9650,arm tegra clock add dsi clocknid  colin cross
9651,arm  smartflex remove warningnnnedoffby dmitry shmidt
9652,disable library for
9653,fix some typos and other cosmetic cleanups in telephony frameworknn fix typos in javadoc and commentsn fix javadoc link references to other classesmethodsn rename missinguknownapn to missingunknownapn in dataconnectionn remove unused and misspelled retryies consts in retrymanagernid
9654,fix npe in onactivityresult when target fragment no longer existsnnif an activity result comes in which originated from a fragment thatncan no longer be found an attempt is still made to call a methodnon the instance the check for null already existed to produce anlogging statement but the subsequent method call was not placedninto an else result in the attempt to call being made every timenid
9655,fix potential npe when saving fragment statennif a  saved view state is null and the usernvisible hint is true then the result bundle will havennever been ialized to a value resulting in annullpointerexceptionnid
9656,do not dispatch context selection events to nonvisible fragmentsnnwhen used in a viewpager fragments that are present on the adjacentncached pages will receive context selection dispatches which dependingnon your fragment contents can be difficult to determine whether or notnthe event truly originated from your viewnnby using the visible hint we restrict dispatching to only those fragmentsnwhich are marked as being visible since the fragment pager adapternupdates this setting properly most implementations will be afforded thisnfix without any change required if the user is implementing their ownnadapter they likely already understand the implications of these cachednfragments and the reponsibility for updating the boolean falls to themnid
9657,regulator fix regulator setup code patch lost in mergennovero broken after recent mainline mergennmake the regulator setup code simpler and more consistentnn the only difference between booton and alwayson isn that an alwayson regulator  be disabled both willn be active and usecount will be  on return from setupnn regulators not marked as booton or alwayson  be active and usecount will be  on return from setupnnthe exception to that simple policy is when  a nonlinuxninterface to the regulator eg if either a dsp or the cpunrunning linux can enable the regulator and the dsp needs it tonbe on then it will be onnnnedoffby david brownell  tony lindgren  mike chan   mike chan
9658,fix the library project filter to not npe on broken projectsnid
9659,add some documentation about the thread safety of cursor and some of the sqlite classesnid
9660,defect  edit number before call in contactslistactivtynid
9661,add compiler directive usearabicskia to enable the arabic support either in skia or in canvasnid
9662,change license for the uus information filenid
9663,viewanimationtest qvga fixesnnbug  animations time out because the view being animated is notnvisible on the screen this is because the layout being used hasntwo views that are  pixels in height and push the animatednview down just use the first view in the layoutnnalso incorporate a prior fix for testclearduringanimation whichnwas incorrectly asserting about the animation endingnid
9664,watchprops would go to  cpu after processing first changenid
9665,rootdir rc fix typo in chown of devcpuctlnnnedoffby san mehat
9666,blank lines within class declarationsnset before field declarations value to
9667,show confirm dialog at sendingdeleting messagenid
9668,merge assembly coded  and
9669,add ti usb vendorid support for adb hostnid  raja
9670,implement user event transmission between the ui and the corenid
9671,hardwareril update the comments section for rilrequestradiopowernndocument the new state that is introduced for rilrequestradiopowernto handle phone poweroffnid
9672,appsphone notify ril about the phone poweroffnnthe change is to separately notify ril about the low power modenand the actual phone poweroffnid
9673,frameworksbase notify ril about the phone poweroffnnthe change is to separately notify ril about the low power modenand the actual phone poweroffnid
9674,adds documentation for contentresolver notifychangennadds clarifying documentation to contentresolvernotifychange tonexplain interaction with the sync frameworknid  steve pomeroy
9675,fix uicore display depth mismatchnnthis patch fixes a problem where the  framebuffer wasnincorrectly ialized to a pitch of  by defaultninstead of  when using a  framebuffernnthe reason for this was complex but essentially when thenmachine ialization was moved before the display one innvlandroidc this changed the way the displaystate wasnializednnalso get rid of the useless and confusing displaystatenglobal in vlandroidc not the same than displaystate innconsolecnid
9676,merge remote branch  into mergen
9677,pandaboard kernel  arm  panda force headset state to  asoc audio add parameter to force a headset  alsa soc  add switch based headset detection  arm  add thermal support to   hdmi detect hdmi connection state at probe  revert hack dsscomp remove uv check in grallocqueuenid
9678,fix eclipse download linknid
9679,fix window leak problems in settingsnnthere were window leak in the settings applicationnthese leak happens when an alertdialog displays rotate the phonenthen it would cause window leaknid
9680,get rid of floating point operationsnnthis was only needed for the optional  builtinnand the shell  ever need floating pointn
9681,corrected debug message in windowmanagernnwhen windowmanager reports key dispatching timed outnit prints out information about the window state that wasnpresent at the time the key was sent to that windownthere is a minor error in the class representing thenrecorded window state so that the currently focused windownis printed instead of the recorded focused windownid
9682,remove files that are handled elsewheren
9683,fix for concurrency problem accessing a cursorwindow from two threadsnnif two threads are concurrently calling sqlitecursorfillwindownnothing prevents the second thread from resetting the cursorwindownwhile it is still being accessed by the first causing a crash innthe native layersnfixed by taking the database lock in sqlitecursorfillwindow insteadnof waiting until sqlitequeryfillwindownid
9684,add vendorpvopenn
9685,defect   delete contacts should be based on contact idnid
9686,update printfc from mirbsdcurrentn
9687,a button in the master clear information screen was partly hiddennnthe master reset button was partially hidden in landscape modenthis change nests the current layout in a scrollview making thenlayout scrollablenid
9688,minor tweaksn
9689,update to mksh   was released today since the snapshot i ially begannworking on is close enough the build system requires no furnther changesnnthe source code is still unmodified from upstreamn
9690,add temp sensor device filennadd the temp sensor device file to the  directorynid  dan murphi
9691,thermal introduce omap cpufreq coolingnnthis patch implements the cooling strategy by limiting thenmaximum allowed cpufrequency on omap devicesnnthis patch implements the cooling device in the omap cpufreq drivernid  eduardo valentin
9692,net wireless bcmdhd add rssi and setsuspendopt private commandsnnnedoffby dmitry shmidt
9693,update nodeliveryreports list for smsnnadd boost mobile to the nodeliveryreports listnid
9694,turnoff implicit gnu make rcsccs rulesnnthis small patch prevents gnu make from stating rcs and sccsnspecific files on the filesystem this makes the output ofnmake d slightly more readable and also reduces the nochangentime on aosp master by a bit less than a second on averagenid
9695,omap add bandgap defines to the control modulennadd the defines in the control module for the omap ondie tempnsensornid  dan murphi
9696,add thermal framework to the staging areannadd a thermal framework to the kernel so that thermalnsensors thermal governors and thermal cooling agentsncan registernnthis framework presents a single point of thermal integrationnthe framework is responsible for receiving the temperaturenfrom the temp sensor and pushing the temperature to the correctngovernornnthe temp sensor is expected just to report the temp for a particular domainnthe governor is the policy holder for the specifc domainnthe cooling device is the agent used to cool the specific domainnnthe sensor governor and cooling device are linked via the domainnamenentry in the thermaldev structurenid  dan murphi
9697,update staging makefile and kconfignnupdate the makefile and the kconfig for thenthermal frameworknid  dan murphi
9698,invoke the pv fileextraction scriptn
9699,call log application enhacementnid
9700,in memsetc  was wrongly being set instead of the value passed by the caller modified code to fix this bugnid
9701,crash for standalone documents with meta viewport elementnnif a standalone html document is created using javascriptnand if that document contains a meta viewport elementnthen it will crash in documentprocessmetadatasettingsnsince frame will return  example running the following javascript function willnexhibit the crashnn function runtest n var newdoc  documentimplementationcreatedocumentn  html nulln var head  newdoccreateelementheadn newdocdocumentelementappendchildheadn var body  newdoccreateelementbodyn newdocdocumentelementappendchildbodynn var meta  newdoccreateelementmetan metasetattributename viewportn metasetattributecontent  headappendchildmetan nid
9702,add viewinvalidationobserver to view classnnthis makes it possible for a program to be notified when a view is invalidatednand needs to be redrawn can be used for example when drawing views tonoffscreen buffers and using them on opengl surfaces without this featurenyou have to rerender view offscreen every frame to be sure you dont miss anynupdatesnnhave example of list on  surface up and running using this patchnnupdate for effieciency removed iterator only one if statement evaluated inninvalidate if no listener presentn
9703,defect  fixed to view notes data fullynid
9704,follow up to  pvme and fmu build break fixn
9705,pvmfrecognizer improvements including things like multipass recognition etcn
9706,add and document nomedia constant for mediastore issu
9707,video camera optionsn
9708,issue while processing requestport command in nodeinterfaceimpln
9709,engine unit test failuren
9710,internal build configuration changes for dtcpip pluginn
9711,memory leak in video telephonyn
9712,provision for accountid in pvmfdomainlicensedatasource and custom data in pvmfcpmlicensestatusn
9713,emulator opengl updatesimplify build scriptsnnthis patch is a major rework of the build openglemulationnbuild scripts see readme for detailsnnin a nutshell this introduces various functions that considerablynsimplify the declaration of the  modules in this implementationnby handling autogeneration of sources and module importsexportsnid
9714,omap iommu disable interrupts if mmufault is not handlednnif the mmufault callback registered by the user is not able tonmanage the mmufault we need to disable the interrupts tonavoid being interrupted again an againnnbefore when a mmu fault happended iommudisable was being callednhowever it gives an unhandle abort when user calls iommuput because thenmodule clocks are already disablednnalso it removes irq acking from  function duento mmu tables are not updated with a valid pa so there is no pointnacking the interrupt and status flag will be set againnnnedoffby fernando guzman lugo
9715,rproc add fatal error notifications for rproc usersnntwo new functions are added so that rproc users can registerunregisternfor fatal error notifications once a fatal error is notified thenremote processor is not usable anymore and rproc handle should benreleasennthis patch includes mmu faults notifications new fatal errors willnbe added in the futurennnedoffby fernando guzman lugo
9716,input  revert to anonymous   mt protocolnnandroid at least up to gingerbread does not understand the  first made available in  this patch replaces thennew  way of doing things with  codennnedoffby jason gereck
9717,input  use mt protocol for all event typesnnandroid specifically gingerbread at least ignores all singletouchnevents from multitouch capable devices this patch augments thenpen and singletouch handlers to emit mt events for  consumptionnnnedoffby jason gereck
9718,net wireless bcmdhd add rssi and setsuspendopt private commandsnnnedoffby dmitry shmidt
9719,net  tcp fix crash in tcpnukeaddrnniprouteoutputkey can return an errptr  dereference itnid  colin cross
9720,add support to ant for dependency checkingnnthis change adds dependency checking to the ant generation ofnrjava if no resources have been changed or added since thenlast generation of rjava then that call to aapt will be skippednid
9721,net  tcp fix crash in tcpnukeaddrnniprouteoutputkey can return an errptr  dereference itnid  colin cross
9722,structure alignment for wmdrmn
9723,tidy up strndupnnit decreases code sizen text data bss dec hex filenamen      strndupbeforeon      strndupafteronnnedoffby andré goddard rosa
9724,problems opening outgoing video channel in video telephonyn
9725,optimize bsearchnn by checking most probable condition first element differsnnnedoffby andré goddard rosa
9726,remove android crosscompilation support from internal build systemn
9727,remove unneeded branch on deletedelete operatorsnnoptimize them by removing redundant not nul check already done in freennnedoffby andré goddard rosa
9728,send correct yuv format to the vmio instead of pvmfmimeformatunknownn
9729,improve readability fix identation and remove trailing spacesnnnedoffby andré goddard rosa
9730,dlna dtcpip of ppb implementation between dmnode and cpmn
9731,added russian keyboard layoutn
9732,arm goldfish increase framebuffer aperture sizennthis is needed to support higher resolutions eg  the android emulatornnnedoffby david  turn
9733,fix buildnid
9734,porting unsubmitted cupcake sax testsnnremoved useless lines renamed variables and added additionalnchecks to make sure listeners were being callednnsquashed commit of the followingnncommit  wed nov     integrate unsubmitted cupcake change  tcts add testcase for androidsax packagenn changeid
9735,add usesfeature for live wallpaper samplen
9736,build ported sax tests for ctsnnbug
9737,upstream misc integration includes qobjecth and related sourcesnid
9738,add fsckmsdos that was missingn
9739,upstream move ioport code to ioporthcnid
9740,arm  mux change pin muxing for  pinnid  guangrong lin  david d
9741,fix build on some linux machinesnnthis adds lpthread on linux for aapt and localize which appear to benneeded on some linux distrosnid
9742,update prebuilt  to  version of flex  included in prebuilt was compiled for thenppc architecturennos x  snow leopard does not install rosetta by default to allow thenexecution of ppc binaries which causes build issues with webkit on thatnplatform this commit is a fresh compile of flex  as an  binarynwhich should work for all  platformsnnthe build error encounteredntarget generated libwebcore  externalwebkitwebcorecsstokenizerflexnyou need the rosetta software to run  the rosetta installer isnin optional installs on your mac os x installation discnnthe output of lipo info  before commitnnonfat file  is architecture ppcnnoutput of lipo info  with this changennonfat file  is architecture  was compiled with  with the arch  flagn
9743,add sax tests to test defionsnnbug  these so they appear in  test listnid
9744,syncing autogenerated config with   uptodate with autogenerated confignnnedoffby leed aguilar
9745,add a findleaves function to replace findleavespynid
9746,omapwdt adding autopet config in suspendresume routinesnnthis patch adds  config option innsuspend and resume routines by doing this all autopetnimplementation will be restricted to the above menu confignoptionnnalso this patch fixes a compilation issue by not  in the default configurationnnnedoffby leed aguilar
9747,enabling oprofile in  oprofile  by defaultncurrently we are using  targetnnnedoffby leed aguilar
9748,arm omap gptimer based event monitor driver for oprofilenna second revision of gptimer oprofile  the fixes suggested by tony lindgrennntimers from the core domain seem to work best on  tested on nokia   and ti  siarhei siamashka  leed aguilar
9749,upstream haveiovec  configiovecnid
9750,upstream integrate tcg changes remove obsolete sources for unsupported targetsnid
9751,upstream add qemufdatasyncnid
9752,remove netbsd® ashn
9753,upstream integrate timerclock management changesnid
9754,import printfc from mirbsdnnretrieved viancvs qd anoncvsanoncvsmirbsdorgcvs co pa n srcusrbinprintfprintfcnnthis is derived from the original bsd source code and slightlynadapted to work well as optional mksh builtinn
9755,upstream remove obsolete softfloat bitsnid
9756,fix glreadpixels to verify that both x and y are nonnegativen
9757,upstream integrate various misc minor changesnid
9758,add vendorhtccommonopenn
9759,import mkshcurrent as of  from cvs qd anoncvsanoncvsmirbsdorgcvs co pa mkshnremoved makefile cvsnnthis code is not a contribution it shall be handled as an externalnsource the licence it is under is suitable for android it is bsdnlike and contains an explicit copyright grant and i know of no pantents covering a shelln
9760,add webp encoder support to skimageencodernnextending skiawebp interface to handle the webp encoding as wellnthe webp encoding is required for sharing webp images and transcodingnimages from other formats like pngjpeg to webpnid
9761,add webp to the list of image formats that support compressionnnnote the integrator of this change to android internal coderepo will have tonrun one extra step   to update  filencorresponding to approved api the aosp branch  have this filenhence i could not add the same to this change the updated  has to be submitted along with this changenid
9762,extended compression testcase for webp compressionnnthe bitmap testcase for checking the  enum andncompression for jpeg  png format has been extended for webp formatnid
9763,omap hwmod data for the ondie temp sensornnhwmod data for the omap ondie temp sensornid  dan murphi
9764,omapclock data for the ondie temp sensornnthis is the clock data for the ondie omap temp sensornid  dan murphi
9765,functions should not be defined when  is definedndouble checked with the zlibh from zlib
9766,runtime resource overlay for systemappapknnapply overlay apks in vendorapp to corresponding apks in systemappnnalso extend systembinidmap with an additional command line option tonspecify the package id   on which to apply the overlay thisnis necessary to handle apks with more than one package groupnid
9767,fix updating and deleting fdn entries with an empty alpha identifiernn fix adnrecordbuildadnstring to generate the correct record when alphanidentifier is empty this allows the user to update an fdn entry to removenthe alpha identifier previously the entire entry would be deleted becausenan empty record was generated here when the alpha identifier was emptynrather than a record containing the phone number with an empty alpha tagnalso return null if the number or alpha tag are too longnn fix bug in iccproviderdelete where eftype was compared against localnfdn constant rather than iccconstantseffdn this would always returnnfalse comparing with iccconstantseffdn gives the intended behaviornid
9768,cleanup to better match the reference versionn
9769,add script used in manually creatingadjusting androidmkn
9770,fix windows sdk build it seems it defines error as a macro somewherenid
9771,move handling of akmd to htccommonn
9772,and finally the hopefully working androidmk file for mksh as shn
9773,porting unsubmitted cupcake  need ctstestserver as suggested by removingndependencies on webviewnnsquashed commit of the followingnncommit  wed nov     integrate unsubmitted cupcake change  tcts add test cases for androidwebkitcookiesyncmanagernn changeid
9774,arm msm sdio add irq supportn
9775,add  implementation for androidnnretrieved fromncvs qd anoncvsanoncvsmirbsdorgcvs co pa n  is code written by me specifically for androidnand starts the series of commits that are contributionsn
9776,upstream integrate minor cleanupsnid
9777,add qcomproprietaryopenn
9778,add module licence and summary of legal notices of code actually compiledn
9779,add qcomandroidopenn
9780,delegate handling of qcom binaries to the proper makefilesn
9781,refactored the android manifest into sdklibnnapi change to make it use ifilewrapper instead of ifilennold androidmanifestparser changed to androidmanifesthelper whichnis now mostly wrapper methods to add eclipse specific parametersnnalso moved adtandroidconstantsclass to sdklibsdkconstantsnneeded by the parser and removed androidconstantsfnandroidmanifestnsince sdkconstantsfnandroidmanifestxml existed toonnmoved the eclipse implementation of iabstractfilefoldernid
9782,now that we have mksh nuke that ugly shhistory hackn
9783,shlistc is no longer needed without dshhistoryn
9784,audio aac encodern
9785,adt  implementation paste operationnid
9786,increased sms to mms threshold most of the mobiles support  pages for sms sms is cheap compare to mmsnid
9787,this changes is to support readwrite upto  records from efmsisdn file of simn
9788,usb composite add usbcompositeforcereset utility to force enumerationnnuse this rather than calling usbgadgetdisconnect and usbgadgetconnectndirectly to avoid sending usb disconnect events to userspace when resettingnthe busnnnedoffby mike lockwood
9789,added missing pctsyskeys to processoptions in monkeynnaccording to the developer guidelinesnhttpdeveloperandroidcomguidedevelopingtoolsmonkeyhtmlnit should be possible to run monkey with option pctsyskeys  adjust percentage of system key events these are keys that arengenerally reserved for use by the system such as home backnstart call end call or volume controls however when tryingnto run monkey with that option it fails withn error unknown option pctsyskeysnthe function processoptions in file monkeyjava was missing thenoption pctsyskeysnid
9790,fix signal strength issues with wext devices and add some handlingnfor the android driver command mechanism not all commands arensupportedn
9791,usb gadget composite move switchsetstate calls to a work queuennnedoffby mike lockwood
9792,fix hosttests to use the new ddmlib apinid
9793,net fix compilation of the  modulennfix compilation of the  module  does not exist anymorencurrenteuid is what needs to be usednnnedoffby steinar h gunderson
9794,defect fix  not able to view notes data fully in contact details viewnid
9795,update the monkeyrunner to use the new ddmlib apinid
9796,contactprovider set correct locale for the contact database when setting changednnwhen user change the language settings the contactprovider was not aware of thisnusing the onconfiguratiod method the contactprovider is aware of this changenand sets the locale in the database this will fix the problem that sorting isnwrong in the contactlist after a setting changenid
9797,fix cts to use the new ddmlib apinid
9798,crash on xhtml pages with form element but without namespace urinnwhen an xhtml page lacks the  attribute in its  elementnit results in the parser constructing a dom tree where eachnnode is of a generic element type this means that it is notncorrect to extract nodes from that tree and then cast the pointersnto htmlelement types to avoid the crash i have introducednchecks that the nodes in question are indeed html elementsnid
9799,corrected a bug in skpaintbreaktextnnthe bug occurs when linear text is meassured eg without thisncorrection the following test case will failnn string s  new stringabcdefn paint p  new paintn psetlineartexttruen float width  pmeasuretextsn int numberofcharacters  pbreaktexts true width nulln asserttruenumberofcharacters  slengthnnthe reason for this bug is that canonical text size is used to messurenlinear text while the maxwidth is not scaled correspondinglynid  peter eliasson
9800,resubmitting  on call logs added new options for sortingfiltering andndeletingnid
9801,adt  paste element in empty layoutnid
9802,fix a potential npe preventing the library project selection from workingnnif the workspace has broken projects sdkgetprojectstate can returnnnull for them causing an npe in the iprojectchooserfilternni had fixed nonlibraryprojectonlyfilter but apparently notnlibraryprojectonlyfilternid
9803,defect  of contact should be based on contact id not on lookupnid
9804,remove ui dependency from goldfisheventdevicecnid
9805,defect fix  not able to view notes data fully in contact details screennid
9806,disabling generation of thumbnail after video capturennthis is a temporary fix please do not merge this patchnnnedoffby anu sundararajan
9807,code refactoringn
9808,frameworksbase implement mutual exclusion in broadcastreceivernninvoke forcestoppackagelocked after acquiring a lock onnactivitymanagerservicethisnid
9809,do not merge mark select multicastsockettest tests as knownfailuresnid
9810,input  add irqflags to platform data struct to pass them to drivernnnedoffby rebecca schultz zavin  arve hjønnevåg
9811,extend android with cdma mobile technology support review comments fixednnthis is a clean upload of the first contribution of a project that has the goal to extend thenandroid telephony layers with cdma mobile technology supportnthe current release  of android supports gsmwcdma as mobile communicationnstandardsnour contribution will contain changes in the phone related applications thenapplication framework telephony packages and in the ril daemon library spacenthe implementation of the cdma support requires architectural changes in thentelephony package and extensions of the ril interfacenthe application interface sdk interface will be extended to providencdma specific featuresinformation to the phone related application and othernapplicationsnwhere ever possible the actual used radio technology is transparent for thenapplication using mobile connectionsnneach increment of the contribution will provide a pretested set of use casenimplementationsnthe final contribution will support cdma functionality for android phonesnsupportingneither cdma mobile technology only or a world mode including gsmwcdma and cdmanthe following cdma technologies are considered     evdonnthis contribution implements the following use casesnuc startupphonenuc initialize phonenuc access simruimnuc network indicationsnuc mobile originated callnuc mobile terminated callnuc network phone settingsnuc supplementary services partlynnwith these use cases the phone willn start upn access the cdma subscription and other information from memory of from the card either sim usim or ruimn register to the networkn provides registration status to the application for displayingn be able to handle incoming and outgoing voice callsn provide phone and call settings in the settings applicationn provide supplementary services in the settings applicationnnvarious review comments are also fixed with this contributionnnapproved by aravind mahishi aravindmahishitelecacomn wolfgang schmidt wolfgangschmidttelecacomn
9812,avoid array overrun we can now mount the sdcard partition on our boot sdcardsnid  bruce bear
9813,bluez  use a sensible write timeoutnnthe  msec write timeout is extremely optimistic a  msecntimeout is closer to realityn
9814,fix issue  no audible callwaiting indication when incall volumenis  the internally generated incall audio volume so that it isnnever muted which is already the case for the hardware routed incallnaudion
9815,move tools to  in the dev branchnid
9816,fix collectsourcesforsdk to collect dalvik core lib sourcesnnsdk bug
9817,device selector codenid
9818,remove files that  on
9819,commit  for android toolchainnid
9820,moved qemulator out of maincnid
9821,fix memory leaks in the open ssl java jni implementationnnit was found during long runs of stability tests of ournmessaging applications that something in the platform wasnleaking global references the leaks were tracked down tonthe open ssl implementation in the apache harmony librarynthat currently resides under dalvikn
9822,add support for acer devicesn
9823,commit  which is used to build  android toolchain in masternthe source is based on fsf  and contains local patches whichnare recorded in
9824,merge from donutn
9825,vold validate fwsock before trying fdisset itn
9826,add eclipse project files for ddmlibtestsnid
9827,kernel and wlanko for  internal commit
9828,remove lock from opensslsessionimpl finalizer to fix a deadlocknnin commit  code that “touches native ssl sessions� in opensslsocketimpljava werenmade synchronized by locking the opensslsocketimpl class unfortunately the same lock was used for instance counting whichnlead to situations where the native calls could end up blocking the garbage collector that was fixed in  it looks like we have run into a similar situation as in the latter case above again in the former commit above ansynchronization block was added to opensslsessionimplfinalize as well so what we see now is a crash where the garbagencollector is blocked from finalizing an opensslsessionimpl object because of a native call in opensslsocketimpl please seenthe crash stack belownthe solution we see is to remove the unnecessary synchronized block in opensslsessionimplfinalizenremoving the synchronization block is safe as in the cases where the opensslsocketimpl needs to touch the sessionid it holdsna reference to a living opensslsessionimpl object the opensslsessionimpl object cannot be collected as it lives andntherefore the synchronization on the opensslsessionimplclass is not                        at       atnorgapacheharmonyxnetproviderjsseopensslsocketimpl$      at    at    at       heapworker daemon                       at dalviksystemnativestartrunnative methodn
9829,spell system correctlynid
9830,add usesfeature for live wallpapersn
9831,add usesfeature for live wallpapersn
9832,remove old htcdream configurationnnwas replaced by aospdream which lives in a better locationn
9833,a few binutils and gold patches to make gold and safeicf worknid
9834,add usesfeature for live wallpaper samplenid
9835,add a pair of missing keyboard layoutsn
9836,prepare build for upcoming armlinuxandroideabi toolchainnid
9837,add usesfeature to the manifestn
9838,fix an out of boundary access in fatcnn from sd specifications  file systemn for next free cluster value ffffffffh indicates that there existsn no information about the first available free cluster it is an valid value however fatc  check the value before use itn as array index this will cause fsckmsdos coredump with somen micro sd cardsnid  ethan
9839,fix gridlayoutanimationcontrollertest for landscape modennissue  the number of columns fixed so that animation delays worknin whatever mode the phone is innid
9840,fix textviewteststestmarquee for landscape modennissue  wider landscape mode  cause the text to wrap and causena marquee enclose the text view in a framelayout and set thentext view to be small enough that it should wrap to cause anmarquee on any devicenid
9841,replace most raw types with proper generic types some tidyingnnmost of the minefield of raw types have been properly set as well asnremoving some unused imports and variablesnni think  still a lot of work to be done here classes and variablesnbeginning with my mycomparatormydata  be good and manynother variable names are poorly chosen  happy to tidy up this butnhopefully this is a good start nid
9842,added  usb vid  upon their requestnid
9843,added support for ldpreloadnnthe ldpreload environment variable allows the user to specify a list ofnlibraries which should be unconditionally loaded before any others thisnmakes possible some useful tricks such as library interposersnid
9844,added nec and  usb vids upon their requestnid
9845,fix movietesttestgetmoviepropertiesnnissue  returns scaled pixels butndrawablewidth does not scale the return values from width andnheight most of the time the api returns pixels but it seemsnthat getintrinsicwidth has returned scaled dimensions even fromndonutnid
9846,add  vendor id to fastboot clientnnnedoffby vikram pandita
9847,vold make volume daemon to handle state change from shared to nomediann when volume state changed from shared to nomedian volume is not properly unsharednid  ethan
9848,build buildmultiprebuilt for the prebuilt targetnnadd files included as prebuilts with buildmultiprebuiltnto be installed as part of the  targetnid
9849,removed unused import androidwidgetlinearlayoutnid
9850,upstream use configbsd instead of bsd and hostbsdnnalso fix os x build which failed with a link errorid
9851,adt  properly handle empty documents including  makes it possible to drop into empty documentsnid
9852,fix abslistviewtesttestpointtoposition qvga landscapennbug  the height of the first item of the listview to calculate thenposition of the second item and use the value in the pointtopositionncall rather than using a hard coded valuenid
9853,demo changenid
9854,bugs when connecting a socketchannel registered in a selectornnsee  fixed in orgapacheharmonyniointernalselectorimpl by verifyingnthat there is a connection pending when adding a writable fd to theninternal list of readykeysnna unit test is also provided in javanioselectortestnid
9855,added a c option to sunid
9856,use the new download manager apis introduced in chang
9857,net wireless  fix packet filter to only filter out nonunicast framesnnnedoffby dmitry shmidt
9858,add multiapk export lognnthe log is used to confirm that new export do not conflictnwith previous build the build file can also be used to setnperapk minor version codenid
9859,remove old unused download manager apisn
9860,upstream replace sysqueueh with qemuqueuehnid
9861,move the atom optimization flags into  libccrttargetcflags to be nonrecursive is necessarynid
9862,fix emulator os x build when using the android build systemnid
9863,fix parsing of escaped characters in rcnnfix bug of parsing token who contains the escaped charnthis commit can let the n t works well in rcnnnedoffby xinyu chen
9864,net wireless  add wakelock processing in ioctl and messagingnnnedoffby dmitry shmidt
9865,upstream hostwordsaligned  wordsalignednid
9866,usb gadget fix tegra udc in otg modenncheck the transceiver state before checking  the phy and the clock on cable eventsnid  benoit gobi
9867,working aslr implementation on korgmasternnseparate files for retouch functionality in updaternaslr for shared libraries is controlled by a in otafromtargetfilesnretouch logic can recover from crashes and uses the selfcontained binarynformat that apriori outputsnid
9868,arm tegra usbphy add tegrausbphypoweroffnid  benoit gobi
9869,working aslr implementation on korgmasternnseparate files for retouch functionality in updaternaslr for shared libraries is controlled by a in otafromtargetfilesnbinary files are selfcontained retouch logic can recover from crashesnid
9870,usb gadget composite add userspace notifications for usb state changesnnadd switch to notify current usb configuration this can be used to detectnusb connect and disconnect eventsnnbroadcast a change via the usbcomposite class when a usb function isnenabled or disablednnrename usbfunctionhidden to usbfunctiondisablednnnedoffby mike lockwood
9871,arm tegra add manual reset flag to clocksnid  erik gil
9872,fix the problem vmstat never stop even with a specific iterationnnthe condition check of iteration is ignored when it was set to  the ial value of iterations and modify the condition checknid
9873,fix some bugs in cts telephony tests for smsnn smsmanagertest was not reporting failure on wait timeoutn fix inner smsbroadcastreceiver class to wait for the correct time intervaln and to return success status in waitforcallsn  network  support sms delivery reports so  wait to receiven them if the sim card operator is  other mccmnc codes can be addedn to smsmanagertestjava if we find out that they also ignoren tpstatusreportrequestn device emulator also  support sms delivery reportsn remove unnecessary cast in ctssmsmessagetestjavan add override annotation in gsmctssmsmanagertestjavanid
9874,arm tegra fix tegrafiqdebugger include path to legacyirqhnid  rebecca schultz zavin
9875,arm tegra add pll lock delays and clock tablesnid  colin cross
9876,arm tegra move pinmux suspendresume into  the function  resume and reorder thenresume so that tristate settings are resumed after the pinmux functionnto prevent false edges from being observed by peripheralsnid  gary k
9877,arm tegra harmony use clock tablesnid  colin cross
9878,fix telephonymanagertest iso checksnneven though a device may not have the telephony feature it may definenthese properties if it uses a simnid
9879,switch to newstyle way of finding whether the device requires provisioningnnthis avoids using the private systemsettings classn
9880,only allow drag images for canvas dragsnnthe outline view reuses the drag source listener for the canvasndoing some tricks with mouse events to make it look like the drag isnoriginating within the canvas however the image previews of drags donnot work well in this case therefore stash data on the drag soucensuch that the drag source handler can only do image previews when thendrag source is really the canvas instead of the outline pagenid
9881,update the currentxml error messagennthe previous message contained some perforceisms that  applicablenin the git worldn
9882,set layout editor scrollbar incrementsnnfix  gingerbread layout editor scroll bar bugs part  the layout editor scrollbar increments to  they were  meaningnthat each click on the scrollbar down button would scroll the view bynone pixel rather than a chunk like  the scrollbar page increment to the visual height of thencanvas this means that if you click below the visible range in thenscrollbar it will jump a full scrollbar increment as expectednnthis is the first half of  the second half deals with somethingnunrelatednid
9883,switch to newstyle way of finding whether the device requires provisioningnnthis avoids using the private systemsettings classn
9884,video tegra nvmap perform cache maintenance for rwhandlennneed cache maintenance on rwhandle to removendisplay garbage issue which happens randomlynid  greg roth
9885,video tegra nvmap perform cache maintenance for rwhandlennneed cache maintenance on rwhandle to removendisplay garbage issue which happens randomlynid  greg roth
9886,net wireless bcmdhd fix memory poisoning in wlfreewdevnnnedoffby dmitry shmidt
9887,let mksh provide the cat kill lsmod and sleep commands if selectednn• cat supports only u as mandated by posix so we lose then  beflnstv options which are considered harmfuln anyway but as android has never had cat before it’s okayn• kill  matchn• lsmod just calls cat so mksh provides it as a builtinn• sleep mksh sleep can do fractional partsnnsaves  text  data  bss in toolboxnid
9888,net wireless bcmdhd fix memory poisoning in wlfreewdevnnnedoffby dmitry shmidt
9889,only build kvm support if usrincludelinuxkvmh existsnnsince it  on hardy where kvm was an external dkms modulennpart  of  make aosp build on hardi
9890,avoid getting null bssid when phone connects to an apnnwhen switching from one ap to another and receiving the networkstatechangednevent wifistatetracker will clear the value of bssid of the previous ap andnsend null value of bssid when broadcast event to wifilayer to avoid thisnissue preserve value of bssid before wifistatetracker clear it and thennbroadcast the preserved value to wifilayernid
9891,make sure dialog is not left hanging for invalid windowsnnproblem localbluetoothmanager is a singleton which manages a setnof cachedbluetoothdevice which can popup a dialog when disconnectingnhowever since this dialog is popped up in the context of a specificnbluetoothsettings instance and we can get multiple instances fexnwhen using home to exit out of settings and then restarting settingsnrepeatedly we must make sure that  handled correctly both innrespect to which was its parent activity when it was created andnin respect to switching orientation we  want to leak the dialognwindow when rotatingnid
9892,add   command to set rssi and bernid
9893,fix model lockingnnfix the bug where editors sometimes  be reopened due to annassertion in the xml model the includefinder code i added last weeknhad a mismatch between the type of lock acquired an edit lock andnthe lock released a read locknid
9894,front property sheet on outline double clicknnwhen you double click on an item in the outline tree view open andornfront the property sheet showing the selected itemnnthis  double clicking on an item in the outline window used to switchnto the properties tab but no longer does so with adt
9895,make the getdeletephoto queries locale safennthe getdeletephoto queries were using stringformat with defaultnlocale which is not locale safe switching to selection args tonbuild the queriesnid
9896,fix for writing empty strings to   is called with the following sequencenn   in the  the  string ie tempstring is not readninstead an empty string is readnnthe bug comes because of the write call for  where there arenno string bytes present in the write statement an extra ‘’ isnwritten during the marshalling following bytes are         ‘t’ ‘e’ nnthe  function has a check that if string length is  don’tnread anything so the first byte is read as the length for the firstnstring the second byte ie ‘’ is read as the length for the secondnstring and hence the second string becomes empty toonid
9897,force android to use the offset in nitznnif android has no countrycode set and receives a nitzmessagenit will wait with adjusting the timezoneoffset until it gets anproper countrycode this fix will make android when it has no countrycodenset use the offset in the nitz message to temporarily guess a country and timezonenthe timezone and country will update when the network sends a countrycodenid  christian bejram
9898,disable the unecessary else warningnnthis can be a matter of personal taste but i find it a lotnmore readable to write an if else sometimes and  valid so really it  be marked as a warningnid
9899,fix bus error when launching emulator on leopardnnthe emulator will crash on leopard when the host name cannot be  discussed  getaddrinfo returns nonzero value for error so should not check with getaddrinfo   socketscnthe emulator works ok when host name is null i think it should not cannot run when the host name is wrong vlcn
9900,update  for building libsupc in freestanding modennbackport upstream patch from gcc rev
9901,implement framebuffer core servicenid
9902,code refactoring in computescrolloffset the computed time between the start of the scrolling and the current time is equivalent to the time the scrolling is performing timepassedn
9903,add some documentation to webview websettings and cookiesyncmanagerndeprecate setusedoubletree to give it a better namen
9904,property sheet fix tooltip and selected property paintingnnthis cl contains the following fixes for the property  add a custom paint to the selection background in eclipse  andn  selected items in the property sheet are unreadable becausen they are painted white on white well at least they are onn macs this seems to be fixed in eclipse  in any case thisn changeset adds a custom paint listener which adds a mild redn gradient below the selection to make the property name  override the builtin property  display of the propertyn description such that it can take the property description andn linearize it remove newlines and make it into a single linen display itemnid
9905,fix the build issue when building installerimg with  the fix make installerimg would be failure due to there is no package create directory $targetoutdata this is the new issue introducted by patch at about
9906,fm radio add support for fm radio in androidnncreating interface and framework for using fm radionrx and tx from different vendorsnnnedoffby christian bejram
9907,add bit masks for support of lcdrendertext and bitmaptextnncurrently applications cannot use bitmap fontnbecause applications have no way to setnembeddedbitmaptextflag   in paint classnin order to use bitmap font  must benset in externalskiacoreskpainth by using setflagsnbut paint class  support this flag and application cannot setn it nownso i need to add embeddedbitmaptextflag to paintjavannfuthermore lcdrendertextflag should be defined  exists in externalskiacoreskpainth butn application cannot set the flag because  not definednin paintjavanid
9908,fm radio add support for fm radio in androidnncreating interface and framework for using fm radionrx and tx from different vendorsnndependson    christian bejram
9909,do not submitnnenabled modem inside qemudnid
9910,fm radio add support for fm radio in androidnncreating interface and framework for using fm radionrx and tx from different vendorsnid  christian bejram
9911,cts audiotracktest changing audiotrack buffer size from minbuffsize to  patch modifies the audio track buffer size for some test casesnif the buffer size is not multiple of framesize in trackwrite the audio track write functionnhangs as frame count framesize  match the buffer size sentneg if minbuffersize   buffersizesent         as it is fractional number considers as    and the write function hangs to get the remaining  bytesnnas buffersize is always multiple of framesize it is good to sent the entire buffer to trackwritenfunction to avoid this kind of issuesnid  karimuddin say
9912,serial tegrahsuart call complete callbacks when cancelling reqsnnupdates the tegrahsuart driver to match the changes in the tegrandma enginenid  colin cross
9913,combine missing class errors with logger errorsnnwhen there are missing custom classes or classes that cannot beninstantiated a special error display is shown with hyperlinks to thenclasses however this view does not incorporate the other loggingnerrors such as resource failuresnnthis changeset combines the output so that you see everything nmissing and broken classes resource warnings and any other renderingnproblemsnnit also makes the hyperlinks pointing to classes in the error outputnopen the class if it already exists and if not continue to opennthe new class wizard as beforenid
9914,arm tegra dma do not call complete callback on canceled requestsnncalling the complete callback when a request is cancelled leads tonlocking problems in the callback which could be called from an irqnwith no locks held or from whatever context calledntegradmadequeuereq instead expect the caller to handle thennowcancelled request as needednnalso removes tegradmadequeue since all users can be triviallynconverted to tegradmadequeuereqnid  colin cross
9915,reset the projectcallback when the rendering target changesnnthis is only done if the layout has custom views this isnbecause projectcallback caches classes but they are loadednusing the layoutlib classloader for type provided by thenlayoutlibnnsince the rendering target changed the layoutlib changednand we need a version of the custom view classes that usesnthe base types of the new layoutlib jarnid
9916,update test project with java dependencynnthe android project now has a custom viewnthat depends on a class in the referenced javanprojectnid
9917,cts audiotracktest changing audiotrack buffer size from minbuffsize to  patch modifies the audio track buffer size for some test casesnif the buffer size is not multiple of framesize in trackwrite the audio track write functionnhangs as frame count framesize  match the buffer size sentneg if minbuffersize   buffersizesent         as it is fractional number considers as    and the write function hangs to get the remaining  bytesnnas buffersize is always multiple of framesize it is good to sent the entire buffer to trackwritenfunction to avoid this kind of issuesnnnedoffby karimuddin say
9918,look for classes in java projects when loading custom viewsnneven if java projects  really contain custom viewsnthey can contain classes on which the custom views dependnthe projectclassloader now handles these projectsnd the way the layoutreloadmonitor deals with projectsnto handle referenced projectsnnalso fixed some api returning arrays to make them return
9919,remove xml content type binding from exporteditornnthis was added by mistake when we were investigating thenissue of bug  the contenttypebinding seems to benunused by eclipse when selecting the proper editor  still wrong to have it set on xml for the exporteditornsince this one uses exportproperties filesnid
9920,udpate changelog after  was updated to a newer version of masternid
9921,fm radio add support for fm radio in androidnntwo sample applications for the proposed fm radio apinid  christian bejram
9922,fix canvas scrolling bugnnfix the bug where zooming in then panning then zooming out couldnresult in lost scrollbars or the canvas no longer being in the visiblenviewportnnalso handle the page increment setting code more cleanlynid
9923,fix palette scrollbar bugnnfixes the problem that on mac when you close a palette category thenscrollbar thumb size was not updated the thumb value could be set  in that case which is ignored by swtnnthis changeset also sets the increment and the page increment on thenscrollbar to improve the behavior of clicking the scrollbar arrows ornclicking above and below the thumbnnthe changeset also sets all the values of the scrollbar in a single gonvia the setvalues call this should improve performance and innconjunction with the first fix to the thumb value i am hoping thisnaddresses issue  gingerbread layout editor scroll bar bugsnid
9924,fix ddms and hierarchyviewer bat files on windowsnnthese were not setting the bin dir properpty correctlynand as a consequence the tools complain they  find adbexennthe fix is to set it to the directory of the script but tonavoid spacesinpath issues we use the fs modifier to getna spacefree short name for the cd value and since we  use cd combined with fs we use a for loop trick to set itnnnote that ddmsbat was in unix endofline mode so i changed itnback to dos endofline modenid
9925,fix javadoc for layout lib apinid
9926,remove temporary vold logicn
9927,cleanup to better match the reference structuren
9928,fixed issue  ringtonegettitle does not close it
9929,arm msm camera add vfefree to complement vfeallocnnnedoffby iliyan malchev
9930,arm process use ubersafe probekerneladdress to read mem when dumpingnnthis prevents the dump from taking pagefaults external abortsnnnedoffby san mehat
9931,readded librpc to boardgpslibraries to fix the dream buildnnthis is the same change made in  that seems to be missing form the current version and breaking the buildn
9932,fix issue  no interleaving to  files for just one tracknnthe patch efficiently reduces latency when playing pure video filesnwhile they are recorded tests showed that pure video contents arenok files with audio and video are unchangednnthis patch has been submitted and got merged ealier but it wasnlost probably with the drop from  it is suggested tonbackport it to the opencore sources to avoid loosing it againn
9933,fix buildn
9934,rpmsgsampleclientserver fix section mismatchnnnedoffby iliyan malchev
9935,code cleanupnnbasically fix as many warnings in eclipse as possiblenn remove unread variables unnecessary callsimportsn try not to use deprecated apisnid
9936,rtc alarm update hrtimer if alarm at the head of the queue is reprogrammednnif an alarm was restarted with a value that moved it away from the headnof a queue the hrtimer would not be updated this would cause unnecessarynwakeupsnid  arve hjønnevåg
9937,panda fix rebootsnnthe pandaboard does not use the vusim or  power regulators on the  are left floating if the vusim and  power regulators are ilizednnoise on the unloaded regulators generates an overcurrent interrupt causing thensystem to power down this patch removes the ialization of the unused powernregulators of vusim and  david and
9938,fix some tests to support different kcmsnn datetimekeylistenertesttimekeylistenertestnn check that the letters like  and  can be producedn by the keycharactermap because datetimekeylistener willn return  if a is mapped to  this is because  appearsn first in the array of acceptable characters first this isn likely a bug in datetimekeylistenernn numberkeylistenertestnn check that the implementation of lookup somewhat worksn by having getacceptablechars return nothing to test thatn that lookup does reject characters when configured to do sonn textviewtestnn remove the sending of key events in the setgetkeylistenern tests since that is covered by other tests make the testn that checks that errors are not cleared when entering ann unacceptable character by using a listener that rejects alln charactersnid
9939,do not submitnnrun  inside vboxnid
9940,do not submitnnbuilds  modules to run under vbox emulatornid
9941,enhance wsptypedecoder to decode content type parametersnnthis patch enables wsptypedecoder to correctly parse content typenparameters as described in the  wsp  section  which are then passed onnas part of the wappush intent notificationnnit also recognises all well known wsp content types and simplifiesntheir retrieval ie a well known content type will always benavailable through the wsptypedecodergetvaluestring methodnid
9942,update config filesnnalso delete obsolete documentationn
9943,skia merge revis
9944,pullfile exception handlingnnmake syncservicepullfile throw syncexception instead of ioexceptionnif it cannot write to local filennbug
9945,sort tool category at the topnid
9946,rename sort by source to sort by repositorynid
9947,sort extra packages by vendorpathnid
9948,temp pvrkm allow tiler memory to be wrappednnosacquirephyspageaddr assumed that a given virtual address wouldnmap to a page frame number corresponding to memoryram in the kernelnfor tiler memory this assumption would fail as the mapping would be tonthe tiler virtual address spacennthis change adjusts this assumptionnnnedoffby iliyan malchev
9949,temp sgxkm increase sgx general heap workaroundnnincrease the sgx general heap size at the expense of the parameternbuffernnnedoffby iliyan malchev
9950,fixed small memory leak in aaptnnthis change updates the way bundle handles the manifestminsdkversionnsetting this is changed from a char to a  this is donento keep in line with the style of bundle that is to contain in  strings and settings that are local to it and only maintainnchar members which point to memory that is managed by other classesfunctionsnsince this particular char was not managed by another class this resulted inna small memory leak the public api for bundle remains unchangednthe code that sets this paramater of bundle has also been modified to getnrid of the offending call to strdup which caused the leak and is no longernnecessarynid
9951,update webkit to work with the latest skia
9952,avoid using the  cross toolchain if it  work…nn… eg when compiling aosp on hardy itself since the prebuiltnbinaries were not compiled with this nice cross toolchain… õõnnpart  of  make aosp build on hardi
9953,select  if  is unusablennpart  of  make aosp build on hardi
9954,allow building on  linux targetsnncheck $uname for presence of “� and assume  otherwisennpart  of  make aosp build on hardi
9955,allow building on  linux targetsnnpart  of  make aosp build on hardy  hereby certify that this aosp build generic targetnran through on my hardy  system with   a working imagenid
9956,avoid using the  cross toolchain if it  work…nn… eg when compiling aosp on hardy itself since the prebuiltnbinaries were not compiled with this nice cross toolchain… õõnnpart  of  make aosp build on hardi
9957,select  if  is unusablennpart  of  make aosp build on hardi
9958,better way to find whether the device requires provisioningnnthis has the advantage of not relying on nonpublic apisn
9959,opengles  encoderdecoder implemenationnnthe purpose of this implementation is to enable to the android emulatornto use the host graphics hardware for opengl renderingnthis change code lives under  includes the following  opengl encoder  opengl decoder  testing render control api   linux only unit test program  linux only host side egl wrapper  guest side eglgles implemenation wrapp
9960,emugen a tool to generate wire protocol codennemugen is a tool that can be used to generate code thatndeals with marshalingunmarshaling request tofrom a wireprotocolnits input is an api defintion files and its output is c sourcencode for the client caller and the server callee sidesnnsee readme file for more detailsnnthis submission is resubmission of code that lived undernsdkemulatoropengl however it also includes minor updatesnin apigencppnid
9961,device admin cts verifier testsnnbug  screen lock testnn checks that the screen locks immediately after callingn  locknow  policy serialization testnn checks that policies are saved and loaded properly acrossn rebootsnid
9962,add test case on  api suggestdesireddimensionsnnedoffby zhihong guo
9963,removing emulatoropengl from the sdkgitnnthis project code is moving to live under developmentgittoolsemulatornid
9964,add test case on  api suggestdesireddimensionsnid
9965,add test case on the method suggestdesireddimensions of wallpapermanagernid
9966,fix locationtest to support more localesnnsome locales use a comma rather than a period for decimal numbersnmake sure the test uses localized decimal stringsnid
9967,temp omap dss enable video decodingnnadd global alpha settings for video  overlay inndispcsetupglobalalpha on   has global alphanid  lajos molnar  dss fix incorrect  compatibility settingnnalpha blending is always enabled on  the meaning of thenalpha enabled bits in dispcconfig registers now enabled  mode which disables zorder settings this is notnwhat we want when we set alpha blendingnnthis patch sets alpha blending always to true on  also turns off  compatibility mode for now and reportsnthe compatibility mode results when querying dispcalphablendingnid  lajos molnar   add dispc  pipeline  and writeback pipeline registers have a linear relation introduce thesenregisters and access these registers in dispc functions add a dssfeature  pipelinennconfigure color conversion and global alpha for this new pipelinennalso create overlay object for the new video pipennnedoffby archit taneja  lajos molnar   add zorder support on  zorder support on  this feature allows deciding the visibility ordernof the overlays based on the zorder value provided as a sysfs attribute of thenoverlay objectnnsince this feature is not supported on  and  the sysfs attibutesnalways return zorder as  and do not write to dispc registers for non  sumit semwal  archit taneja  mark tyler  lajos molnar  dss making the deault color format of framebuffer  the default color formatfrmamebuffer haswas  but sgxnis producing data in  alsosgxthe fb driver userdoesnt negotiatesnwith fb driver for the format and thus fb needs to provide  to alignnwith sgx  mark tyler  added tiler support for dssnnadded support for displaying buffers located in the tiler  containersnbuffers in tiler  containers can be displayed using omapdssrotdmanid  lajos molnar   add callback for tracking overlaymanager changesnnthis patch allows tracking when a particular overlay or managernchange has taken place and when it is eclipsed no longer usednnin  overlaymanager information travels through   software overlaymanager  software cache on  hardware shadow registers on  hardware dispc on vsync or goenablenncallback information for each settings can be passed as part ofnthe info structure  which is the following structnnstruct omapdssovlcb ntvoid fnvoid data int id int statusntvoid datannnid contains to the overlaymanager indexnnif fn is null no callback will take place otherwise callbacksnwill be generated on programming when settings get into thendispc when the settings are displayed and on eclipse when settingsnare overwritten by newer settings depending on the stage where theneclipse happens a different callback is generatednnstatus is one of the dsscompletion enum values specifying the eventnndsscompletioneclipsedset info was overwritten at stage  info was overwritten at stage  info was overwritten at stage  info was overwritten at stage  after successfullynbeing displayedndsscompletiontorn info was overwritten at stage  before it wasnsuccessfully displayednndsscompletionprogrammed info moved from stage  to stage  this followsnthe prior  callback of dsscompletionreleasedtornnndsscompletiondisplayed info in stage  has been successfully displayednthis callback is received on every frame refresh if only the first displaynis required it needs to be filtered out in the callbacknnyou can use the dsscompletionreleased flag to see if an info has beenneclipsed so you  have to check for all  valuesnnthere is a fundamental issue with tracking dss settings in the  framework pipelinemanager settings are programmed first intonan info structure that stays around these settins can be modifiednpiecebypiece as they are done using the sysfs framework theoreticallynthese cause the old settings to be eclipsed by the new settings howevernsysfs interface is used to augment the other  users that would registernfor these callbacks therefore we need to treat these partial updatesnspecially for now if the callback function and data are the same na different status is used dsscompletionchangedsetnnnow these auxiliary interfaces also apply the changes automatically so ansimilar method needs to be used at level  dsscompletionchangedcachenthis however causes callback info to stay around at the level  making it not useful for tracking the status we cannotnguarantee that the information is tracked from setting to releaseeclipsenif future settings may end up reusing ignorantly the same callback infonnfor now the callback info is cleared at level  when transferred tonlevel  if other callback unaware  users modify overlaymanagernsettings eg using sysfs controls in any way they will not resetnthe callback we err on the side of sysfs and we will not treat ansettings application transferring level  info to level  as eclipsednif the  callback method is empty this works for sysfs changesnbut we will be a missed callback if  or fb is changing the basenaddress and we are using the callbacks to track buffer usagennthe other issue is using sysfs to enabledisable an overlay we maynget a released event on disable but no usage callback is done onnsubsequent enable because sysfs will not request a callbacknid  lajos molnar  mark tyler  new composition modulennthis patch implements a new dss composition modulenndsscomp allows specifying a whole composition for a dss displaynn  set overlay information for all overlays on a managern  reroute the overlays to the manager overlay must be disabledn just as when using sysfsn  set manager informationn  optionally call  that programs the dispcn  optionally do an update after a sync callnn dss already implements coordinated updates by separating overlayn information setting from the applicaion of those settings whichn happens only in  however current users of dssn call  for each change which make coordinatedn change impossiblenn this api also implements auto cropping of all layers to the displayn region this makes switching displays and handling display resolutionn changes easier without getting failed to setup overlay messagesnndsscomp operates on  levelsnnbasec contains the basic dss operations such as setting dss overlaynand managers using  setting structures theoreticallyndsscomp could be used via only these operationsnnqueuec contains the queuing mechanism this module maintainsncompositions queued to each overlay manager the basic dss compositionnentity each composition is referred to by a unique syncidnqueueing operations consist of creating a composition settinggettingnmanageroverlay information for the composition applying thencomposition to the display which also displays it on manuallynupdated panels waiting on various states of a compositionnnfor now the basic queuing mechanism of dsscomp is queue and forgetntherefore it is not necessary to dequeue each frame queued anconsequence of this methodology is that if one applies a compositionnto a display any prior unapplied compositions will be droppednnthe queuing interface tracks which overlay is assigned to whichnmanager this is done at the dss programming level as that is thenmost reliable place to monitor overlay ownership nonethelessnthe device interface uses overlay information to verify overlaynownership which may be slightly out of sync the user ofndsscomp should maintain overlay ownership to ensure flawlessnsharing of overlays between managers eg should not use annoverlay on a new manager until the overlay has been disabled onnthe previous manager and that composition has been programmednndevicec contains the device hooks to operating system and the fileninterface via  ioctls devdsscomp works on top ofnthe queueing mechanismnnthere are  levels of header filesnnlinuxdsscomph basic dsscomp structures and ioctlsnplatdsscomph kernel dsscomp interface on top of linuxdsscomphnlocal dsscomph common implementation structures and shared methodsnnnote platdsscomph defines a handle typedef that causes ancheckpatch warning i feel that the creation of a handle typedefnis warrantednnlimitationsn no wb supportn unsure whether to call sync on nonmanual update panelsn cannot get overlaymanager information on a composition withoutnfirst having set itn not fully operational still debugging some unit test issuesnid  lajos molnar  add dss composition module to buildconfig systemnnthis patch links in the dss composition dsscomp module into thenbuild and configuration system dss composition is enabled by defaultnid  lajos molnar  mark tyler  hack adapted to dsscompnnomaplfb must call  apply so that the related overlaysnare also programmed into dssnid  mark tyler  lajos molnar  jumbo patch to enable predecimationnnincludes the following fixesn fixed color format modes for nongfx pipelinesn fixed  support in  mode buffern added all color formats to configureoverlaynnpredecimationn added predecimation support for  buffersn added scaling decision predecimationn added conservative fclk calculationn added sysfs controlsn tied into dsscompnnnedoffby lajos molnar  fix maxdownscale limits for  in dispc setup planennnedoffby mark tyl
9968,simplify packages names fix extra package sortnnsimplify package names when sorted by api that  repeat api nn or android xy in the packagennames if it matches to categorynnfix sorting of packages to properly sort extrasnby vendorpath the previous sort was broken asnit was making the revision number more importantnthan the vendorpath for extrasnid
9969,changes required to accommodate opencor
9970,add vendorhtcprebuiltopenn
9971,changes required to accommodate opencor
9972,add overridecheck doclet to prebuilt to support builds on javac  adds a doclet called overridecheck which finds interface method override annotations which cause a build with javac  to crash but  caught by javac  when using source  this javac inconsistency appears to be the main blocker to allowing java  platform build environments a  patch for buildcore makes use of this tool to catch these annotationsnnos x  snow leopard no longer includes java  so overcoming this hurdle is key to ease of platform development in that environmentnnmore info on the doclet written by tom gibara is available atnhttpwwwtomgibaracomandroidoverridechecknnrelevent discuss
9973,enable building on java  without conflictsnnthis patch updates build to allow javac  innthe build environment a new doclet overridechecknis used to check for interface method overridenannotations which are not allowed by javac  not caught by javac  with source  javac inconsistency appears to be the mainnblocker to allowing java  platform buildnenvironmentsnnif the user is running javac  the extra checknis not made as javac itself will catch the errantnannotations an explicit source  build flagnwas also added to the javac call itself to catchnall other  compatibility issuesnnrelevent discuss
9974,androidconfiguresh better platform build detectionnid
9975,fix audio  and noaudio processingnnturns out that the string passed to putenv must not be modified nnwe provide our own  implementation for emulatorui that  the  qemuspecific filenid
9976,revert optional provisioningnnthis reverts commit
9977,net wireless bcmdhd set proper debug messages for private ioctlnnnedoffby dmitry shmidt
9978,stagefright amrwbenc simplify the defion of staticvonnfor gcc all of inline inline and inline work finenfor msvc only inline works inline should also be acceptednby rvctnid
9979,add test case to test the intent starting the cameranid
9980,sdk provide abidependent atree filesnnthis patch allows developmentsdk to provide abispecific atreenfiles this is useful to copy prebuilt cpu modelspecific filesnto the sdk platform image directorynnthis is needed to deal with the fact that for  platform buildsnthe kernel image to use is  insteadnof prebuiltandroidarmkernelqemunid
9981,sdk copy abispecific kernel image to platform image directorynnthis patch depends on  is used to ensure that the proper kernel image is copied to thenplatform  kernelqemunnthis is needed because for  platform builds the image isnin  instead ofn prebuiltandroidarmkernelkernelqemunid
9982,do not use mnocygwin when buildingnnthis option is no longer necessary nor is it supported by recent versionsnof cygwin andor
9983,fix sysdir handlingnnthis patch fixes the processing of the sysdir option previouslynusing sysdir  would imply that the system  used which is incorrectnnalso fixes the skin search for the case where we are using the emulatornwithout a preexisting avd outside of platform builds eg when running testsnnthis happens with stuff likenn emulator sysdir  patch ensures that the  directorynis probed this was the behaviour of the tools  emulatornid
9984,arm msmcamera clean up msmconfigvfennnedoffby iliyan malchev
9985,arm  camera fix the return value of vfegetafpingpongstatusnnnedoffby iliyan malchev
9986,arm  camera cleanup of  change errorrelated cdbg to prerrn simplify vfegetawbpingpongstatusn remove dead coden rewrite the following functions to not return structsn vfeparseinterruptstatusn vfegetasfframeinfon vfegetdemosaicframeinfon vfegetcamifstatusn vfegetperformancemonitordatan in  replace memmove with memcpyn removed unnecessary spinlocksnnnedoffby iliyan malchev
9987,arm  camera clean up of  in vfeconfig structures that can be local in scope were being allocatedn on the heapn added a prerr in vfereleasen misc cleanupnnnedoffby iliyan malchev
9988,add the bsd syssigname arraynnnedoffby thorsten glas
9989,arm msm camera clean up printksnnnedoffby iliyan malchev
9990,deal with htcprebuilt filesn
9991,rpmsgomx add dependency on ti tiler modulennrpmsg omx does depends on ti tiler so add it to kconfig filento avoid compilation issuesnnnedoffby fernando guzman lugo
9992,rpmsg resmgr miscellaneous fixesnnthis patch changesn fixed memory leak in rprmresourcefreen fixed missing mutexunlock in rprmresourcealloc in case ofn failuren move rpmsgresmgr option above rpmsg samples in kconfig samplesn should go at the endn chaged to default y option in kconfig file for rpmsgresmgrnnnedoffby fernando guzman lugo
9993,cpufreq ondemand  synchronize sample rate unless mulitple cpus presentnnfor up systems this is not required and results in a more consistentnsample intervalnnnedoffby jocelyn falempe  mike chan
9994,net wireless bcmdhd set proper debug messages for private ioctlnnnedoffby dmitry shmidt
9995,smtpsender send ehlo that adheres to  to  sec  address literals should be enclosed by brackets andnprefixed with  if the sender is an  hostn
9996,sample code to use the layout rendering librarynnthis is very basic sample code showing how to renderna layoutnnthis explains how to load the resources create folderconfignresourceresolver and how to call the layoutlibrary to do annactual rendernnthere are some big limitationsn  render custom views because  nothingn compiling them and generating the compiled rclassn filen not all features of adt are present because theren are things that  make sense outside of an editorn render in context expand empty layouts etcnid
9997,omap dss dispc enabledisable clocks in error  no guarantee that the error handler worker threadnwill run while the dispc clocks are on explicitly enabledisablenthemnid  dima zavin
9998,add blank lines in the explanation for date codesnid
9999,document how to use gpl components from  and
10000,simplify asprintfnn by removing unneeded null check as free already checks itnby the way we  need to set a stack variable back to nullnnnedoffby andré goddard rosa
10001,optimize deletedelete operators by removing unneeded branchnnremove redundant not null check already done in freennnedoffby andré goddard rosa
10002,hang in one acceptednegotiated format  engine unit testn
10003,fixing  ppb regression caused bi
10004,improve readability of stdlib fix identation and remove trailing spacesnnnedoffby andré goddard rosa
10005,stdlib optimize bsearchnn by checking most probable condition first elements do differnid  andré goddard rosa
10006,by default use current system time as creation  modification date in  composer noden
10007,improve readability of stdlib fix indentation and remove trailing spacesnnnedoffby andré goddard rosa
10008,missing logs in   gui appn
10009,improve readability of string fix indentation and remove trailing spacesnnnedoffby andré goddard rosa
10010,this is a new feature to the color conversion library suite for  to  conversion it will support basic conversion as well as  and  degree rotationn
10011,string tidy up strndupnnit decreases code sizen text data bss dec hex filenamen      strndupbeforeon      strndupafteronnnedoffby andré goddard rosa
10012,add tests in oscl testapp for osclfile manager apisn
10013,document known issue warning at the end of crespo buildsnid
10014,add source code to test if the data sms sent on port can be received correctlynnadd a receiver on port  to get the data sms and verify if the content can be decode correcltynnnedoffby gzhhong  teststeststelephonysrcandroidtelephonyctssmsmanagertestjavanid
10015,document known crash at browser launchnid
10016,input   report multitouch when pen is  bother evaluating multitouch packets from the hardwarenwhen the pen is in range this currently just leads to confusionnunless we do tracking singletouch is already filtered but not mtnnnedoffby jason gereck
10017,input  fix hover in gingerbreadnnas of gingerbread android does not understand the differencenbetween the pen being inproximity and incontact we work aroundnthis by only sending mt events when the pen is actually in contactnnnedoffby jason gereck
10018,android lowmemorykiller fix arguments to lowmemshrinknnthe arguments to shrink functions have changed updatenlowmemshrink to matchnid  colin cross
10019,mm ashmem fix arguments to ashmemshrinknnthe arguments to shrink functions have changed updatenashmemshrink to matchnid  colin cross
10020,add a section for known issuesnnuse the opengl library requirement as the first onenid
10021,stdio simplify fremovelocknn by removing extraneous null check as free already does itnnnedoffby andré goddard rosa
10022,updates to pvmin
10023,audio issue in rtsp streamingn
10024,stdio simplify asprintfnn by removing unneeded null check as free already does itnby the way we  need to set a stack variable back to nullnnnedoffby andré goddard rosa
10025,create generic  pauseresume unit testn
10026,stdio simplify vasprintfnn by removing unneeded null check as free already does itnby the way we  need to set a stack variable back to nullnnnedoffby andré goddard rosa
10027,updates to pv internal build systemn
10028,memory leak fix in
10029,improve readability of stdio fix indentation and remove trailing spacesnid  andré goddard rosa
10030,some aac clips are not playable player returning error messagen
10031,add build macro for turning compiler warnings into errors in androidmk filesn
10032,stdio on setvbuf move null check to where it makes sense and can occurnnin the current position we would check for null in a situationnwhere we are sure that buf would sometimes not be null ie whennmalloc succeeded so we move the null check to the position wherenbuf can possibly be nullnnthis avoids an extra check when malloc succeeds which should be thenmost probable casennnedoffby andré goddard rosa
10033,misc apanic print linux bannernnnedoffby san mehat
10034,version updates for sdkinfo header files and playerdriver documentation updatesn
10035,explicitly get the wm codecsn
10036,stagefright amrwbenc remove a duplicate unused filennthis file is identical to commoncmnmemoryc and  thenfile that is used by all the makefiles not this onenid
10037,add test case to test the intent starting the camerannedoffby gzhhong
10038,add test case to test the intent starting the cameranid
10039,stagefright remove unused and dubious typedefsnnthese typedefs  used anywhere and their  really match their actual defionnid
10040,cts remove testcallvoicemailnncomment from btmura test is invalid because the cdd  saynwhat is required in terms of permissions by the applications thatnrespond to these intents also the dialer  part of the corensystems application list defined under the   finallynit appears that intentactioncallprivileged is a private api asnwellnnbi
10041,it is neccessary to keep a reference to parcelfiledescriptornnwhen obtaindescriptor returns back to test methodsnparcelfiledescriptor object is not reachable from themnso it might be destroyed by gc if a memory was lownparcelfiledescriptor would close a real file descriptornwhen it was finalized in that case bitmap related tests will failnbecause filedescriptor$descriptor is gone ie  avoid this fail the test methods keep the reference tonparcelfiledescriptor object in themnid
10042,add webp to the list of image formats that support compressionnnnote the integrator of this change to android internal coderepo willnhave to run one extra step   to update  corresponding to approved api the aosp branch  have thisnfile hence i could not add the same to this change the updated  has to be submitted along with this changenid
10043,tweak script to be more uniform with the rest of the build systemn
10044,full unicode bidirectional text hadling utilizing  implementationnthis allows real handling of rlt languages current mechanism is practically uselessna slightly better code can be submitted if public api changes are acceptablenid
10045,arm tegra serial dma allocation fixnnhandle the case where dma channels cannot be allocated and pio must be usednfixed a typo for forcing rx to use pionid  mike corrigan
10046,new extension points for ddmsnndebugger connector is used by the debug running app button in thendevice list viewnnsource revealer is used by the thread panel when double clickingnon an entry of the stack tracenid
10047,use putenv when setenv is unavailablennwindows builds and possibly others do not have putenv usingnifdef havesetenv which is common in qemunid
10048,arm tegra dma dma error debuggingnnprint an error message when a dma channel cannot be allocatednid  mike corrigan
10049,arm tegra ventana fix pinmux for wifinnconfigure the drive pinmux for wifi and  and configurenthe tristate and pullups for the wifi pins correctlynid  gary k
10050,fix ndk root directory probing logicnnmake detecting the root android ndk directory more robustnalso fix a small bug that prevented testsruntestssh fromnbeing called outside of $androidndkrootnid
10051,yaffs import yaffs from thu oct      timothy manning  thu oct     yaffs further mods to python browsernn fixed the makefile by adding an extra symlinkn gave the python browser the ablity to create files and foldersn nedoffby timothy manning   dima zavin
10052,input touchscreen  fix suspendnnthe panjit touchscreen needs to be reset when returning fromndeep sleep mode add a platform data structure to specifynthe reset gpionnperform the reset during probe since the code already needsnto exist for resumenndelete a bunch of unused preprocessor definesnid  gary k
10053,fixes broken image link in tools  emulator documentation pagenid
10054,arm tegra ventana specify panjit reset gpionnalso delete the function which resets the touchscreen controllernsince that is now part of the panjittouch driver probe routinenid  gary k
10055,buildgccsh add  optionnnit is used to build a  toolchain on linuxnid
10056,pmem remove the extra upwrite on data sem in a rare pathnid  dima zavin
10057,change the selection on right click  menunid
10058,downloadtoolchainsourcessh fix git date handlingnna silly bug prevented the gitdate option from working properlynthi affected the default download which uses $toolchaingitdateninternally now that the toolchain sources have changed the patches  properly anymorenid
10059,mmc fix pmnotifier obeying deferred resumennnedoffby dmitry shmidt
10060,fix executing actions on multiselectionnid
10061,hide anchor lines and tweak text positioningnntemporarily hide the anchor lines the lines from each selectednelement to its  bounds edges until we can find a way to makenit clearer what these meannnalso tweak the pixel positioning of the selection label text tonaccount for the padding around the textbox mask since it was partiallynoverlapping the selection strokenid
10062,telephony clean up radio technology constantsnn remove all redundant radio technology constants and put them in a single placen to add a new radio technology just modify phonejava and rilhnid
10063,separate sim states from radio statesnnradio state reflects the state of the modem simready ruimreadynnvready are subscription states and it is possible that the new cardsnhave multiple subscriptions remove the sim states from radio state andnintroduce a new voiceradiotech message to identify the exact voicentechnology sim states will continue to be identified from thensimstatus messagesnid
10064,making it possible to style download ui using overlaynntoday it is not possible to style the download ui using thenoverlay mechanism the reason for this is that the downloadnui is missing an application themennthe solution is to add a defaulttheme that can be overriddennusing overlaynid
10065,fix touchtesttestontouchevent test stringnnbug  this test to work with any display width by creatingna test string that is wider than the screen rather thannusing a fixed size and expecting the textview to only scrollnas much as there is left to scrollnid
10066,fix targetprebuilttag so that getbuildvar can retrieve the correct value across architecturesnid  bruce bear
10067,mmc fix pmnotifier obeying deferred resume part  mmcdetectchange in pmpostsuspend if manual resume is usednnnedoffby dmitry shmidt
10068,fix various bugs related to linear layout handlingnnthis changeset fixes the following issues with linearlayoutnn correctly position the last insert position in the linear layoutn when the layout has childrennn when you drag a widget which is already in this linearlayout  show insert positions before and after this element and show an match position exactly where it already isnn show the bestmatching lines not only when you  have boundsn which it was already doing but also in conjunction with the boundsn outlines when the dragged bounds are much larger than the widgetsn around the drop position it was a bit hard to figure out wheren exactly the proposed drop position is and this change makes it an lot clearernn fix positioning of the drop rectangle before this change we weren positioning the drop rectangle using its existing deltaxdeltay inn its old parent this does not work well both in multidocument casesn as well as cases where you are dragging from one layout ton another we are now simply positioning it at  in the newn layout the next enhancement here would be to consider then layoutgravitynid
10069,update the change log for the tools and sdknid
10070,full unicode bidirectional text hadling utilizing  implementationnthis allows real handling of rlt languages current mechanism is practically uselessna slightly better code can be submitted if public api changes are acceptablenid
10071,add ohci support to vboxdefconfignnenable support for ohci in the vboxdefconfig to enable supportnfor  usb featuresnid  ed boraa
10072,move variable declaration on its own linenid
10073,fix syntax error in mkn
10074,video tegra  assertdeassert reset in dcnnthere seems to be some interdependency between the two display  and hdmi if  is put into reset while hdmi is connected to  will blanknid  erik gil
10075,add basic suspendresume support for networkingnnthis patch saves the current state of the smsc  ethernetnemulation the restore function will restore all buffers thusnpreventing segfaults when guest code tries to access data that wasnthere when state was saved however no effort is made tonreestablish connections this is probably impossible anyway sincenwe have no way to generically make the remote end pick up where wenleft when state was suspendednnfrom the perspective of the guest resuming is therefore equivalentnto a temporary network failure in which all open connections arenlost after the restore is complete new connections can be madenas though nothing happenednid
10076,passed boot properties from main to core as bootproperty parametersnid
10077,perform all context menu edits in the same undo sessionnid
10078,fix interdepency between adt and ddmsnnthe issue was due to ddms instantiating adt classesnin start when adt was doing the same with ddms classesnnthis prevented the plugins from loadingnid
10079,change phonenumberutils minmatch to match  digitsnnargentina and some other latin american countriesnuse  digits phone numbers this change extends thencorrect number matching digits for these countriesnid  david sobreira
10080,video modedb make fbaddvideomode keep modelist in order addednnthis makes the default case in fbfindbestdisplay last resort usenthe very first mode actually use the first mode addednid  erik gil
10081,globaltime perform zoom in and out only after ializationnninvoking zoom on mglview before ialization causes null pointernexception the usecase is to launch global time and immediatelynpress key  or  just before the globe is seen on displaynid
10082,video tegra ensure first video mode is marked with fbmodeisfirstnid  erik gil
10083,qemu multimode supportnnpreliminary implementation of a multimode modemnt added the ctec at command which allows querying and setting the current technologynt added preliminary nvram file supportnnadd cdma subscription source supportnt add support to save the subscription source preference to nvnt add command   to switch subscription source from then emulator consolennimplement atwrmp commandntimplement the atwrmp command to set and get the roaming preferencennimplement emergency callback modennimplement the wsos command and unsol to notify emergency callback mode statusnnimplement wprl at commandntenable prl update notification by implementing the atwprl query commandntimplement a console command to send wprl unsolicited responsenid
10084,fix translation for locale zhrtwnid
10085,video tegra fb var info on monspecs changennactivates the default modenid  erik gil
10086,arm  add suspend wakelocksnnnedoffby iliyan malchev
10087,make disabled textviews uneditablennfixes issue  now onn disabling a textview closes the associated onscreen keyboardn selecting a disabled textview does not open the onscreen keyboardn  edit contents if the disabled textview focus is gained by the directional keysnid
10088,open the debug perspective when showing hprof filesnnthis prevents the creation of an editor area in thenddms perspective the only way to get rid of it laternseems to be to reset the perspectivenid
10089,msm provide more debugging info on xfer errorsnid  dima zavin
10090,manifest process name can start with nnwhen an activity or other component starts with nthe actual process name become  needs to be done in the manifest parser so thatnmatches can be foundnid
10091,change phonenumberutils minmatch to match  digitsnnargentina and some other latin american countriesnuse  digits phone numbers this change extends thencorrect number matching digits for these countriesnid  david sobreira
10092,pdt implements the new extension from ddmsnid
10093,video tegra dump host state when timing out on suspendnid  erik gil
10094,make helper functions staticnid
10095,fix suspending and resuming timersnnthis brings the code for saving and restoring the vm clock up tondate with the current codebase it also includes a workaround for annissue that occurred when the state of a goldfish timer was restorednfor unexplained reasons the compiler generated code to copy thenleast significant  bits only when reading a  bit numberndropping the remaining  bitsnnin order to facilitate debugging the variables in the goldfishntimer code have been suffixed with their units ns for nanosecondsnor tks for ticksn
10096,usb musb blackfin call usbnopxceivunregister in musbplatformexitnncommit   musbplatformexit forgets to call usbnopxceivunregisternwhile fixing this also remove the unneeded blank line therennnedoffby sergei shtylyov  mike frysinger  felipe balbi  greg kroahhartman
10097,icons for various widgetsnnadd in  icons for many of the widgets these icons are used innthe outline as well as in the text icons and icons only modesnin the palettennthe icons were generated by rendering previews with transparency onnand  with the theme themelight since that sets darkntext labels etc it also used a special version of the renderingnconfig file where for example the label of the textview is abc innbold rather than textview where there is no text label on radio andncheck buttons etc some icons were scaled proportionally others justncropped left or right etc those who were cropped on the right have ansmall amount of alphafadeout on the right to work better in thenoutlinenid
10098,include omitted tests in totalnni think its better to have a fixed total so we can tell whetherntests were accidentally being left out due to moving testsnid
10099,npe in downloadtouchicon because of getpreferredhttphostnnthe call getpreferredhttphost needs a context however therenare two constructors of the class one of them does not takena context as input added context parameter to the secondnconstructornid
10100,usb musb fix kernel warningoops when unloading module in otg modenncommit  upstreamnnsince commit  musbcore  callnmusbplatformexit twice unloading the driver module results in a warningnkobject   is not ialized yet kobjectput is beingncalled or even kernel oops on eg davincis though only in the otg modenthere exists dubious and unbalanced putdevice call in musbfree whichntakes place only in the otg mode as this commit caused musbplatformexitnto be called and so unregister the nop transceiver before this putdevicencall this function references already freed memorynnon the other hand all the glue layers miss the otgputtransceiver callncomplementary to the otggettransceiver call that they do so i thinknthe solution is to get rid of the strange putdevice call and insteadncall otgputtransceiver in the glue layersnnnedoffby sergei shtylyov  felipe balbi  greg kroahhartman
10101,prevent removing default route for default mobile typennthe default route for mobile would be accidently removednbut never restored in case of a temporary disconnectnnthis solution solves several issues in umts and cdmanid
10102,bionic stubs make internal symbol staticnnthreadspecific state for the stubs functions should not be exposed tonapplicationsnid
10103,bluetooth pin is not password stylennbluetooth pin is changed to password style toncomform with how passwords are normally shownnin the uinid
10104,usb change acmiaddescriptor bfunctionprotocol to   upstreamnnthe protocol code is set  in iad and  set to  in acm controlninterface descriptor in facmc file due to this windows is unable toninstall the modemacm driver based on classsubclassprotocol matchingnnthis patch corrects the protocol code in acm iad to the same as innacmcontrolinterfacedesc protocol codennackedby linus walleij  praveena nadahally  greg kroahhartman
10105,avoid using stringformat in mediarecordernnstringformat was used instead of a simple string concatenationnthis is a problem when language is set to arabic since simplenintegers will be converted into arabic numbersnid
10106,select dropped elementsnnthis changeset makes the drop handler select the set oftelements thatnwere just manipulated this means that if you drop a new element itnis both more visible useful if you drop it into a crowded layout andnimmediately available for customization via the property sheet thisnis also important when you drag  drop to move existing elements sincenwithout this dragging a selected element meant you would losenselectionnnthere are some timing tricks involved similar to  focusncheckin because in multidocument drag  drop the view hiearchy whichnwe must consult to find the visual objects corresponding to the xmlnjust added to the model may not yet be readynid
10107,usb musb blackfin call gpiofree on error path in musbplatformnncommit   musbplatform needs to call gpiofree for error cleanup iffnotggettransceiver call returns nullnnnedoffby sergei shtylyov  mike frysinger  felipe balbi  greg kroahhartman
10108,standalone builds windows executables end in exennthis change only applies to the standalone build system it ensuresnthat when one does the following under linuxnn androidconfiguresh mingwn makennthen the windows executables that are generated have their namenending in exe eg objsemulatorexe instead of objsemulatornnthis does not affect the android build system which already does thenright thing and is used to build sdk binariesnid
10109,usb add pid for ftdi based opendcc hardwarenncommit  upstreamnnthe opendcc project is developing a new hardware this patch adds itsnpid to the list of known ftdi devices the pid can be found atnhttpwwwopendccdeelektronikusbopendccusbhtmlnnnedoffby rainer keller  greg kroahhartman
10110,reduce sizenn remove a shell flag that is deprecated anyway and was nevern usable in androidn remove rcs ids from the codenid
10111,update mkshrc in sync with upstream dotmkshrc sample filenn• add a pager called “more� here “smores� upstreamn especially useful since aosp has neither cat nor a pagern• no longer export  problem spotted by frank terbecknid
10112,stdio make internal symbols statichiddennnalthough header libcstdiolocalh declares the macros and privatenvariables of stdio there are several internal symbols exposednunexpectedlynid
10113,crypto tegraaes set vde clock to max in probenninstead of setting it to its max value per operationnid  varun wadekar
10114,usb ftdisio revert usb ftdisio fix dtrrts line modesnncommit  upstreamnnthis reverts commit  and dtr should not be modified based on crtscts when callingnsettermiosnnmodem control lines are raised at port open by the tty layer and should staynraised regardless of whether hardware flow control is enabled or notnnthis is in conformance with the way serial ports work today and manynapplications depend on this behaviour to be able to talk to hardwarenimplementing hardware flow control without the applications actually usingnitnnhardware which expects different behaviour on these lines can alwaysnuse tiocmsettiocmbisc after port open to change themnnreportedby daniel mack  dave mielke  johan hovold  greg kroahhartman
10115,focus is set to sms messages list view when manage sim messages is selectednnthis change sets the focus to sms list view after the sms messages arenretrieved from sim cardnid
10116,stdlib strtod hide internal symbol dtoanid
10117,arm tegra add remaining drive pingroups to listnid  gary k
10118,usb ftdisio add device ids for sciencescopenncommit  upstreamnnthis adds the requested device ids to the ftdisio drivernnreportedby ewan bingham  kuba ober  greg kroahhartman
10119,resolv make internal symbols statichiddennid
10120,usb ftdisio new vidpids for various papouch devicesnncommit  upstreamnnthis patch for ftdi usb serial driver ads new vidpids used on variousndevices manufactured by papouch httpwwwpapouchcom these devicesnhave their own vidpid although  using standard ftdi chip innftdisioc i also made small cleanup to have declarations for allnpapouch devices togethernnnedoffby daniel suchy  greg kroahhartman
10121,usb ftdisio add pid for accesio productsnncommit  upstreamnnadds support for accesio usb to serial adapters which are built aroundnftdi  uarts tested with the accesio  rich mattes  greg kroahhartman
10122,usb gadget gmulti fixed vendor and product idnncommit  upstreamnnthis patch fixes the vendor and product id the gadget usesnby replacing the temporary ids that were used duringndevelopment which should never get into mainline withnproper idsnnnedoffby michal nazarewicz  kyungmin park  greg kroahhartman
10123,video tegra nvmap several changes to carveout killernnadd a module param to enabledisable carveout killernfix race condition in code to wait for something to free memorynafter firing carveout killernfix the check for current so we always compare   rebecca schultz zavin
10124,print pending wakeup irq preventing suspend to dmesgnid  todd poynor
10125,add a mergecookie class as a specialcase view cookienid
10126,added support for writing greek charactersnid  giorgos mavrika
10127,pthreadtimers hide internal symbol timertablestartstopnid
10128,bounce fix cache maintenance for bounced highmem pagesnnthe bounced page should be flushed after memcpy to ensure thatnarchitecture implementations can synchronize instruction and datancaches of the copied datanid  gary k
10129,arm tegra pinmux save drive pingroup registers in suspendnid  gary k
10130,seterrno hide internal symbol setsyscallerrnonid
10131,when application menu key is pressed the applications are not visible although isvisible returns true we force the mzoom to zero if renderscript fails to do sonid  madan ankapura
10132,usb accept some invalid  valuesnncommit  upstreamnna few devices such as the rca  voice recorder are sonnoncompliant with the usb spec that they have invalid maxpacket sizesnfor endpoint  nevertheless as long as we can safely use them wenmay as well do sonnthis patch  softens our acceptance criterion by allowingnhighspeed devices to have  sizes other than  anwarning is printed in the system log when this happens and thenexisting error message is clarifiednnnedoffby alan stern  james  greg kroahhartman
10133,misused corrected with  do not call putenv with a pointer to an automatic variable asnthe argumentnid
10134,display the targetarchvariantnnnedoffby bruce bear
10135,usb  change mistake of the outsw functionnncommit  upstreamnnsome functions changed by  there was a change mistake of the function outswnnnedoffby nobuhiro iwamatsu  paul mundt  yoshihiro shimoda  greg kroahhartman
10136,ia enable sse fpmath separate archvariant and arch makefile settingsnid  bruce bear
10137,net add udp stats and pkt count to uidstatnnnedoffby ashish sharma
10138,correct makefile test for stagefright buildnid  bruce bear
10139,changing the delay time from  to  because avoiding a race condition in testonreceivediconnid
10140,asuslaptop fix gps rfkillnncommit  upstreamnnthe gps rfkill crappy code the opsdata argument  and was totally misused the fix have been testednon an asus  corentin chary  matthew garrett  greg kroahhartman
10141,fix wrong behavior when changing pin code in settingsnnin security setting if user change orientation during enteringnpin code the change will not apply successfully it is becausenthe entered pin codes has not been saved and restored whennapplication was recreate after changed orientation so we savenentered pin codes and restore them in oncreate when applicationnis recreatednid
10142,project property cleanupnnremove obsolete sdklocation on project update  it as backup location anymore mainrulesxml  work withnit anywaynnremove the old applicationpackage properties since older platformsnwill use the new rules anywaynid
10143,cts test is not considering the case when the devcie get into silent mode by volume down keynnwhen volume gets down to silent mode added the condition to go to vibrate mode or silent mode instead of silent mode onlynid
10144,usb disable endpoints after unbinding interfaces not beforenncommit  upstreamnnthis patch  fixes a bug in usbcore when a devicenconfiguration change occurs or a device is removed the endpoints fornthe old config should be completely disabled however it turns outnthey  this is because usbunbindinterface callsnusbenableinterface or usbsetinterface to put interfaces backnin altsetting  which reenables the  endpointsnnas a result when a device goes through a config change or isnunconfigured the epin and epout arrays may be left holding oldnpointers to usbhostendpoint structures if the device isndeauthorized these structures get freed and the stale pointers causenerrors when the the device is eventually unpluggednnthe solution is to disable the endpoints after unbinding theninterfaces instead of before this  as large a change as itnsounds since usbunbindinterface disables all the  anyway before calling the  disconnect routinenunless the driver claims to support soft unbindnnthis fixes bugzilla  thanks to tom lei ming for diagnosingnthe underlying cause of the problemnnnedoffby alan stern  carsten sommer  greg kroahhartman
10145,receive file over bt opp with no length givennnthe stock code  handle the case where data is streamed overnbt opp and no data length is given the length is not mandatory innthe spec add support for this and also modify the ui to handlenthis case as wellnid
10146,add icons for the rest of the viewsnnadd icons for all the remaining views eg those that  havenrendered previewsnna couple of these are scaled down icons from the platform search fornsearch view browser for web view etc and most of them are somewhatnugly hand drawn placeholdersnid
10147,assembly coded  and   lu hongjiu  mark gross  bruce bear
10148,usb atmelusbaudc force vbuspin at einval when gpiorequest faillednncommit  upstreamnnto ensure gpioisvalid return falsennnedoffby nicolas ferre  jeanchristophe plagniolvillard  greg kroahhartman
10149,fastboot add help message for continue commandnid  bruce bear
10150,add new qemu monitor command to the consolennthis allows you to access the qemu virtual machine monitor directlynfrom the console instead of playing with the commandline to do itnnthe implementation of the  command has been modified to simplynclose the connection instead of stopping the emulator programnnthis patch introduces changes that allow a console session to bendetached and redirected at runtime to other internal services ofnthe emulator program this will be useful in the future to implementnother featuresnn doc typon add proper defions for configandroid on confighosthn remove obsolete sysdepsh dependency in androidconsolecnid
10151,fix pdk build gpsh  exist any morenid
10152,usb opticon fix longstanding bugs in opticon drivernncommit  upstreamnnthe bulkread callback had two bugsna the bulkin  leading two zeros were returned and the two lastn bytes truncatednb the wrong urb was transmitted for the second and later read requestsn causing further reads to return the entire packet including leadingn zerosnnnedoffby alon ziv  greg kroahhartman
10153,pthread make internal symbols statichiddennid
10154,video tegra incresase delay in underflow recoverynid  erik gil
10155,usb visor fix ialisation of  devicesnncommit  upstreamnnfix regression introduced by  usb visor reimplement usingngeneric framework which broke ialisation of  devices thatnused remapped bulkout endpoint addressesnnreportedby robert gadsdon  robert gadsdon  johan hovold  greg kroahhartman
10156,usb option add more zte modem usb   upstreamnnthere are lots of zte usb  currently not covered by usbserial adds themnto allow those devices to work properly on linuxnnwhile here put the usb  for  at the sorted ordernnthis patch is based on ztec file found on  the zte driver is commenting the usb id for  it also adds commentednan usb id for  sure why but i think that  is used by their devices in storage mode onlynso i opted to keep the comment on this patchnnnedoffby mauro carvalho chehab  greg kroahhartman
10157,spi tegra cleanups from upstream reviewnid  erik gil
10158,usb  add wago  service cable device idnncommit  upstreamnnthe wago  usb service cable is used for configuration and firmwarenupdates of several industrial automation products from wago kontakttechnik gmbhnnbus  device  id  descriptorn blength  bdescriptortype  bcdusb  bdeviceclass  defined at interface leveln bdevicesubclass  bdeviceprotocol    idvendor  idproduct  bcddevice  imanufacturer  silicon labsn iproduct  wago usb service cablen iserial   nnnedoffby anders larsen  greg kroahhartman
10159,fix pdupersister does not take care of encoding of pdupart textnngive correct charset argument to encodedstringvalue when storing text datanalso give the original charset arguement to getbytes when loading text datanid
10160,video tegra update overlay stride in fbsetparnnfixes recovery graphicsnid  erik gil
10161,usb  add renesas rxstick device idnncommit   development board by renesasnnbus  device  id  hitachi ltdndevice descriptorn blength  bdescriptortype  bcdusb  bdeviceclass  defined at interface leveln bdevicesubclass  bdeviceprotocol    idvendor  hitachi ltdn idproduct  bcddevice  imanufacturer  silicon labsn iproduct  rxstickn iserial    dj delorie  greg kroahhartman
10162,the androidmk file in hardwarerilmockril defines some variables if and only if the architecuture is arm based it then has some rules outside the arm if statement which uses these variablesnnthis causes problems when building on a mac for nonarm targets because the find command in mac os mush have a base directory specified ie find dir name xxx but due to the missing variables a find is attempted without a base directory ie find name xxx which results in an error and the build subsequently failing with an errornid
10163,fix app list invisibility when menu key is pressednnwhen application menu key is pressed the applicationsnare not visible although isvisible returns truenwe force the mzoom to zero if renderscript fails tondo sonid  madan ankapura
10164,smoothpagedview tweak defaulttension valuen
10165,pagedview tweak msnapvelocityn
10166,launcher enable  screensn
10167,workspace tweak value for msnapvelocityn
10168,the emmc spec  and  additional feature chips has csd structurenversion  and version  have to check the csdstructure byte in thenextcsd registernnalso fix extcsd revision messagenid  fix comment per chris ballnnedoffby kyungmin park  adrian hunter  chris ball   andrew morton  colin cross
10169,telephony release all calls on pressing end keynnend all call sessions except waiting call whennend key hard key is pressed as per  t
10170,revert buildtoolsatree move  changes to  reverts commit
10171,video tegra set output size for hdminid  erik gil
10172,aapt allow raw in unformatted stringarraysnncommit  added format checking for translatable strings enforcingnthe use of positional args this check can be disabled on  with  or  but they  for those attributes on  so some of  stringsnfail when  not really format strings just because they containnpercent signs eg brightness   now the formattedtranslatable attributes are checked in stringarrayntoo and we can restore our proper percent signsnid
10173,kexec make sure to stop all cpus before exiting the kernelnncommit   smpops now has a new op stopothercpus which takes a parameternwait this allows the caller to specify if it wants to stop until allnthe cpus have processed the stop ipi this is required specificallynfor the kexec case where we should wait for all the cpus to be stoppednbefore starting the new kernel we now wait for the cpus to stop innall cases except for panickdump where we expect things to be brokennand we are doing our best to make things work anywaynnthis patch fixes a legitimate regression which was introduced  by commit id  alok n kataria   eric w biederman  jeremy fitzhardinge  h peter anvin  greg kroahhartman
10174,telephony handle rilunsolexitemergencycallbackmodennhandle rilunsolexitemergencycallbackmode as a way to exit fromnemergency callback modenid
10175,qemud disable debug  verbose and unuseful during normal usagenid
10176,video tegra add hdmi supportnnprevious implementation was dvi onlynid  erik gil
10177,mrst a function in a header file needs to be marked inlinenncommit  upstreamnna function in a header file needs to be explicitly marked inline orngcc will complain if it is not usednnnedoffby h peter anvin  jacob pan   greg kroahhartman
10178,telephony implement parsing of cdma extended display recordsnnread the byte buffer as a byte array instead of a string to prevent interpretation as  cdmadisplayinforec to handle extended display info recordsncreate extendeddisplayitemrec class to help in parsing the  datanadd function asindex to extendeddisplaytagnmake the function readitems privatenmodify cdmadisplayinforec to use a vector instead of a map to hold thenextendeddisplayitemrecs to preserve ordering of recordsnid
10179,cts fixes for androidhardwarectscameratesttestcancelautofocusnn setpreviewdisplay was omitted after releasenrelease disconnects and releases the camera object resourcesnif a camera uses an overlay for preview the overlay object isnalso destroyed when release is used at the same timenthe camera documentation states that a call to eithernsetpreviewdisplay or setpreviewtexture is necessary innorder to start the previewnid  julian shandorov
10180,fixes problem in  toolnnif a big png image will be loading helppanel hides imageviewnthis patch fix that problemnid
10181,mtrr assume  exists on all future amd cpusnncommit  upstreamnninstead of adapting the cpu family check in amdspecialdefaultmtrrnfor each new cpu family assume that all new amd cpus support thennecessary bits in syscfg  is architectural defined in apm  is defined in all bkdgs starting with  nptnin pre  bkdg this bit is reserved read as zeronnwo this adaption linux would unnecessarily complain about bad mtrrnsettings on every new amd cpu family egnn  warning bios bug cpu mtrrs  cover all of memory losing  of ramnnnedoffby andreas herrmann   h peter anvin  greg kroahhartman
10182,fix bad merge on btiocnncommit  was not succesfullynmerged and it overrides commit   function this issue causes unexpected errors whennplugins get  socket mode optionnid
10183,herringrc do not hardcode the wifi interfacennthe interface will be provided by the caller of service wpasupplicantnid
10184,frameworksbase notify of dismissed call on radio technology changenntmake calltrackers notify ui when ending calls in dispose sincentit has already unregistered and  receive the callstatechangednid
10185,olpc  retry ec commands forevernncommit  upstreamnnavoids a potential infe loopnnit was observed once during an ec hackingdebuggingnsession not in regular operationnnnedoffby daniel drake  dilingerqueuednetnnedoffby ingo molnar  greg kroahhartman
10186,emulator  kernel fix sdcard emulationnnthis patch provides a new kernel image containing the fix for sd cardnemulation atnn  image was generated using the following repositoriesnon androidgitkernelorg and corresponding  kernelqemugitn    externalqemugitdistribbuildkernelshn  was generated by invoking the script withnn pathtobuildkernelsh  image is only intended for emulation with th
10187,add working set to new project wizardnni have use the code fromnorgeclipsejdtuiwizardsnewjavaprojectwizardpageonenand adapt it suppose  acceptablennthe android and android test can be added to the samenor different working setnas in the java project wizard  possible addnthe project to existing working set or create new working setnid
10188,intelidle do not use the lapic timer for atom   upstreamnnif we use the lapic timer during atom  onnsome nvidia chisets the system  len brown  tom gundersen  greg kroahhartman
10189,qemu document the nvram file formatnid
10190,ndkgdb fixes for darwin and project optionnnthis patch contains several fixes for ndkgdbnn allow it to run properly on darwin where  will return ann error if used without parameters note that  t  does not work the same on linux and darwin so use an invocationn that is supported by all host platforms cygwin includednn ensure that androidndkroot is defined as an absolute pathn to avoid problems when the script is invoked as innn cd $ndkrootn ndkgdb  the adbvarshell redirection was buggy and created files namedn  and  in the current directory for no good reasonnnfix for bug
10191,libahci fix resulttf handling after an ata pio datain commandnncommit  upstreamnnata devices  send  reg fis after an successful ata pio datainncommand the host is supposed to take the tf and estatus of thenpreceding pio setup fis update ahciqcfillrtf such that it takesntf estatus from pio setup fis after a successful ata pio datainncommandnnwithout this patch resulttf for such a command is filled with thencontent of the previous  reg fis which belongs to a previousncommand which can make the command incorrectly seen as failednn patch updated to grab the whole tf estatus from pio setup fisn instead of just estatus as suggested by robert hancocknnnedoffby tejun heo  mark lord  robert hancock  jeff garzik  greg kroahhartman
10192,telephony ignore intents received on inactive phone objectnid
10193,move plugins version to  to match
10194,cpu fix renamed notyetshipping amd cpuid feature bitnncommit  upstreamnnthe amd  feature set asit has been replaced by some extensionsnto the avx instruction set thus the bit formerly advertised as  reused for one of these extensions xopnalthough this changes the proccpuinfo output it is not user visible asnthere are no cpus yet having this featurento avoid confusion this should be added to the stable series toonnnedoffby andre przywara   h peter anvin  greg kroahhartman
10195,frameworksbasetelephony ignore events on a destroyed phonenntit is possible to receive responses from ril after phone has  references ignore events in such cases since those events nontlonger make sense and some phone members have been deializednid
10196,arm tegra correct hdmi clock max ratenid  erik gil
10197,mm  saving vmcore with nonlazy freeing of vmasnncommit  upstreamnnduring the reading of procvmcore the kernel is doingnioremapiounmap repeatedly and the buildup of  is causing a great deal of overhead rbnextnis chewing up most of that timennthis solution is to provide function setiounmapnonlazy itncauses a subsequent call to iounmap to immediately purge thenvma area with trypurgevmaparealazynnwith this patch we have seen the time for writing a  dump drop from  seconds to  secondsnnnedoffby cliff wickman  andrew morton  kexeclistsinfradeadorgnlkmlreference  ingo molnar  greg kroahhartman
10198,usb otg take wakelock when the otg port is set to the host  on tegra cannot function properly when usb controller entersnsuspend while the port is operating in host mode so disablendeep sleep by taking a wake locknid  colin cross
10199,merge remote branch  into froyomergennconflictsnttestsappsecuritytestssrccomandroidctsappsecurityappsecuritytestsjavantteststeststelephonysrcandroidtelephonyctssmsmanagertestjavantteststestsviewsrcandroidviewctsviewtestjavanttoolshostsrccomandroidctsversionjavanttoolsutilscollectalltestsjavanid
10200,fixing android source attachementsnnsteps to reproducenn add android source code to androidjar you can install androidn sources plugin from httpcodegooglecompadtaddonsn ensure that androidappactivitythread exists in the sourcen attachement if you use sources plugin it existsn create an android application and add the next code ton oncreate methodntsuperoncreatesavedinstancestaten object obj  nulln systemoutprintlnobjtostringn setcontentviewrlayoutmainn set breakpoint at linen systemoutprintlnobjtostring npen debug the applicationn wait that apps stop on breakpointn click step overnnthe procces will proceed in activitythread but source is not shownnnthe problem happens because the android source locator introduced   correctnactivitythreadjava  included to androidjar but can benincluded in the source attachement this change adds source to androidnlaunch configuration toonid
10201,fixing the attempt of update the shortcut icon on db before retrieving the idnid
10202,test infrastructure fixesnnadd methods which allow a test case to specify that it needs a uniquenproject for the testcase or even for each individual testnmethod this allows tests which modify the project such as thenquickfixresourcecreation tests to not cause side effects thatnaffect other tests eg resources created by the quickfix could shownup in code completion results by the code completion tests whichnmeant the goldenfiles would have to either include them or excludenthem which meant the tests must always be run together or never runntogethernnthe changeset also adds an environment variable pointing to the gitnworking copy allowing tests with no golden file to create the goldennfiles directly this makes it easy to add new test cases just writenthe test scenarios run them which will fail all the tests but alsonwrite out the expected golden files verify them and check them in andnrunning the tests again should pass if the output is stablenid
10203,aapt allow raw in unformatted stringarraysnncommit  added format checking for translatable strings enforcingnthe use of positional args this check can be disabled on  with  or  but they  for those attributes on  so some of  stringsnfail when  not really format strings just because they containnpercent signs eg brightness   now the formattedtranslatable attributes are checked in stringarrayntoo and we can restore our proper percent signsnid
10204,revert buildtoolsatree move  changes to  reverts commit
10205,telephony enhanced operator name string eons algorithmnnthe operator name for registered plmn should be displayed in thenfollowing order of  name should be derived from efoplefpnn  nitz  name from me  name from networknnthis algorithm implements this operator name deriving  specs  ts   operator name  ts  for ef data  ts  for plmn and lac coding  ts  for plmn matchingnid
10206,arm tegra add pwm drivernnadd support for the pulsewidthmodulation apis using the tegra  pwm controllersnid  gary k
10207,kdump change copyoldmempage to use cached addressingnncommit  upstreamnnthe copy of procvmcore to a user buffer proceeds much fasternif the kernel addresses memory as cachednnwith this patch we have seen an increase in transfer rate fromnless than  to  depending on size of thentransfer this makes a big difference in time needed to save ansystem dumpnnnedoffby cliff wickman  eric w biederman  kexeclistsinfradeadorgnlkmlreference  ingo molnar  greg kroahhartman
10208,arm tegra add clkduplicate entries for tegrapwm devicesnid  gary k
10209,intrremap set redirection hint in the irtenncommit  upstreamnncurrently the redirection hint in the interruptremapping table entrynis set to  which means the remapped interrupt is directed to thenprocessors listed in the destination so in logical flat modenin the presence of intrremapping this results in a singleninterrupt multicasted to multiple  as specified by the destinationnbit mask but what we really want is to send that interrupt to one of the cpusnbased on the lowest priority delivery modennset the redirection hint in the irte to  to indicate that we wantnthe remapped interrupt to be directed to only one of the processorsnlisted in the destinationnnthis fixes the issue of same interrupt getting delivered to multiple  the logical flat mode in the presence of interruptremapping whilenthere is no functional issue observed with this behavior this willnimpact performance of such configurations   using logical flatnmode in the presence of interruptremappingnnnedoffby suresh siddha   weidong han  h peter anvin  greg kroahhartman
10210,arm tegra add tegrapwm to devicescnid  gary k
10211,ddms now receives the adb location through an extension pointnnpreviously ddms received the adb location through a normal java apinwhich requires the other plugin to be actually running thisnwas done in the the start method of adtnnthe new change allows ddms to start a plugin by loadingnan extension provided by the plugin to query for the locationnof adbnnthis allows us to have plugins with no ui able to providenthe location of adb ie a platform plugin that has no uinbesides a pref page that is started by ddms indirectlynnalso cleaned up how hierarchyviewer use the androiddebugbridgenid
10212,support for me depersonalizationnnadded support for all me depersonalizations as per   and  t
10213,add five more usbidsnncommit   christian lamparter  john w linville  greg kroahhartman
10214,add  launcher programnnthis patch renames the current armspecific emulator binary to  introduces a new tiny less than   launcher programnnthe role of  is to launch either  or  on the target avd or platform build being usednnthis program will be replaced in the future by what is currently knownnas  but is a good placeholder until this work is completednn move some utility functions from androidavdinfohc ton androidavdutilhc so that  can use them directlynnimportant for platform builds the target architecture is detectedn automatically by parsing the buildprop filenn for sdk avds however there is no easy way to determine then target architecture so the patch adds a new hwcpuarchn property which can have value  or
10215,first version of the pdtnnpdt stands for android platform development toolsnnthe first version is pretty basic a single pref pagento give the location of the dev tree from this itnfinds the location of adb and provides it to ddms throughnits extension pointnid
10216,support for me depersonalizationnnadded support for all me depersonalizations as per   and  t
10217,fix offbyone on configpmnncommit  upstreamnnthe  chip needs a usb reset whenever thenusbfrontend module  is reloadednnthis patch fixes an offbyone bug if the usernis running a kernel without the configpm optionnset and for some reason eg compatwirelessnwants to switch between different  modulesnnnedoffby christian lamparter  john w linville  greg kroahhartman
10218,code completion in style defions  other improvementsnnthis changeset adds code completion support to resource files  elements are defined in particular you get two types ofncompletionn completion on names    here you get offered all matching attribute names from any viewn descriptorsnn completion on values   here you get offered all values that correspond to the attributen named as the value of the name attribute of the surrounding itemn elementnnunrelated to styles code completion will now also move the caretnoutside the attribute value quotes when you enter one of the valuenalternatives unless the value is a flag type or a resource tokennnalso runon attributes are also handled more gracefully if youncomplete properties with the caret immediately following anothernattribute a separating space is added into the match as a prefix suchnthat the new attribute is separated and the xml validnnthere are a lot of diffs in this changeset in order to allow thenresourcescontentassist to extend code completion to add its stylenspecific logic the content assist code had to be split up a bitndoing completion in text nodes or potential text nodes eg if younhave  you should get text completion at that caretnoffset even though there is no text node child of the item elementnuntil you insert actual text there also required some changesnnthere are many new unit tests i also changed the golden file formatnslightly to show the caret in the beforeview such that  morenobvious how the caret was affected by inserting the new itemnid
10219,debuggerd reorganize to facilitate ia commitnid  bruce bear
10220,contribute android changes to rename package rename type and move type java refactoringnid
10221,usb gadget composite prevent oops for nonstandard control requestnncommit  upstreamnnthe composite gadget will oops if the host sends a control requestntargetted to an interface of an unconfigured composite device this patchnprevents thisnnthe oops was observed during whql usb cv tests with this patch the devicenstalls as per requirementnnfailing test case from host do the following i used  set configuration to  standard out  setconfiguration   null   query current  standard  getconfiguration   data   send the nonstandard ctrl transfer targetted to  standard in to  getdescriptor   data   roger quadros  david brownell  michal nazarewicz  robert lukassen  kyungmin park  greg kroahhartman
10222,treat all wake locks grabbed during driver resume as wakeup wake locksnnthe first wakelock grabbed at resume time may not identify the wakingnactivity treat all wake locks grabbed during driver resume as wakeupnwake locksnid  todd poynor
10223,debuggerd ia versionnid  lei li  bruce bear
10224,return enomem on memory allocation failurenncommit  upstreamnnin this code  is returned on memory allocation failure even though othernfailures return enomem or other similar valuesnna simplified version of the semantic match that finds this problem is asnfollows   retnexpression    when  ret    kmallockcallockzallocn when  ret   x  null when  ret   return retnn  julia lawall  christian lamparter  john w linville  greg kroahhartman
10225,move machinedependent defions from jnih to jnimdhnnbesides the typedefs like jint jniexport and jnicall are preprocessorndefined constants specific to each platform they are now moved intonheader fil
10226,merge   sdk repository  do not mergennwhen the sdkrepo modified is used during the sdk buildnthis also generates the repositoryxml and addonxml filesnfor the new sdk repository packages and places them innthe distdirnnexample usagen make j  productsdksdk showcommands sdkrepo dist  make j  productgooglesdksdkaddon showcommands sdkrepo dist
10227,kvm svm restore correct registers after  intercept emulationnncommit  upstreamnnthis patch implements restoring of the correct rip rsp andnrax after the svm emulation in kvm injected a  intercept into the guest hypervisor the problem wasnthat the vmexit is emulated in the instruction emulationnwhich later commits the registers right after the  so the  guest will continue to run with  rip rsp and rax resulting in unpredictable behaviornnthis patch is not the final word it is just an easy patchnto fix the issue the real fix will be done when theninstruction emulator is made aware of nested virtualizationnuntil this is done this patch fixes the issue and providesnan easy way to fix this in stable toonnnedoffby joerg roedel  marcelo tosatti  greg kroahhartman
10228,merge   sdk  do not mergennwhen the build is invoked with the fake target sdkrepo andna main target of sdk winsdk or sdkaddon we now createnpackages in distdir that can directly be used to populate thensdk repositorynthis is quite close to how we actually distribute the sdknid
10229,kvm  report svm bit to userspace only when supportednncommit  upstreamnnthis patch fixes a bug in kvm where it always reports thensupport of the svm feature to userspace but kvm onlynsupports svm on amd hardware and only when it is enabled innthe kernel module this patch fixes the wrong reportingnnnedoffby joerg roedel  avi kivity  greg kroahhartman
10230,ctsverifier multiple step manual testsnnissue  ctsverifier tests will require multiple stepsnor in other words tests that are a series of questionsnand answersnnthere will most likely be a step to explain the testnfollowed by more steps confirming certain behaviors thisnchange adds some infrastructure to make it easy forndevelopers to have multiple step manual testsnna step activity will start another start activity andnso forth when fail is pressed then the activity willnset a fail result and the step that started it willntake the result and set the fail result on itselfnthis continues all the way down the activity stacknuntil finally the test list activity records the resultsnnadd a notification count test explained in the abovenissue as a dummy prototype of a multiple step manual testnthe other existing tests probably just need an alertdialognwith some explanation before the test beginsnnadd additional yesnobuttons layout that can be swappednout with passfailbuttons layout for alternative textnid
10231,merge   sdk  do not mergennwhen the build is invoked with the fake target sdkrepo andna main target of sdk winsdk or sdkaddon we now createnpackages in distdir that can directly be used to populate thensdk repositorynthis is quite close to how we actually distribute the sdknid
10232,mmc subtract boot sectors from disk size for emmc  devicesnnthe csd sector count reported by emmc  cards includes the bootnpartition size subtract this from the size reported to the disknsince the boot partition is inaccessiblenid  gary k
10233,support for me depersonalizationnnadded support for all me depersonalizations as per   and  t
10234,pipe fix failure to return error code on   upstreamnnthe arguments were transposed we want to assign the error code  which is being returnednnnedoffby nicolas kaiser  jens axboe  greg kroahhartman
10235,support for me depersonalizationnnadded support for all me depersonalizations as per   and  t
10236,usb  fix broken closenncommit  upstreamnnfix regression introduced by  usb serial refactor genericnclose which broke driver closennthis driver uses nonstandard semantics for the read urb which makes thengeneric close function fail to kill it the read urb is actually anninterrupt urb and therefore bulkin size is zeronnreportedby eric shattow eprecocious  eric shattow eprecocious  johan hovold  greg kroahhartman
10237,mmc fix nonarm build due to emmc   error ‘’ undeclared first use in this functionnnintroduced byn mmc subtract boot sectors from disk size for emmc  devicesnnsz  exist on anything but armnid  olof johansson
10238,fix preemption bug for  debug and  breakpoint handlersnncommit  upstreamnnimpact fix kernel bug such asnbug scheduling while atomic  also ubuntu bug    preemptconditionalsticli in  like on   traps converge dodebug handlersnstarted disabling preemption in  and  handlers on  problem with  is that the call to  may jumpnstraight to  and never returns so preempt is never enablednagain and there is an imbalance in the preempt countnncommit    preemption bug which was later accidentally reverted by  hwbreakpoints modifyingngeneric debug exception to use threadspecific debug registersnfixed the problem for debug exceptions but not for breakpointsnnthere are three solutions to this  reenable preemption before calling  thisnwas the approach that was later  do not disable preemption for  in breakpoint and debug handlersnthis was the situation before october  as far as i understandnpreemption only needs to be disabled on  because a seperate stack isnused but  nice to have things work the same way  and  let  return instead of jumping to assembly codenby setting a flag in tifworkmask either tifiret or tifnotifyresumenthe code in  is instructed to return to  bit mode  mode the logic in  was already present to handle signalsni chose tifiret because  slightly more efficient inndonotifyresume in signalc but in fact tifiret can probably benreplaced by tifnotifyresume  submitting approach  because i believe it is the most elegantnand prevents future confusion still an obviousnpreemptconditionalcliregs is necessary in trapsc to correct thenbugnn hpa this is technically a regression but becausen  the regression is so oldn  the patch seems relatively high risk justifying more testing andn   late in the  cyclenn  queuing it up for the  merge window it might howevern justify as a stable backport at a latter time hence cc stable nnnedoffby bart oldeman   frederic weisbecker  kprasad  alan stern  alexander van heukelum  h peter anvin  greg kroahhartman
10239,fix in preferencepagennwhen the user clicked on the restored defaults buttonnthe adbhost value field could still be enabled whilenthe use adbhost field was disablednthis commit fixes the problemnid
10240,fix framebuffer widthheight computationnnthis patch fixes a bug in the skin parsing code that computes thendimensions of the emulated framebuffer the bug had the followingnsymptomsnn the vertical framebuffer size reported by the  devicen was always  the default independent of the  dimensions and emulated  device dimensionsnn as such all touch event y coordinates were scaled by then system by  when running inside a hvga screennid
10241,fix for issue  the user can set if he wants to change perspectivenwhen he doubleclicks in the logcat viewnif he wants to change perspective he can set whichnperspective shall be openednid
10242,use internal rstringabbrevwdaymonthdayyearnfor formating datepickerdialog title rather thennjavatextdateformat because it does not supportnmany locales result with dateformat of the currentndate is shown for a lot of locales     which actually meansnmon  mar  and so onnid
10243,buses tegra enable new  slave  has new  slave controllers these should be used insteadnof the legacy  slave controllers legacy  slave can occasionallyngenerate spurious interrupts causing disruptions in  transfersnid  nitin kumbhar
10244,telephony enhanced operator name string eons algorithmnnthe operator name for registered plmn should be displayed in thenfollowing order of  name should be derived from efoplefpnn  nitz  name from me  name from networknnthis algorithm implements this operator name deriving  specs  ts   operator name  ts  for ef data  ts  for plmn and lac coding  ts  for plmn matchingnid
10245,use gcc visibility to reduce the size of libdvm by  libdvm exports many elf symbols but zygote and othernapplications  really depend on all of them this change hidesnmost of the symbols which would have previously and unnecessarilynbeen public this means it improves load time of libdvm and thenlink optimizer could produce better code as wellnnthe technique is applied in the performance profilennreference experimental results of qualcomm    number of elf symbols when  armeabinm dynamic systemliblibdvmso grep t wc ln  dlopendlsym timen   code sizen systemliblibdvmso   number of elf symbols when  armeabinm dynamic systemliblibdvmso grep t wc ln  dlopendlsym timen   code sizen systemliblibdvmso  bytesnn dlopendlsym time the time consumption from dlopen libdvm ton dlsym dvmprepfordexoptnid
10246,usb gadget gffs fixed vendor and product idnncommit  upstreamnnthis patch fixes the vendor and product id the gadget usesnby replacing the temporary ids that were used duringndevelopment which should never get into mainline withnproper idsnnnedoffby michal nazarewicz  kyungmin park  greg kroahhartman  greg kroahhartman
10247,use gcc visibility to reduce code sizennthis change hides most of the symbols which would have previouslynand unnecessarily been   bytesnsystemliblibicuucso    bytesnsystemliblibicuucso  bytesnntotal code size reduction  bytesnid
10248,update mksh to the released version  no code changesnnadjust build system to changes in both android and mkshnand make further updates and test builds easiernid
10249,fix bad mergennmy merging of froyo changes reintroduced a test innnoactivityrelatedpermissiontest that had already beennremovednid
10250,various makefile bugs were preventing the ndk from being fully builtnid  bruce bear
10251,turnoff  and sincos support for native build toolchainnnif build the toolchain use native build environment and host with glibcnthe  and sincos will be turnon but bionic  have those featurenit will lead to compile errornid
10252,xgcc compiles need to use the android crt files as specified in ldflagsfortargetnid  bruce bear
10253,big restructuring of this code to make it more readable and betternmodularized also switches to a simpler model instead of a pong game now thenhost android device ializes the microcontroller with an ial state andnthen calls on the microcontroller for updates the microcontroller is justnused as a modelstate engine for what the app will render barring bugs thisnmicrocontrollerside code should now be donenid
10254,fixes keyboard availability in providing resources documentation pagennadded keyshidden valuenid
10255,add readme regarding move of adb to platformtoolsnid
10256,xgcc compiles need to use the android crt filesnid  bruce bear
10257,pull vcard listing and pull vcard entry improvementsnnthe functionality has been improved to solve the following  list start offset is not correct when a search value is used thenoffset is not used on the searched values but on the whole phonebooknthis is not correct according to  and  in the  handle in phonebook listing is only a counter and can’t be usednto actually find the real vcard in pull vcard entry this is clearlynvisible when using a liststartoffset in the phonebook vcard listingnthis is not correct according to  in the pbap  alphabetical order does not work in search by numbernthe common solution for all these problems is to use the databasenmore extensively for lookup furthermore to ensure unique handlesnin the phonebook listing the handle has been changed from a counternto database idnid
10258,capture branch historyn
10259,fix sms testcases for nontelephony devicesnnsendreceive sms testing should be disabled for nontelephony devicesnid
10260,add updown iconsnnadd updown icons to the outline context menu for the move up and move down actionsnid
10261,arm tegra statically map all device io memorynid  colin cross
10262,pm dump suspend thread stack on dpm suspend timeoutnnwhen a driver takes more than  seconds to suspend dump the suspendnthread stack since bug might only dump the idle thread stacknid  benoit gobi
10263,fix some scannertest locale issuesnid
10264,sf fix race condition during av streaming seeknn when cached duration hits klowwatermarkus awesomeplayer will pausen and wait for  to be filled up to high water mark againn if audio seek complete event happens when paused because all pendingn events are canceled in pausel mediaseekcomplete notification is notn sent to mediaplayer as a result all subsequent seek requests are quequedn at mediaplayer and not sent to sf player due to the outstanding seeknn the fix is when mwatchforaudioseekcomplete pending wait until the conditionn being cleared to enter pausenn nedoffby yong zhi  nedoffby chris kelli
10265,input keyreset only print message for default handlernid  colin cross
10266,sf av streaming bug fix for errorendofstream conditionnn the assumption that when mfinalstatus  ok the avail size must ben less than the requested size is wrongnn nedoffby yong zhi  nedoffby chris kelli
10267,allow
10268,video tegra dc fix yuv planar prescaled sizenid  ari hirvonen
10269,fix win sdk build  break if  is missingnnthe core issue is why  is missing from the buildnwhilst we investigate why this will unbreak the build we shouldnrevert this once the  is built correctly againnid
10270,also install libintla and libibertyn build libsupca for armnid
10271,revert fix keytests for azerty keyboardnnthis reverts commit  test  work on nexus s after azerty fix probablynsomething like keycharactremapgetevents will need to be usedninsteadnid
10272,fix very long tab key on webentry wo settings layoutnnthe  layout used to input data in forms it has the tab keynnext to space to move between input fields in a web form there arentwo variants of that layout with and without settings keynnthe variant with settings key a default one is fine space barnis almost as wide as in other layouts and there is a narrow tab keynto the rightnnthe variant without settings key is buggy space bar widthnis only  of its usual size and tab key is as wide as the spacenthis is problematic because a user expects a space bar to be therenhits the tab instead it happened to me a dosen times when editingna google search query on a page with results using an input box beforenthe search results when i try to type space it jumps down to thensearch box which goes after the search results it is a very badnuser experiencenni believe  a bug in layout caused by xml code for space to bencopypasted to create an entry for tab the reason  notnreportedfixed is because most people do not disable  in preferences and use the other version of the layout which is finennunfortunately the bug is propagated from the default to all the nationalnlayouts so it need to be patched in all these places at oncennfortunately the fix is obvious just use the same layout as withnthe settings keynntested by be using english and russian layouts should be pretty obviousnto review please submitnid  kir kolyshkin
10273,revert fix keytests for azerty keyboardnnthis reverts commit  test  work on nexus s after azerty fix probablynsomething like keycharactremapgetevents will need to be usedninsteadnid
10274,staging usbip notify usb core of port status changesnncommit  upstreamnnthis patch changes vhci to behave like dummy andnother hcds when disconnecting a devicennpreviously detaching a device from the root hubndid not notify the usb core of the disconnect andnleft the device visiblennnedoffby max vozeler  marco lancione  luc jalbert  greg kroahhartman
10275,capture branch historyn
10276,staging phison fix problem caused by libata changenncommit  upstreamnnthe libata core changed this function so it needed to call a differentnonennsee  for detailsnnreportedby heinz wiesinger  heinz wiesinger  greg kroahhartman
10277,staging usbip process event flags without delaynncommit  upstreamnnthe way the event handler works can cause it to delaynevents until eventual wakeup for another eventnnfor example on device detach vhcinn write to sysfs detach filen  usbipeventaddvdeveventdownn  wakeupnndefine vdeveventdown usbipehshutdown usbipehresetnn event thread wakes up and passes the event ton eventhandler to processnn it processes and clears the usbipehshutdownn flag then returnsnn the outer event loop eventhandlerloop callsn waiteventinterruptiblennthe processing of the second flag which is part ofnvdeveventdown usbipehreset did not happen yetnit is delayed until the next eventnnthis means the  callback may not happen forna long time if ever leaving the usbip port in anweird state which prevents its reusennthis patch changes the handler to process all flagsnbefore waiting for another wakeupnni have verified this change to fix a problem whichnprevented reattach of a usbip device it also helpsnfor socket errors which missed the reset as wellnnthe delayed event processing also affects the stubnside of usbip and the error handling therennnedoffby max vozeler  marco lancione  luc jalbert  greg kroahhartman
10278,frameworksbase cap the number of toasts that a package can postnnnotificationmanagerservice keeps track of requested toasts in anqueue any package can trigger a dos by repeated enqueue ofntoasts which eventually results in a leak of weakreferences innsystemserver and causes dalvik hosting systemserver tonabort the samenid
10279,bt tethering bluetooth tetheringnnenabling bluetooth pan with tetheringnid  christian bejram
10280,sched drop all load weight manipulation for rt tasksnncommit  upstreamnnload weights are for the cfs they do not belong in the rt task this makes allnrt scheduling classes leave the cfs weights alonennthis fixes a real bug as well i noticed the following phonomena a processnelevated to schedrr forks with schedresetonfork set and the child isnindeed schedother and the niceval is indeed reset to  however the weightninserted by setloadweight remains at  giving the task insignificatnprioritynnwith this fix the weight is reset to what the task had before being elevatednto schedrrschedfifonncc lennart poettering  linus walleij  peter zijlstra   ingo molnar  greg kroahhartman
10281,monkey request am to show the anr dialognndefault return value of  from appnotresponding was to show thenanr dialog in eclair however recent version of  amninterpret  as to wait fix is to change the default returnnvalue from  to
10282,revert buildtoolsatree move  changes to  reverts commit
10283,pcmcia synclinkcs fix information leak to userlandnncommit  upstreamnnstructure newline is copied to userland with some padding fields unitializednit leads to leaking of stack memorynnnedoffby vasiliy kulikov  dominik brodowski  greg kroahhartman
10284,monkey fix to avoid generating bug report for every event inputnnbugreport is generated once an app crashes and monkey is intimatednby activity manager service from this point bugreport is generatednfor every event input as mrequestappcrashbugreport stays true fixnis to reset the samenid
10285,revert fix win sdk build  break if  is missingnnthis reverts commit
10286,bluetooth fix missing null checknncommit  upstreamnnfortunately this is only exploitable on very unusual hardwarennreported a while ago but nothing happened so just fixing itnnnedoffby alan cox  linus torvalds  greg kroahhartman
10287,arm tegra prevent dynamically ioremapping device io memorynid  colin cross
10288,bluetoothpan add bluetooth pan servicennadds bluetooth pan serviceprofilenadds bluetooth tethering support for multiplenremote bluetooth devicesnid  christian bejram
10289,sched fix string comparison in procschedfeaturesnncommit  upstreamnnfix incorrect handling of the following casenn interactiven interactivesomethingelsennthe comparison only checks up to each  lengthnlog since  embellish using some rostedtismsn mingo  smaller and cleaner nnnedoffby mathieu desnoyers  steven rostedt  peter zijlstra  tony lindgren   ingo molnar  greg kroahhartman
10290,fix some calendartest locale issuesnid
10291,perfevents fix bogus  generic tlb eventsnncommit  upstreamnnperfcounthwcachedtlbreadmiss had a bogus umask value of  whichncounts nothing needed to be  to count all possibilitiesnnperfcounthwcacheitlbreadmiss had a bogus umask value of  whichncounts nothing needed to be  to count all possibilitiesnnnedoffby stephane eranian  peter zijlstra  robert richter   ingo molnar  greg kroahhartman
10292,powerpcperf fix sampling enable for   upstreamnnthe logic to distinguish marked instruction events from ordinary eventsnon  and derivatives was flawed the result is that instructionnsampling  get enabled in the pmu for some marked instructionnevents so they would never trigger this fixes it by adding thenappropriate break statements in the switch statementnnreportedby david binderman  paul mackerras  benjamin herrenschmidt  greg kroahhartman
10293,perfevents fix bogus context time trackingnncommit  upstreamnnyou can only call updatecontexttime when the contextnis active ie the thread it is attached to is still runningnnhowever perfeventread can be called even when the contextnis inactive eg user read the counters the call tonupdatecontexttime must be conditioned on the status ofnthe context otherwise bogus timeenabled timerunning maynbe returned here is an example on  the task programnis an example from  the p prints deltas every $ task p e cpuclkunhalted sleep   cpuclkunhalted  scaling    cpuclkunhalted  scaling    cpuclkunhalted  scaling    cpuclkunhalted  scaling    cpuclkunhalted  scaling   cpuclkunhalted  scaling   if you  read deltas eg no call to perfeventread untilnthe process terminatesnn$ task e cpuclkunhalted sleep   cpuclkunhalted  scaling   that timeenable timerunning are bogus in the first examplencausing bogus scalingnnthis patch fixes the problem by conditionally calling updatecontexttimenin perfeventreadnnnedoffby stephane eranian  peter zijlstra   ingo molnar  greg kroahhartman
10294,change pluging copyright date to  bug
10295,add more sdk lib tests to sdk buildnid
10296,cpuset minor compilation and var fixesnnthe tcred is based on what cpucgroupcanattach doesntmodified kernelcpusetcnnnedoffby jp abgral
10297,add more sdk lib tests to sdk buildnnalso fix whitespace issues introduced by last commitnid
10298,palette with previews categories and view modesnnthis changeset contains the following improvements to the  display modes the palette now supports several different viewn modes and you can switch these via the context menu the modesn arenn a previews this renders previews for all the views using then current sdk platform theme screen density etcn b small previews this is like a but scaled down to  sizen c tiny previews like a but scaled down to  sizen d text icon this shows an icon and the name of the view thisn is the same as what the palette has looked like before thisn changesetn e icons onlynn all the modes except for the texticon mode will lay out then views in a row with vertical centering to fit as much as possiblen in the available space for that categorynn the view mode along with other view flags described below aren preserved across ide  an accordion view the palette is now using an accordion controln which means it by default will keep a single category open and itn will always ensure that all the category labels are visible in then current view without scrolling via the context menu you can turnn off the autoclose of the previous category the accordion viewn uses vertical scrollbars within each category content area ifn necessarynn the accordion view renders the category headers using openclosen folder icons a bold font and a background gradient which variesn between the normal and hovered  categories the category metadata is now used to organize the viewsn into a handful of different categories the categories can ben enabled and disabled via the context menu when you turn offn categories you get all the views in a single large  alphabetical sorting by default the views are now sortedn naturally eg the metadata provided order where importantn views are listed first you can switch it to alphabetical ordern via the context menu in which case the items are listed inn alphabetical order either within their individual categories orn if categories are turned off the global view listnnthis changeset also adds a new swt imagecontrol this is necessary tondisplay the preview images because the clabel which is usually usednto display images in swt is hardcoded to hide the icon if there isnnot enough horizontal space to display the full label even when itnhas no text label so for wide preview images the images would simplyndisappear when the palette was resizednid
10299,binary xml editornnthe change enable to review xml files from the androidjar filenit works so that actually open file  comandroidideeclipseadtbinaryxml binaryxmldescriberncontent type associates android resource xml files to thenbinaryxmlmultipageeditorpart editornthe editor checks if the file is contained in jar and is sonconvert editor input to xmlstorageeditorinput that handlesncorresponding file from android sdknid
10300,make adt check for emulatorarm instead of emulatornid
10301,seperate messages withwithout callbacknnbecause runnable is internally message with callback that what field  it can be conflicted with general messages that  field  avoid it seperate messages and runnables by adding one more methodnthat checking  what field and callback field optionally and use itnid
10302,frameworksbase track owner in appropriate owners list of urinnthe owner  kept track it  writeowners whenngranturipermissionuncheckedlocked is invoked to provide bothnread and write access to the uri fix is to check for bothnread and write permissions and add owner to appropriate listsnid
10303,bt tethering increase command buffersize and command argsnnneeded to support tethering of multiple remote bluetooth devicesnid  christian bejram
10304,frameworksbase watchdog to generate trace of activitycontrollernid
10305,futex fix errors in nested key refcountingnncommit  upstreamnnfutexwait is leaking key references due to futexwaitsetupnacquiring an additional reference via the queuelock routine thennested key refcounting has been masking bugs and complicating codenanalysis queuelock is only called with a previously refcountednkey so remove the additional refcounting from the queueunlocknfunctionsnnalso futexwaitrequeuepi drops one key reference too many innunqueuemepi remove the key reference handling fromnunqueuemepi this was paired with a queuelock innfutexlockpi so the count remains unchangednndocument remaining nested key refcounting sitesnnnedoffby darren hart  matthieu  louis  peter zijlstra  eric dumazet  john kacur  rusty russell   thomas gleixner  greg kroahhartman
10306,bluetooth fix oops in   upstreamnnin error cases when the acl is insecure or we fail to allocate a newnstruct sock we jump to the response label if so sk will bennull and the kernel crashesnnnedoffby nathan holstein  marcel holtmann  gustavo f padovan  greg kroahhartman
10307,arm  fixes for audioctl and pcmoutnn  was not doing proper checks on user datan pcmioctl would crash if audiosetvoume got called before audiostartnnnedoffby iliyan malchev
10308,qemu add cdmarelated network speeds to modemnnadd cdma network speeds required to be able to switch technologynfrom the command linenid
10309,cifs fix broken oplock handlingnncommit  upstreamnncifsnewfileinfo does not use the  value from the callers insteadnit sets it to reqoplock which seems wrong we should be using the oplock valuenobtained from the server to set the  clientcancacheall ornclientcancacheread flags fix this by passing oplock from the callers toncifsnewfileinfonnthis change dates back to commit   so all the affectednversions will need this fix please cc stable once reviewed and acceptednnreviewedby jeff layton  suresh jayaraman  steve french  greg kroahhartman
10310,replaced deprecated setbutton methodsnid
10311,adb remove obsolete shell history supportnid  mike lockwood
10312,replaced deprecated intentouri methodnid
10313,replaced deprecated getintent with parseurinid
10314,avoid creating a sp from a dying sp causing multiple deletionnnonce an sp has hit mstrong   it is in the process of being deleted makingnanother sp from it will result in the object being deleted twicennfor some reason processstate uses a special function that can do just this andncauses bugs we reimplement it to do an attempt at creating and sp instead ofnforcing then it clean up appropriatelyn
10315,replaced deprecated gesturedetector api callnid
10316,replaced deprecated getintent with parseurinid
10317,replaced deprecated bitmapdrawable contructornid
10318,replaced deprecated string constructornid
10319,add a printf formatnnthis makes sure that data sent through logwrappernis interpreted as stringsnid
10320,replaced deprecated getintent with parseurinid
10321,fix preadpwrite stubsnnon arm eabi  function parameters must be alignednto an evenodd register pair the weird way these stubsnwere written using separate lohi parameters preventednthis alignment from being enforced by the compilern
10322,replaced deprecated getintent with parseurinid
10323,replaced deprecated sensorlistener with new sensoreventlistenernremoved unused importsnid
10324,fix the fileoutput mio to take into account the  uyvy formatn
10325,remove yuv buffer alignment calculations from the omx decoder node this is currently done in the omx componentsn
10326,build buildmultiprebuilt for the prebuilt targetnnadd files included as prebuilts with buildmultiprebuiltnto be installed as part of the  targetnid
10327,gpu pvr instead of falling back on vmalloc if kmalloc fails vmalloc firstnnpreviously this code would fall back on vmalloc if kmalloc fails thisncan kickoff reclaim unnecessarily instead always use vmalloc fornallocations where it is possible and only use kmalloc for allocationsnsmaller than a page or where physically contiguous memory is requirednid  rebecca schultz zavin
10328,report a more appropriate failure status via the author engine when underlying node commands failn
10329,make the default camera app capable of seeing videosn
10330,the issue fixes the logic that put frame start code in front of wmv advanced profile frame if  not theren
10331,replaced deprecated wallpaper api with wallpapermanagernid
10332,usb composite compute interface numbers correctly when functions are hiddennnnedoffby mike lockwood
10333,replaced deprecated setbutton methodsnid
10334,change osclimportref to osclexportref declaration for setmaxlinesizeformultilineresponse method in httpparsern
10335,replaced deprecated string constructornid
10336,fix for opening shared asset file handles multiple timesn
10337,move inlined code from header to cpp file for pvmfeventhandlingn
10338,telephony process mt sms with mti set to
10339,limit the max size of album art to  megsn
10340,fix regression netspeed  and netdelay   worknnthe bug was introduced in a past integration patch that moved code from vlcnto netandroidcnid
10341,usb gadget android fix special case for rndis ethernet functionnnonly set device descriptor bdeviceclass field to usbclasscomm whennthe rndis function is actually enablednnnedoffby mike lockwood
10342,update the omx decoder node to reject a component if iomxcomponentusesfullavcframes is falsen
10343,add small userevent abstraction interfacennpreparation for future ui frontendbackend separationnnthis is done to ensure that the code under androidskin does not dependnon any qemuspecific header we achieve this by adding a new abstract headernusereventsh and one qemuspecific implementations for the functionsndefined herennthis also modifies consoleh and vlandroidc to make them closer tonupstream by removing androidspecific changesnn fix makefileandroid to always build sdl from sources in standalone modenid
10344,added divx drm specific testcases in player engine unit testsn
10345,let adb connect connect to emulators toonn adb can now connect to an emulator configured with an arbitraryn pair of  port adb  these two ports do not have to ben adjacentn this can be done from the commandline at any time usingn adb connect  emulators running on ports outside the normal rangen  register themselves on startup if they follown the convention console  portn emulators outside the normal port range will not be autodetected onn adb startup as these ports are not probedn the index into localtransports array in transportlocalc does non longer indicate the port number of the local transport use the alteredn atransport struct to get the port numbern i have chosen not to document the adb connect emuconsoleportadbportn syntax on  help screen as this might be confusing to most readersn and useful to very fewn i  expect this to introduce any backwards compatibility issuesnid  mike lockwood
10346,app music app crashes when tries to launch on  patch adds new buttonbar png files to the what appearsnto be the correct directory there may be a better way to fix thisnnnedoffby karimuddin sayed  chris kelli
10347,adb connect and disconnect improvementsnnport number is now optional will use default port  if not specifiednadb disconnect with no additional arguments will disconnect all tcp devicesnid  mike lockwood
10348,cleanup fixes for scalegesturedetectorn
10349,removed duplicate codenphotographsjava contains extactly the same code as wallpaperjavanthere are also no calls to this activity so no other files need to be updatednid
10350,added a new method to packagemanagernto check if a package with a given name is currently installednwhy i did this apichangenwhen you look in example in the packageinstaller andnhow it determines the installed packages it first getsnall installed packages and then loops through all of themnwith this new api you can save some ressources on the phonencause there is no need to loop through all installed packagesnid
10351,adb add qualcomm usb idnid  dima zavin
10352,fix adb remount on nonmtd devicesnid  mike lockwood
10353,return false on remoteexceptionnid
10354,change  defect  delete contact based on contact idnid
10355,invalidate cache for camera preview and stats pmem regions in additionnto the snapshot buffer this lets userspace use cacheable read for thosenpmem regionsnnnedoffby chihchung chang
10356,corrected spn and plmn name handlingnnspdifile on sim and bcd encoded plmnentries  parsed correctlyncausing us to display wrong networknamesnid
10357,am  reconcile main tree with opensource eclairnnmerge commit  eclairplusaospnn commit   snapshotn fix
10358,use linenoise to add simple editing and history to the android shellnnthe linenoise library is from httpgithubcomantirezlinenoisennthis patch also disables commandline editing and history from adb thenadb implementation was shadowing the android  implementationnnthe adb implementation was also shadowing the editing and historynimplementation in alternative shells such as  ashnid
10359,text disappears when selecting text in text editornnthe problem appears when the user selects copies and paste textnand then selects text again the second time text is selectednthe copied text becomes visible in the text fieldnid
10360,add proper support for  and  in the manifest parsingnid
10361,fix sd card size check to prevent int overflownnalso added a check for sd card that are too big  to preventnlong overflownid
10362,prevent browser becoming unresponsive when surfing to a url with many escaped charactersnnsurfing to a webpage with many characters in the url will hang the browser for several minutesnto reproducenstring url  intent  new intentintentactionview uriparseurlnintentaddcategoryintentcategorybrowsablenstartactivityintentnnthe raw url is used to match previously visited urls in the history database with the sql like operatornthe like operator does however treat signs as wildcards and an exhaustive and unnecessary search is madenthe fix uses the escape functionality of like to treat the signs in the url as nonwildcardsnas underscore is treated as also treated as a wildcard it is escaped as wellnid
10363,disconnect active call for atchup command from bluetoothnnas per  spec ts  active call should be disconnected for atchupncommand instead ringing call is disconnected in the current implementationnfor bluetooth this is corrected to disconnect the active callnid
10364,disconnect active call for atchup command from bluetoothnnas per  spec ts  active call should be disconnected for atchupncommand instead ringing call is disconnected in the current implementationnfor bluetooth this is corrected to disconnect the active callnid
10365,remove size height feedback from view system to webkit if the view height is set by height of contentnnremove size height feedback from view system to webkit if the view height is set by height of contentnin order to fix a bug which causes the webview to grow endlesslynnto reproduce try the following in a webview with  in a
10366,arm tegra add api to control internal powergatingnid  colin cross
10367,fix heap corruption from too long of a tagnnsnprintf has a weird return value it returns what would have been written given a large enough buffernin the case that the prefix is longer then our  it messes up the calculations below possibly causing heap corruptionnto avoid this we double check and set the length at the maximum size minus null byten
10368,improve formatting of locales in cts reportnnbug  a xlt snippet to insert a line break every  localesnid
10369,update of drm frameworknn change void type of return value to int for returning statusn add some of overloaded java apis which accept database uri as inputn add asynchronous apisn add oneventlistener and onerrorlistener for asynchronous apisn disable debug logn change decrypt api to accept an optional buffer needed by some of drm schemesns are incorporated by sony corporationnid
10370,alias  to   has already has a stop command usednto stop the main runtime and the aliasninterferes with testing tools that expectnstop to kill the runtimenid
10371,arm tegra suspend allow suspend mode to change through debugfsnid  colin cross
10372,make drm libraries optionalnid
10373,update ddmlibprebuiltjarnid
10374,getphonebookindex fix handling for minor japanese kana charactersnnthis adds minor japanese kana character handling to meet thenunicode collation algorithmnnnormalize digraphs yori koto into first reading letterntreat dakuten dot onbiki iteration marks as a symbolnadd handling for minor small katakana letternnnedoffby yutaro ogasawara
10375,display selection a bit betternid
10376,indicate when  is rejected in relativelayoutnnthis is the case where a view from a relativelayout is beingnmoved on a dependent view now it marks the view with a bluencross to give a clue that  not a suitable targetnid
10377,correct behavior of getabsbuildvarnngetabsbuildvar should work no matter which directorynyou are staying push directory to the top directory beforencalling makefile to get the correct absolute pathnid
10378,update to new ddmlib prebuilt apinid
10379,update to new ddmlibprebuilt apinid
10380,scheduler cpuacct enable platform callbacks for cpuacct power trackingnnplatform must register cpu power function that return power innmilliwatt secondsnid  mike chan
10381,scheduler cpuacct match upstream api name changenid  mike chan
10382,replaced deprecated configlogd with configdebug so theres only debug output on a debug buildnid
10383,scheduler cpuacct enable platform hooks to track cpuusage for cpu frequenciesnnintroduce new platform callback hooks for cpuacct for tracking cpu frequenciesnnnot all platforms architectures have a set cpufreqtable definednfor cpu transition speeds in order to track time spent in at variousncpu frequencies we enable platform callbacks from cpuacct for this accountingnnarchitectures that support overclock boosting or  have predefinednfrequency tables can implement their own bucketing system that makes sensengiven their cpufreq scaling abilitiesnnnew filencpuacctcpufreq reports the cpu time in nanoseconds spent at each cpunfrequencynid  mike chan
10384,fix mac build by using prebuilt sdl library for os xnid
10385,replaced deprecated contacts api with contactscontractnid
10386,replaced deprecated configlogd with configdebug so debugoutput will only be enabled when in debug modenid
10387,removed unused importsnid
10388,reduced warnings by removing unused imports unused variables and adding type argumentsnid
10389,read log permission test fixesnnbug  a typo in the logcat command used in the test there was annextra colon in one of the argumentsnnadd a test to check that log files under devlog are not worldnreadable also check they are owned by user root and group lognncreate a jni library just for the permissions package the jni codencannot be added to the ctsteststubs jni library because the testsncannot use ctsteststubs since that acquires the permissions wenare trying to negative test i also tried compiling just the singlenjava source in ctsteststubs ially where i tried to putnfileutils and reusing the ctsteststubs jni library but the vm didnnot like it thus i take the easiest route of making a separatenjni library just for the permisions packagenid
10390,browser crash fix caused by incorrect reference counting leading garbage collector cleanupnid
10391,fix test ant rulesnnthey were importing the old name of the main rulesnid
10392,fix touchtesttestontouchevent test stringnnbug  this test to work with any display width by creatingna test string that is wider than the screen rather thannusing a fixed size and expecting the textview to only scrollnas much as there is left to scrollnid
10393,arm tegra irq always update  wake masknnto allow the suspend mode to be changed at runtime always update  wake mask when irqsetwake is called on an irqnid  colin cross
10394,arm tegra gpio always update  wake masknnto allow the suspend mode to be changed at runtime always update  wake mask when irqsetwake is called on a gpio irqnid  colin cross
10395,focusfindertest workaroundsnnbug  focusfinder tests were failing on large width screens becausenthe focus model takes into account the width of the widgets thenprior layout had buttons that spanned the entire screen and thisncaused the focus behavior to change across different screen sizesnthis does not seem correct but it is how the framework is codedncreate a new layout that has four equallysized center buttons tonavoid this problemnnfinally the focusfinderfindnearesttouchables seems to not takeninto account the touch coordinates when calculating the deltanoffset for the down and right focus directions which thus makesnthe distance greater than the edge slop causing it to failnthis also does not seem correct but probably due to a lack ofnmy understanding bug  work around the problems usingnmore simple cases that touch on the outer edges of the widgetsnthat do not trigger that problemnnbackport from froyo matchparent attributes changed to fillparentnand strings added to stringsxml to get around translation errorsnid
10396,new zoom controls in the layout editornnnew  and real size buttons the real sizencomputes a scale value based on the dpi of the monitornand the dpi of the layout device infonnalso cleanedup the customtoggle class to be ancustombutton toggle optional as the  andnzoom inout buttons are not togglesnnmigrated the clipping button to be set up throughna custombuttonnnadded groups of custombutton which are closer toneach others than normalnid
10397,check contactscontenturi activity supportnnissue  a test that checks contactscontractcontactscontenturinactivity intent is supportednnported from eclair since there is no automerging to froyonid
10398,fix touchtesttestontouchevent test stringnnbug  this test to work with any display width by creatingna test string that is wider than the screen rather thannusing a fixed size and expecting the textview to only scrollnas much as there is left to scrollnid
10399,genericmk replaced alarmclock with newer deskclock appnid
10400,clean up properly in database testsnnissue  sqlitetransaction exceptions that arise from enabling sqlitenshared cache mode these occur when not closing database handlesnproperlynid
10401,added missing classpathentry for deskclock app bluetooth obex   globalsearch and provisionnid
10402,fix crash when wifi direct device name starts with spacennwhen wifi direct device name starts or is just   from supplicant gets trimmed to  thisnstring has  at end and beginnig then we call substringnwith  causing crashnid
10403,replaced deprecated api with new wallpapermanagernid
10404,verify device imeimeid idsnnbug  that telephonymanagergetdeviceid returns either a  imei id for gsm phones  hex meid id for cdma or  meid ids check the luhn check digit for imei idsnfinally check that a valid mac address is returned byndevices that are neither gsm or cdmanid
10405,fix for issue  missing android prefix removed unused importsnid
10406,defect  missed call notiifcation on home screennid
10407,md dmcrypt add option to reuse a new global workqueuenntypically dmcrypt instances each have their own set of kcryptkcryptionworkqueues this patch adds an option which will create one set ofnworkqueues on and reuses them for all dmcrypt target instancesnin order to cut down on resource overhead on embedded systemsnnnote if you use stacked dmcrypt instances then enabling this optionnmay cause a deadlocknncc milan broz  brian swetland  andrew morton  christophe saout  san mehat
10408,prevent layout interaction on certain layoutsnnsome layouts like zoomcontrols extend another layout class in thisncase linearlayout presumably for implementation convenience butnthe zoomcontrol  intended to be used as a generic linearlayoutnwhere you want to drop new widgets in between its existing childrennwhere you want to change the orientation etcnntherefore this changeset adds a new layout rule ignoredlayoutrulenwhich various new widgetspecific rules inherit from to preventndefault layout handling from kicking innid
10409,added  as supported charsetnnwe sometimes receive  message in japannso charset  should be parsednid  original blank linen
10410,add  as supported charsetnnwe sometimes receive  message in japannso charset  should be parsed correctlynid
10411,spi tegra fix error setting on timeoutnnavoids derefencing an unialized pointernid  erik gil
10412,merge commit  of gitandroidgitkernelorgplatformpackagesappscamera into headn
10413,fix internal update sitennplatform category  have a desc which seemsncause problemsnid
10414,disable thumbnail creation after video capturennnedoffby anu sundararajan
10415,revert video tegra add z order blending output position and stride to overlaysnnthis reverts commit
10416,fix windows event loop handlingnnthis change fixes the windows emulator binary which got stuckndue to changes in the timer implementation that occured duringnthe last upstream integrationnid
10417,fix platform update site categoriesnid
10418,revert disabling generation of thumbnail after video capturennthis reverts commit
10419,code added to support speed dialnid
10420,fix max memory to be  not
10421,code added to support speed dialnid
10422,bounce fix cache maintenance for bounced highmem pagesnnthe bounced page should be flushed after memcpy to ensure thatnarchitecture implementations can synchronize instruction and datancaches of the copied datanid  gary k
10423,do not submit investigate using recovery to install aosp buildsnid
10424,code added to support speed dialnid
10425,video tegra add z order blending output position and stride to overlaysnid  erik gil
10426,fix crash in quicksearchbox widgetnnlooks like mcorpusindicatorintent it is not used any morenbut causes nullpointerexception as it never setnid
10427,video tegra correct typeo in hdmi parent clock setupnid  erik gil
10428,adt  adjust selection on rightclick or dragnid
10429,fix buildnid
10430,fix buildnid
10431,merge commit
10432,ril add support for  release  networks  setupdatacall accepts ip version parameter  deprecate rilrequestlastdatacallfailcause as it cann causes problems when several pdn contexts are active failure reasonn should be returned when setupdatacall returnsnn add failure causes for release  networksnid
10433,update export wizard for new release exportnnuse the exporthelper to fully rebuild the releasenpackage as taking the debug package no longer worksnbecause it inserts  clean up the apksettings thing  notnused anymorenid
10434,arm tegra add blink timer to  pmc unit contains a blink output which can be used bynplatforms as a   peripheral clock source on ventananthis is used as a  source to the wifi bluetoothnmodulennsince the blink timer is located in pmc it is preservednand potentially active during suspendnid  gary k
10435,focusfindertest workaroundsnnbug  focusfinder tests were failing on large width screens becausenthe focus model takes into account the width of the widgets thenprior layout had buttons that spanned the entire screen and thisncaused the focus behavior to change across different screen sizesnthis does not seem correct but it is how the framework is codedncreate a new layout that has four equallysized center buttons tonavoid this problemnnfinally the focusfinderfindnearesttouchables seems to not takeninto account the touch coordinates when calculating the deltanoffset for the down and right focus directions which thus makesnthe distance greater than the edge slop causing it to failnthis also does not seem correct but probably due to a lack ofnmy understanding bug  work around the problems usingnmore simple cases that touch on the outer edges of the widgetsnthat do not trigger that problemnid
10436,enable apic support in goldfish kernelnnto support  irq number we need enable apic in kernelnnthis utilize the upapic support in kernelnid  jiang yunhong
10437,fix buildnid
10438,fix buildnid
10439,dualsim feature sample changesnnthe changes correspond to sample dualsim feature on androidnwhich can support two subscriptionsnid
10440,spi tegra fix typo preventing compilationnid  greg meist
10441,removed unused importnid
10442,reduced warningsnid
10443,removed unused imports added type arguments removed some warnings by using unused methods and variablesnid
10444,removed unused importsnid
10445,phone display short namemccmnc if long name is empty in manual searchnnthe operator name for each operator obtained in the manual network searchnshould be derived as per  spec ts   indicationnwhile deriving the name for current operator already registered operator asnper the spec if nitz name has to be displayed then some times the long namencan be empty in mm information since the operator information should be derivednfrom a single source mm inforamtion cannot be combined with other sourcesnlike me db information for long name in such cases short name or mccmnc stringnshould be displayed in the manual network selectionnid
10446,cleaned up samples by removing unsed imports and variablesd deprecated configlogd to configdebugnremoved unnecessary whitespacesnid
10447,removed unused importsnid
10448,add camera optionsn
10449,defect  edit arrow in wrong direction in edit contactivitynid
10450,added type arguments to samples to reduce warnings and get a litle bit more compiler code checking for new android programmersnid
10451,video thumbnailn
10452,defect  arrow in wrong direction in editcontactnid
10453,camera optionsn
10454,generic memcpy should define memcopy before including bcopycnnnedoffby chris dearman
10455,correct generic memset implementationnnnedoffby chris dearman
10456,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10457,this work adds communication between omxencnode and composer node for maxbitrate and decodingbufferdbn
10458,fix an issue where pvplayerengineprepare never completes if server sends options request to the pvplayer pvplayer does not send setup request to the server and pvplayerengineprepare never completesn
10459,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10460,modify omx type declarationsn
10461,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10462,fix for reading from files using a file descriptor with an nonzero offsetn
10463,toolboxlistenersenderc print only what is receivedn
10464,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10465,update to pv internal build systemn
10466,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10467,translator  fix glgetpointernngetpointer is implemented both in glescmcontext and its parent glescontextnbut was not declared virtual amd hence  worknid
10468,translator fix eglgetprocaddress on linuxnnour implementation of eglgetprocaddress resolves the function addressesnin run time typically this is not an issue but when a gl function isnalso implemented by the calling app the address was resolved to the  version of the function rather than ours this is the case with thengldrawtexisfxoes functions in the  conformance testnthe solution is to add the bsymbolic switch when linking our librariesnso all symbol resolution is done internalynthe same fix should probably be done for macnid
10469,translator  conformance fix array related getsnnthere is a set of glgets which query the client state of thenbinded arrays the data exists in the translator context and is notnpassed to gl so the glgets should be handled internalynthis is done by implementing four glgetv methods in glescontext whichnreturn a boolean value indicating whether we have set the return valuenor not and are called by the glgetv functions in glescmimpntwo of the glgets are handled by glescontext and the other  bynglescmcontext since they are specific to gles  the same should bendone for  specific glgets in a later patchnalso buffername is now saved in glespointer in to allow thenglarraybufferbinding getnid
10470,opengl translator fixed glgetstringglextensions for  query of glextensions in  fixed egl surface desruction when there isnno current contextnid
10471,translator conformance fix texture issuesnnthis fixes three   should be handled by the translator rathernthan by  glistexture shoud return gltrue only if the texture was bound at somenpoint add a wasbound member to the texturedata and maintain  gltexparameterglgeneratemipmap did not work the first problem wasnthat it was not allowed by our validator fixed the next issue is thatnthis enum is not necessarily supported by the opengl implementation itnis in opengl  but was replaced by an extension in  so in case thenextension does not exist and glgeneratemipmap is required save this infonin a new requiresautomipmap member of texturedata and call glgeneratemipmapextnwhenever  is callednthere is a theoretical case where neither glgeneratemipmap nor glgeneratemipmapnis supported by the opengl implementation this is not likely to happen butnif we find such an implementation it might require implementing a mipmapngeneration software algorithm which is badnid
10472,translaotr handle glgetpointsizearraynnshould be handled internaly like all other array queriesnid
10473,opengl translator extending conversionarrays classninserting some of the logic which was scattered over some partsnof the glescontext class to be encpsulated inside the conversionarraysnso that the code will be more clea and organizednid
10474,opengl translator removing duplicated linenid
10475,gldrawtex glinvalidvalue if widthheight
10476,fix segfault when destroying contextnnmtexcoords was not ialized in the glescontext constructor so whenndestructing it resulted in an illegal freenid
10477,fix issue where an incorrect vol header for  video content results in no video playbackn
10478,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10479,show correct date for downloads in the statusbarnnthe date was not set properly in notifications when the text fornexpanded view was creatednnthis fix sets the displayed time to the download time for eachnindividual file the downloadprovider recreates the notificationsnseveral times but  set the time before the expanded messagenis created the expanded message will therefore display the timenthe notification was created and not the time a file was downloadednthe displayed time will in most case be the time when the last filenwas downloaded this fix sets the displayed time to the downloadedntime for each individual filen
10480,minor refactoring of integer datatype usen
10481,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10482,remove a check in slidingwindowprocess to make avc decoder tolerate an error condition and continue decodingn
10483,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10484,improve omx dec buffersize negotiation during portreconfig for nonmultiple of  clip rv and wmvn
10485,merge commit
10486,version updates for sdkinfo header files and playerdriver documentation updatesn
10487,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10488,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10489,abort fdn delete when number is empty instead of namend fdn delete to abort when number is empty rather thannwhen name is  ts  usim application  states in  effdn fixed dialling number that the dialling numbernfield is mandatory whereas the alpha identifier is optionalnthe current implementation of the user interface for editingnthe fixed dialling list blocks creation and deletion listnentries without a name corresponding to the alpha identifiernbut instead permits entries without a number this is incompatiblenwith the usim specification andnimplementationnnthis contribution corrects the implementation in line withnthe usim specificationnid
10490,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10491,look at mnumber instead of mname when deciding whether to add or edit a fixed dialling list  ts  usim application  states in chapter  fixed dialling number that the dialling number field isnmandatory whereas the alpha identifier is optional the currentnimplementation of the user interface for editing the fixedndialling list blocks creation and deletion list entries without anname corresponding to the alpha identifier but instead permitsnentries without a number this is incompatible with the usimnspecification and implementation this contribution corrects thenimplementation in line with the usim specificationnid
10492,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10493,add voldn
10494,fix focus ring on links with nonlatin textnnwhen a clickable link in a html document is focused a rectangle withnrounded corners is drawn around that link if the link contains arabicncharacters or characters from other nonlatin alphabets the focusnring will be drawn too high up on the pagenid
10495,arm  set srfronreset bit in sdrcpowernit allows sdram enter selfrefresh state in case warm resetnnit is needed for featureslike ramconsolenthat rely on valid sdram content even after a warm resetnnnedoffby tao hu  san mehat
10496,fixs the incorrect message for securityexceptionnnwhen injecting a key pointer and trackball events into the ui acrossnapplications the corresponding methods throw securityexception withnincorrect permission messageninject event permission should be injecteventsn
10497,capture failure of
10498,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10499,musb add disable otg standbyidle call to musbnnnedoffby james luan  mike chan
10500,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10501,test upload please disregardn
10502,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10503,mmc block resume multiblock reads after transient read errorsnnnedoffby bentao zou  david ding  san mehat
10504,fixs the incorrect message for securityexceptionnnwhen injecting a key pointer and trackball events into the ui acrossnapplications the corresponding methods throw securityexception withnincorrect permission messageninject event permission should be injecteventsn
10505,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10506,opengles emulator fixed upsidedown gl imagennthis fix performs a flip software copy to match our coords with those expected by the flingernwe may think of a better implementation in the futurenid
10507,emulator opengles fixed a bug in eglchooseconfig implementationnnthe configsize argument in rcchooseconfig should match the numbernof requested configs and not the size in bytes to store itnmoved the configs array size computation into rendeercontrolattribnid
10508,emulator opengl ialize new colorbuffersnninitialize new allocated color buffers with zerosnid
10509,emulator opengl guesthost rendering syncronizationnnadded a return value for rcflushwindowcolorbuffer andnrcupdatecolorbuffer in order to make those calls to blocknwith a roundtrip to the host this is to make sure thatnthe color buffer is uptodate before the flinger use itnfor renderingnalso added a call to the native  lock function afternegl is attached and bound to render on the window this callnwas missed beforennthis syncronization can be optimized by removing the roundtripnand insert sync primitive to the stream at every draw command thatnreads from a color buffer to make the sync happen on the hostnbefore rendering the color buffer and remove the need for thenguest to wait for that updatenid
10510,emulator opengl fixed wrong deletennsolves a crash in replica islandnid
10511,translator fix bug in gldeletetexturennwhen gldeletetexture is called for the currently bound texturenbinding should be reset to  calling gldeletetexture on  should do nothingnid
10512,translator fix drawing of glpointsizearraynnwhen translating point size arrays from gles to gl an optimizationnwas implemented where all points of the same size in an array or elementsnarray where drawn together this is wrong since it means pointsnare not drawn in the order the app has requested creating the wrongnresult when points in the array are overlapping in screen spacenso removed this mechanism and now just drawing the points in the rightnordernsome optimization is still there where if there are severalnconsecutive points of the same size they are drawn togethernnthe change in glescmimpcpp is only to make the condition more readable nthe functionality is identicalnid
10513,translator fix conversion of compressed texturesnnthere were several bugs in the code converting palleted textures intonrgbrgba fixednid
10514,fixing  windows egl issuesn runtime segfaultsn pbuffer creationnid
10515,translator egl windows fixing bug which caused the creation of contextnwithout setting  pixel format removing unnecessary printfsnid
10516,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10517,add sapphireopenn
10518,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10519,add vendorhtcsapphireopenn
10520,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10521,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10522,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10523,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10524,add parsing of  in the manifestnid
10525,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10526,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10527,updated deprecated contacts api to contactscontractnid
10528,arm msm  add retries for  transfersnnnedoffby iliyan malchev
10529,cupcake import history for chang
10530,bionic fix coding style of all pthreadmutexattrxxx functionsnn making it uniform so that  easier to understandnnnedoffby andré goddard rosa
10531,replaced ifelseif construct with switch statement cached argslength variable so it is not evaluated every timenid
10532,bionic on leakfree tighten up the critical sectionnn by locking only when  gettingsetting the shared statennnedoffby andré goddard rosa
10533,porting unsubmitted donut inputmethod testsnnreviewed the tests and found some decent ones innbaseinputconnectiontest removed empty tests and unnecessaryntobefixed annotationsnnsquashed commit of the followingnncommit  fri jul     integrate unsubmitted cupcake change  tcts add test cases for input method classesnid
10534,bionic ftell returns a long not an intnnnedoffby andré goddard rosa
10535,bluetooth set general bonding security for acl by defaultnnthis patch fixes double pairing issues with sspnnit was observed that when pairing with ssp bluez asks   also causes bug when we iate ssp connection from vistannthe reason is because bluetoothd does not store link keys sincenioctl hcigetauthinfo returns  setting default generalnbonding fixes these issuesnnnedoffby andrei emeltchenko
10536,fix error detection for invalid command line argumentsnnthis fixes  edge casesn when an unknown extra parameter is given it was simplyn ignored beforenn eg android update sdk foo  foo is extrann when a  parameter is used and no argument is actuallyn given but instead the next dashparameter is foundnn eg android update sdk filter missing value someargnid
10537,fix make modules script bug under mac os xnnfor mac os uses bsd sed it  support n then make modulesncommand cannot work correctly under mac os using tr command to replacensed command it has the same behavior under both mac os and linuxnid
10538,bionic add missing null check from memory allocation on recordbacktracennnedoffby andré goddard rosa
10539,arm  stub out msmcamiovfeblkbesetnnnedoffby iliyan malchev
10540,reject trace files created with newer versionsnid
10541,devplatformexpandsh new scriptnnthis script is used to expand platform files into a target directorynid
10542,ndk  update   platform filesnnthis updates the platform files for api level  on  tonthe binaries built from the internal gingerbread branchncontaining the backported aosp  support patchesnid
10543,load sources asynchronouslynid
10544,add flag for switch based headset statusnid  chris kelli
10545,add a basic properties dialognnshows some information about the trace that can be of interestnsuch as which timing mode thread time or wall time was usednid
10546,add support for tracking cpu and real timennenhanced traceview to support extracting cpu and real time profilendata from traces and plotting them accordinglynnin contrast the original threadcpu algorithm incorrectly assumednthat threads could not execute in parallel so it would produceninaccurate representations of the global execution timeline on smpnsystemsnnto use this feature dalvik must be restarted with appropriatenprofiling optionsnncollect cpu time only default global timeline must be inferredn adb shell setprop dalvikvmextraopts xprofilethreadcpuclocknncollect real time only cpu usage information is not availablen adb shell setprop dalvikvmextraopts xprofilewallclocknncollect cpu time and real time information most accurate butnrequires a newer vmn adb shell setprop dalvikvmextraopts xprofiledualclocknntraceview remains compatible with traces gathered on older devicesnand produces identical output when analyzing traces gathered withnthe threadcpu clocknnadded a feature that displays the exclusive and inclusive timeninformation while hovering over a methodnnadded a feature that displays the time spent in a context switchnby a simple  pixel underline within the body of the method callnthis makes it much easier to identify long running methods thatnspend most of their time blocked on a waitnnfixed a bug in the way that the method call highlights werendisplayed which could cause them to be truncated down to ansinglepixel width depending on the pixel alignment of thenstart and end of each segmentnid
10547,revert network wireless  add hang event and console monitoringnnthis reverts commit  dmitry shmidt  dmitry shmidt
10548,add the projects necessary for the new way of building aospn
10549,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10550,tweaks to sample classpath to reduce errorsnnremoved the im provider added some keystorevpn pathsn
10551,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10552,bionic remove unneeded variable from chkreallocnn and simplify the generated codennnedoffby andré goddard rosa
10553,mtd nandbase fix nandpanicwaitnnfix the problem of nandpanicwaitnnnedoffby tom zhu  san mehat
10554,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10555,bionic equalize the  program name between sspc and libccommoncnn for the consistency sakennnedoffby andré goddard rosa
10556,noop merge from donutn
10557,test to verify device imeimeidnnbug  that telephonymanagergetdeviceid returns either a  imei id for gsm phones  hex meid id for cdma or  meid ids check that a valid mac address is returned byndevices that are neither gsm or cdmanid
10558,ukraine localization tags tested cupcakenartfulbits httpwwwartfulbitscomn
10559,arm  camera cleanup of  and  remove unnecessary mutexes and spinlocksn eliminate unnecessary allocationsnt eliminated allocations made by the vfe interrupt in favornt of a staticallyallocated ring buffernt use vfealloc for all allocations made by the vfe taskletnt combined extdata and ctrl in one kzallocn rewrite vfeprocops to use a table of callbacks and event mappingsnnnedoffby iliyan malchev
10560,arm msm camera fix crashes on interrupted syscallsnnnedoffby iliyan malchev
10561,removes dashes when locale and number is not nanp or japannnremoves all dashes if locale  nanp or japan and the  have there country codennuse case if adding a number starting with  and thenn trying to add a country code before ex  we will firstn trigger nanp formatting with  so when we getn  we will still have the old nanp formattingn this number should be shown a
10562,arm msm camera add a gfp mask to vfealloc and vferespnnnedoffby iliyan malchev
10563,initialize mvisibilitychanged to truennnedoffby anu sundararajan
10564,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
10565,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
10566,msm allow to use the phone as a bootable usb keynnwith the current code my bios fails to boot from the usb mass storagendue the fact that it sends a cdb inquiry with  while the inquiryncommand size is equal to  to usb mass storage specification for bootabilityn  nthe device shall accept a bot bcbwcblength of   for all the commandsndocumented in this specification and pad bytes are added to make the cdbsnhave a fixed length of   pad bytes shall be set to zero by the hostnnso let checkcommand also accept a fixed size of  and then check thatnthe remaining bytes are really  by updating cmndsizenntested successfully with several different biosnnnedoffby vincent palatin
10567,arm  camera replace vfe tasklet with a workqueuennnedoffby iliyan malchev
10568,fix potential crash during streaming session with multiple frames per packetn
10569,net  fix race in  fix a recursive deadlock in  we stopped holding the hash table locknacross tcpdone calls this fixed the deadlock but introduced a race wherenthe socket could die or change statennfix before unlocking the hash table we grab a reference to the socket wencan then unlock the hash table without risk of the socket going away we thennlock the socket which is safe because it is pinned we can then callntcpdone without recursive deadlock and without race upon return we unlocknthe socket and then unpin it killing itnid  robert love  dima zavin
10570,fix an iligal freennmmapgltexturecoordarray is not an allocated pointer therefore it  be freednid
10571,emulator opengles fixed bug in gralloc unregisterbuffernnreset the ashmembase  mappedpid on unregisterbuffernid
10572,validateing  arrays typenid
10573,fixing bug releasing memory which  allocatednid
10574,opengl translator conformance fixesnnfix shader and program names in gldeleteshaderprogramnfix object name manager to accept objects with name  unbinding of buffersframebuffers and renderbuffersnseparate getpointer to have specific implementation for gles  and  number of supported texture images to match glnid
10575,conformance fixesnnfix incorrect optimization that skips draw on false conditionsnid
10576,opengl translator add vertex attrib index validationnnfixed conformance test issuenid
10577,alsa soc  add switch based headset detection supportnnandroid relies on a switch class driver to report ueventnfor headset status this adds support for basic headset statusnreporting to the  codec driver the switch is registerednonly if the codec private data indicates it should be usednthis allows boards that  use jack detection mechanism tonregister the switch for headset detection elsewherenid  chris kelli
10578,support glnumcompressedtextureformats getnid
10579,tex  is legalnid
10580,update the aac and amr nodes to decrement the license counter after playbackn
10581,the following changes improve the reporting done in hierarchyviewer via the viewdebug interfacennwind river has built a system testing platform for android it is called stp for system testing platformnwe use  adb to access viewdebug in android phones the viewdebug interface is missing a few importantnvalues that we can use to run tests these changes add access to those values as described belownnviewviewdebugjava this change adds a screenx and screeny position for the overall view without thesenvalues we cannot tell where a popup window is on the screen we use  network interface to click thenandroid screen in specific locations and we need to know where windows are positionednnwidgetanalogclockjava  like to know the time that the clock is showing to verify itnnwidgetcheckedtextviewjava  like to know if the item is checked on notnnwidgetcompoundbuttonjava  like to know if the item is checked on notnnwidgetprogressbarjava we need to know isindeterminate getprogress getsecondaryprogress andngetmax so we can understand what sliders and progress bars are showingnnwidgettextviewjava we need to know the current selection getselectionstart and  been testing versions of this code on cupcake donut and eclair on emulators dev phones and otherndevices  like these changes in soon to be able to run our suites without asking our partners to changentheir android sources and so we can test new phones without any patching just by plugging them innnthank you for your considerationn
10582,merge commit  of gitandroidgitkernelorgplatformframeworksbase into
10583,aggregate test results when using the list option to pvplayerenginetestn
10584,improve external build documentationnnupdate the documentation to show the current procedures fornoutoftree buildsn
10585,set env variable artisticstyleoptions during setup for pv build systemn
10586,internal pv build system cleanupn
10587,replace kbhit implementation in  sample appn
10588,add insertelement and clear methods to linked listn
10589,move the resource enums from the qualifier classes to sdklibnnthis is so that other code like the manifest parser can use themnid
10590,adding defon for wimax network and iden networkn
10591,fix buildnid
10592,added additional pvmf status code to handle rtsp error code from the server when the server returns rtsp error message the pvmf status code maps to rtsp error code will be returnedn
10593,fixes for opencores to compile on
10594,locationmanagerservice fix race when removing locationlistenernnin locationmanagerservice if a locationlistener is removed while it hasna pending broadcast the wake lock held while pending broadcasts arenoutstanding do not get cleared properlynnthere are  cases of this race that are  locationcallbackfinished was changed to check the mreceivers hashmapndirectly instead of calling getreceiver getreceiver would add thenilocationlistener as a new receiver if it did not exist which causedna receiver that was removed when it still had a broadcast pending tonbe added back in a bad state when the pending broadcast  removeupdateslocked was changed to decrement the pending broadcastsnwhen a receiver is removed that has pending broadcastsn
10595,defect  setting default limit of text messages range from  to
10596,avoid spurious interrupts by flushing writesnnnedoffby sergio aguirre  dominic curran
10597,update cts version to
10598,clean up formatting in wifi screenn
10599,replicate reference handling of countryspecific dream behaviorsn
10600,allow post with auth issue  no request with a body could be resubmitted even if the response was  or
10601,consolebased android update sdknnknown limitationsn this simulate exactly what the update sdk gui doesn namely it suggests the latest platform to install andn updates older packagesn it respects the default source urls eg the getenv stuffn there are a few options to configure behavior such asn selecting obsolete packages and a drymoden as such this is mostly a oneshot update step and probablyn lacks configuration that a scriptbased updater would wantnnnongoalsn no way to specifically request a given package to be installedn no way to configure the output eg the install progress mightn be annoying if the output is piped for a scriptnnsdk bug
10602,added pvmf status code for rtsp errorsnn on branch rtsperrorn changes to be committedn use git reset head  to unstagenntmodified pvrtspclientenginenodecppn
10603,update changestxt for the sdk tools rev
10604,pm earlysuspend rename work function for readabilitynnthere is already a struct earlysuspendnand the work function was also called earlysuspendnnso for readability renamingntearlysuspend to earlysuspenddispatchernnnedoffby vikram pandita
10605,fixed android animation framework for using interpolators that do not start at  is a bug that affects interpolators that do not return  when given  as input all default interpolators in android do return  which is why it  beennnoticed some custom interpolators can for example run backwards returning  when given input
10606,isppreview fix noise filter enable crashnnwhen configuring tables like gamma  noisefilter make sure ton  stop preview enginen  configuren  restart preview enginennnedoffby stanimir varbanov  sergio aguirre  dominic curran
10607,changed sample sensor implementation cleaned up android samplesnid
10608,omappreviewer fix prevgetparamnnbefore we were blindly overwriting everything from the user side prevparamsnstructure with even kernel space pointersnnwe should backup pointers get current prevparams structure and then restorenuser pointersnnotherwise userspace could get confused with kernelspace pointersnnnedoffby sergio aguirre  dominic curran
10609,add a horizontal scrollbarnid
10610,updated sensor samples to newest apinid
10611,corrected statusbarnotificationsamplenid
10612,preview improve user configuration loadingnnthis should separate shadow registers from table updatesnand organize better the update flagsnnalso protects shadow updates to be done while user is still at the middlenof preview update ioctlnnnedoffby sergio aguirre  dominic curran
10613,use skscalardiv instead of a plain divisionnid
10614,preview move global vars to struct ispprevnnthis should group all variables in one single placennnedoffby sergio aguirre  dominic curran
10615,fix isssue  native audiotrack resources never freednnthe problem is a bug in audioflingermixerthreadpreparetracksl that makes that even if the trackhandlenis destroyed the corresponding track will remain active as long as frames are ready for mixingnif the track uses shared memory static mode and the sound is looped this track will play for evernnthe fix consists in removing the track from active list immediately if the track is terminatednid
10616,fix x coordinate of the actionup event in touchutilsdrag methodnnthe actionup event was fired at the fromx position instead of beingnfired at the tox position which is the current value of local var xnnthis bug had no real impact as the velocitytracker always ignores the lastnmotionevent when it received more than  eventsn
10617,merge branch  into  simon wilson
10618,fix value parser to handle attr values not in declarestyleablennalso change the layoutlib sample code to properly get the listnof framework attr flagenum valuesnid
10619,omap watchdog kernel auto watchdog petting servicenid  todd poynor
10620,restore legacy behaviors for better compatibilitynid
10621,added support for  formatns submitted by mmsnnnedoffby anu sundararajan
10622,add a horizontal scrollbarnid
10623,add a basic properties dialognnshows some information about the trace that can be of interestnsuch as which timing mode thread time or wall time was usednid
10624,tweak for forwardcompatibilitynid
10625,isppreview change rgb to yuv offset ordernnnedoffby stanimir varbanov
10626,isppreview change rgb blending offset order to rgbnnnedoffby stanimir varbanov
10627,bionic fix memory leak in getmallocleakinfo error pathnnnedoffby andré goddard rosa
10628,ccdc fix ispccdctrysizenlognn cropping a line should be done on ccdcothersvp and ccdcothersvpmemn output cases and when the reformatter is not enablednn making numbers even is unnecessary when removing input offsetsnn make output width  pixels aligned but with the next biggest  multiplen instead of the next lowest onennnedoffby sergio aguirre  dominic curran
10629,use skscalarmuldiv where appropriatenid
10630,ccdc rework raw component order handlingnnthis should avoid blindly applying input offsets because we couldnbe offsetting even  inputs which is not desirednnnedoffby sergio aguirre  dominic curran
10631,network wireless  add hang event and console monitoringnnnedoffby dmitry shmidt
10632,default  pivot set to   order to define the pivot in an xmlinstanciated rotatedrawable androidpivotxnand androidpivoty had to be set in your xml forgetting to set those attributesnended up in a nullpointerexception tv  null that were caught by the resourcesgetdrawablenmethod caught as an exception as a result a notveryaccurate message was loggednresource not found defining a default pivot value seems like a great fixnsome other fixes would be to modify the documentation or notify the user with a betternexplanation than resource not found n
10633,ccdc avoid vp input line shiftingnnthis should be already taken care of in ispconfigureinterface bynsetting properly the parbridge field in ispctrl registernnnedoffby sergio aguirr
10634,bionic equalize the unknown program name between sspc and libccommoncnn for the consistency sakennnedoffby andré goddard rosa
10635,ccdc fix ispccdcconfigsizenlognn no need to substract unconditionally one column from width that should ben taken care of by the woffset crop valuenn trigger  interrupt closer to the end of the frame since at last framen we have a time limit for disabling ccdc that could not be met by all sensorsn this fixed an issue on a proprietary platform in which the timeout wasn met before actually reaching end of frame saving timennnedoffby sergio aguirr
10636,remove unused enumnnremove unused enumerationnnnedoffby dominic curran
10637,bionic clear only the part of the buffer which is not overwritten afterwardnid  andré goddard rosa
10638,update max exposure time in vcontrol arraynnthe queryctrl ioctl returns the contents of the appropriate vcontrol array including minmax exposure timenwhen the frame rate changes then the max exposure time also changesnso make sure the vcontrol array gets updated with the latest max exposure timennnedoffby dominic curran
10639,build sdl from sources directlynnthis removes the requirement to build the sdl library before the restnof the emulator the prebuilt sdl library and installation is now optionalnand is only kept for the full android build on linux mainly to avoid havingnto install many dev libraries on build serversnnthis patch affects both the android and standalone build systemsnnthe script androidconfiguresh will not use a prebuilt sdl installationnunless you explicitely use  for   cygwin linuxmingw buildsnid
10640,bionic on pthreadjoin avoid extra check in case we find the threadnn by using similar logic as used in pthreaddetachnnnedoffby andré goddard rosa
10641,add libomxcoreso so that  builds for
10642,vm temporarily disable the optimization where getscanratio skips anonn pages when we have no swapnn this is a temporary hack to workaround a performance regression onn arm android it should be reverted when the rootcause of then regression has been foundnnnedoffby san mehat
10643,a few oma drm handling fixesnnadd a new constructor for the avcsampleentry to be used whennparsing the encv atomnnremove a duplicate delete from ecnvecnvnnadd an avcsampleentry after parsing encv atom with avc original samplenentry this way the video can be processed correctly after decryption egnnalu length size can be returnednnfix a couple of unialized variable idrminfo in particular was very badnand hard to trackn
10644,lazily allocate the mbounds rect in drawablennfor background  markusn
10645,msm defconfig enable cgroups in defconfignnnedoffby san mehat
10646,static ip switch was causing a network connect even when not connectedn
10647,arm msm clean up trout and sapphire rfkill driversnnuse rfkillsetdefault instead of private rfkillswitchallnadd remove pathnmisc cleanupn
10648,usb android use correct struct name for bmattributes variablennthis patch fixes a compilation issue on the usb android gadgetnncc driversusbgadgetandroidondriversusbgadgetandroidc in function  error  undeclarednnthis bug was introduced by the following commitnnusb android gadget add remote wakeup attribute  leed aguilar  vikram pandita
10649,removed calls to deprecated apis and unused importsnid
10650,do not build unless boardgpslibraries is set to liblocapinnnedoffby mike lockwood
10651,updated rgb led test casesnnthe test cases for turning on the rgb led with persistent light was correctednthe color for blinking was updated to blue and finally an option for turningnoff the lights was addedn
10652,locapi process all events in deferred action threadnnit is not safe to call into framework code from an rpc callbacknid  mike lockwood
10653,removed calls to depracted apis added type arguments for type safetynid
10654,initial commit of  locapi gps library for the msm platformnnnedoffby mike lockwood
10655,allow invalid uris to be added as observersnnif a null segment is added it will cause problems traversing the listnat a later pointnid
10656,locapi send gpsstatusengineon and gpsstatussessionendnnso gpslocationprovider will release its wake lock when the gps shuts downnnnedoffby mike lockwood
10657,removed unused imports added generic type arguments get rid of depracated api callsnid
10658,removed calls to deprecated apinid
10659,removed calls to deprecated apisnid
10660,removed calls to deprecated apisnid
10661,fix scroller for overshooting interpolatorsnnthe termination criteria was previously based on the final position however somennew interpolators introduced in android api  overshoot their final positionnas a result the termination criteria must be done on the time elapsed duringnthe beginning of the animation onlyn
10662,removed calls to deprecated apinid
10663,removed calls to deprected apis and unused importsnid
10664,removed calls to deprecated apis and unused importsnid
10665,dream kernel and wlanko for the  releasennimported from
10666,ashmem add common prefix to name reported in procpidmapsnnnedoffby arve hjønnevåg
10667,ashmem  install fault handler for private mmapsnnashmem is used to create named private heaps if this heap is backednby a tmpfs file it will allocate two pages for every page touchednin  the extra page would later be freed but  does notnscan anonymous pages when running without swap so the memory is notnfreed while the file is referenced this change changes the behaviornof private ashmem mmaps to match devzero instead tmpfsnnnedoffby arve hjønnevåg
10668,add a reboot command to idevice to allow ddmlib users to reboot devicesnid
10669,script to clean proprietary filesn
10670,removed bad buildpaths not existing directories after checkoutnid
10671,removed calls to deprecated apis and unused importsnid
10672,refactor the manifest parser test in the correct packagennand  make it use the parser helper  eclipse specificnnalso fixed the versioncode parsing bug introduced in previous clnid
10673,new test in frameworktest for the velocitytracker classn
10674,added clear log confirmation messagenid
10675,defect  organization info not displayed with out inputtingnpositionnid
10676,delete contact based on contact idnid
10677,audio enable selection of input and output buffer size with audiosetconfig ioctlnnnedoffby eric laur
10678,shapedrawable should have default intrinsic dimentions set to  just like colordrawable which inherits them from drawablen
10679,fix missing overridennalso fixes some javadocsnid
10680,disable windows media by defaultn is to disable the inclusion of pv windows media librariesnby defaultna there is no need for these libraries for aospnb the binary compatibility of the  libraries from an existing device cannot be guaranteednnin fact i would recommend removing the vendorpvopen git repositoryn
10681,set chromeclient to webview to gurantee the getprogress valuen
10682,add move updown actionsnnthis changeset adds move up and move down context menu items tonthe outline as well as keyboard shortcuts for these and thenactions apply only when the outline window has focus thus to reordernan item you can select it then press repeatedly to move it down innthe hierarchy or to move it back upnnin addition this changeset fixes a selection syncing issue which alsonaffected drag  drop it will now correctly always select the targetndropped tree items after a drag or reordernid
10683,use correct format specifier for sizetnnfirst sizet is unsigned and d denotes a signed intnsecond since  there is the z specifier that should be used when handling sizetnid
10684,arm msm only create rpcrouter pdev oncenid  dima zavin
10685,mut does not vibrate in silent modennmut does not vibrate in silent mode even though default setting isnonly in silent modenthe default value for ringer in the settingsprovider has been changednfrom vibratesettingoff to vibratesettingonlysilent to match thendefault vibrate settings valuenid
10686,update keybinding registrationnnwe were using deprecated registration hooks for our  keybindingsnthis changeset updates to the currently supported way to do keybindingnregistrationnid
10687,fix implicit declarationsnnthe functions fakelogwritev fakelogopen and fakelogclose need to bendeclared before used therefore the fakelogdeviceh was created for inclusionnid
10688,usb host tegra enable emc clock while usb is resumednid  benoit gobi
10689,fix potential race introduced in  wrotennyou probably  want to close the socket here without  as well otherwise another thread holding a handle to thenclient after the  could end up sending a message to andifferent socket if the file descriptor index is reused by anothernclient in the meantimenid
10690,arm tegra dvfs set  core voltage for usb to worknid  jay cheng
10691,socketclient add optional reference countingnnneeded to fix a race in netdnnbug
10692,libsysutils fix a file descriptor leaknnthe recent refactoring of the select loop in socketlistenernmissed a close of the file descriptor when the ondataavailablencallback returns falsenid
10693,tweak tabhost drop handlernninstead of creating a single tab create  tabs instead and pick anbetter id since  used as the tab label by the designtime tabspecncreatornid
10694,libsysutils fix race condition in socketlistener threadnn handle eintr in accept write and selectn fix a memory leak when deleting the mclients listn fix typo in socketlistenerhnid
10695,fix computesdkversion ializationnid
10696,libsysutils handle eintr in socketclientsenddatann improve allocation code in sendmsgcodemsgadderrnonid
10697,force core to send entire framebuffer on ui attachmentnid
10698,add palette category metadatannthis changeset contains some background work for the palette previewnwork separated out to make that changeset smallernnfirst it creates a new metadata xml file which augments the metadatanprovided by the platform defining things like palette categories annatural order for the views within each category the older codebasednmetadata for fill preferences used to decide how to set the width andnheight attributes on drop are also moved into this xml file therenwill be more metadata added to this file in the next changeset wherenfor example xml fragments defining how to render a view for previewnpurposes will be defined therennsecond change the signature on the view and layout descriptor listsnpassed around such that we  have to do instanceofnviewelementdescriptor in various placesnnfix sentence capitalization for a couple of undo label stringsnid
10699,use bt power forceactive parameter for rx datannwe were going to active mode during rx processing whichndefeats the purpose of forceactive parameter for hid devicesnnbased on a report and discussion with leijun tao   jaikumar ganesh
10700,fix getswitchstatenninputreadergetswitchstate always returns akeystateunknownnbecause switchinputmappergetsources returns  which cannotnmatch any source mask including ainputsourceany as a resultnial lid switch detection is brokennnthis change adds a new source constant ainputsourceswitchnthat indicates that the source has switchesnid
10701,huawei fix for receive message tests failing on mobile internet devices personal media players and other nonphone devicesnid
10702,ignore tests with side effectsnnit looks like a contenthandlerfactorytest marked with sideeffect isncausing subsequent luni net tests to fail even though those tests passnon their ownnid
10703,fix framebuffer and user events service disconnection bugnnfb and ue services overwrite the  read callbacks making the consolenunavare of the fact that console client gets disconnected as the resultnconsole clients for fb and ue stays alive after ui has exited making itnimpossible to attach another ui to fix this we add socket read callbacksnto the fb and ue service that monitor the disconnection event and destroyntheir console clients on such eventsnid
10704,arm tegra cpufreq thermal throttling cleanupsnnvarious review feedback includingnnkeep a global throttling index that specifies a ceiling cpu speed lowered by onenat each delay interval while the temperature alarm continues to be signallednavoid lowering the throttle too far based on a transitory lowering of speednrequested by the governornnrestore governorrequested speed when throttling turned offnnadd cpufreq sysfs attribute for checking throttling statennmake throttling workqueue highprioritynncosmetic changesnid  todd poynor
10705,cts  test cases fail in androidmedia related to camerannsolve problems with handsets that does not support the hardncoded preview resolution used in the testsnthe tests that fails are testrecordercamera and testrecordervideonthis fix updates the test to ask the camera for thenlowest supported preview resolution and use this for the testnid
10706,handle webchromeclient null in  handlemessage function needs to handlenthe case when webchromeclient is null for messagenaddmessagetoconsolennwebchromeclient can be null if webchromeclient is set tonnull while the addmessagetoconsole is in the message  unlikely to happen but has happened since thenissue was found by live usernid
10707,close bluetooth headset to plug a leaknnwhen connection process run mbluetoothheadset started as newncommand but it does not close when wlan is disconnectednid
10708,stagefright look for vomemh in the local directory toonnthis helps using the headers without further modifications ifnthey are installed into a subdirectorynid
10709,add ddmlibtestsjar to sdk buildnid
10710,arm tegra clocks add shared emc clocks for usb gadgetnid  benoit gobi
10711,remove unnecessary calls in ui  core protocolsnncore port related calls are no longer needed since ui is aware  base port on attachment to the corenid
10712,stagefright aacenc make the memmalloc function  safenid
10713,stagefright aacenc add const declarations to some pointersnnthis avoids some compilation warningsnid
10714,stagefright aacenc prefix more symbolsnnthis avoids symbol clashes if linking this code into the samenmodule as the libfaac librarynid
10715,fix issue  take account of stackfrombottom in computeverticalscrolloffsetnid
10716,add korean phone number formatting feature that inserts  in korean phone numbers for easier readingnid
10717,add keycodes   these keycodes we are able to support pc keyboardsnid  chihwei huang
10718,change maxmin level range to allow the equalizer to be replacednnaudioeffect framework has a mechanism to replace the effect withnthe enhanced version some equalizer can have a solid equalizingnimplementation with appropriate band gains maxmin level rangenshould not be limited with a fixed value according to the openslnes  specificationhttpwwwkhronosorgopensles thenrange returned by getbandlevelrange must at least include  this fix changes to check if the maximum level range is notnnegative and minimum level range is not positivenid
10719,buildtoolsatree move  changes to  the latest  changes to toolsatree breakninternal android builds that depend on this filennthis change moves the changes to a different file that is onlynparsed for  sdk builds  depends on  allow the aosp build to pick up  properlynid
10720,combine descdragsourcelistener and previewdragsourceeffectnnit turns out that a dragsource listener can also set a drag previewneffect so we  need to have two separate classes for this thisnwas slightly tricky because the drag source needs to get the imagenfrom the preview drag source effect in order to record the rightnoffsets for the dragnnthis changeset rolls the two classes into one the original dragnsourcenid
10721,cpuset minor compilation and var fixesnnthe tcred is based on what cpucgroupcanattach doesntmodified kernelcpusetcnnnedoffby jp abgral
10722,support targetspecific sdkbuildtoolsatree extensionnnthe purpose of this patch is to add the ability to specify antargetspecific extension to sdkbuildtoolsatree under thenname sdkbuildtools$targetarchatreennthis is needed to move  changes out of toolsatreenin order to fix the build of internal android branches  include other  changes to the build systemnnanother patch following this patch will fix the build itselfnby moving the  to  the root cause of the problem is that toolsatreenprobably  be in the public aosp repository butnunder developmentbuild instead however fixing thisnrequires more drastic changes to the build systemnid
10723,the accuracy of webview scale is less than density  onennthe scale returned by getscale is calculated as belown scale   densityn scale   the scale is reduced its accuracy less than second decimalntherefore assertion should has delta
10724,updated monthviewn added color highlighting to the dates instead of a black boldnid
10725,skip tests if it includes unsupported localecharsetnna device may not support any specific locale ie china german etcnid
10726,added ability to set the start day of the calendar views from the settings menunid
10727,use kvm by default if present add the option  to disable kvmnid  xiaohui xin  jun nakajima
10728,updated calendar to show colors on the monthview displaynadded back the dnaempty icon and modified it a little bit to show a convex displayna more  looknupdated the width of the bits for a little easier viewingnid
10729,add ddmlibtests to sdk build in a testslibtests dirnid
10730,usb gadget tegra enable emc clock while usb is connectednid  benoit gobi
10731,arm tegra clocks add shared emc clocks for ehci drivernid  benoit gobi
10732,stagefright aacenc  address a  with a  pointernncurrently a pointer to a  is used as a pointer to   work as intended on big endian architecturesnnthis change needs to be analyzed and tested properly so that it  issues with overflows in these variables another solution would bento change all the scf arrays to  bit insteadnid
10733,stagefright amrwbenc prefix a few more symbolsnnthis avoids clashes between symbols in amrwbenc and amrwbdecnif they are linked into the same module if amrwbdec is compilednas c instead of cnid
10734,stagefright include stdlibh for mallocfreennaccording to ansi c mallocfree are provided by stdlibhnnalso stringh is always available according to ansi c and providesnthe memset function so  no need to include it conditionallynfor linux onlynnthis makes the code buildable on os x toonid
10735,stagefright aacenc avoid warnings about incompatible pointer typesnid
10736,stagefright amrwbenc make the memmalloc function  safenid
10737,lockdown browser to mitigate vulnerabilitiesnnwebkit used by the browser process is highly exposed to securitynvulnerabilities the browser process should run with as fewnpermissions as possible to limit the damage of a vulnerabilitynthe androidpermissionwriteexternalstorage permission is used onlynfor debug and test purposes and should not be included in releasencodenadd the testonly attribute to the usespermission tag to ensurenthat the permission is dropped for release builds userdebugusernthis commit has a dependency to the commit in frameworks base whichnadds support for the testonly attribute in the usespermission tagnid
10738,add testonly attribute for usespermissionnnthe browser has the androidpermissionwriteexternalstoragenpermission only for debug and test purposes but due to the staticnway of how androidmanifestxml is declared then it is also includednin release builds this is bad from a security point of view as thenbrowser is highly exposed to vulnerabilitiesnthis patch adds the testonly attribute to the usespermission tagnso that it can be used to tell package manager that the permissionnis only intended to be used on debug builds eng and not releasenbuilds userdebuguser ie on debug builds it will benignoreddroppednfor third party developers this functionality could further benimproved by allowing permissions with  on release buildsnif packagemanagerinstallallowtest is true for the apk beingninstallednid
10739,libc  fix the use of stdcversion from cnnsee  for contextnid
10740,avoid link being loaded when long pressing xbuttonnnwhen long pressing a link in browser with the xbutton or othernbuttons mapped to keycodedpadcenter the context menu isndisplayed but the link is also loaded in the background whennbrowseractivity loses focus due to the context menu the nativeninputdispatcher injects a key event with   is received in webviews onkeyup method this triggers the linknto be opened even though the context menu is shownnnadding a check in webviews onkeyup method for  avoidsnthe link being loadednid
10741,allow building toolchain without target gdb alternativelynid
10742,enable lcd backlight in the emulatornnadding a new lightsgoldfishso library to enablenlcd backlight in the emulatornid
10743,fix aggregation exception problemnnthis patch fixes a bug in the aggregation algorithm when addingnaggregation exceptions sometimes when excluding a raw contact fromna contact the contact information was not updatednid
10744,skt special requirement for clirclipnnskt has a special supplementary service requirement onnclipclir which is similar to what  specified innterms of functionality but different in terms of thenservice code inputnn call line identification presentation  sendnncaller id display service shows the telephone number ofnthe caller on the display before you answer the phonenn call line identification restriction  sendnnit allowes you to block your number from being displayednthrough caller id and can be done temporarilynid
10745,removed quick launch menu when no hw search key existsnnthe quick launch menu should only be visible if therenis both a hw keyboard and a hw search key since thenfunctionality cannot be used if either is missingnid
10746,making it possible to call sip calls with special allowed charsnnsince stringreplacefirst uses regex and since sip user names arenallowed to include regex charaters such as  the code mustnfist convert the string to a literal pattern string before usingnreplacefirst methodnid
10747,nf qtaguid workaround xtsocketgetsk returning bad sksnnthis is a direct cherry pick from   xtsocketgetsk returns invalid sockets when the skstate is tcptimewaitnadded detection of timewaitn added more constrained usage qtaguid insures that xtsocketgetsk isnnot invoked for unexpected hooks or protocols but i have not seen thosenactive at the point where the returned sk is badnnnedoffby jp abgral
10748,nf qtaguid make procfs entry for ctrl return correct datannthis is a direct cherrypick from   procreader for procnetxtqtaguidctrl it would justnfill the output with the same entrynsimplify the start handlingnnnedoffby jp abgral
10749,cancel inquiry before outgoing service connectionnnbefore connecting to a headset discovery needs to bencanceled to avoid connection timeout errornnnedoffby christian bejram
10750,thread safety in inetaddressnnmake inetaddress class thread safe in a multicore systemnby making all native calls synchronizednid  christian bejram
10751,merge branch  into cameran
10752,fix issu
10753,unable to push files to windows   says it can handle the maximum obex packet size howevernif the maximum packet size is used the transfer will fail thisnshould be fixed by microsoft but until they do the only way to solventhis is to reduce the maximum packet size for the obex clientnid
10754,fix issu
10755,better default selection when choosing a device confignid
10756,libstagefright reset the decoder while performing seeknn observed pop noise while seek to beginning of file of a recorded amr clipn while performing seek the amr decoder states are not being resetn in amr decoder the current frame output is predicted using the statesn from previous frame if these states are not cleared it might cause noisen when seek is performedn fixed by resetting the decoder when seek is issuednid
10757,ndkstack fixes documentationnnthis patch fixes the ndkstack tool to properly work as advertized andnadds a new documentation file docsndkstackhtml to illustrate its usagenn add buildtoolsbuildndkstacksh to automatically rebuild then host tool from sources and from scratchnn ensure that rebuildallprebuiltsh invokes buildndkstackshn and places the resulting binary at the top of target ndk directorynn ensure that packagereleasesh places the prebuilt binaries inton the final packagesnn add a hostonly option to rebuildallprebuiltsh to indicaten that you only want to rebuilt the host binaries and none of then target ones the darwinssh and mingw options also implyn hostonlynid
10758,limit length of ssid input string to  the ui text box of the ssid field to  characters which isnstandard from previously being unlimited in the ui but constrainednin the driver implementationnnsee ieee   service set identity ssid elementnid
10759,sqlitejdbc should not use targetprelinkmodulenntargetprelinkmodule is per product not per module using it inna module will cause the entire system to not be prelinkednid
10760,remove sticky broadcast at supplicant disconnectnnwhen disabling wifi while still connected to a network the lastnsupplicant state sent will be completed since it is sticky thenvalue will be completed until a new intent is sent fromnwifistatetrackerjava this might fool an application that wifinis in a different state than it actually is solved by usingnremovestickybroadcast while handling eventsupplicantdisconnectnid
10761,limiting wpa password box to the standardnnin case of ascii the max length is  and in case of hex it is  fixes the below scenarionnif definingportable wifi hotspot with  key containing  or more the hotspot will be deactivated and error willnbe shown then if you activate hotspot again and check settings thenhotspot will be up and running and settings will say it is secured  eventhough it is activated as an open hotspot and others cannconnect witout security checknnthe setting will be updated first after stepping backwards in the menunand then in again to see that the hotspot is actually defined and activenas opennnthis could be really problematic for users that might be mislead to thinknthey have secured their hotspotnid
10762,fixed dialog handling in usbstorageactivitynndialogs in usbstorageactivity were added in a nonui threadnwhich caused crashes eg when changing orientation dialogs arennow created in the ui threadnid
10763,inputmanager enable touch devices without associated displaysnnhere we add support for touch devices which  associated withna display these devices should not be treated as touchscreens butnshould still be accessible through the input subsystemnd viewroot java class to enable dispatch of position eventsnthrough  java layers as a pointer event only applicationsnwhich can distiguish pointer vs position will enable this featurenid
10764,nf qtaguid workaround xtsocketgetsk returning bad sksnn xtsocketgetsk returns invalid sockets when the skstate is tcptimewaitnadded detection of timewaitn added more constrained usage qtaguid insures that xtsocketgetsk isnnot invoked for unexpected hooks or protocols but i have not seen thosenactive at the point where the returned sk is badnnnedoffby jp abgral
10765,pullvcard of unknown phone numbernnwhen performing a pullvcardlisting pullvcardentry or pullphonebooknon a phone with a call list which contains an unknown phone numbernthe phone returns  as numbername corresponding errors existnfor private and payphone numbers where the phone returns the  and  respectively during pullvcardlisting the namenattribute may contain the phone number in case the name is notnknown the latter is already implemented today however instead ofnusing eg  as name when the phone number is not known thenphone should use name  unknown currently there are no othernmatching corresponding strings defined for private and payphonennumber which means that for now unknown may be returned as namenalso for these numbersnduring pullvcardentry and during pullphonebook when the phone numbernis unknown then the number attribute should contain the stringnunknown during the same scenario the fn and n attributes bothnshould contain the string when the name is not known when itncomes to private and payphone numbers the same as fornpullvcardlisting apply here ie unknown may be used in thennumber attribute also for these numbersnid
10766,nf qtaguid make procfs entry for ctrl return correct datannfixed procreader for procnetxtqtaguidctrl it would justnfill the output with the same entrynsimplify the start handlingnnnedoffby jp abgral
10767,bluetooth add vcard version support for call historynnunder current implementation pse only deliver call historynunder format  to pce this is not correct according tonpbap specification which says the pse shall support  and  versions and deliver the entries to thenpce under the format version that is requested by the pcenthis fix is to make implementation following such pbapnspecificaitonnid
10768,removing shadowing redeclaration of resultnid
10769,pass bits per pixel tu ui when it gets attached to core framebuffernninstead of passing bits per pixel property in each and every framebuffer notificationnmessage do it once when ui attaches to the  framebuffer servicenid
10770,serialise gsm call status to snapshotnid
10771,net wireless  update to version  improve btcoex to differentiate hid and sco device during dhcp sessionn enforce  for any softap settings to optimize internal memory logicnnnedoffby dmitry shmidt
10772,huawei fix for call function tests failing on mobile internet devices personal media players and other nonphone devicesnid
10773,added viewinvalidate in testcomputescrollnnthis test examines the value of flag set in computescroll is true or notnthe process of computescroll is done asynchronously form different process when scroll information needs to be updated after requestlayoutnnhowever computescroll is only called when scroll information needs updatednif it does not require updated information this test failsnnto avoid this i called viewinvalidate to modify to redraw the viewn
10774,greek keyboard support for latinimenid
10775,serial tegrahsuart make sure current byte rx complete in suspendnnmake sure that the last byte has been received by the uart duringnsuspend after rts is deassertednid  andrei warkentin  colin cross
10776,sipservice rediscover local ip on vpn onoffnid
10777,video tegra add  regs to nvhostdebugshow dumpnid
10778,qemu add emulator support for multi sim functionalitynnadded emulator support for multi sim functionalitynid
10779,fix avdmanager to correctly find emulator in aospnnthis is a temporary workaround on the lack of a mainnemulator binary in aosp which will be fixed laternid
10780,use correct format specifier for sizetnnfirst sizet is unsigned and d denotes a signed intnsecond since  there is the z specifier that should be used when handling sizetnid
10781,arm  cpufreq fix power suspend cpu frequencynnpower suspend often crashes the device if the cpu frequency is notnequal to sleepfreq if the current cpufreq policy does not includensleepfreq cpufreqdrivertarget does not change the cpu frequencynfor power suspend resulting in crashes this givesncpufreqdrivertarget a modified cpufreq policy that includesnsleepfreq to force the frequency to sleepfreq upon power suspendnregardless of the current cpufreq policynnnedoffby michael huang
10782,continuing ui for new sdk manager packages pagenn changed application to not display the page selector anymoren instead  only one page which is is the availableinstalledn packages combined pagenn the app behavior depends on the env varn when set it becomes the sdk manager to only deal with packagesn when unset it has the previous look  pages to deal with bothn avd and sdk packagesn eventually  also have an avd separate app and we cann factor outcleanup the old window implementationnn integrated the progress bar status in the pagen this  linked to eclipse yetn the progresstask classes deal with the old behavior ofn a separate progress dialogn the new progresview classes deal with the new behaviorn of the progress status incorporated in the main pagennother changesn changed layout of the new package pagen center addon sites dialog on top of parentn display details in tree view eg includes obsoleten packages all archivesn plug in logic for installdelete buttonsnid
10783,line wrapping general settingsnset never join already wrapped lines to truenid
10784,revert disabled  lines that break the sdk build biosbin in sdktoolsatreennthis reverts commit  original commit was merged out of sequence thus the need for thenoriginal revert all dependent commits are now complete so we can put backnin place the original changen
10785,comments general settingsnset never join lines to truenid
10786,set hwkeyboardlid default value to false for api level   patch modifies the emulator to extract the target api level fornthe avd or the current platform release and use it to set thendefault value of hwkeyboardlidnnthis will not affect any existing avdplatform that sets the valuenexplicitely in its configini for avds or hardwareini for platformnbuildsnnthe change is beneficial for platform builds targetting api level   the input framework changed its the window orientation behaviourndepending on the availability of a hardware lidnnin short this allows platform builds to be correctly oriented evennif they  provide a custom hardwareininnfix for bug
10787,control statements   keep  statement on same line to truenid
10788,removed compile warning redundant redeclarationnnthe function only needs to be declared in  which is included in
10789,removed assignements above array boundsnnthe yaffsobjectheader defines the size of roomtogrow with  if configyaffswince and  elsentherefore the assignments are out of boundsnid
10790,releasetools fix reference to unassigned variable in edify generatorn
10791,releasetools fix reference to unassigned variable in edify generatorn
10792,net wireless  cumulative update to version  dmitry shmidt
10793,staging android lowmemorykiller  wait more than one second for a process to diennif a process forked and the child process was killed by thenlowmemorykiller the lowmemory killer would be disabled untilnthe parent process reaped the child or it died itselfnid  arve hjønnevåg
10794,lowmemorykiller  unregister notifier from atomic contextnnthe lowmemorykiller registers an atomic notifier for notfication of whennthe task is freed from this atomic notifier callback it removes thenatomic notifier via taskfreeunregister this is incorrect becausenatomicnotifierchainunregister calls syncronizercu which cannsleep which  be done from an atomic notifiernnfix this by registering the notifier during and only unregister itnif the lowmemorykiller is unloadednid  rabin vincent  christian bejram
10795,staging android lowmemorykiller ignore shmem pages in pagecachenid  arve hjønnevåg
10796,adb add adb disconnect command for disconnecting tcpip devicesnnalso check that device is not already connected in adb connectnid  mike lockwood
10797,add support for acer devicesnid
10798,merge from donutn
10799,block genhd add diskpartition specific uevent callbacks for partition infonntfor disk devices a new uevent parameter  specifies the numbernof partitions detected by the kernel partition devices get  whichnspecifies the partitions index in the tablennnedoffby san mehat
10800,merge from donutn
10801,dlna httpimplement several dlna requirements in pe noden
10802,oscl findfirst and findnext modificationsn
10803,remoteproc add rutime pm autosuspend supportnngoing to suspend and resuming for remote processor is a heavyntask and therefore much latency for that reason we only goingnto suspend after some inactivity time by itself remoteprocnmodule can not know about activity on remoteproc it is onlynin charge of turning it onoff that is why remoteproc addnnew apis to tell when it is used and then restart suspendntimeoutnnremote proc users needs to use that news apps besides if theynhave issues when the remote processor goes to suspend withoutntheir knowledge about that they needs to register for suspendnnotifications returning an error in the notification callbacknmeans they are using the remote processor and the autosuspendnis cancellednnnedoffby fernando guzman lugo
10804,require bonding and encryption for pbap servernnthe phonebook access profile specification requires bonding andnencryption for devices not supporting ssp secure simple pairingninsecurerfcomm will require neither adding encryptedrfcomm to forcenbonding and encryption but not requiring authenticated link keynid
10805,omap rpmsg adapt omaprpmsg to the remoteproc autosuspendnnadd needed changes to work with remoteproc autosuspendnid  fernando guzman lugo
10806,require bonding and encryption for pbap servernnthe phonebook access profile specification requires bonding andnencryption for devices not supporting ssp secure simple pairingninsecurerfcomm will require neither adding encryptedrfcomm to forcenbonding and encryption but not requiring authenticated link keynid
10807,bluetooth correcting return value from canceldiscoverynnbluetoothadaptercanceldiscovery was previously alwaysnreturning falsenid
10808,handle pbap response packet as raw bytesnnadjust pbap response packet to be always handled as bytesncurrently it is handled as string when is read from internal datanthis causes the lack of pullvcardlisting packet and the abort ofnpullphonebook transaction when multibyte characters are containedninto corresponding contactsnthis fix will avoid the lack and the abort by writing whole packetninto the target stream as bytenid
10809,document  fixnnthe fix itself is in developmentgitndknse
10810,fix two incorrect  function declarationsnnthe  header file provided with the ndk containedntwo invalid function declarations this patch fixes themnnnote that this breaks the api but fixes the abi which was previouslynbroken it is likely that any application developer that tried to usenthese function had problems with them anywaynnanother patch to ndkgit will add a note to the changelog and tonthe documentation to explain the issuenn fix some documentation typosnid
10811,adb add usb vendor ids for lg and huaweinid  mike lockwood
10812,libstagefright use pmem input buffer in extractor media track to avoid copynnextractor uses a local mediabuffer to read parsed input data andnthe same is copied into a input pmem buffer in omxcodec to avoidnthe copy and to protect the input video buffer the pmem buffer pointernfor video track is passed to the extractor which uses it to read theninput data directly into pmem buffernid
10813,merge commit  into freebsdportn
10814,cts verifier xml reportsnnbug  add a version name and code to the cts verifier show then version name on the welcome  share a xml report instead of a plain text report seen testresultsreport for the formatnid
10815,omap mailbox fix null nb in omapmboxputnnomapmboxput most to check null nb before trying to unregister itnid  fernando guzman lugo
10816,virtio export moreused functionnnthat way users can know if they have pending messagesnid  fernando guzman lugo
10817,in case of rtsp streaming session if the buffering completes before streaming server sends the response of the play command then pvplayer crashesn
10818,onscreen keyboard for all activitiesnevery activity has a new menuitem keyboard if they  override the menu creation methodsncompletely once that menuitem is clicked a new view appears on top of the others with thenkeyboardn
10819,usb otg use workqueue in setvbus for  transcievernnwith this commit  otg notifier switch to atomic notifiernnfollowing dumps are observed on attachdetach for musb hostnmode and on a detach for musb device modennbug sleeping function called from invalid context at  the source      patch moves the  writes in setvbus function to anworkqueue thereby avoiding  writes in atomic contextnntested host and device mode functionality on   moiz sonasath
10820,npe fixnid
10821,revert arm tegra enable  data prefetching and prefetch offsetnnthis reverts commit
10822,video tegra cleanup debug syncpt outputnnin debug prints for stuck waits differentiate waitsyncptnvs waitsyncptbase and fix some build warningsnid  chris johnson
10823,increase time interval in points provided to velocitytrackernnthere are cases where motion events arrive at velocitytracker very closentogether in time  ms even though they are generated by hardware withnmuch more time between then  ms in these cases velocitytracker cannbe tweaked to treat these points with more time between them to preventnwildly incorrect velocities from being calculatednntweak the cts test case to validate velocitytracker with more realisticntime deltas between pointsnid
10824,dateview in the notification bar is now formatted via comandroidinternalrstringabbrevwdaymonthdayyearnid
10825,sensors could be disabled by any applicationnnin the sensormanager api unregisterlistener any application couldnunregister any sensor this lets any application disable a sensornwhich another application is usingnthis fix restricts the applications to only be able to unregisterna sensor it has previously registered tonid
10826,handle outofmemoryerror when decoding images in thumbnailutilsnnadded handling of outofmemoryerror handling to createimagethumbnailnmethod in thumbnailutilsjava during mediascanner run it would runnout of memory when trying to decode very large images now it handlesnthis error and returns null which is handled by the media scannernid
10827,fix empty gallery not checking for new images on app restartnn steps to reproducen  start with empty sd cardn  launch gallery should be emptyn  use home button to stop the gallery and go to home screenn  launch camera take a picturen  go back to gallery no new images are foundnn currently oncreate calls sendinitialmessage leading to logic whichn checks for new images consequently a restart does not check for new imagesnn this patch moves sendinitialmessage to onstart to always check for new imagesnid
10828,add a preference for the profiler buffer  is getting to be too small for some purposesnid
10829,rpmsgresmgr improve error reportingnnnedoffby iliyan malchev
10830,hwmod make dss reset staticnnreset dss is a public function which makes no sense make it staticnnalso fixes the following sparse  warning symbol  was not declared should it be staticnas a side effect use kernel standards for function declarationnof  nishanth menon
10831,fix memory leak after textviewsettextnnwhen textviewsettext was called on a textview that the usernpreviously touched the minsertionpointcursorcontroller andnmselectionmodifiercursorcontroller was set to null without firstncalling viewtreeobserverremoveontouchmodechangelistener this causednthe viewtreeobservermontouchmodechangelisteners to grow when thenuser pressed the updated textview in some cases this also lead to anlarger memory leak where the textview held a reference to anlinearlayout through mparentnid
10832,hack  hwmod disable  before reparenting dss clocksnnhack there should be a way to do this without resorting to messingnwith dispc registers inside dss reset funcnnif we try to reparent the clocks while the lcdtv is active andnin the middle of a dma we can get underflowsync errors thatnare sometimes unrecoverable so disable all the outputs firstnthen reset dss clock muxes to all point to prcm clocksnnbased on a patch by gillesarnaud bleulaine   dima zavin
10833,added events for early anr detectionnid
10834,update to  move android specific functions to wlandroid wifi control functionsn wifi device prealloc buffern link android startstop commands to interface updown download firmwaren when primary interfacde is upn fix a issue in driver unload the same irq can not be disabled twicen setirqwakenid  howard m hart
10835,fix instrumentation repetition parsing and multi listener handlingnid
10836,early anr detectionnnlogs waiting times so we know when we are close to getting an anrnnnormally the anr timeouts are  seconds meaning that if the delaynfrom our keypress or screentouch until it is handled is longernthan  seconds we will get an anr we want to handle this beforenperformance is so bad that we actually get an anrnnall delay times   ms from having received a keypress ornscreentouch until it is handled by the current application arenlogged to the event lognnit looks like thisnniwaitingtimeanrhead     comcoolirismediagalleryn          eventniwaitingtimeanrhead      us that the application is gallery the photo albumnit has not currently got a window and it is reporting  delaysnthis event shows the first  delays the first  is the indexnof the first delay numbered  then comes the delay thentimeout and the line number i inputdispatchercpp where this wasndetected this is repeated     comes the last  delaysniwaitingtimeanritem     is shown which application and window that detected the delaynhowever it is not clear that this is the cause of the delay it couldnbe some other application or background thread which is runningnnto make data more compact delays will be collected in an array andnevents sent to the event log when a keypress or screentouch delay isnrecorded and one of  application or window is different than the last recorded   minutes  seconds have elapsed since last write to the eventn  array contains  delaysnnthe logging is done in class inputdispatcherlogwaitingtimeanrnid
10837,revert  hwmod make dss reset staticnnthis reverts commit
10838,use dateutils rather then dateformatsymbols because not all locales are handled by dateformatsymbolsnid
10839,rpmsg replace spinlock with mutext to lock kick functionnnafter the patches to add autosuspend support to remote processornthe kick function needs to wake up the remote processor in case itnis on hibernation state so that now that function can sleep andnwe can not use spinlock anymorennnedoffby fernando guzman lugo
10840,libsysutils fix some bugs in netlinklistener and netlinkeventnnnedoffby san mehat
10841,libsysutils fix some bugs in netlinklistener and netlinkeventnnnedoffby san mehat
10842,fix obvious typo bug in eglcppnncan and does sometimes lead to accessing array with  as indexn
10843,system  initial skeleton for  let there be lightnnnedoffby san mehat
10844,emulotor gralloc fixed  its glformat to glrgb since  is not supported on the hostnthis also fixes the wallpaper issue making it visiblenid
10845,fixing windows build  linkage errorsnid
10846,make sure  is defined even for strict ansi or   asm headers define  regardless of strictansinthe  header requires  to be defined thusnthis fixes compiling with  when including  headernnin glibc the asmtypesh header defines  regardless ofnstrictansinnthis is the change for the generated archarmasmtypeshnheader as produced by the updateallpy script without allnthe other unrelated changes that the script producesnnfwiw the same issue also is present innarchshasmtypesh but there are no source headers fornarchsh in externalkernelheaders and regenerating thenheaders simply removes that filenid
10847,fixed compilation error with newly added webp supportnid
10848,emulator opengl add  support to driver renderernnadded  library to systemnmade fixes to the host libopenglrender toncompile and support  defined  fixes required to make  to worknid
10849,emulator  fixed  nenamark crashes on exitnnthe  member  ialized so the  sometimes crash trying to delete it also mnumcompressedtextureformatsnid
10850,emulator opengl fix windows buildnid
10851,setting renderer default libs to use translator libsnid
10852,opengl translator fix windows runtime problemsnnfixed functions calling conventions in dispatch tablesnadded link flag to translator libraries to produce an aliasnfunction for all exported functions with stdcall name manglingnid
10853,emulator gralloc make the cbhandletvalidate staticnnthis is nicer since it checks the handle itself not counting on the caller to check itnid
10854,add kernel headersn
10855,fixes scrollmeasure bug in edittextnnbug and fix describ
10856,merge from donutn
10857,devicevolume add pending partition supportnnnedoffby san mehat
10858,refactor the netlink event handling and better define how partitionsdisks are handlednnnedoffby san mehat
10859,rename devicevolume  directvolumennnedoffby san mehat
10860,add block device udev bootstrappingnnnedoffby san mehat
10861,merge from donutn
10862,proper alphasortingn
10863,revert adb another attempted workaround for the adb disconnect problemnnthis reverts commit  says to take this outn
10864,wire up more of the mount functionnnnedoffby san mehat
10865,update documentation for releasenid
10866,add generation of dependency file for ap packagennmake aapt generate a dependency file in the same directory as thenoutput ap file if the generatedependencies flag is setnthis dependency file can then be read by the ant exec loop tasknto see whether to repackage resourcesnid
10867,add support to ant for packaging dependency checksnnthis change adds in support for making aapt generate a dependencynfile for the ap package generated during resource packaging antnwill then check this dependency file before calling aapt again andnwill only repackage resources if the dependencies have been modifiednin some waynid
10868,tiler modify ion apis to use address arrays and return number of virt pagesnnremoved use of scatterlists in favor of address arraysnmodified tilermemsize api to provide number of required virtual pages fornuserspace mappingnmodified tilerallocblockarea to fill in if present and array of tilernaddresses necessary to mmap block to userspacennnedoffby andy gross
10869,added support for multiple raw asset directories a option to aaptnnin order to enable raw assets from libraries to be compiled into mainnapplication aapt tool has to support multiple a argumentsnthis patch adds such capability multiple a are handled the same waynas multiple s arguments in other words if specific asset file isnfound in several a folders the one that appear first inncommand line winsnid  ievgenii nazaruk
10870,added support for library assets resource directoriesnnthis patch adds capability to build list of all assets directoriesnthat are used in libraries and then this list is passed to aapt toolnusing multiple a options this allows to compile assets fromnall referenced libraries into main applicationnndepends on change  support for multiple raw asset directories a option to aaptnid  ievgenii nazaruk
10871,appwidgetservice avoid race conditionnnrace condition could cause appwidget hosts to be denied access to their ownnwidgets i have not seen this issue manifest on the stock nexus one or nexus snhowever since  a race condition that  mean it  happennnthis has been especially an issue on the aospderivative cyanogenmodnwhen using widgetlocker along with a normal launcher and then using thencm theme choosernncyanogenmod issue   nid
10872,fix buildstlportshnnwe fix the script used to rebuild the stlport prebuilt librariesninstead of requiring a valid ndk installation we only need prebuilt toolchainnbinaries and platforms files insteadnnby default the script now builds a temporary makefile that contains all thenbuild instructions this allows us to launch it with parallel jobs see  you can use the new nomakefile flag to disable this and build allnfiles in sequence directly from the scriptnn fix the packagedir optionnnnote that this also fixes rebuildallprebuiltsh which uses buildstlportshnid
10873,toolbox implementation of chown has a bad printnnwhen the chown program fails it prints out an error messagenand is describing itself as chmod this has been correctednid  christian bejram
10874,ndkbuild ensure  uses  patch ensures that any project that builds  machine codenbut targets an older api level will use the  sysrootnnthis ensures painless  project rebuilds without the usernhaving to modify its manifest or applicationmk specially for  make packagereleasesh default to arm  nownid
10875,add notice file and license tag for
10876,adb clean up argument passing for createservicethreadnid  mike lockwood
10877,startstop pand beforeafter hcidn
10878,arm tegra disable clocks left on by bootloadernid  colin cross
10879,arm tegra clock initialize clocks that have no enablenid  colin cross
10880,adt remov
10881,arm tegra clock add host and avp clocksnid  colin cross
10882,ctsverifier test info dialogsnnadd an info button in between the pass and fail buttonsnthat shows a dialog with instructions about a test activitynnshow the info dialog when the user visits the test activitynfor the first time use the existing content provider tonkeep track of thisnnrefactor the suid file scanner to be more user friendly bynshowing an info dialog rather than start scanning immediatelynshow authorized suid binaries with a green background andnunauthorized binaries with a red background fix a bug wherenthe dialog got leaked due to calling hide rather than dismissnid
10883,libstagefright correcting buffer size to be allocated from ashmemnnindividual buffers returned by ashmem are  bytenaligned so chunk size should be allocated keepingnin mind this  byte alignmentnid
10884,arm tegra clock  use pll lock bitsnnthe pll lock bits are not reliable use perpll timeouts insteadnid  colin cross
10885,arm tegra cpufreq take an extra reference to pllxnnduring cpu frequency changes take an extra reference to pllx sonthat it  turn off and on while the cpu is on pllpnid  colin cross
10886,patch set  in dalvikvminitc was modified to support xbootclasspatha and pnid
10887,integrate  into  do not mergennfix field visibility by ensuring they stay in dictnid
10888,integrate  into  do not mergenninitial cut at monkeyrecordernnmonkeyrecorder and monkeyplayback are a set of tools for using monkeyrunner to record and playback actions the current implementation is not very sophisticated but it worksnnplease  review yet needs a lot of style cleanupnid
10889,device option sometimes ignored on start commandnwhen used with test optionnnthe value fetched from the option was overridden fromna value retrieved from a previous session this changenlets the device option have the final saynid
10890,arm  support mono capturennsupport mono data formats such as dsp pcm mode with  bit mono capturennthis patch also disables the indriver downsamplernnnedoffby iliyan malchev
10891,add wsvga to the supported screenconfiguration listnid
10892,video tegra nvmap remove warning from nvmappinnnthe framebuffer driver needs to be able to arbitrarily pin whateverngets handed to it regardless of the interface used functions neednto unpin as soon as they finish using the gart anywaynid  rebecca schultz zavin
10893,net wireless  ignore error if scan results are emptynnnedoffby dmitry shmidt
10894,use new logging macro namesnid
10895,ensure the library path variable is validnnremove all nonvalid characters and attemptnto reduce collisionsnid
10896,tegra fix powergate register accessnnthe powergate register writes had their arguments swapped fix itnnnedoffby mike rapoport  colin cross
10897,tegra fix powergate partition idsnnupdate pcie and vde partition ids to match the trmnnnedoffby mike rapoport  colin cross
10898,tegra workaround bit swap in powergate clamping registernntegra  has a bug where pcie and vde clamping masks are swappednrelatively to the partition ids update tegrapowergateremoveclampingnfunction to workaround this bugnnnedoffby mike rapoport  colin cross
10899,fixes byte overflow problem when the size of a line of the cache is greater than
10900,adt xml wizard creates layouts in fillparent by defaultn the xml wizard to create the root layout of newnxml layouts using  byndefault this makes the interraction with the layoutneditor a lot easiernid
10901,adt xml wizard autoselect single android projectnnwhen opening the xml creation wizard we try to autoselectnthe project based on the selection if the selection is emptynbut  only one accessible ie open android projectnjust autoselect itnid
10902,adt remove obsolete gefrelated methodnnremove the gef selection synchronizer which wasnnecessary only for the obsolet
10903,do not submit forceenable aospspecific behaviorsnid
10904,ril support for me depersonalizationnnadded support for all me depersonalizations as per   and  t
10905,adding accentuated chars to spainsh ime to allow catalan word enterednid
10906,support virtualbox virtual usb tablet absolute mousennadd support for input devices with absolute axes which onlynhave mouse buttons such devices are treated as singletouchnstylus devices and handle btnmouse events as btntouch eventsnnthis is required for devices like the virtualbox integrated mousenwhich emulates a digitizing tablet intended to always have a directncorrespondance between device coordinates absxabsy and positionnid  ed boraa
10907,call log application enhacementnnmerge commit  into eclairplusaospnn commit   snapshotn fix
10908,added tests for new toastlengthlonger propertynid
10909,phone support for me depersonalizationnnadded support for all me depersonalizations as per   and  t
10910,added a new toastlengthlongernthe new property equals  seconds lengthlong is  secondsnnsometimes you need to display the toast for a longer timenwhen you write more text in the toastnthe duration can not be user defined so i added a new  secondsnpropertynid
10911,when stream low bitrate data the timeout event will trigger before endnof stream we should monitor buffer status when we trigger timeoutneventn
10912,arm  separate txrx dma setupnnfixed a problem preventing independent setupteardownnof tx and rx dmas when setting playback or capture buffer countnnnedoffby eric laur
10913,busses  move to subsyscallnnsome drivers like hdmi need to communicate over  during probenmove the  bus to the subsys level so that  is readynfor the start of the device levelnid  colin cross
10914,upstream cpuexecc changesn
10915,fix compilation errors due to  independent changesnid
10916,video tegra dc move to modulennmove dc to the device level so that all clocks arenialized before the late level this depends on  ialized in the subsys levelnid  colin cross
10917,upstream cpu changesn
10918,refactored userevents protocolnid
10919,video tegra fb add flag to flip fb during probenid  colin cross
10920,upstream console changesn
10921,set the maximum acceptable length of the wifi ssid to  maximum ssid length is  when the length of ssidnis longer than  we disable the save button this couldnavoid problem when there are wrong implementation innthe lower wifi layernauthor posenglin
10922,docs add missing item from ndk  changelognid
10923,upstream console changesn
10924,scale drag previews with the screen zoomnnif you have zoomed your layout which is going to be common whenndesigning for  screens then the drag preview shown when draggingnfrom the palette is not sized correctly it assumes a  zoomnnthis changeset looks at the current canvas zoom and scales the previewnimage such that it matches the canvas zoom so if  zoomed innthen the preview will be larger and vice versanid
10925,arm  add support for selecting txrx channels separatelynnnedoffby iliyan malchev
10926,upstream osdep changes fix mingw buildn
10927,prevent window leak from videoviewnnmake sure to always dismiss the error message dialog inncase the containing activity is finished this can happennfor instance when resuming the task if cleartaskonlaunchnis set further up the activity stacknid
10928,video tegra nvmap prevent reverting to sysmem for small allocationsnid  colin cross
10929,upstream qemucharh updaten
10930,no dialog was presented at false password wifi loginnnwhen logging into a password protected wifi network with a bad passwordnthe eclair version notified the user by presenting the wifi dialog ofnthe failing connection with an error messagenndue to a major rewrite this user feature was missingnid
10931,workaround failure to collect test info for large test suitesnnadd a small delay between tests when collecting test infonnbug
10932,upstream qemuchar updatesn
10933,wpa rekeying displayed as obtaining ipnnsuccessful rekeying is finished with the supplicantstate completednthis state is mapped to the uistring obtaining ip addressnlooking at the current ip address can separate when state isnobtaining ip and when actually already connectednid
10934,arm tegra add function to copy framebuffer contentsnndue to conflicting restrictions on the location of the framebuffernbetween the bootloader and the protected aperture the framebuffernis likely to need to be moved during boot this patch providesntegramoveframebuffer which can handle move the framebuffer fromnlowmem highmem or unmapped memory into unmapped memorynid
10935,upstream qemusockets changesn
10936,arm tegra add function to enable protected aperturenid  colin cross
10937,arm tegra suspend save protected aperture across   colin cross
10938,upstream rename iocanrwhandler into iocanreadhandlern
10939,move pair and annoatations into resourcesjar now renamed as commonjarnnmove all the resource query methods that returned an array of  stringsnto return a pair of resourcetype and stringnid
10940,updated features test to check new features reported in gingerbread to fix warning of device reporting a disallowed feature for frontfacing camera nfc gyroscope sip etcnid
10941,fastboot set the language local stringnnset the language local string to  english us enus such thatnfastboot will successfully read the usb descriptor serial number stringnthe usbdevfs ioctl fails when the windex is not ialized with thenlocal for the unicode of the usb descriptor string usbdevfs is annobsolete interface and fastboot probably needs a rewrite to use libusbnlike what is in adbnnnedoffby mark d horn
10942,rtc alarm remove reference to asmmachtimehnnremove the unused include  which preventsnbuilding driversrtcalarmdevc on  and is redundant on othernarchsnid  ed boraa
10943,remove nonexistent alarmprovider to fix sdk buildnid
10944,fix  buildnid
10945,fix application forced close when http connection is redirected to httpsnnit happens that when user is using some wifi ap which required user to enter thenaccountpassword before they are able to access the internet or the authenticationnis expired when this happened the picasa http connection will be redirected anunregistered https connection which will throws an illegalstateexception and makenapplication crash add catching the illegalstateexception when accessing gdataclientnto avoid this issuenid
10946,gen folder should not be derivednnthis fix the issue where gen is not present after projectncreation it was actually created then deleted as part of a cleannup phasenid
10947,hardwarerilreferenceril preliminary multimode supportnnt add support fornt rilrequestbasebandversionnt rilrequestdeviceidentitynt rilrequestcdmasubscriptionnt rilunsolcdmasubscriptionsourcechangednt rilunsolcdmaprlchangednt rilunsolexitemergencycallbackmodent make the cdmasubscriptionappindex point to the gsm applicationn handle rilrequestregistrationstate for cdmanid
10948,it turns out that the arduino serial port char buffer is only  bytes sonmessage size has to be   or else data is lost this change bumps it downnto  bytes which should still be big enough this also has a start on thenactual bluetooth test code which is the purpose of all thisnid
10949,integrate  into  do not mergennmake  adb finding more robustnnthis includes fixes for running out of the sdknid
10950,fix the config manager dialog in the glenid
10951,add alloc number in the alloc trackernnthis lets the user sort the allocation in the order theynhappened or reversenid
10952,fix  buildnnfix various  issues in the source code tonmake the  option work again on linux note thatnthe generated binary is not faster than its  variantnwhen it comes to benchmarking the boot sequencenid
10953,fix build and remove compiler warnings in vlandroidcnid
10954,set the base direction of the hebrew error pages to rtlnid
10955,for upload testnid
10956,make the base direction of the arabic error pages rtlnid
10957,motoya japanese fontsnnthese fonts were contributed by motoyanid
10958,net wireless  update to version  keepalive feature fix   processing fix roaming processingnnnedoffby dmitry shmidt
10959,fix if actiondown and lost focus time too close it will become long pressnnit will become long press because checkfortap is still posted in backgroundnso remove the callback when lose focus or it will become long press eventnid
10960,usb vendor id of sk telesys coltd is addednid
10961,stagefright prevent the audioplayer playing the redundant soundsnnscenarion a the audioplayer  stop immediately after we seek then streaming videon b while playing streaming video we suspendresume the devicewen would find the device always play the begining part of the audion firstnrootcausen  although video playback has been paused because of seekingnaudioplayer  be paused and seek to the desired position untilnthe video event does son  while suspendresume audio player would be recovered faster thannthe video this would make the audioplayer to play the begining part ofnthe content till the video playback does the needed seekingnnsolutionn while playing video we would pause the audioplayer as long as thenseeking occurs after the related video event is triggered stagefrightnwould recover the audioplayernid
10962,update  confighosth remove obsolete ppc onenid
10963,fix incorrect orientation at bootnnthe goldfish  event driver is very picky about thenstate of the virtual device it talks to essentially it cannonly listen to hw events if the corresponding irq is raisednafter it has completed some ial setupnnif the irq is raised before the driver will refuse to listennto events and any interaction becomes impossiblennwe changed the way our ui windows are built and managednpreviously and this had the unfortunate effect of sendingnone hw event too soon which in the old code would raisenthe irq prematurely this resulted in an input freezennto work around this the ui code was modified to not sendnthe ial hw event but this resulted in bad orientationnof the home screen at the end of the boot sequencennthis change allows the virtual device to wait for the kernelndriver before raising the irq in the case any hw event hasnbeen buffered it also removes the hack in the ui codenallowing the send of the ial hw event at startupnnbonus minor changesn esound probe fix error messagen console fix compiler warningsn libpng proper handling of mmx supportn androidconfiguresh fix ignoreaudio handlingn the option  do anything if the audio development packagesn are properly installed on the systemnid
10964,update  and windows confighosthnn remove obsolete  config directorynid
10965,driversmisc tist re completion on ver readnnafter the version information has been read the completion which assists innwaitforcompletion during the firmware sendwait sequence is being reusednand hence this needs to be reialised for fool proof firmware downloadnretriesnid  pavan savoy
10966,driversmisctist platform hooks for chip statesnncertain platform specific or hostwilink interface specific actions would benrequired to be taken when the chip is being enabled and after the chip isndisabled such as configuration of the mux modes for the gpio of host connectednto the nshutdown of the chip or relinquishing uart after the chip is disablednnsimilar actions can also be taken when the chip is in deep sleep or when thenchip is awake performance enhancements such as configuring the host to runnfaster when chip is awake and slower when chip is asleep can also be madenherenid  pavan savoy
10967,driversmisc tist re completion before sendnndownload firmware behaves differently at different times when logs arenenabled and the system is loaded the waitforcompletion is able to wait fornevery send however during other times the wait does not happennnso for reliability reializing the completion before every send makesnsure the wait happens for every sendnnfixes   pavan savoy
10968,driversmisc tist failsafe on wrong pkt typenntexas  shared transport driver interpret incoming data from thenuart based on the various protocol drivers registered to the driver such asnbtwilink driver or fm or gps driver which provide logical channel idsnnin case of badbehavior from chip such as hci event response for a gps commandnor a hci event hw error event for a fm response  in case of badbehaviornfrom uart driver such as dropping data bytes a failsafe is required to avoidnkernel panicnid  pavan savoy  vijay badawadagi
10969,telephony support for me depersonalizationnnadded support for all me depersonalizations as per   and  t
10970,driversmisc tist free skb on firmware downloadnnif during validation of the firmware download the data  match what isnexpected out of the chip this calls for a firmware download failure and anretrynfree the skb which collects response during such scenariosnid  pavan savoy
10971,driversmisc tist wait for completion at failnnwhen the line discipline install fails for reasons such as missing userspacenuim or broken communication between uim and st driver then the stnattemptsretries to request for ldisc installation againnbased out of   pavan savoy
10972,driversmisctist increase ldisc  cmd response timeoutnnthe timeout values for the line discipline installation in the sharedntransport and the command response were too short we encounter situationsnwhen the bt and wlan were turned on at the same time where these timeouts expirednboth values were increasednid  amir ayun  pavan savoy
10973,driversmisc tist fix unexpected uart closennif suppose the uim were to die and hence uart were to close when thenbluetoothfm or gps is turned on prep the st for a state wherein ifnthe uim comes back up bluetoothfmgps can be turned onnid  pavan savoy
10974,fix clean scriptnnthe way bash works the script returns the status of the last commandnin this case the last failed  return value is what the scriptnreturns even when  what we want encapsulating the test inna function works around thisnid
10975,upstream qemuthread updaten
10976,microblaze fix build with make   upstreamnnwhen running make headersinstallall on  and make  i hit  mixed implicit and normal rules stopnmake headersinstallall error  split the rules to satisfy make  thomas backlund  michal simek  greg kroahhartman
10977,rebuildallprebult replace  option with archnid  bruce bear
10978,upstream move timer management code to qemutimercn
10979,sunrpc after calling xprtrelease we must restart from callreservenncommit  upstreamnnrob leslie reports seeing the following oops after his kerberos sessionnexpirednnbug unable to handle kernel null pointer dereference at    sunrpcnpde     sysfs file  linked in  authenc   iptlog iptreject xtlimit xtstate iptredirect xtowner xthl xthl xttcpudp xtmark  clstcindex schsfq schhtb schdsmark geodewdt deflate ctr twofishgeneric  twofishcommon camellia serpent blowfish  cbc xcbc    hmac cryptonull afkey  nfsd exportfs nfs lockd fscache nfsacl authrpcgss sunrpc ipgre sit  dummy  jbd nfnatirc nfconntrackirc nfnatftp nfconntrackftp iptablemangle iptablenat nfnat  nfconntrack  iptablefilter iptables xtables  nscgpio  hwmonvid loop  aesgeneric  dmcrypt  serioraw   desgeneric geoderng rngcore ledclass  mbcache   dmmirror dmregionhash dmlog dmsnapshot dmmod sdmod  idepcigeneric   idecore  atageneric libata usbstorage viarhine mii scsimod btrfs zlibdeflate   last unloaded scsiwaitscannnpid  comm sudo not tainted   neip  eflags  cpu  is at  sunrpcneax  ebx  ecx  edx   edi  ebp  esp  ds  es  fs  gs  ss  sudo pid                             tracen   sunrpcn   sunrpcn   nfsn   sunrpcn   sunrpcn   sunrpcn   nfsn   nfsn   sunrpcn   nfsn                                  de                ec  fc              db                   sunrpc ssesp   appears to be caused by the function rpcverifyheader firstncalling xprtrelease then doing a callrefresh if we release thentransport slot we should always jump back to callreserve beforencalling anything elsennnedoffby trond myklebust  greg kroahhartman
10980,set the base direction of the hebrew error pages to rtlnid
10981,updated gcc  ia toolchain  require the ctors listnid  hj lu  bruce bear
10982,upstream disas updaten
10983,call  on receiving   upstreamnnif the server sends us an  while the state managementnthread is busy reclaiming state we do want to treat all state that  before the staleclientid as if a network partition occurred seenthe edge conditions described in  and  we do not want to do is to send an  since  yet even started reclaiming state after the server rebootednnnedoffby trond myklebust  greg kroahhartman
10984,make the base direction of the arabic error pages rtlnid
10985,remove an extra register movenid  hj lu  bruce bear
10986,upstream json updaten
10987,phymarvell fix  supportnncommit  upstreamnncommit  added support for rgmiinrxtx delays except that it ends up clearing rxtx delays bit for modesndifferents that rgmiiid due to this ethernet is not working anymorenon my guruplug server this patch is fixing thatnnnedoffby arnaud patard  david s miller  greg kroahhartman
10988,merge commit  commit  into betelecomn
10989,ignore deprecation warning for importing sha modulenid
10990,replace atomicxxx with gcc syncxxx intrinsicsnid  hj lu  bruce bear
10991,alsa oss mixer emulation fix lockingnncommit  upstreamnnfix mutex release and cleanup some locking codennnedoffby jaroslav kysela  greg kroahhartman
10992,move some typedefs to procfsh required by gdbserver buildnid  bruce bear
10993,fix ddms filechooser behavior and mac acceleratornnfix a couple of issues in ddmsnnfirst fix the code to remember the path you last opened the filenchooser with if there is nothing in $lastimagesavedir it should looknat $imagesavedir which is the variable the default settingn$userhome is ialized intonnsecond and this seems to be mac specific thenfiledialoggetfilterpath call does not return the path you havennavigated to which means that on the mac it never setsn$lastimagesavedir correctly it always sets it to the originalnsuggestion the fix is trivial use filegetparent instead which doesnthe string manipulation to extract the parent portion of a stringnwhich represents a pathnnfinally on macs only make the keybindings use the command keyninstead of the control key since  the normnid
10994,upstream bswaphnn add a  probe to androidconfigureshn
10995,alsa hda add some workarounds for creative ibgnncommit  upstreamnncreative hdaudio controller chips require some workaroundsn additional delay before rirb responsen set the ial rirb counter to  latter seems to be done in general in windows driver so we maynuse this value later for all types if  confirmed to work betternnreportedby wai yew chay  takashi iwai  greg kroahhartman
10996,update application icons for sdkmanager and ddmsnnupdate the dock icon used on macs for the sdkmanager to one that hasntransparency just as the emulator icon already does this is the normnon macsnnupdate the application icon used for ddms to betan android with anwrench in a similar style to the other tool iconsnnthis icon is also transparent which i hope will work on windows itnwould be great if raphael could verify that and i should probably trynto get a windows image into my vmware install so i can do these checksnmyself in the futurenid
10997,upstream buffered file minor changen
10998,powerpc fix call to subpageprotectionnncommit  upstreamnninn powerpcmm fix pgtable cache cleanup with configppcsubpageprotn commit  author david gibson  was changed to to take an mm rather a pgdir but  change calling site in hashpagepreload the change  at compile time since hashpagepreload used a void as thenparameter to subpageprotectionnnthis is obviously wrong and can trigger the following crash whennconfigslab configdebugslab  are enablednnfreeing unused kernel memory  freednunable to handle kernel paging request for data at address  instruction address   vector  data access at  pc   lr   sp  msr  dar  dsisr  current   paca   pid   comm  nenter for               jim keniston  benjamin herrenschmidt  michael neuling  david gibson  greg kroahhartman
10999,emulatorui remove dependencies from qemu sourcesnnthis change removes some qemuspecifics that crept into the ui codenid
11000,upstream minor qobject updatesn
11001,alsa hda enable internal mic on dell  and dell  upstream as  fixes this differently in a much more complete waynthat is not able to be backported easilynnported on top of    david henningsson  diego elio pettenò  takashi iwai  greg kroahhartman
11002,alsa hda fix wrong spdif nid assignment for   upstreamnnthe digoutnid field must take a digitalconverter widget but the  parser passed the pin wrongly insteadnnreportedby wai yew chay  takashi iwai  greg kroahhartman
11003,adding symbol for invalid card statennsome operator specific sim cards can send out error codesnthat upper layers need to be able to handlenid
11004,handle invalid sim statusnnfor some operators the ability to handle invalid sim statusnis critical this is used to lock a sim to a specificnif the sim is used in another device it will respond withninvalid status on each requestnid
11005,telephony support for setupeventlist proactive commandnnthese changes provide support for setupeventlist proactive commandnref etsi t
11006,pm change dpm watchdog to support async suspendnnexclude from the watchdog the time spent waiting for children thatnare resumed asynchronously and time every devices whether or not theynresumed synchronouslynid  benoit gobi
11007,tolerate cache folder deletion on writesnnif the cache is stored somewhere where the entire folder is subjectnto possible deletion this will attempt to restore the folder treenonce on a filenotfoundexception during writesnnwe choose not to perform the same operation on reads since no usefulnstate will be gained ie  a cache miss either waynna test is included for the current ics mr api there is also a secondntest currently commented out for the forthcoming public editingnapi which jesse wilson was kind enough to make me privy tonid
11008,add command line flag to show list of snapshotsnnthis patch introduces the flag  which causes thenemulator to output a table of snapshots in the currently mountednsnapshot storage filennthe snapshot file is accessed with a very simple driver for the  system independent of  block driver framework this waynthe flag is available in the emulatorui builds as well using  would have resulted in adding a lot of qemu dependencies tonthe ui build which we are explicitly trying to avoidnid
11009,upstream minor qobject updaten
11010,arm msm  audionnwhen muting mic input always update saved mute statenregardless of completion status returned by audio dspnthis ensures that saved mute state is coherent with mute state innphone application that has no feedback on completion statusnnnedoffby eric laur
11011,fix  buildn
11012,call  from error handlersnncommit  upstreamnnin the case of a server reboot the state recovery thread starts by  in order to avoid edge conditions whennthe server reboots while the client is in the middle of recoverynnhowever if the client has already marked the  as requiringnreboot recovery then the above behaviour will cause the recovery thread tontreat the open as if it was part of such an edge condition the open willnbe recovered as if it was part of a lease expiration and all the locksnwill be lostnfix is to remove the call to   and  instead we leave itnto the recovery thread to do this for usnnnedoffby trond myklebust  greg kroahhartman
11013,upstream elfhn
11014,delete album when all of its tracks have been deletednnwhen an entire album or the last track from an album is deleted thenentry in the albums table is not removed if tracks from the samenalbum are later found again by the mediascanner then the album willnnot get any album artnfixed by adding a trigger that removes the albums table entry ifnno tracks with the same albumid are found after a deletenid
11015,video tegra allow clearing of video modes in fb drivernid  erik gil
11016,upstream softmmun
11017,make sure the hotplug interrupt is enablednncommit  upstreamnnafter disabling the hotplug interrupts for vga detection on ironlake bensure to reenable them again afterwardsnnbugzilla  yuanhan liu  chris wilson  greg kroahhartman
11018,fix for screen blank issue when accepting callnnthis is fix the issue of screen going blank while the usernis in the process of accepting a call caused by  the flag onafterrelease to reset user activity timernwhen wake lock is released that will keep the screen on forna while before it goes to blanknid
11019,video tegra clear video modes on hdmi unplugnid  erik gil
11020,upstream qemumallocn
11021,drmradeonkms fix handling of tex lookup disable in cs checker on   upstreamnnthere are cases when multiple texture units have to be enablednbut not actually used to sample this patch checks to see ifnthe lookupdisable bit is set and if so skips the texture  alex deucher  dave airlie  greg kroahhartman
11022,mmc sdhci enable mmccaperasennnedoffby dmitry shmidt
11023,upstream qemuoptioncn
11024,diasable clock gating for the panel power sequencernncommit  upstreamnnneeded on ibex peak and cougar point or the panel  always come onnnnedoffby jesse barnes  chris wilson  greg kroahhartman
11025,fixing system crash at systembinshnnthe crash occurs when calling shelltrap to perform an actionnfor a signal the system reads a null pointer when it isnlooking up a signal number in the  vector of namednsignalsnid
11026,arm mm use memblock to set up memory mapnnbased on patch by rmk on lkml at  changes to findlimits to fix crash when using memblockremovenon the end of memorynnoriginalauthor russell king  colin cross
11027,upstream minow hw updatesn
11028,free hardware status page on unload when physically mappednncommit  upstreamnna physically mapped hardware status page is allocated at driver loadntime but was never freed call the existing code to free this page atndriver unload time on hardware which uses this kindnnnedoffby keith packard  call before tearing down registers on kmsonly path as pointednout by dave airliennedoffby chris wilson  greg kroahhartman
11029,create user data image using the ial user data imagennstarting the emulator with a new avd should create a new user data imagenuserdataqemuimg as a copy of existing user data image userdataimgnthis is not done since the flag imageemptyifmissing will causenthe user data image to be reset by not setting the flag the user datanis ialized in the way documented in code and online helpnid
11030,sdk manager fix message to restart after tools updatennthe latest cl made this appear after a platformtools update insteadnid
11031,upstream minor updatesn
11032,drmradeonkms properly compute groupsize on   upstreamnnneeded for tiled surfacesnnnedoffby alex deucher  dave airlie  greg kroahhartman
11033,fix for rotation of touch coordinates on the edge of the screennnwhen rotating touch input coordinates in the inputreader thenresulting coordinates areone this makes touch eventsnon the edge of the screen being discarded for being outsidenof the screennid
11034,integrate  into  do not mergennsdk manager addon schema version number in about boxnid
11035,upstream qemuiocn
11036,drmradeonkms mc vram map needs to be  pci aperture sizenncommit  upstreamnnthe vram map in the radeon memory controller needs to  the pci aperture size  problematic cards in the above bug have  mb of vramnbut the pci aperture is  mb and the mc vram map was  mb this can lead to hangsnnnedoffby alex deucher  dave airlie  greg kroahhartman
11037,adding isiccinvalidcard to the phoneinterfacemanagernnupdating the phoneintefacemanager so it is in synchnwith frameworksbasenid
11038,integrate  into  do not mergennsdk manager fix message to restart after tools updatennthe latest cl made this appear after a platformtools update insteadnid
11039,upstream monitorhn
11040,drmradeonkms make sure blit addr masks are  bitnncommit  upstreamnnnedoffby alex deucher  dave airlie  greg kroahhartman
11041,video tegra  enable display when mode is invalidnid  erik gil
11042,upstream aion
11043,update hotplug interrupts register defions for sandybridgenncommit  upstreamnnon sandybridge the bit defion for hotplug on sde has changed sonupdate the code to new defionnnbugzilla  yuanhan liu  chris wilson  greg kroahhartman
11044,nfs  sigbus if nfsvmpagemkwrite races with a cache invalidationnncommit  upstreamnnin the case where we lock the page and then find out that the page hasnbeen thrown out of the page cache we should just return vmfaultnopagenthis is what blockpagemkwrite does in these situationsnnnedoffby trond myklebust  greg kroahhartman
11045,sdk manager addon schema version number in about boxnid
11046,fix open recoverynncommit   open recovery is currently broken since we do not clear  states before attempting recovery we end up with  function triggering this again leads to no open callnbeing put on the wirennreportedby sachin prabhu  trond myklebust  greg kroahhartman
11047,play default ringtone if the current is unavailablennmake sure that the default ringtone is played if thencurrent ringtone is unavailable fex if sdcard isnremoved if the current tone becomes available again  kept as the current ringtonenthis also applies to notification and alarmnid
11048,use async task to prevent an anrnnin the launcher application the wallpaper chooser activity usesnthe main ui thread to make a binder call to the wallpaper managernservice this happens when the user selects a wall paper and setsnit however an anr occurs when the binder call does not respondnin time hence such calls should not be done in the main uinthreadnid
11049,enable lcd backlight in the emulatornnadding a new lightsgoldfishso library to enablenlcd backlight in the emulatornid
11050,remove superfluous include path from makefilennthis include path was added to protect against picking up the wrong memoryhnbut this is not needed as we no longer include any files of that namenid
11051,build mksnapshot should not create  in $topnnadd logfile option to mksnapshot command line to generate  the intermediates directory instead of the source treenid
11052,use stlport for  and  we incorrectly use the stl implementation from the toolchainnid
11053,arm tegra use memblockremove to allocate carveout and framebuffernnthis uses the patch by rmk to allow memblockremove to be used tonremove areas of memory from the  mapping allowing them to benremapped later using iomap or for tegra nvmapnnalso uses memblockreserve to reserve the  boot vector so  need to be copied later in tegrasuspendnntegrareserve should be called from the machine reserve callbacknafter any boardspecific memory areas are reservednid  colin cross
11054,upstream qemucommonh updatesn
11055,upstream osdep updatesnn add configandroid to confighosthn
11056,delete browerplugin tests do not mergennthose  build in all environmentsnid
11057,missing platform toosl  mean the sdk is invalidnid
11058,make the beacon monitor available externallynncommit  upstreamnnthis will be used by other components next the beaconnmonitor was added as of  so these fixes are applicablenonly to kernels   paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11059,add dnsproxyd to keep in sync with base rcnid  bruce bear
11060,set hover fill colornnthe code which paints the hover  actually set the hover fill colornon the graphics context so it was just blending with white this happensnto be the color the fill was ialized to so the problem
11061,properly represent mixed choices in dynamic context menunnexample when display the context menu for a multiple selectionnsome items might be on wrapparent whilst others might be innmatchparent this new change has the menu display a differentnicon for these choices and indicate that n out of m items arenin a given state basically this converts boolean support tona tristate supportnid
11062,add helper for reseting the connection monitornncommit  upstreamnnthis will be used in another place later the connectionnmonitor was added as of  so these fixes will benapplicable to   paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11063,delete browserplugin sample do not mergennit  build in all environmentsnid
11064,make  adb finding more robustnnthis includes fixes for running out of the sdknid
11065,sdk use  sparsearray classesnnthese are a fantastic replacement for map when you havenint keysnid
11066,disable beacon monitor while going offchannelnncommit  upstreamnnthe beacon monitor should be disabled when going off channelnto prevent spurious warnings and triggering connectionndeterioration work such as sending probe requests reenablenthe beacon monitor once we come back to the home channelnnthis patch has fixes for stable kernels  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11067,protobuf compiler support in the build systemn
11068,dexwrapper is now loaded by the sdk instead of the platformsnnsince  dxjar is now located in platformtools insteadnof  is therefore no need for all the platforms to load theirnown dxjar through reflection into dexwrapper the sdk now does itnfor all and the builders query the sdk for the wrappernid
11069,send last  probe requests as unicastnncommit  upstreamnnsome buggy aps do not respond to unicast probe requestsnor send unicast probe requests very delayed so in thenworst case we should try to send broadcast probe requestsnotherwise we can get disconnected from these apsnneven if drivers do not have filters to disregard probenresponses from foreign aps  will only processnprobe responses from our associated ap for rearmingnconnection monitoringnnwe need to do this since the beacon monitor does notnpush back the connection monitor by design so even if wenare getting beacons from these type of aps our connectionnmonitor currently relies heavily on the way the probenrequests are received on the ap an example of an apnaffected by this is the nexus one but this has also beennobserved with random apsnnwe can probably optimize this later by using null funcsninstead of probe requestsnnfor more details refer  patch has fixes for stable kernels  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11070,update of drm frameworknn change void type of return value to intn for returning status coden add asynchronous implementation and oneventlistenerns are incorporated by sony corporationnid
11071,fix offchannel assumption upon associationnncommit  upstreamnnassociation is dealt with as an atomic offchannel operationnwe do this because we  know we are associated until wenget the associatin response from the ap when we do get thenassociatin response though we were never clearing the offchannelnstate this has a few implications we told drivers we werenstill offchannel and the first configured tx power for thenchannel does not take into account any power constraintsnnfor  this meant ani calibration would not start uponnassociation and  have to wait until the first bgscannto be triggered there may be other issues this resolvesnbut  too lazy to comb the code to checknncc amod bodas  vasanth thiagarajan  luis r rodriguez  john w linville  greg kroahhartman
11072,initial cut at monkeyrecordernnmonkeyrecorder and monkeyplayback are a set of tools for using monkeyrunner to record and playback actions the current implementation is not very sophisticated but it worksnnplease  review yet needs a lot of style cleanupnid
11073,reset connection idle when going offchannelnncommit  upstreamnnwhen we go offchannel  currently leaves alive thenconnection idle monitor this should be instead postponednuntil we come back to our home channel otherwise by thentime we get back to the home channel we could be triggeringnunecesary probe requests for aps that do not respond tonunicast probe requests nexus one is a simple example thisnmeans we essentially get disconnected after the probesnfailsnnthis patch has stable fixes for kernels  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11074,modify compressrects api in yuvimagetestjavanid
11075,fix signal strength average ialization for cqm eventsnncommit  upstreamnnthe avebeaconsignal value uses  db unit and as such must benialized with the signal level of the first beacon frame multipliednby  this fixes an issue where the ial cqm events are reportednincorrectly with a burst of events while the running averagenapproaches the correct value after the incorrect ialization thisncould cause user space based roaming decision process to get quitenconfused at the moment when we would like to go through authenticationnand dhcpnnnedoffby jouni malinen  john w linville  greg kroahhartman
11076,improve quickcontactbadge  set the image src attribute on drop which was done by thenimageviewrule since quickcontactbadge extends imageview and  the mail contact image in the renderconfignid
11077,arm vfp move exception address fixup into vfphwsnnif the pc on the stack is updated in entryarmvsndoundefinstr can get called after the fixup doundefinstrndoes its own fixup and doing both causes the pc to point tonhalf way through an instructionnninstead do the fixup in dovfp where only the vfp codencan get callednid  colin cross
11078,update the layoutlib api to contain part of the current confignnright now only the screen size is needed we can add more to paramsnas needednnsince we should use the existing enum classes for this i movednall the current enum from sdklib into a new jar file callednresourcesjarnnadt sdklib layoutlibapi all depend on itns to resources should always be api compatible and the resultnshould be copied into the indev platform branch in prebuilt similarnto layoutlibapi see the readmetxt files in layoutlibapi andnresourcesnid
11079,extra protobufrelated supportnid
11080,fix used before ialized errornid  bruce bear
11081,replace propertiesloadreader with propertiesloadinputstreamnid
11082,initial commit of a helper stub for the arduino code to be used in tandem withnthe cts verifier builds and should flash but does nothing currentlynid
11083,updated changelog for adtnid
11084,proper feedback on invalid drop targetsnid
11085,clear txflags for psfiltered framesnncommit  upstreamnnthis patch fixes stale  fornfiltered retried framesnnbecause  feeds skbs backninto the tx path they have to be stripped of some txnflags so they  confuse the stack driver or devicennackedby johannes berg  christian lamparter  john w linville  greg kroahhartman
11086,telephony add support for uiccnid
11087,use correct station flags locknncommit  upstreamnnthis code is modifying the station flags andnas such should hold the flags lock so it canndo so atomically vs other flags modificationsnand readers this issue was introduced whennthis code was added in  as it usednthe wrong lock thus not fixing the race thatnwas previously documented in a commentnnnedoffby johannes berg  john w linville  greg kroahhartman
11088,add wsvga to the supported screenconfiguration listnid
11089,tegra fix repeated start handlingnna repeated start should be used for all but the last msg in an xfer thennostart flag is for skipping the start frame addrrwnid  erik gil
11090,fix typo in comment beamsoverlapnid
11091,video tegra disable display on hotunplugnnalso tighents up the hotplug detect timingnid  erik gil
11092,reset probe send counter upon connection timer resetnncommit  upstreamnnupon beacon loss we send probe requests after  seconds of idlentime and we wait for each probe response  second we send antotal of  probe requests before giving up on the ap in the casenthat we reset the connection idle monitor we should reset the probenrequests count to  right now this  help in any way butnthe next patch willnnthis patch has fixes for stable kernel  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11093,fix the exception when the locale is zhtwnns is missing $s in zhtw and will cause application to crash due tonunknownformatconversionexceptionnid
11094,port fix for setting $pwd from latest netbsdnid
11095,spi tegra use shared dma channelnnto avoid running out of dma channels use the shared dma channelnfor all four tegra spi controllersnid  colin cross
11096,net wireless  fix roaming setting on resumennnedoffby dmitry shmidt
11097,change device name of requestirqnncommit    be used in requestirqninstead the driver name  should be usednnnedoffby nobuhiro iwamatsu  wolfram sang  jean delvare  greg kroahhartman
11098,change apis using string instead of resourcetypennmove resourcetype into resourcesjar so that  accessiblento layoutlibjarnnthis is cleaner and allows us to us more efficient enummap objectsnid
11099,sdk manager restart adb after platformtools updatenid
11100,net wireless  add debug print for cscan failurennnedoffby dmitry shmidt
11101,isdngigaset basgigaset locking fixnncommit  upstreamnnunlock  before calling errorhangup which is  must not be heldnnnedoffby tilman schmidt  david s miller  greg kroahhartman
11102,improve ash shell promptnnmake it match mksh ex userhostcurdir$ and other shellndistributions such as bash on ubuntunnthe host name is essential because androidbased perhipheralndevices now exist which connect to other master androidndevices in this case  possible to adb shell into thenperipheral from the master device without a prompt to tellnwhich device  connected to  very confusingnnin order to set $hostname etcprofile must be addednbecause rc is not capable of setting an environmentnvariable with the output of a call to
11103,fix bug in linearlayout handling of last linesnnthis fixes a bug where the insertline for the last position is notnalways drawn the suggestion was there and the feedback rectanglenwould snap to it but the dashed line was not painted because the codento suppress selfdragging was interferingnid
11104,filter input in the alloc tracker panelnid
11105,drmradeonkms register an  adapter name for the dp aux busnncommit  upstreamnnthis causes the connector to not be added since  failsnfor the adapter  by ari savolainennnnedoffby alex deucher  ari savolainen  jean delvare  dave airlie  greg kroahhartman
11106,use roproductdevice for mksh $hostnamenid
11107,integrate  into  do not mergennfixing issue  swterror no more handles exception on eclipsenid
11108,viafb fix  error handlingnncommit   returns negative errno on error and number of messagesnprocessed on success just returning this value would give a poorninterface as it is not obvious that you must compare with  after  or n bytes and with  after writing  byte to determine if it wasnsuccessful to avoid this error prone interface convert the error codenof a successful readwrite to zero and all other nonnegative values tonan negative error codenthis fixes a regression introduced byntvia rationalize  detectionnwhich resulted in no longer detecting a  chip and therefore hasnbroken the output in configurations which contain this chipnnnedoffby florian tobias schandinat  jonathan corbet  joseph chan  greg kroahhartman
11109,static int dvmprocessoptionsint argc const char const argv bool ignoreunrecognized in dalvikvminitcnnwas modified to support xbootclasspatha and pnid
11110,add lte nal strength and additional network modes for ltenid
11111,sanitize invalid ratesnncommit  upstreamnni found this bug while poking around with a puregn  use more generic bitrate mask for rate controlnnadded some sanity checks to ensure that each tx rate indexnis included in the configured mask and it would change anynrate indexes if it  the current implementation  take into accountnthat the invalid rate index  has a special  no further attempts and it should not be changednnnedoffby christian lamparter  john w linville  greg kroahhartman
11112,video tegra add hdmi switchdev for hotplug notificationsnid  erik gil
11113,fix ibss station got expired immediatelynncommit  upstreamnnstation addition in  is not  which is causing station expiry in  so sta addition and deletion happens repeatedlynnnedoffby rajkumar manoharan  john w linville  greg kroahhartman
11114,armtegra dma add transfer count query checking interrupt pending statusn stopping dma after last req transfernnadd an api to return the completed transfer count of a pending activenor finished dma requestnnoriginally fixed by gary king  is observed that the dma interrupt has the lower priority thennits client interupt priority when  isr calls dma get transfernthe dma status has not been upated as dma isr have not been served yetnso before reading the status explicitly checking the interrupt status andnhandling accordinglynnthe another issue which is observed is that if dma has transferred the datanof amount  requested  and if it moves to invalid requestor before stoppingnthen status got reset and tarnsfered bytes becomes  this seems the apb dmanhw behavior following is the suggestion to overcome this issuen disable global enable bitn read statusn stop dman enable global status bitnnadded this workaround and it worked finennoriginally fixed by laxman dewangan  continous mode dma should stop after last transfer completed andnif there is no more req pendingnif there is pending req then it should check whether it has updatednin hw for next transfer or not and if it has not started then stop dmanand start new req immediatleynnoriginally fixed by laxman dewangan
11115,display error for missing required attributes in ant tasksnid
11116,isdngigaset correct basgigaset rx buffer handlingnncommit  upstreamnnin transparent data reception avoid a null pointer dereferencenin case an skbuff cannot be allocated remove an inappropriatencall to the hdlc flush routine and correct the accounting ofnreceived bytes for continued buffersnnnedoffby tilman schmidt  david s miller  greg kroahhartman
11117,armtegraserialrewrite interrupt handlernnrewrite interrupt handler to prevent race condition between dma operationn and serial isrnid  jay cheng
11118,allocation tracker content can now be sortednid
11119,isdngigaset fix basgigaset at read error handlingnncommit  upstreamnnrework the handling of usb errors in at response readsnto fix a possible infe retry loop and a memory leaknand silence a few overly verbose kernel messagesnnnedoffby tilman schmidt  david s miller  greg kroahhartman
11120,use gcc   hj lu  bruce bear
11121,consistently and properly define offtdefined and sizetdefinednid  bruce bear
11122,deemphasize absolutelayoutnnmove absolutelayout out of the layout category in the palette andninto the advanced category also add selection hints for thenabsolute which explains that absolutelayout is deprecatednid
11123,cluster of improvements for merge tag viewsnnthis changeset contains various improvements around usage of  tag some of these fixes require layoutlib  use the new layoutlib support for rendering multiple children at then root level they now show up in the outline provided you aren running layoutlib  can be selected in the layout editor etcnn add a drop handler such that you can drag into the  view andn get drop feedback similar to the framelayoutnn if the  is empty we  get any viewinfos so in that casen manufacture a dummy view sized to the screen similarly if we getn back viewinfos that are children of a  tag in the ui modeln create a  view ialized to the bounding rectangle of thesen views and reparent the views to itnn support highlighting multiple views simultaneously when you selectn an include tag that renders into multiple views because the root ofn the included layout was a  tag similarly make shown included in work properly for  views and make the overlayn mask used to hide all included content also reveal only the primaryn selected views when a view is included more than once also tweakn the visual appearance of the mask and use better icon for the viewn root in the includedroot scenarionn improve the algorithm which deals with render results with nulln keys use adjacent children that do have keys as constraints whenn attempting to match up views without keys and unreferenced modeln nodes this fixes issuen  improve the way we pick views under the mouse this used to searchn down the view hierarchy in sibling order instead search in reversen sibling order since this will match what is drawn in the layout forn views like framelayout and  views the children are paintedn on top of ech other so clicking on whatever is on top should choosen that view not some earlier sibling below itnn fix such that when you drag into the canvas we always target then root node even if it is not under the mouse this is particularlyn important with  tags but this also helps if you for examplen have a linearlayout as the root element and the layoutheightn property is wrapcontent instead of matchparent in that case then linearlayout will only cover its children so if you drag over then visual screen it looks like you should be able to drop into then layout but you cannot since it only covers its children with thisn fix all positions outside the root  actual bounds are alson considered targetting the rootnn fix broken unit test add new unit testsnid
11124,fix ash to read etcprofilenid
11125,integrate  into  do not mergennsdk manager restart adb after platformtools updatenid
11126,alsa hda add workarounds for ctibg controllersnncommit  upstreamnncreative ibg controllers require the playback streamtags to be startednfrom  instead of  otherwise the stream stallsnnreportedby wai yew chay  takashi iwai  greg kroahhartman
11127,dvmprocessoptions in dalvikvminitc was modified to support xbootclasspatha and pnid
11128,integrate  into  do not mergennfix bug in linearlayout handling of last linesnnthis fixes a bug where the insertline for the last position is notnalways drawn the suggestion was there and the feedback rectanglenwould snap to it but the dashed line was not painted because the codento suppress selfdragging was interferingnid
11129,upstream softfloat changesn
11130,alsa hda disable sticky pcm stream assignment for ad codecsnncommit  upstreamnnthe sticky pcm stream assignment introduced in  kernel seemsncausing problems on ad codecs at some time later the streaming nonlonger works by unknown reason a simple workaround is to disablenstickyassignment for these codecsnntestedby vasily khoruzhick  takashi iwai  greg kroahhartman
11131,update cookiemanagertestjavanid
11132,upstream acl changesn
11133,add  check to androidconfigurehn
11134,changes in sending the buffering statusn
11135,remove  code from oscln
11136,fix memory leak when switching input methodsnnfixes a memory leak when input methods are switched uses a variety of methodsnto avoid holding a reference to the inputmethodservice which created the bindersnwhich was leaking those inputmethodservicesnnsee  for reproduction stepsn
11137,move inlined code from header to cpp file for pvmfeventhandlingn
11138,add ctor in repositionrequeststruct to the membersn
11139,support  where decoder config info is not always available before the actual decoding startn
11140,adding support for authoring moof clips for live sessions in  composer libraryn
11141,added support for ldpreloadnnthe ldpreload environment variable allows the user to specify a list ofnlibraries which should be unconditionally loaded before any others thisnmakes possible some useful tricks such as library interposersnid
11142,amrnb decoder fails to produce valid output when the library is built using g  bit compilern
11143,fixed support for rtldnext in dlsymnnthe previous implementation of this flag was brokenit behaved identicallynto rtlddefault this adds a proper implementation which examines the addressnof the calling function and uses it to determine which library to use to beginnthe symbol search processnid
11144,fix for memory leak in  local playback at getmetadatavaluen
11145,cleanup unneeded logs in release moden
11146,added support for dladdrnndladdr is a gnu extension function which allows the caller to retrievensymbol information for a specified memory address it is useful for thingsnlike generating backtrace information at runtimenid
11147,internal build system reorganization for rtmp in pe noden
11148,net wireless bcmdhd set interface name to  by defaultnnnedoffby dmitry shmidt
11149,usb otg take wakelock when vbus presentnid  todd poynor
11150,gpu ion fix bug in ionclientcreatennif a process already had a client ionclientcreatenwould loop forevernid  rebecca schultz zavin
11151,arm msm  clean up readevent functions add error checksnn   and readmodemevent accept the size of then buffer in bytes not in numbers of  or  readmodemevent now checks the length of the buffern  and  print out a warning if the buffer is toon smallnnnedoffby iliyan malchev
11152,net wireless bcmdhd fix wdtimervalid field protectionnnnedoffby dmitry shmidt
11153,net wireless bcmdhd add setfwpath private commandnnnedoffby dmitry shmidt
11154,update to  logic to get mac address before firmware is loadednid  howard m harte  dmitry shmidt
11155,net wireless bcmdhd fix mac address settingnnif mac address setting fails from wifigetmacaddr it will be picked upnfrom nvramnnnedoffby dmitry shmidt
11156,net wireless bcmdhd add private startstop commandsnnnedoffby dmitry shmidt
11157,net wireless bcmdhd postpone driver callnnnedoffby dmitry shmidt
11158,net wireless bcmdhd fix pmnotifier unregistrationnnnedoffby dmitry shmidt
11159,add  track support in  parsernnnedoffby guoyinchen
11160,allow post with auth issue  previously no request with a body could be resubmitted even if the response was  or
11161,arm sapphire set rfkill hardware block to falsennwe do not have a hardware block for the bluetooth chip on sapphire this was anmistake made switching from the  to  rfkill apinid  nick pelli
11162,audio call  instead of bugnnthis hooks into the dsp crash notification dumping mechanismnnnedoffby brian swetland
11163,arm msm  change idle locks to wakelocksnnneed to keep system awake until dsp is finished and clocks are offnotherwise we suspend in a high power statennnedoffby mike chan
11164,version updates for sdkinfo header files and playerdriver documentation updatesn
11165,arm mahimahi set rfkill hardware block to falsennwe do not have a hardware block for the bluetooth chip on mahimahi this was anmistake made switching from the  to  rfkill apinid  nick pelli
11166,arm msm  audioin pass largeenough buffers to the event callbacksnnnedoffby iliyan malchev
11167,move skerrorreport inside bhlocksock in  skerrorreport is called it wakes up the userspace thread which thenncalls tcpclose when the tcpclose is interrupted by the  thread running tcpdone it leaks  bytes and triggers a warnonnnthis patch moves the call to skerrorreport inside the bhlocksock whichnmatches the locking used in  colin cross
11168,disable bottom halves around call to tcpdonennnedoffby robert love  colin cross
11169,debugging ramdump driver for  a mechanism for userspace to get notification of dsp crashesnand to extract the  ram image before allowing the crash to completennnedoffby brian swetland
11170,arm mahimahi set rfkill hardware block to falsennwe do not have a hardware block for the bluetooth chip on mahimahi this was anmistake made switching from the  to  rfkill apinid  nick pelli
11171,freebsd support for usbconnected devices in adbnnfreebsd and other systems as well may use libusb to work with usb devicesnlibusb is integrated in freebsd base system in recent builds  in other systems it may need include libusbh like  install library from devellibusb port or other repositorynnsubmitted change not supports events attachdetach as libusb  lacksnsuch functionality and in order to make code more portable  not usednworkarounds as in earlier changesetnncode was tested on freebsd  htc hero  android
11172,arm trout set rfkill hardware block to falsennwe do not have a hardware block for the bluetooth chip on trout this was anmistake made switching from the  to  rfkill apinid  nick pelli
11173,make getmypath safernnadds maxlen parameter to getmypathnsome small cosmetic fixesn
11174,improve the linux usb descriptor parsing a bit so unknown andnlarge descriptors are handled more gracefully in particularnthis makes adb find the device if cdc descriptors appear beforenthe adb interfacen
11175,arm trout set rfkill hardware block to falsennwe do not have a hardware block for the bluetooth chip on trout this was anmistake made switching from the  to  rfkill apinid  nick pelli
11176,arm sapphire set rfkill hardware block to falsennwe do not have a hardware block for the bluetooth chip on sapphire this was anmistake made switching from the  to  rfkill apinid  nick pelli
11177,make multipart message follow  ts    section  nall the parts should have the same encodingn
11178,implement handleextensionapicommands for omxdecnoden
11179,adding support for configuring the number of output buffers as a part of dynamic port reconfiguration in omx test appn
11180,gpslocationprovider store new location before ongpsstatuschanged is sentnnin reportlocation the new location is now stored before the callbacknongpsstatuschangedgpseventfirstfix is sent this will prevent usersnfrom getting a faulty location from locationmanagergetlastknownlocationnafter receiving ongpsstatuschangedgpseventfirstfixnid
11181,pvplayer crashes when trying to do progressive streaming of an  clipn
11182,add player engine test to perform repositioning in downloaded area during pdl minor additional chang
11183,thumbnail extraction when no sample present in stss atomn
11184,asf ppb repositioning fix in pvmf protocol engine noden
11185,corrected repeat count for key repeat in input devicennpreviously the key event repeat count was always zero when the repeatednkey down events was generated by the input device in the linux kernelnid
11186,cpm domain type updates regenerated pvconfigh due to rule changesn
11187,corrected repeat count for key repeat in input devicennpreviously the key event repeat count was always zero when the repeatednkey down events was generated by the input device in the linux kernelnid
11188,add player engine test to perform repositioning in downloaded area during pdln
11189,update incorrect log statement in pvrtspclientenginenodecppn
11190,arm msmdefconfig set configdebugbugverbosennnedoffby iliyan malchev
11191,refactor rtsp client engine node for cleaner interfacing with streaming manager node minor additional chang
11192,under compileflag copysharedheapncopy the  heap the big shared zygote heap when the next heap is creatednadd a debuggercallable routine to dump the difference between the copynof the heap and the live heapn
11193,fix race between cache flush and kmap tlb shootdownnnfor highmem pages flushdcachepage must pin the kmap mapping inplacenusing kmaphighget to ensure that the cache maintenance does not racenwith another context calling kunmaphigh on the same page and causing thenpte to be zappednnnedoffby gary king  to  arve hjønnevåg
11194,revert bluetooth fix removing of rfcomm dlc timer with defersetupnnthis reverts commit  nick pelli
11195,add support for soft properties in multiapk exportnnfirst property is split by densitynid
11196,arm tegra nand rename clock to match   colin cross
11197,in response to code reviewnncorejavaandroidwidgetdigitalclockjava removed the previous change the getcurrenttime is unnecessaryncorejavaandroidwidgetanalogclockjava removed the previous change the getcurrenttime is unnecessaryncorejavaandroidwidgetcheckedtextviewjava fixed indentionncorejavaandroidwidgetcompoundbuttonjava fixed indentionnnregarding the other coderevew suggestions we would like to clarify our needs we use  normalncommands list and dump in particular we recognize that its properties may change from release to releasenwe accept that the viewdebug interface was not designed to support automated testing nevertheless viewdebugnhas let us provide useful testing for many different apps on several different platforms thusfar changes innviewdebug have been much less effort for us than changes have app changes such as the extensive changes to thencontacts app viewdebug lets us do standaside system testing that has already found important integrationtimenbugs for our partnersnnthank you for your considerationn
11198,revert bluetooth change rfcomm to use  for btdefersetupnnthis reverts commit  nick pelli
11199,vmalloc remove bugon due to racy counting of vmlazyfreennin freeunmapareanoflush  is marked as vmlazyfree first andnthen vmaplazynr is increased atomicallynnbut in purgevmaparealazy while traversing of vmaparelist nrnis counted by checking vmlazyfree is set to  after countingnthe variable nr kernel reads vmaplazynr atomically and checks anbugon condition whether nr is greater than vmaplazynr to preventnvmaplazynr from being negativennthe problem is that if interrupted right after marking vmlazyfreenincrement of vmaplazynr can be delayed consequently bugonncondition can be met because nr is counted more than vmaplazynrnnit is highly probable when vmallocvfree are called frequently thisnscenario have been verified by adding delay between marking vmlazyfreenand increasing vmaplazynr in freeunmapareanoflushnneven the vmaplazynr is for checking high watermark it never be thenstrict watermark although the bugon condition is to preventnvmaplazynr from being negative vmaplazynr is signed variable sonit could go down to negative value temporarilynnconsequently removing the bugon condition is propernna possible bugon message is like the belownn kernel bug at  invalid opcode   smpn eip  eflags  cpu  eip is at  eax  ebx  ecx  edx  esi  edi  ebp  esp  ds  es  fs  gs  ss  call tracen         code    eb     cb     fe ff ff     da            fe        ff ff ff   eb fe             ac     eip   ssesp  see also  nnnedoffby yongseok koh  minchan kim  nick piggin  andrew morton  linus torvald
11200,arm tegra add the rest of the peripheral clocksnid  colin cross
11201,arm tegra harmony rename clocks to match   colin cross
11202,changed priority of sensormanager threadnnt changesntchanged priority of sensormanager thread to be threadpriorityurgentdisplay so that samples from the sensors will arrive more regularly even under higher loadn
11203,adt  script for absolutelayout for new canvas drag apinnmost of the changes concern the supporting api inode and conto be able to recreate and mofiy the xml elementsnid
11204,arm tegra fix debugllnid  colin cross
11205,fix build for platforms where deprecated symbol eainodata is not definedn
11206,the androidmk file in libcore was writing a testnfile outside of the android build directory and wasnnot getting cleaned up after the buildn
11207,debugging ramdump driver for  a mechanism for userspace to get notification of dsp crashesnand to extract the  ram image before allowing the crash to completennnedoffby brian swetland
11208,audio call  instead of bugnnthis hooks into the dsp crash notification dumping mechanismnnnedoffby brian swetland
11209,staging android logger add separate log buffer for system messagesnnto facilitate separate third party application logging from the system lognnnedoffby mike lockwood
11210,issue  show confirmation dialog before clearing call lognnnedoffby david sobreira marqu
11211,power  change workqueue to freezablennprevent  errors when making transactions while bridge is suspendednwait until drivers have resumed before executing workqueuenid  mike chan
11212,under compiletime flag copysharedheap add functionncopycontiguousmspacedata this call will make a copy of the  datannsome refactoring to support thisn
11213,vmalloc remove bugon due to racy counting of vmlazyfreennin freeunmapareanoflush  is marked as vmlazyfree first andnthen vmaplazynr is increased atomicallynnbut in purgevmaparealazy while traversing of vmaparelist nrnis counted by checking vmlazyfree is set to  after countingnthe variable nr kernel reads vmaplazynr atomically and checks anbugon condition whether nr is greater than vmaplazynr to preventnvmaplazynr from being negativennthe problem is that if interrupted right after marking vmlazyfreenincrement of vmaplazynr can be delayed consequently bugonncondition can be met because nr is counted more than vmaplazynrnnit is highly probable when vmallocvfree are called frequently thisnscenario have been verified by adding delay between marking vmlazyfreenand increasing vmaplazynr in freeunmapareanoflushnneven the vmaplazynr is for checking high watermark it never be thenstrict watermark although the bugon condition is to preventnvmaplazynr from being negative vmaplazynr is signed variable sonit could go down to negative value temporarilynnconsequently removing the bugon condition is propernna possible bugon message is like the belownn kernel bug at  invalid opcode   smpn eip  eflags  cpu  eip is at  eax  ebx  ecx  edx  esi  edi  ebp  esp  ds  es  fs  gs  ss  call tracen         code    eb     cb     fe ff ff     da            fe        ff ff ff   eb fe             ac     eip   ssesp  see also  nnnedoffby yongseok koh  minchan kim  nick piggin  andrew morton  linus torvalds  iliyan malchev
11214,power  change workqueue to freezablennprevent  errors when making transactions while bridge is suspendednwait until drivers have resumed before executing workqueuennnedoffby mike chan  iliyan malchev
11215,vmalloc remove bugon due to racy counting of vmlazyfreennin freeunmapareanoflush  is marked as vmlazyfree first andnthen vmaplazynr is increased atomicallynnbut in purgevmaparealazy while traversing of vmaparelist nrnis counted by checking vmlazyfree is set to  after countingnthe variable nr kernel reads vmaplazynr atomically and checks anbugon condition whether nr is greater than vmaplazynr to preventnvmaplazynr from being negativennthe problem is that if interrupted right after marking vmlazyfreenincrement of vmaplazynr can be delayed consequently bugonncondition can be met because nr is counted more than vmaplazynrnnit is highly probable when vmallocvfree are called frequently thisnscenario have been verified by adding delay between marking vmlazyfreenand increasing vmaplazynr in freeunmapareanoflushnneven the vmaplazynr is for checking high watermark it never be thenstrict watermark although the bugon condition is to preventnvmaplazynr from being negative vmaplazynr is signed variable sonit could go down to negative value temporarilynnconsequently removing the bugon condition is propernna possible bugon message is like the belownn kernel bug at  invalid opcode   smpn eip  eflags  cpu  eip is at  eax  ebx  ecx  edx  esi  edi  ebp  esp  ds  es  fs  gs  ss  call tracen         code    eb     cb     fe ff ff     da            fe        ff ff ff   eb fe             ac     eip   ssesp  see also  nnnedoffby yongseok koh  minchan kim  nick piggin  andrew morton  linus torvald
11216,fix race between cache flush and kmap tlb shootdownnnfor highmem pages flushdcachepage must pin the kmap mapping inplacenusing kmaphighget to ensure that the cache maintenance does not racenwith another context calling kunmaphigh on the same page and causing thenpte to be zappednnnedoffby gary king  to  arve hjønnevåg  iliyan malchev
11217,dvmprocessoptions in dalvikvminitc was modified to support xbootclasspatha and pnid
11218,arm tegra clock drop debuggingnid  colin cross
11219,net wireless  enable packet filtering during low power modennnedoffby dmitry shmidt
11220,supporting xbootclasspath a and pnnpatch set
11221,arm tegra clock  bug on changing an enabled pllnid  colin cross
11222,arm tegra common enable clocks that should always be onnid  colin cross
11223,arm tegra clock add new dvfsnnnew and improved dvfsnregistered dynamically during nexports dvfs functions to control clocks that are not visible ton the clock subsystemnsupports multiple regulators per clocknimprove cansleep checking allow relaxed cansleep requirementsnfix dvfs on disabled clocksnadds dclockdvfs to show current voltage requirementsnid  colin cross
11224,arm tegra dvfs convert cpu to new dvfs add core dvfs tablesnid  colin cross
11225,arm tegra clock drop old cpu dvfsnid  colin cross
11226,replaced raw string arguments for contextgetsystemservice with final context variablesnid
11227,should accept applicationvndwapmultipartalternative messagenid
11228,replaced raw string arguments for contextgetsystemservice with final context variablesnid
11229,replaced raw string arguments for contextgetsystemservice with final context variablesnid
11230,defect  number before callnnmerge commit  into eclairplusaospnn commit   snapshotn fix
11231,should accept applicationvndwapmultipartalternative messagennunfortunately pduparser does not allow applicationvndwapmultipartalternative as mretrieveconf but some mobile carrier send message with this typenthis patch allows that and take the first part of multipart as message bodynnit fix
11232,change in media scanner to set correct datennwhen the media scanner scanned a single file the modifiedndate datemodified was not correctly set in the contentnprovider it was set as milliseconds but should have beennset as seconds this caused downloaded media items to displaynwrongly in the camera album since the date was wrongnid
11233,added two new dalvik documentsnnone explains the use of hprof the other shows how to use the vm fromnthe command line these are partially based on some of my responsesnto questions on external mailing listsn
11234,arm configs update msmdefconfig to enable ipsec related optionsnnnedoffby chungyih wang
11235,adhoc support for wifi connectionsnnapscan mode will not be automatically set to  anymore apscan mode will be set based on the availability of adhoc signals in wpasupplicantconfnnadhoc signals will now be watched for in wifiservicejava similar to the way hidden networks are watchednnwificonfigurationjava will now be able to set frequency and adhoc mode for a given configurationn
11236,adding image files for the arrow buttonnid
11237,percolate the reason for a gc up far enough to print out in logging messagesn
11238,issue  log reporting wrongnid
11239,add of javadoc comments on undocumented methodsnuse of a constant defined in sensormanager for computing decelerationn
11240,edit arrow in wrong direction in edit contactivitynnmerge commit  into eclairplusaospnn commit   snapshotn fix
11241,the browser crashes if there are null titlesnnadded support for handling of bookmarks withna title equal to null as these kind of bookmarksnshould be able to be added according to cts testcasesninside androidproviderctsbrowsertestnnsimilar problems has also been found in the wildnthrough third party applicationsnid
11242,use the new download manager apis introduced in chang
11243,fix zhcn translate for yes no ok canceln
11244,support xbootclasspatha and p for dvmprocessoptions in dalvikvminitcnid
11245,pass  useragent when downloading via context menunncurrently null is passed as useragent to the download provider whenndownloading via browser context menu causes the downloadnprovider to fallback to the default download provider useragentnthis commit simply passes the  useragent insteadnnthis applies to the usecase when choosing save imagelinknvia the context menu long pressnid
11246,fix segfault when saving vm statenid
11247,make playlistbrowseractivity handle missing playlist extrasnnsome applications on market dont properly set up the playlistnextras for actionview this is a problem that was observednin the wildnnadding a test for missing extras to avoid crashing musicnid
11248,prevent unhandled exception in ninepatchdrawablennadded null check in computebitmapsize to avoid unhandlednexception javalangnullpointerexception  problem was discovered in the wildnid
11249,driversmisctist protect against bad packetsnnwe encounter situations where we got bad packet type from thenuart probably due to platform problem or uart driver issuesnwhich caused us out of boundary array accessnwhich eventually led to kernel panicnid  amir ayun  pavan savoy
11250,removal of non functional star in context menu of historyitemnnin contrary to the contextmenus created by longpressing an elementnunder the bookmarks tab or the most visited tab in the browsernthe context menu created from an element under the history tabnhas a star present in the header removed this star to get a morenunified look and feel this star also crashed the browser when itnwas pressednid
11251,drivers misc tist added bt enabledisable hooknnadded functionality to call uart get syncput syncnthrough pltform board file for run time pm adaptationnid    pavan savoy
11252,cached shared preferences is returned if preference file been deletednnit is possible to delete preference file by clear data under managenapplications in settings if getsharedpreferences is called afternpreference file has been deleted cached preference data is returnedncached preference data should be cleared if preference file has beenndeletednid
11253,add chinese calendar supportnid
11254,need enough time  sec to read amounts of packet from procstatuiduidtcpsndnid
11255,driversmisctist reduce ldisc  cmd resp toutnnpreviously increased timeout value of  seconds coupled with  retries for each failure affected the bt  gps registrationsnbecause bt and gps wait for about only  seconds before they give up theirnregistrations they show up to ui that turnon fail although the chip couldnbe eventually communicated with after about  secondsnnso by reducing timeout if st  communicate with chip within   retries let the ui retrynnote the failure are when wlan is turned onnid  pavan savoy
11256,replaced raw string arguments for contextgetsystemservice with finalncontext variablesnid
11257,driversmisctist send wakeupack also in awake statennin case a wakeupack packet the host send to the bt device is lostnthe bt device will send another wakeupindicationnsince the host was already in awake state it did not answer the wakeupindicationnit is safe to send wakeupack every time we get the wakeupindicationneven if we are already in awake state or in transition state from sleepnto awakenid  amir ayun  pavan savoy
11258,adding vertical scrolling functionality to gallery widgetnncurrently gallery widget scrolls only horizontally there are instances wherenvertical scrolling with same functionality is needed especially in landscapenmode gallery widget provides specific features such as snap the view to itsncenter and dim views other than the center listview  be suitable in this casennxml  added orientation attribute for gallery widgetnnpublic  setorientationint orientation sets the  getorientation returns the current orientationnnpublic  horizontal   vertical   vertical functionality  corejavaandroidwidgetgalleryjava vertical  coreresresvaluesattrsxml orientation  coreresresvaluesstylesxml orientation attributenntest casesnnadded test case to check if orientation attribute works correctly andnto check scrollingnnto execute all the framework  eclairrootdevelopmenttestrunnerruntestpy frameworknnto execute just gallery horizontal test  shell am instrument ne class  nw comandroidframeworktesttestsandroidtestinstrumentationtestrunnernnto execute just gallery vertical test  shell am instrument ne class  nw comandroidframeworktesttestsandroidtestinstrumentationtestrunnernntest case          testsframeworktestandroidmanifestxmlnnapi  apicurrentxmlnid
11259,panda add st and btwilink flagsnnturn on the ti shared transport and bluetoothnwilink driversnid  dan murphi
11260,arm  panda add bluetooth informationnnadd the information to the panda board file to enablenthe bluetooth modulenid  dan murphi
11261,driversmisc tist flush uart upon fw failurennupon failure to read firmware version from chip or upon failure in responsesnto firmware download the uart needs to be flushed of its existing buffers sonthat the uim can restart uart properlynid  pavan savoy
11262,driversmisc tist protect registrationsnnconcurrent access to  by multiple protocol drivers suchnas bt fm and gps caused issues during firmware download failure cases orncases when the firmware download took longer than usualnnthis was because of unsafe access to protosregistered  ststatesnprotecting this will also make the registration complete callback unsafe fornsleepnid  pavan savoy
11263,driversmisc tist debug uart baud rate modsnnto debug different uarts at different baudrates connected to the wilinknconnectivity combochipset this patch enables the debugging code so that uponnboot different uarts at different baudrates can be tried out to verify theninterface with wilinknid  pavan savoy
11264,replaced raw string arguments for contextgetsystemservice with finalncontext variablesnid
11265,driversmisctistremove redundant enabledisablennplatform specific chip enabledisable function need to be called only oncenduring the chip ialization routinenthis is to enable any platform specific ialization to be done for a givennplatformnid  pavan savoy
11266,some more work on partitioning supportnnnedoffby san mehat
11267,remove old extractfiles scriptsn
11268,arm goldfish qemutrace add mmap supportnnthis makes a page of data available for writing from userspace to allownthe dalvik interpreter to send method trace information to the emulatornnnedoffby jack veenstra
11269,net wireless bcmdhd add private startstop commandsnnnedoffby dmitry shmidt
11270,net wireless bcmdhd postpone driver callnnnedoffby dmitry shmidt
11271,net wireless bcmdhd fix pmnotifier unregistrationnnnedoffby dmitry shmidt
11272,fix  default toolchain configurationnid  mark d horn
11273,pm debug fixup section mismatch warningsnid  todd poynor
11274,netfilter qtaguid fix badarg handling when tagging socketnnwhen processing args passed to the procfs ctrl if the tag wasninvalid it would exit without releasing the spinlocknbye bye schedulingnnnedoffby jp abgral
11275,netfilter adding the original  from xtablesaddonsnnthe original xtquota in the kernel is plain brokenn counts quota at a per cpu leveln was written back when ubiquitous smp was just a dreamn provides no way to count across  patch is the original unaltered code fromn httpsourceforgenetprojectsxtablesaddonsnn at commit   jp abgral
11276,netfitler fixup the  and enablennthe  came fromn httpsourceforgenetprojectsxtablesaddonsdevelopnnit needed tweaking for it to compile within the kernel treenfixed kmalloc and createprocentry invocations withinn a noninterruptible contextnremoved useless copying of current quota back to the  matchinfon those are per cpu they will change randomly based on whichn cpu gets to update the valuen they prevent matching a rule egn a chain m  name  quota   be followed byn d chain m  name  quota  as the  will be compared to the struct  quota membernid  jp abgral
11277,use two file descriptors for multicast qemu connectorsnnseveral instances of qemu can be connected using a multicast socketnany communication that goes out through that virtual interface isnbroadcast to a selected multicast addressnni have discovered that these multicast sockets no longer work on  this happens because sending packets from a socket bound to anmulticast address results in  assign request address errorsnnthis patch creates a separate socket that is not bound to the multicastnaddress so other instances of qemu receive this communicationnna test case is available at  will print send  assign requested address on osx  butnnot on  or other osesnid  dries harni
11278,libc add logcat error message for memory corruptionnnour dlmalloc implementation currently calls abort when it detectsnthat the heap is corrupted or that an invalid pointer is passed tonone of its functionsnnthe only way to detect this is because abort will forcefullyncrash the current program with a magic fault address of  this is not really well documented and a frequent topicnon the androidndk forum among othersnnthis change makes our dlmalloc code dump a simple message to thenlog just before the abort call and hence before the stack tracento better help identify the problemnid
11279,add bccmd tool to makefile conditional on board bluetooth typenni think bcsp support needs to be added to hciattach toon
11280,this fix is present on  but not herennse
11281,merge from donutn
11282,arm  add wifi irq and power mux defionsnnnedoffby dmitry shmidt
11283,arm msm mmc keep same irq  through suspendresumennnedoffby dmitry shmidt
11284,allow user to raise oom adj of home appnnthis selects the oom adj as either homeappadj or visibleappadj basednon the value of a system property this is useful for keeping the homenapp from constantly reloading at the expense of additional memorynpressuren
11285,allow user to raise oom adj of home appnnthis adds an option to the spare parts app to control the behaviorn
11286,update to  includes the egyptian and russian dst changesnncherry pick of
11287,pmic fix bad warn and compile warningsnid  todd poynor
11288,omap change prinfo to prdebug statementsnd omap governor logging from prinfo to prdebugnin debug locationsnid  dan murphi
11289,fixes for asynchronous sources uinn properly refresh display list when installingdeletingn a packagen gray installdelete buttons during an installdeleten to avoid nesting operationsnid
11290,inherit tech sidebar topic headingsnnmodified the build script and sidebar template so that the sidebarncan be constructed from two parts sidebarmd provides the firstnpart and  provides the second level partnnnow the tech topics  need to duplicate the main topic list inntheir own sidebarsnnalso added mac installation instructions to the readmenid
11291,net wireless bcmdhd set interface name to  by defaultnnnedoffby dmitry shmidt
11292,gpu ion several fixesnnfix some cases where locks were not released on error paths  to  to make meaning clearernfix kernel doc to match sourcesn
11293,gpu ion add omap support to ionnnnedoffby rebecca schultz zavin
11294,changes in logging for androidn
11295,arm goldfish disable hotplug helper in defconfignnnedoffby jack veenstra
11296,arm msm clock hold spinlock while setting the clock ratennif two drivers change their rate request for a shared clock at the same timenthe driver that completed clkfindminrate first could make the proc commncall last move the spinlock from clkfindminrate to clksetrate to fixnthisnid  arve hjønnevåg
11297,driver  is backported from  treen
11298,new config parameter for provisioningnnthis introduces a new runtime configuration parameter that specifies whethernthe device requires provisioning so that applications can adapt their behaviornbased on that without having to know how that parameter is specifiednnthe current implementation is a simply wrapper around systemproperties fornsimplification but  literally an implementation detail and can be changednto any other scheme in the futuren
11299,api additions in oscl socketsn
11300,merge branch  into
11301,switch to newstyle way of finding whether the device requires provisioningnnthis avoids using the private systemsettings classn
11302,pmem add include schedh to fix compile errorsnnnedoffby rebecca schultz zavin
11303,arm  mahimahi update the mpll clock value on cdma  mhznnnedoffby iliyan malchev
11304,net fix compilation of the  modulennfix compilation of the  module  does not exist anymorencurrenteuid is what needs to be usednnnedoffby steinar h gunderson
11305,yaffs fix yaffsfilewrite to not return enospc when there is nothing to writennyaffswriteend may get called with copied   if the requested write wasninterrupted by a signal but userspace will not restart the write if enospcnis returnednnnedoffby arve hjønnevåg
11306,fix route add default dev  behaviournnprevious behaviour was to set  network mask as  a destination network with netmask  blocks the connectionsnjust to the specified host  defines the exact   and not the whole  hosts rangenthis patch allows traffic to any network setting a  routenid
11307,arm  add the ability to override the mpll frequencynnnedoffby iliyan malchev
11308,added new keycodes for the convenience of japanese imen
11309,fix build on some linux machinesnnthis adds lpthread on linux for aapt and localize which appear to benneeded on some linux distrosnnnedoffby jeanbaptiste queru
11310,revert vm temporarily disable the optimization where getscanratio skips anonnnthis reverts commit  hopefully no longer needednnnedoffby san mehat
11311,arm  mahimahi update the mpll clock value on cdma  mhznnnedoffby iliyan malchev
11312,arm msm  fix for lowlight vfe camif errors cleanupnnreplaced all mdelays over  with msleepsnnnedoffby iliyan malchev
11313,revert vm temporarily disable the optimization where getscanratio skips anonnnthis reverts commit  should no longer be requiredn
11314,add branch to  for superh architecturen
11315,ashmem  install fault handler for private mmapsnnashmem is used to create named private heaps if this heap is backednby a tmpfs file it will allocate two pages for every page touchednin  the extra page would later be freed but  does notnscan anonymous pages when running without swap so the memory is notnfreed while the file is referenced this change changes the behaviornof private ashmem mmaps to match devzero instead tmpfsnnnedoffby arve hjønnevåg
11316,add libpixelflinger assembler code for superh architecturenid
11317,busses msm only acquire wakelock if xfer active in suspendnnnow  transfers do not abort suspend as it did previouslynid  mike chan
11318,ashmem add common prefix to name reported in procpidmapsnnnedoffby arve hjønnevåg
11319,net wireless bcmdhd fix mac address settingnnif mac address setting fails from wifigetmacaddr it will be picked upnfrom nvramnnnedoffby dmitry shmidt
11320,fix policyserializationtestnnthat boolean should not be truenid
11321,initial dvfs implementation for sgx drivernnthis is ial dvfs implementation for sgx driver it supportsnscaling between overdrive and low power modes in case overdrivenmode is not supported normal operating frequency is usednid  hemant hariyani
11322,revert pm wait for completion of the parent resume before resumingnnthis reverts commit
11323,revert pm prevent waiting forever on asynchronous resume after abortnnthis reverts commit
11324,update to  logic to get mac address before firmware is loadednid  howard m hart
11325,revert bluetooth fix rejected connection not disconnecting acl linknnthis reverts commit   nick pelli
11326,arm msm mahimahi add touchscreen parameters for firmware version  change the xaxis parameters slightly for the old touchscreennid  arve hjønnevåg
11327,skeleton to support an euspecific configurationn
11328,deal with eu filesnnalso use the official distribution archive when possiblen
11329,revert bluetooth fix rejected connection not disconnecting acl linknnthis reverts commit   nick pelli
11330,adding mimetypes to the mimetype map used in the web viewnnsometimes a web server reports a faulty mime type usually when the mimetype for thisntype of content is not configured on the server in this case the server might reportntextplain as the mime typennwhen this ocurrs the phone opens this content as plain text inline in the browser insteadnof asking system if this is supported by any applicationnnthis is the case for the following mime typesnnxmf which mimetype is audiomidinmxmf which mimetype is audiomobilexmfnamr which mimetype is audioamrnnby adding these mimetypes to the lookup table in the browser it is possible to guess thenreal mime type based on the file extension and asks the system for support for thenmimtype in the table fixing the problemnid
11331,usb gadget uether remove warning from getherdisconnectnngetherdisconnect is always called before getherconnect by the differentnusb ethernet functions so this warning was firing during normal operationnid  mike lockwood
11332,revert arm msm htc enable configusbandroidrndis in defconfignnthis reverts commit  iliyan malchev
11333,arm msm swordfish add the usb phycore reset functionsnid  dima zavin
11334,net wireless  fix wliwgetrssi functionnnnedoffby dmitry shmidt
11335,net wireless  fix wliwgetrssi functionnnnedoffby dmitry shmidt
11336,merge from donutn
11337,posixtimers sched fix posix clock monotonicitynnimpact regression fix against clockgettime backwarding bugnnthis patch reintroduces a couple of functions taskschedruntimenand threadgroupschedruntime which was once removed at thentime of  functions protect the sampling of threadprocess clock withnrq lock this rq lock is required not to update  duringnthe samplingnnien the clockgettime may returnn accounted runtime before update delta after updaten that is less than what it should    rename static helper function taskdeltaexecnt to dotaskdeltaexec since tip tree already hasnt a taskdeltaexec of different    revises comments of function and patch descriptionnt add note about accuracy of thread  runtimennnedoffby hidetoshi seto  peter zijlstra    ingo molnar
11338,arm msm mahimahi add touchscreen parameters for firmware version  change the xaxis parameters slightly for the old touchscreennnnedoffby arve hjønnevåg  iliyan malchev
11339,arm msm clock add debugfs file with detailed information about all clocksnid  arve hjønnevåg
11340,arm tegra convert gpio irq handler to use foreachbitnnmakes code more efficient and readablennnedoffby erik gil
11341,arm msm clock use hlist instead of listnid  arve hjønnevåg
11342,add more comprehensive unit tests for webp imagennadded test for endtoend webp encoding and decoding by encoding a pngnimage to webp and decode webp image back to bitmap and compare againstnthe png bitmapnnote for integrator the file  is alreadynpresent in the internal androidgit repo but not present in aosp asnaosp is somehow not in sync with internal androidgit repo  project i had to add this file to make this testncomplete wrt  dependenciesnid
11343,runas make read buffer size configurablennthe runas application reads a list of installed packages on thensystem from file datasystempackageslist the buffer should benlarge enough to hold the entire file this makes the buffer sizenoptionally configurable from the device configuration defaultnvalue is  bytesnid  oskar andero
11344,net add ppp on  access concentrator pppolac drivernnnedoffby chiachi yeh
11345,enable fifo usage for  the fifo depth is set to zero for  which disablesnthe fifo usage this patch enables the fifo usage for  transactionsnon  alsonid  nishanth menon  shubhrajyoti d
11346,omap dsscomp fix apply command to wait for vsyncnndsscomp apply method is corrected to make sure that the requested compositionnstructure is applied before returning from the methodnnnedoffby sunita nadampalli  iliyan malchev
11347,gpu ion add ion memory managernnnedoffby rebecca schultz zavin
11348,omap  dsi support nondcs long readnid  arve hjønnevåg
11349,build software agl library with correct gettls macro for  based platformsnnthis prevents crashes on snapdragon processorsn
11350,arm msm mark  sharednid  arve hjønnevåg
11351,fixing a monkey crash in the browsersettingsnnmonkey crash sometimes the function getcurrenttopwebviewncan return null causing a crash in clearformdatanid
11352,arm msm clock add shared clock typennif clkflagshared is set then clkget will allocate a handle whennclksetrate is called on this handle the requested rate is saved innthe handle and the rate is set to the maximum requestnid  arve hjønnevåg
11353,busses msm only acquire wakelock if xfer active in suspendnnnow  transfers do not abort suspend as it did previouslynnnedoffby mike chan  iliyan malchev
11354,noopn
11355,revert arm msm mahimahi enable configusbandroidrndis in defconfignnthis reverts commit  iliyan malchev
11356,fix nullpointer exception in function getbrokenavdsn
11357,better way to find whether the device requires provisioningnnthis has the advantage of not relying on nonpublic apisn
11358,fix kernel oops in  drivernnthe patch fixes some issues in  driver includingna kernel oops in  tested ok on eee  from
11359,an api to retrieve configuration parametersnnthose parameters are typically constant during the life of the phonenbut  expected to be known at compile time also some of thosenparameters could be vendorspecific and not have explicit names in thenframeworkn
11360,the comment lack of symbol and parameter data type this will cause compilation failedn
11361,uses some constants for default values for minsdkversion and glesversionnid
11362,arm msm mahimahi bump the reserved gpu memory from  to  is necessary in order to support more than a handful of contextsndue to new percontext page table supportnid  dima zavin
11363,fix incorrect calculation of start and end indices of changed textnn the problem is taht the calculation of indices does not take then difference in original and modified text lengths into accountn if reportextractedtext is called from the ondraw functionn minputmethodstate is not resetnnthe error can occur when the user is editing formatted text using a full screen editornone example of formatted text is phone numbers eg dashes are added to north americannnumbers by the phonenumberformattingtextwatcher classnif the two first digits are removed from the number  the new number becomes  is due incorrect calculation of start and end indices of the changed text the error is innthe textview class and the problem is that the calculation does not take the difference in originalnand modified text lengths into accountnid
11364,implement mechanics for supportsscreens in the multiapk exportnn detect overlap  is small large  is normaln detect nonstrictly different supportsscreensn compareto orders based on support for higher sizenid
11365,adt  drag from canvasnnthe groovy scripts need to be changed and will benpart of the next cl only the base view one has beennadapted herenid
11366,msm sapphire add sharp panel noveteck  driver ic settingnnnedoffby san mehat
11367,better way to find whether the device requires provisioningnnthis has the advantage of not relying on nonpublic apisn
11368,fix test symlinks script for windowsnid
11369,arm msm kgsl switch to using perfd page tables for gpunninstead of sharing a single global page table each gpu user and fd  own set of page tables this increases the percontext overhead in thendriver but greatly improves security and isolationnid  shubhraprakash das  dima zavin
11370,rpmsg resmgr request release constraintsnnadd the ability to request and release constraintsnon the devices each remoteproc has requestednnfrequency constraintsoppn ivannlatency constraintsn ivan issn fdifnnbw constraintsn ivaton  busn isston  busn fdifton  busnid  miguel vadillo  fernando guzman lugo
11371,print reset reasons at bootnnexample dmesg output after reboot commandn last reset was warm software reset  after watchdog biten last reset was mpu watchdog timer reset  after power off or battery pulln last reset was cold reset   todd poynor
11372,fix of compatibility with multifunction extusb adaptersntested with htc yc
11373,hwconfigdefsh remove from source tree autogeneratennthis patch modifies the  build system to place thenautogenerated file androidavdhwconfigdefsh into the buildndirectory before that the file was placed in the source treenn fix the standalone build system to properly deal withn generated source file dependencies localcincludesnid
11374,add test on the intent to start cameranid
11375,omap rpres adding constraints apinnadding pm constraints to rpres drivern scaledev request a change in the opp of then device or the domain the device is part ofn setlat request a latency constraint on then device or the domain the device is part ofn setbw set the minimum bus troughput for thisn devicenid  miguel vadillo  fernando guzman lugo
11376,block removed unused variable from partuevent functionnntis patch removes an unused variable which was causing thenfollowing compilation warningnnfspartitionscheckc warning unused variable  leed aguilar
11377,misc uidstat api cleanup renamennmake api calls more consistent with uidstatnid  mike chan
11378,block correct pointer type in partuevent callnnpreviously a new pointer type was being declared in the parameternlist of partuevent which was passed later to addueventvarnwhich expects a kobjueventenv pointer type as its first parameternnthis patch fixes the above condition by setting the correct pointerntype in partuevent functionnnnedoffby leed aguilar
11379,net uidstats correct network tracking to not track binder trafficnid  mike chan
11380,fix unialized variable loopnnthe following command will usually just failnn systembinmount t proc proc procn ioctl loopsetfd failed bad file numbernnthe simple patch fixes the issuen
11381,arm msm mdp properly specify byte order for ycbcr vs ycrcb formatsnid  dima zavin
11382,misc uidstat ifdef cleanup for uidstatnnget rid of ugly   mike chan
11383,read from the proper zipn
11384,block correct pointer type in partuevent callnnpreviously a new pointer type was being declared in the parameternlist of partuevent which was passed later to addueventvarnwhich expects a kobjueventenv pointer type as its first parameternnthis patch fixes the above condition by setting the correct pointerntype in partuevent functionnnnedoffby leed aguilar
11385,add usbandroidrndiswceis optionnid  mike lockwood
11386,block removed unused variable from partuevent functionnntis patch removes an unused variable which was causing thenfollowing compilation warningnnfspartitionscheckc warning unused variable  leed aguilar
11387,script to clean proprietary filesn
11388,fixing issue  fix adds support for clearing frequently called numbersnid  david marqu
11389,arm msm usb gadget fix reference after free bug in handleendpointnid  mike lockwood
11390,net wireless  update to version  dmitry shmidt
11391,fixing issue  fix adds support for clearing frequently calledncontacts to the favourites tab menunid  david marqu
11392,add api to update temperature thresholdsnna temp sensor may have the ability to update  temperaturenthresholds so that it only reports changes that outside thenthreshold windownnthis api will be used to allow a governor to update the temperaturenthreshold window as the governor may not want every temperaturenchange unless it is outside the boundariesnid  dan murphi
11393,update omap thermal governor with temp thresholdsnnadd the ability in the omap ondie governor to update the temperaturenthreshold window of the temp sensornid  dan murphi
11394,add call backs to adjust temp sensor thresholdsnnadd the call back functions to modify the temp sensor minmaxnwindow valuesnid  dan murphi
11395,add an api to allow the governor to update the report ratennadd an api to allow a governor to update the reporting or measuring rate ofnthe temperature sensornid  dan murphi
11396,revert optional provisioningnnthis reverts commit
11397,omap add temp sensor update rate api to the govnnadd the calls to update the temp sensor measurementnrate to the omapondie governornid  dan murphi
11398,omapadd an api to update the measurement ratennadd a call back in the temp sensor to allow thengovernor to modify the measurement rate of the ondie temp sensornid  dan murphi
11399,add more packages required by cts to whitelistnid
11400,frameworksbase fix for the race in wallpaperservicennwallpaperservice has a race among message handler ofndodetach and  ondestroy in certain casesnthe engine kept track in mactiveengines is removed bynmessage handler of dodetach and   get a entry in mactivieengines and  ablento invoke detach this keeps the broadcast receivernmreceiver active and is unregistered by the frameworknand a corresponding leak is reportednn later the message handler of dodetach continuesnand invokes detach on mengine which attempts tonunregister mreceiver and framework throws an exceptionnreceiver not registered androidservicewallpapernwallpaperservice$engine$ and causes thenframework to rebootnn in case of systemserver windownmanagerpolicy andnandroidserverserverthread contest for access ofnshared members mactiveengines and megine fix is tonprotect the critical section via synchronized blocknid
11401,fix  abinnthis patch fixes the  compiler flags to enforce the  abinproperly also update cpuarchabishtml to make the abi defionnmore clear and explicitnid
11402,arm msm usb gadget fix reference after free bug in handleendpointnnnedoffby mike lockwood
11403,msm cpufreq export scalingavailablefrequencies attr in sysnnnedoffby mike chan
11404,arm msm mahimahidefconfig enable configusbandroidrndiswceisnid  mike lockwood
11405,arm mahimahidefconfig turn off swapnnnedoffby iliyan malchev
11406,arm msm camera add onheap field to msmqueuecmdnnnedoffby iliyan malchev
11407,revert optional provisioningnnthis reverts commit
11408,arm mahimahidefconfig turn off swap and netfilternnnedoffby iliyan malchev
11409,usbfunction adb allow adb read call to be interruptednnfixes a hang in adb root command due to read not returning on call to exitnid  mike lockwood
11410,arm msm camera eliminate kmalloc for msmcamioctlctrlcommand packetsnnnedoffby iliyan malchev
11411,arm msm camera more cleanupnn renamed msmsyncframe stats to pmemframes  pmemstatsn keep track of the max length of prevframeq and msgeventqn make pictpp a  to reflect usage from userspacen in vfesync preview and snapshot frames were being duplicated on the heapn and then sent to both the config thread and the framecontrol thread then config thread would in turn take its copy of the frame or snapshot framesn and discard themn simplified and cleaned up postprocessingnt no need for ppsyncflagnt send frames and snapshots to the config thread only when ppprevn ppsnap or pprawsnap are enabledn allow only one type of pp at a time you  have ppprev andn ppsnap together for example userspace does not use the more thann one pp at a timent added msmdivertframe and msmdivertsnapshot to reduce indentationnt in msmgetstatsn renamed msmcamioctlpictpp and msmcamioctlpictppdone to justn msmcamioctlpp and msmcamioctlppdone since they apply to postn processing for preview as well as snapshotn added msmdeliverframe and msmdeliversnapshot which are used fromn vfesync and msmpprelease to deliver preview and snapshot framesn respectivelyn in msmpprelease added a check for length of userspace allocation requestn limiting it to pagesizennnedoffby iliyan malchev
11412,arm msm mdp fix blits with flipud setnnthe calculation of the rotated y address was incorrect because the dstystridenvariable had already been munged into hardware formatnid  colin cross
11413,arm  add the ability to override the mpll frequencynnnedoffby iliyan malchev
11414,arm  camera enable vfeprocesserrorirqnnnedoffby iliyan malchev
11415,move apkdata into sdklibnnthis is the first step of refactoring common code from multiapkexporttaskninto sdklibnid
11416,make adb pull use as the target file directory if you  supply onen
11417,rtsp client engine refactoring minor additional chang
11418,update timevalue to support  timestampsn
11419,refactored most of the multiapk export out of the ant task into sdklibnnthis common code will be used by adt when processing multiapk exportnni also had to improve the api for iabstractfilefoldernid
11420,adb add  vendor id to adbnnnedoffby erik gil
11421,fileformat parser changes to support some specific  contentn
11422,adb  usb vendor idnid
11423,rtsp client engine refactoringn
11424,adb fix problems detecting adb in more complicated usb configurationsnid  mike lockwood
11425,sourcecontext data must be set for playback intentn
11426,use a style resource for status bar icon and status bar textnntexts include date clock and notificationsnnin order to support changing the attributes for the text and icon in thenstatusbar through a package overlay read the text size style andncolor icon width and height from a style resource instead of havingnthat hardcodednnthere are a few things worth notingnn the default value to typedarraygetdimension effectively becomesn  although the correct would be  since we are reading an platform resource however the default value is not that importantn since it is fair to assume we always succeednn for simplicity and backwards compatibility we usen typedarraygetcolor and not getcolorstatelist although then latter might be wanted at some pointnn although it may look complicated the new textviewsettypefacen call have the same effect as the old one we just need to go then detour through resource handlingnn to be as robust as possible against system crashes we catch then notfoundexception although it is an unchecked runtimeexceptionnid
11427,make adb bugreport run bugreport which invokes dumpstatenindirectly via system service rather than dumpstate that wayneven when adb is not running as root dumpstate does run as rootnand can do things like collect vm tracesn
11428,rtsp client engine refactoring minor additional chang
11429,add manifest checks for multiapk exportnid
11430,add an extra condition for the multiline check in an http response headern
11431,move inlined code from header to cpp file for pvmfeventhandling minor additional chang
11432,power wakelock removed unused variable in printactivelocksnnthis patch only removes a variable no longer being used innprintactivelocks functionnnthis was causing a compilation warning that was introduced bynthe following commit  prevent spinlock recursion when wakeunlock is callednnnedoffby leed aguilar
11433,mismatch in osclnew and osclfree is causing a crash in pvmfsocketnode destructionn
11434,add the ability to report info and error events from the author miosn
11435,fix home launch on settingsclear data for homenna blank screenincall screen or multiple screens behind home in thenhistory stack are displayed after clear data for home applicationnfrom the settings and clicking the back button to go back to homenthis happens only if the user has received atleast one callblank screennor launches any of the activities which call movetasktoback or one ofnits variants by launching apps like browsernn for more details se
11436,omap dss enable vc channel  when in video modennwhen using video mode panels enable vc channel  in command modento allow dcsreaddcswrite commands to be interleaved with videondata on channel  this allows us to communicate with the panelnwithout disturbing the video framesnid  swinkim  dima zavin
11437,guard against a possible npe when the rendering failsnid
11438,properly compare supportsscreensnncomparing the content of the manifest is not working it isnimportant to compare the value the platform is seeing whennrunnign the app which means knowing the default values andnoverriding them with what is present in the manifestnnthis requires parsing targetsdkversion as minsdkversion isnnot enoughnid
11439,add documentation for some adb environmental variablesnnthe adbtrace one is particularly importantnid
11440,version updates for sdkinfo header files and playerdriver documentation updatesn
11441,fix a couple of typosnid
11442,update nodeliveryreports list for smsnnadd uscc to the nodeliveryreports listnid
11443,net wireless bcmdhd fix wdtimervalid field protectionnnnedoffby dmitry shmidt
11444,fix the issue that airplane mode enabled banner was not show in gsm modennwithout this fix if in gsmumts mode enable airplane mode then launch dialernand long press  the no network available banner was shown in stead ofnairplane mode enabled bannernnthe issue was because callmanagergetservicestate can not get correct overallnservice state via current logic callmanager defines the service states withna priority order of inservice  noservice  emergencyonly  poweroff and willncalculate overall state for all registered phone instances in accordance withnthis order currently callmanager uses stateoutofservice as an ial valuenit will get an incorrect result in the above case if ialize it to thenlowest priority which is statepoweroff the issue was fixednid
11445,net wireless bcmdhd add setfwpath private commandnnnedoffby dmitry shmidt
11446,fix tombstone crash in process systemservernnthere is unsafe code in frameworksbaselibsuiinputdispatchercppnthe code may be accessed by several threads simultaneously so therenis a synchronization risk the crash scenario potentially can benhappened when system thread dumps mwindows data and ui thread isnadding mutex to dump functionnid
11447,power wakelock print active wakelocks when haswakelock is callednnwhen debugsuspend is enabled print active wakelocks when we checknif there are any active wakelocksnnin printactivelocks print expired wakelocks if debugexpire is enablednid  mike chan
11448,usbfunction adb queue read requests with length specified by clientnnpreviously we queued  requests rather than the count passed into readnid  mike lockwood
11449,new log format for multiapk exportnnalso added support for supportsscreens in the lognand fixed supportsscreens parsingnid
11450,mtd nand allow nand chip ids to be included standalonennlets nonstandard nand drivers take advantage of known nandnchip informationnid  dima zavin
11451,fix  version string in playerdrivercppn
11452,fix adb handling of devices with no serial number see bug  there is no serial number it will use the usb device name devusb this obviously  ideal but  better than before and stops eclipse crashing and burningn
11453,merge commit  of gitandroidgitkernelorgplatformframeworksbase into glwallpaperservicenncleaned up files and updated api currentxmln
11454,add support for adbdevicearg to the test ant rulesnid
11455,arm tegra remove tag from tegracpunntegracpu is called after during cpu hotplug so the ntag causes a data abortnid  colin cross
11456,adds support for ubfx to jit and disassemblernnthis introduces ubfx instruction generation abilities to the pixelflinger jitnand also modifies the component extraction function to generate theninstructionnnthe extract function contains defines to prevent generation of ubfx on  the jit itself retains the ability to produce the instruction even  patch only generates ubfx when mov and or bic  be used based onnthe trm this appears to be faster on  than using ubfx in all casesnnon startup pixelflinger jits three chunks of code ubfx improves these asnfollowsnn  blends a single colour into an  buffern before  instpixel after  instpixel improvement   blends  texture into an  buffer using alphan before  instpixel after  instpixel improvement   blends  texture into an  buffer using alphan before  instpixel after  instpixel improv
11457,scripts to unzip devicespecific files from recovery packagesn
11458,mockril fix compiling issues on mac os xnnthe $srcjava and $gensrcjava are empty in mockrilandroidmknif the architecuture is not arm or the build is nondebug variantsnit results in a find name statement with an empty searchingndirectory bsd derived find on mac os x complains about thatnnthe patch tried to fix the issue in the waysnn always defines $srcjava and $gensrcjava no matter what targetarch isn only defines module librilprotojava in debug variants buildnid  chihwei huang
11459,fix typo in precompiler buildernnbug
11460,fix tx aggregation flush on   upstreamnncompleting aggregate frames can lead to new buffers being pushed intonthe tid queues due to software retransmissionnwhen the tx queues are being drained all pending aggregates must bencompleted before the tid queues get drained otherwise buffers might benleakednnnedoffby felix fietkau  john w linville  greg kroahhartman
11461,list monkeyrunner and  dependencies for the cygwin buildnid
11462,rename rxflushlock to pculocknncommit  upstreamnnthe real way to lock rx is to contend on the pcunand reset this will be fixed in the next patch but fornnow just do the renames so that the next patch which changesnthe locking order is crystal clearnnthis is part of a series that will help resolve the  more details about this issue refer  ben greear  kyungwan nam  luis r rodriguez  ben greear  john w linville  greg kroahhartman
11463,ril add support for uiccnid
11464,fix enabling ani tx monitor after bg scannncommit   entire logic with scopscanning is incorrect due to thenway  currently implements the scan complete callback andnwe handle it in  this patch removes the flag completely innpreference for the scopoffchannel which is really what we wantednnthe scanning flag was used to ensure we reset ani to the old valuesnwhen we go back to the home channel but if we are offchannel wenuse some defaults the flag was also used to reenable the tx monitornnwithout this patch we simply never reenabled ani and the tx monitornafter going offchannel this means that after one backgroundnscan we are prone to noise issues and if we had a tx hang we wouldnnot recover to get this to work properly we must enable ani afternwe have configured the beacon timers otherwise hardware acts reallynoddlynnthis patch has stable fixes which apply down to  therenmay be a to fix this on older kernels but requires a bit ofnwork since this patch relies on the new   which was introduced as of  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11465,sdk manager refuse to not install dependenciesnnin the case the sdk manager found a package that would fixna broken dependency of the currently installed packagesneg user has tools but not platformtools it will refusento not install the package that would fix that dependencynnbug
11466,add locking for stopping rxnncommit   locks for starting rx but not for stopping rx we couldnpotentially run into a situation where tried to stop rxnbut immediately started rx this allows for races on thenthe rx engine deciding what buffer we last left off onnand could potentially cause  to dma into  memory or in the worst case at a later time tonalready given memory to other driversnnfix this by locking stopping rxnnthis is part of a series that will help resolve the  more details about this issue refer  ben greear  kyungwan nam  luis r rodriguez  ben greear  john w linville  greg kroahhartman
11467,fix incorrect access of rate flags in rcnncommit  upstreamnnthe index variable to access the rate flags should be obtained from theninner loop counter which corresponds to the rate table structurethisnfixes the invalid rate selection ie when the supported basic rate isninvalid on a particular band and also the following warning messagenthanks to raj for finding this outnncall tracenn                                                           mohammed shafi shajakhan  john w linville  greg kroahhartman
11468,add more theme query apis to renderresourcesnid
11469,properly convert the rendered layout images if alpha is needednnthe layoutlib can specify if the image is rendered as a floatingnwindow and needs alphanif it  needed it we do a faster convert discarding thenalpha which will be better when playing animations in the normalncasenid
11470,fix dx tests compilation scriptnnbug  rely on environment variables like androidbuildtop in thenscript instead pass in the out directory via the makefilenid
11471,refactored uicorecontrol and coreuicontrol protocolsnnalso cleaned the code up from obsolete uicoreprotocol andncoreuiprotocolnid
11472,remove spaces in the console service namesnid
11473,set timeout for blocking read in nontslssl  connection is lost while reading data from socketnthe thread blocks and subsequent commands will nevernhave a chance to run ui progress will keep spinningnfor a long timenid
11474,mockril fix compiling an issue on mac os xnnthe $srcjava and $gensrcjava are empty in mockrilandroidmknif the architecuture is not arm or the build is nondebug variantsnit results in a find name statement with an empty searchingndirectory by $call alljavafilesunder of librilprotojavanthe bsd derived find on mac os x complains about thatnnthe patch tried to fix the issue in the waysnn always defines $srcjava and $gensrcjava no matter what targetarch isn only defines module librilprotojava in debug variants buildnid  chihwei huang
11475,fix a bug of switching candidate pagesnid  chihwei huang
11476,crypto driver for tegra aes hardwarenndriver supports  modes   and  key sizesnand encryptdecrypt using ssknid  varun wadekar
11477,arm tegra add aes to devicescnid  varun wadekar
11478,set proper eeprom offset for  htc devicesnncommit   based pci  usb devices are differed in eeprom start offsetnso set proper the offset for htc devices to read nvram correctlynnnedoffby rajkumar manoharan  john w linville  greg kroahhartman
11479,upstream cherrypick tcg bugfixes for ppcnncherrypick upstream commits  and  fix right rotationnntcgppc fix
11480,fix  surprise removal during frequent idle onoffnncommit  upstreamnnbit  of arwa should be set to fix the situation where chip resetnis asynchronous to clock of analog shift registers such that whennreset is released it could mess up the values of analog shift registersnand cause some hw issue on  bit is write only but the driver does a readmodifywritenon arwa without setting bit  in  radio disable this causes surprise removal of hw it cannnever recover from this state and the hw will become usable onlynafter a power onoff cycle and sometimes only during a cold rebootnnthis issue can be triggered by doing frequent roaming with thensimpletestroam script available from the wifitest project  roaming between aps quickly when roaming there is a is a highnpossibility that the device being put into idle radio disable statenby  during  a device hardware reset would failnand the kernel would  ath awake     device no longer idle  ath marking  as  ath fullsleep   pciehp  card not present on  ath   pciehp  card present on  ath timeout  us on reg       ath unable to reset channel  mhz reset status  ath set channel   ath failed to stop tx dma in  msec after killing last  ath failed to stop tx dma in  msec after killing last  ath failed to stop tx dma in  msec after killing last  ath failed to stop tx dma in  msec after killing last  ath failed to stop tx dma in  msec after killing last  ath failed to stop tx dma in  msec after killing last  ath failed to stop tx dma resetting  ath dma failed to stop in  ms   ath timeout  us on reg       ath rtc stuck in mac  ath chip reset  ath unable to reset hardware reset status  is currently only reproducible with some  half minipciencards but the fix applies to all  cards this patch fixes thisnissue by setting bit  during radio disablennthis patch has fixes for all kernels that has  httpwirelesskernelorgendeveloperstestingwifitestnncc kyungwannamatheroscomncc amodbodasatheroscomncc davidquanatheroscomnnedoffby vasanthakumar thiagarajan  john w linville  greg kroahhartman
11481,use a valid property namennsystem property names have a maximum length of  the system propertynmediaprioritizeswoverhwcodecsforthumbnails exceeds this lengthnuse a shorter name of mediapreferswforthumbnailsnid
11482,fix memory leak on  failurenncommit  upstreamnnthe allocated externel radio banks have to be freed inncase of  failurennnedoffby rajkumar manoharan  john w linville  greg kroahhartman
11483,code review changesnid
11484,add locking for starting the pcu on rxnncommit  upstreamnnthere was some locking for starting some parts ofnrx but not for starting the pcu include this otherwisenwe can content against stopping the pcunnthis can potentially lead to races against differentnbuffers on the pcu which can lead to to the dma rxnengine writing to buffers which are already freednnthis is part of a series that will help resolve the  more details about this issue refer  ben greear  kyungwan nam  luis r rodriguez  ben greear  john w linville  greg kroahhartman
11485,remove debug logging acedently commitednid
11486,avoid setting qos control for nonqos framesnncommit  upstreamnnsetting tid information in the tx header is required only for qosnframes not handling this case causes severe data loss with some apsnnnedoffby rajkumar manoharan  john w linville  greg kroahhartman
11487,vold do not consider a fatal error on ializembr failednninstead format the entire device and try to mount itnin this way we are able to support more generic block devicesnlike loopback device or ramdisk  not possible to ializenmbr on such devices but they can still be formatted andnmounted correctlynid
11488,arm  add a few overlooked checksnnnedoffby iliyan malchev
11489,lock reset and pcu startstoppingnncommit  upstreamnnapart from locking the start and stop pcu we neednto ensure we also content starting and stopping the pcunbetween hardware resetsnnthis is part of a series that will help resolve the  more details about this issue refer  ben greear  kyungwan nam  luis r rodriguez  ben greear  john w linville  greg kroahhartman
11490,vold derived the partition to be formatted according to the disknnthe minor number of a block device is not always  for examplenfor a usb stick devblocksdc
11491,arm  add suspendresume handlersnnthe resume handler restores  state which gets lost on  iliyan malchev
11492,update usb device id listnncommit  upstreamnnadded new vidpids into supported devices listnnnedoffby rajkumar manoharan  john w linville  greg kroahhartman
11493,various palette  look up the theme background and foreground colors using themen resources if possible these theme resources are then used to setn the foreground and background colors on the labels used as an fallback for nonpreviewable widgets in other words when  looking at a dark theme the layouts such as linearlayout is nown shown using a white label on a dark background making the paletten view more consistent  configure scrollbar increments properly such that scrolling then views with scrollwheels or mouse gestures works  fix a bug in the way preview images were copied out of the renderedn image the root coordinates were not taken into account whichn matters for themes like themedialognid
11494,arm  allow different dma bus widthsnnadded separate apb dma buswidth controls depending on the audio bus formatnnnedoffby iliyan malchev
11495,fix lockingnncommit  upstreamnnadd missing unlocking of the wiphy in setchannelnand  try to unlock a nonexisting wiphy innsetcqmnnnedoffby johannes berg  john w linville  greg kroahhartman
11496,issue  eclipse adt layout editor  handle custom views classcastexception multiple classloadersnid
11497,fix bss doubleunlinkingnncommit  upstreamnnwhen multiple interfaces are actively tryingnto associate with the same bss they may bothnfind that the bss  there and then try tonunlink it this can cause errors since thenunlinking code  currently deal with itemsnthat have already been unlinkednnnormally this  happen as most  try to use multiple station interfacesnthat associate at the same time toonnfix this by using the list entry as a flag tonsee if the item is still on a listnnreportedby ben greear  hunkyi wynn  johannes berg  john w linville  greg kroahhartman
11498,add support for device id   upstreamnnthis patch adds support for usb dongle with device id  from imc networksnnnedoffby haitao zhang  john w linville  greg kroahhartman
11499,arm tegra ventana register aes devicenid  varun wadekar
11500,add new devices into   upstreamnntreat new pids   as  devicesnnnedoffby rajkumar manoharan  john w linville  greg kroahhartman
11501,a few more grandfathered user tagsnid
11502,add option to disable graphical smileysnnsome old farts like me prefer to see smileys in their ascii formnthis patch adds a setting for us to turn off the smiley graphicsnid
11503,add a few more legacy modules that can have user tags do not mergenid
11504,remove dependency on drmmanagerclienth from awesomeplayerhnncorrect spelling of drmmanagerclient in forward declarationnremove include of drmmanagerclienthnid
11505,update patch for dateutilstestjava to fix locale issuenroot causetestformatmethods expects to get string resource from enusnlocale but localesetdefaultmdefaultlocale will not actually reloadnthe enus resourcensolution using iactivitymanagerupdateconfiguration beforentestformatmethodsnid
11506,fix field visibility by ensuring they stay in dictnid
11507,minstrelht ampdu fixnncommit  upstreamnnthis patch fixes two problems with the minstrelht rate controlnalgorithms handling of ampdu  the ampdulen field of the tx status is not always ialized fornnonht frames and it would probably be unreasonable to require allndrivers to do so this could cause rate control statistics to bencorrupted we now trust the ampdulen and ampduacklen fields only whennthe frame is marked with the   successful transmission attempts where only recognized when the ampdunsubframe carrying the rate control status information was marked with  flag if this information happed to be carried on anframe that failed to be acked then the other subframes which may havensucceeded where not correctly registered we now update rate controlnstatistics regardless of whether the subframe carrying the information wasnacked or notnnnedoffby björn smedman  felix fietkau  john w linville  greg kroahhartman
11508,jni remove duplicated jnithrowexceptionnid
11509,fix regression on processing country iesnncommit  upstreamnnthe patch  only use  regulatory information from country iennremoved some complex intersection we were always doing between the  ie info and what we got from crda when crda sent us back anregulatory domain we would do some sanity checks on that regulatoryndomain response we just got part of these sanity checks includednchecking that we already had performed an intersection for thenrequest of  typennthis mean that  was only processing country ies for casesnwhere we already had an intersection but since we removed enforcingnthis this is no longer required we should just apply the countrynie country hint with the data received from crdannthis patch has fixes intended for kernels   easwar krishnan  luis r rodriguez  john w linville  greg kroahhartman
11510,fixing issue  swterror no more handles exception on eclipsenid
11511,fix channel assumption for association done worknncommit  upstreamnnbe consistent and use the  instead of  for the association done worknthis prevents any possible races against channel changesnwhile we run this worknnin the case that the race did happen we would be ializingnthe bit rates for the new ap under the assumption of a wrongnchannel and in the worst case wrong band this could leadnto trying to assuming we could use cck frames on  ghz fornexamplennthis patch has a fix for kernels   luis r rodriguez  john w linville  greg kroahhartman
11512,adb logcat colored outputnnthis patch adds a new  option to logcat so that the output isncolored with colors similar to the ones in ddmsnsimply type adb logcat c to use itnworks well with bash in gnometerminalnid
11513,fix possible nullpointer dereferencenncommit  upstreamnnthis patch not only fixes a nullpointer dereferencenthat would be triggered by a plinkopen frame with misnmatchingincompatible mesh configuration but alsonresponds correctly to noncompatible plinkopen framesnby generating a plinkclose with the right reason codennthe original bug was detected by smatchn httprepoorczwsmatchgit    we previously assumed  could be nullnnreviewedandtestedby steve derosier  javier cardona  johannes berg  christian lamparter  john w linville  greg kroahhartman
11514,irda fix parameter extraction stack overflownncommit  upstreamnnreportedby ilja van sprundel  samuel ortiz  greg kroahhartman
11515,fix multicast filter some morenncommit  upstreamnnthis code has been broken forever but in several different andncreative waysnnso far as i can work out the  mac filter has  exactmatchnentries the first of which the driver uses for its assigned unicastnaddress plus a  hashbased filter for multicast addressesnmaybe unicast as wellnnthe original version of this code would write the first  multicastnaddresses as exactmatch entries from offset  bug  there is nonentry  so this could write to some phy registers it would fill thenremainder of the exactmatch entries with the broadcast address bug  would overwrite the last used entry if more than  multicastnaddresses were configured it would set up the hash table write somenrandom crap to the mac control register bug  and finally walk offnthe end of the list when filling the exactmatch entries bug  of this seems to be pointless since it sets the promiscuous bitnwhen the interface is made promiscuous or if  multicast addressesnare enabled and never clears it bug  masking bug  recentish changes to the multicast list fixed bug  butncompletely removed the limit on iteration over the exactmatch entriesnbug   was reported  and more recentlynas  florian fainelli attempted to fixnthese in commit  but thatnactually dealt with bugs  bug  having been fixed in mainline atnthat pointnnthat commit fixes the most important current bug  ben hutchings  david s miller  greg kroahhartman
11516,irda fix heap memory corruption in iriapcnncommit  upstreamnnwhile parsing the getvaluebyclass command frame we could potentially writenpassed the  pointernnreportedby ilja van sprundel  samuel ortiz  greg kroahhartman
11517,move keymaps to frameworksbasedatakeyboardsnid
11518,move keymaps from sdkemulatorkeymapsnid
11519,arm tegra usbphy configure  phy to use programmed valuenninstead of fused value this is requirednto meet high speed usb signaling requirementsnid  nathan connel
11520,watchdog tegrawdt several changes to watchdog drivernnfix not reenabling watchdog resume if it was enabled in probenadd clearing watchdog interrupt in probenremove tegrawdtsettimeoutnid  dmitriy gruzman
11521,add error message to log if layoutlib failsnid
11522,current files for sourceandroidcomnnthis matches the current state of the live sitenid
11523,androidosmessage respect spoolsizennalso rename some static members from mfoo to sfoonnbug
11524,cts test is not considering the case when the devcie get into silent mode by volume down keynnwhen volume gets down to silent mode added the condition to go to vibrate mode or silent mode instead of silent mode onlynid
11525,security fix from tavis ormandynnperform null check before cal
11526,changing the delay time from  to  because avoiding a race condition in testonreceivediconnid
11527,cts test is not considering the case when the devcie get into silent mode by volume down keynnwhen volume gets down to silent mode added the condition to go to vibrate mode or silent mode instead of silent mode onlynid
11528,clean up fix aggregation session flushnncommit  upstreamnnthe tid aggregation cleanup is a bit fragile as it discards failednsubframes in some places and retransmits them in others this couldnblock the cleanup of an existing aggregation session if a retransmissionnfor a tid is issued yet the tid is never scheduled again because ofnthe cleanup statennfix this by getting rid of as many subframes as possible as earlynas possible and immediately transmitting pending subframes as regularnht frames instead of waiting for the cleanup to completenndrop all pending subframes while keeping track of the block ack windownduring aggregate tx completion to prevent sending out stale subframesnwhich could confuse the receiver sidennnedoffby felix fietkau  john w linville  greg kroahhartman
11529,fix tx struck state with paprdnncommit  upstreamnnpaprd needs to be done only on active chainsnot for all the chainsnthat hw can support the paprd training frames which are sentnfor inactive chains would be hanging on the hw queue withoutngetting transmitted and would make the connection so unstablenthis issue happens only with the hw which supports paprd  vasanthakumar thiagarajan  john w linville  greg kroahhartman
11530,fix power save race conditionsnncommit   has a race on putting the chip into network sleep andnhaving registers read from hardware the race occurs becausenalthough  locks its own callers it makes usenof some variables which get altered in the driver at differentncode paths the variables are the psenabled and psflagsnnthis is easily reprodicible in large network environments whennroaming with the wpasupplicant simple bgscan  get  read out on certain registers such asnnath timeout  us on reg       rx failed to go idle in  ms  timeout  us on reg       chip reset failednnthe fix is to protect the   with a spinlockirqsave which will disable contendors fornthese variables from interrupt context timers reentry from  the same callback and most importantly from  is the only call which will put the device into network sleepnnthere are quite a few threads and bug reports on these a few of them  fixes apply to  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11531,builtin rate control ampdu fixnncommit  upstreamnnthis patch attempts to ensure that  builtin rate control algorithmndoes not rely on the value of the ampdulen and ampduacklen tx statusnfields unless the  flag is setnnthis patch has not been testednnnedoffby björn smedman  felix fietkau  john w linville  greg kroahhartman
11532,drmradeonkms fix  tile height alignment in the  cs checkernncommit  upstreamnnmacro tile heights are aligned to num channels not num banksnnnoticed by dave airliennnedoffby alex deucher  dave airlie  greg kroahhartman
11533,ampdu rate control info fixnncommit  upstreamnnthis patch fixes the following problems with the rate control feedbackngenerated by  for ampdu  rate control feedback is carried on the first frame of an aggregatenthat is either acked or has execeeded the software retry count and isnconsidered failed however  would incorrectly assume the aggregatenhad the length  if one of these conditions did not apply to the firstnframe of the aggregate but instead a later frame this fix thereforncopies the bfnframes field of the buffer in the same manner as the ratesnfield of the tx  sometimes the ampdulen and ampduacklen fields of the tx status wasnleft unialized eventhough the  flag was setnthis is now avoid by setting flag and fields in the same  even if a frame has been selected for aggregation by  andnmarked with the  flag it can sometimes happen  transmits the frame without aggregation in these cases thenampduacklen field could be incorrectly computed because the nbadnparameter to athtxrcstatus was incorrectnnnedoffby björn smedman  felix fietkau  john w linville  greg kroahhartman
11534,fix channel flag regd issues with multiple cardsnncommit  upstreamnnsince the regulatory code touches the channel array it needs to bencopied for each device instance that way the original channel arrayncan also be made constnnnedoffby felix fietkau  john w linville  greg kroahhartman
11535,update apnconfxml properlynid
11536,fix regression which prevents chip sleep after cab datanncommit  upstreamnnthe patchnncommit  gabor juhos  fri jun      remove athrxpsbacktosleep helpernn this helper only clears the scopwaitforbeaconcab flagsn remove it and clear these flags directly in the approptiaten places insteadnn changeslicensedunder iscn nedoffby gabor juhos  nedoffby john w linville  a regression which forgot to lift the beacon flagnafter we received all broadcast and multicast data this meantnwe never went to sleep consuming about  on idle this prettynmuch broke power save completelynnthis patch has fixes for stable kernels  paul stewart  sameer nanda  gabor juhos  amod bodas  senthil balasubramanian  luis r rodriguez  john w linville  greg kroahhartman
11537,arm tegra add vde and arb semaphores to iomaphnid  varun wadekar
11538,fix an aggregation start related race conditionnncommit  upstreamnna new aggregation session start can be issued by  even when thencleanup of the previous session has not completed yet since the data structurenfor the session is not recreated this could corrupt the block ack windownand lock up the aggregation session fix this by delaying the new sessionnuntil the old one has been cleaned upnnnedoffby felix fietkau  john w linville  greg kroahhartman
11539,phone release all calls on pressing end keynnend all call sessions except waiting call whennend key hard key is pressed as per  t
11540,fix regression which disabled ps on   upstreamnnthe patch titled  add new file c shuffled some codenaround but in dong so for some reason also removed the revisionncheck for disablign power save add this revision check againnso we can get power save reenabled again by default on cardsnnewer than  and $ git describe contains  patch has fixes for stable kernels  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11541,arm tegra hardware arbitration semaphore supportnnadd apis to use the hardware arbitration semaphores in ordernto share hardware modules between kernel drivers and avpnfirmware eg the bsea audio bitstream engine andnaes blocknid  varun wadekar
11542,handle rx key missnncommit  upstreamnnif arkeymiss is set in the rx descriptor and arrxframeok is unsetnthe hardware could not locate a valid key during a decryption attemptnnin this case the frame must not be reported as decrypted  sees only random garbagennnedoffby felix fietkau  john w linville  greg kroahhartman
11543,fix the multipage sms sending error to several receipentsnid
11544,fix delivery report error with pending  according to ts  tpstatus values is changed  when processing status report it should be checked whether tpstatus is pending or failednid
11545,fix mms crash when large video file is sentnnif we try to attach a video with size more than allowed byncarriercontentrestriction in the messaging applicationncomposemessageactivity the app crashes since it tries to delete anmessage from database with improper uri null value prevent thendeletion of message with null uri in correctattachmentsizenid  madan ankapura
11546,fix the error for delivery report with pending  according to ts  tpstatus values is changed  when processing status report it should be checked whether tpstatus is pending or failednid
11547,fix incorrect duration displaynnfixed the incorrect duration displayed by the music applicationnfor ogg filesnid  madan ankapura
11548,fix scrolling bug upon pinchzoomnnwhen the user is using two fingers to pinchzoom a photo the screennwill keep scrolling to the upperleft direction even when the twonfingers are stationarynid  madan ankapura
11549,fix failing thread object runnna previously exited thread object refuses to run again if thenthreadid of the caller conincides with the threadid it previouslynused in the worker thread hence reset the previously used workernthreadid to  when it exitsnn nedoffby ritu srivastava   madan ankapura
11550,audio ogg type supportnid
11551,if the tpstatus is not pending and failed delivery report is updatednid
11552,according to ts  tpstatus values is changed  when processing status report it should be checked whether tpstatus is pending or failednid
11553,editors preference pagennfor now only the monitor density used by the zoom controlnin the glenid
11554,set proper firmware offset for netgear   upstreamnnnetgear  device uses  firmware but it is failed to setncorrect firmware offset on firmware download which causes device ializationnfailurennnedoffby rajkumar manoharan  john w linville  greg kroahhartman
11555,add in windows batch file for monkeyrunnernid
11556,fix tx carrier leakage for ieee compliance on    upstreamnnthis updates the vals for the   chipsets the valsnare the ial register values we use for our registers upon hardwarenreset this synchs up the vals to match what our latest recommendationnfrom our systems engineering teamnnthe description of changes in this updatenn improves ability to support very strong rx conditionsn enhances dfs support for apmoden improves performance of tx carrier leak calibrationn adds support for japan channel  tx filtering requirementsn improves tx power accuracynnimpactnn update required to address degraded throughput at very short rangen update required for apmode dfs certificationn update required to comply to ieee tx carrier leak specificationn may not meet expected  db tx power accuracy without updatennthe most important fix here would be the tx carrier leakage requirednto comply with ieee  specifications the group of changes havenbeen tested all together in one releasennreferencesnntosprey  header file ver $ vals f                     $ vals f   nncc yixiang li  don breslin  luis r rodriguez  john w linville  greg kroahhartman
11557,usb host ehcitegra  power down the phy on shutdownnnthere is no need to poweroff the phy and disable the clocks on shutdownnthis interferes with autopm that may try to disable the clocks afternshutdownnid  benoit gobi
11558,add in monkeyrunner to the windows sdknid
11559,fix spurious mic failure reportsnncommit  upstreamnnaccording to the hardware documentation the mic failure bit is onlynvalid if the frame was decrypted using a valid tkip key and is not anfragmentnin some setups  seen hardwarereported mic failures on an ap thatnwas configured for ccmp only so  clear that additional checks arennecessarynnnedoffby felix fietkau  john w linville  greg kroahhartman
11560,connect the resolution chooser to the zoom control in glennwhen using the reallife zoom control the first time itnwill display the resolution chooser from the avd start dialognto let the user figure out their monitor dpinnnext step add the actual density to a prefs panel so that itncan be manually tweakednid
11561,fix regression on beacon loss after bgscannncommit  upstreamnnwhen we return to the home channel we were never reseting our beaconntimers this was casued by the fact that the scanning flag was stillnon even after we returned to our home channel there are also othernreasons why we would get a reset and if we are not off channelnwe always need to resynch our beacon timers because a reset willnclear themnnthis bug is a regression introduced on  the order of thenchanges are as  sat jul   prevent calibration during offchannel  tue jul  revert  fix sw scan  fri jun   fix sw scan bracketingnnmcgroftux  gitmaster$ git describe n contains   gitmaster$ git describe n contains   gitmaster$ git describe n contains   would have worked if  was not committed butnit was so this means  was broken since it assumed thatnwhen we were in the channel change routine the scan flag wouldnbe lifted as it turns out the scan flag will be set when wenare already on the home channelnnfor more details refer  issues will need to be considered for our solution onnreshifting the scan complete callback location on  onncurrent development kernel worknnthis patch has stable fixes which apply down to  paul stewart  amod bodas  luis r rodriguez  john w linville  greg kroahhartman
11562,sdk manager fix dependencies when installing selected packagesnnin the sdk manager when you select a specific package from annavailable repository to install it it used to not notice if therenwas a broken depedency this fixes it it means we have to forcenloading all known available repo sources to find them if necessarynnthis cl fixes a minor issue trim all urls before trying to usenthem the cl is voluntarily a bit defensive for that this cannhappen when we load urls from external addon sites which we donnot controlnid
11563,fix divide by zero cases in paprdnncommit  upstreamnnwe are not handling all divide by zero cases in paprdnadd additional checks for divide by zero cases in papardnnthis patch has fixes intended for kernel  senthil balasubramanian  john w linville  greg kroahhartman
11564,sdk manager display url host in source treenid
11565,resume aggregation immediately after a hardware resetnncommit  upstreamnnsince aggregation is usually triggered by tx completion a hardwarenreset because of beacon stuck tx hang or baseband hang cannsignificantly delay the transmission of the next ampdu until the nextntx completion eventnfix this by rescheduling aggregation after such a resetnnnedoffby felix fietkau  john w linville  greg kroahhartman
11566,sd name space exhaustion causes system hangnncommit  upstreamnnfollowing a site power outage which reenabled all the ports on my fcnswitches my system subsequently booted with far too many luns i hadnlet it run hoping it would make multiuser it  it hung solidnafter exhausting the last sd device sdzzz and attempting to create sdaaaanand beyond i was unable to get a dumpnndiscovered using a  based systemnncorrect this by detecting when the last index is utilized and failingnthe sd probe of the device patch applies to  michael reed  james bottomley  greg kroahhartman
11567,update to  move android specific functions to wlandroid wifi control functionsn wifi device prealloc buffern link android startstop commands to interface updown download firmwaren when primary interfacde is upn fix a issue in driver unload the same irq can not be disabled twicen setirqwakenid  howard m harte  dmitry shmidt
11568,update lists for smsnnupdate the lists nodeliveryreports unsupportdatasmsmessagesnand unsupportmultipartsmsmessagesnid
11569,remoteproc add constraints frameworknnadd constraints api to remoteproc frameworknsupportingnn latency using pmqos frameworkn frequencyn bandwidthnneach of them should be provided by the specificnarchitecture if supportednnnedoffby miguel vadillo  fernando guzman lugo  suman anna
11570,remoteproc specific constraints  specific implementation of constraintsnapis supportingnn latencyn frequencyn bandwidthnnnedoffby miguel vadillo  fernando guzman lugo  suman anna
11571,rpmsg resmgr add ipu dsp as resources with constraintsnnadd ipu and dsp resources to frameworknsupportingnn latencyn frequencyn bandwidth on  currently requesting the rproc dev usingnrprocget a better way to do this would be to knownthe rproc iddev which is talking to you by querying itnto the channel in use to communicate with thenremoteprocnnnedoffby miguel vadillo  fernando guzman lugo  suman anna
11572,mmc omaphsmmc skip mmc suspendresume ops for sdio devicennnedoffby dmitry shmidt
11573,merge remote branch  into  dmitry shmidt
11574,kgdbarm fix register dumpnncommit  upstreamnndbgmaxregnum incorrectly had the number of indices in the gdb regsnarray rather than the number of registers leading to an oops when thenrd command is used in kdbnnnedoffby rabin vincent  jason wessel  greg kroahhartman
11575,enable intel atom performance patch to gccnnupdate to tip of googles gcc project repo to pullingnin critical performance patch for atom on small functionsnid  mark d horn
11576,fix regressions in scsiinternaldeviceblocknncommit  upstreamnndeleting a scsi device on a blocked fcremoteport beforenfastiofailtmo fires results in a hanging threadnn stackn                                                 the delete the scsi device is in moved to sdevcancel whennthe fc transport class later calls scsitargetunblock this has noneffect since scsiinternaldeviceunblock ignores scsi devics in thisnstatennit looks like all these are regressions caused  limit state transitions in scsiinternaldeviceunblocknnfix by rejecting offline and cancel in the state transitionnnnedoffby christof schmitt  original patch by christof schmitt modified by mike christiennedoffby james bottomley  greg kroahhartman
11577,fix race when removing scsi devicesnncommit  upstreamnnremoving scsi devices throughnecho   sysbusscsidevices deletennwhile the fc transport class removes the scsi target can lead to annoopsnnunable to handle kernel pointer dereference at virtual kernel address    preempt smp debugpageallocnmodules linked in sunrpc  binfmtmisc dmmultipath scsidh dmmod  qeth ccwgroup last unloaded scsiwaitscanncpu  not tainted    pid  task  ksp  psw                gprs                 code   brc    aghi    stg    lg    cghi    brc    lghi    brasl                        lockdep is turned offnlast breakingeventaddressn   function scsiremovetarget iterates through the scsi devices onnthe host but it drops the hostlock before callingnscsiremovedevice when the scsi device is deleted from anothernthread the pointer to the scsi device in scsiremovedevice cannbecome invalid fix this by getting a reference to the scsi devicenbefore dropping the hostlock to keep the scsi device alive for thencall to scsiremovedevicennnedoffby christof schmitt  james bottomley  greg kroahhartman
11578,secmark do not return early if there was no errornncommit  upstreamnncommit  attempted to pass decent error messages back to userspace fornnetfilter errors in xtsecmarkc however the patch screwed up and returnednon  aka no error early and  finish setting up secmark this resultsnin a kernel bug if you use secmarknnnedoffby eric paris  paul moore  james morris  greg kroahhartman
11579,fixed regression in nfs direct io pathnncommit  upstreamnna typo introduced by commit  in the nfsdirectwritenroutine causes writes with odirect set to fail with a enomem errornnfoundby jeff layton  steve dickson  trond myklebust  greg kroahhartman
11580,fix build on ppcnncommit  upstreamnnwe use readwritebslq but do not include linuxioh this causesnbuild failures on ppc include that filennnedoffby jiri slaby  vikas chaudhary  james bottomley  greg kroahhartman
11581,libsas fix ncq mixing with nonncqnncommit  upstreamnnsome cards like mvsas have issue troubles if nonncq commands arenmixed with ncq ones fix this by using the libata default ncq checknroutine which waits until all ncq commands are complete before issuingna nonncq one the impact to cards like  which  neednthis logic should be minimalnnnedoffby james bottomley  greg kroahhartman
11582,gdth integer overflow in ioctlnncommit  upstreamnngdthioctlalloc takes the size variable as an intncopyfromuser takes the size variable as an unsigned longngendatalen and gensenselen are unsigned longsnon  longs are  bit and ints are  bitnnwe could pass in a very large number and the allocation would truncatenthe size to  bits and allocate a small buffer then when we do thencopyfromuser it would result in a memory corruptionnnnedoffby dan carpenter  james bottomley  greg kroahhartman
11583,smc move tf enhanced dispatcher to common implementationnnthis patch is to move smc secure dispatcher function and enhancencommon dispatcher function implementation for secure operationsnnnedoffby alexandre gonzalo  trusted logic  praneeth bajjuri
11584,pmcraid remove duplicate struct membernncommit  upstreamnnsensebuffer is both a direct member of struct pmcraidcmd as well asnan indirect one via an anonymous union and struct fix this clash byneliminating the direct member in favour of the anonymous structunionnone the name duplication apparently  noticed by gcc versionsnearlier than  andi kleen  anil ravindranath  james bottomley  greg kroahhartman
11585,sgixp incoming xpc channel messages can come in after the  partition structures have been torn downnncommit  upstreamnnunder some workloads some channel messages have been observed beingndelayed on the sending side past the point where the receiving side hasnbeen able to tear down its partition structuresnnthis condition is already detected in xpchandleactivateirquv butnthat information is not given to xpchandleactivatemqmsguv as anresult xpchandleactivatemqmsguv assumes the structures still existnand references them causing a nullpointer derefnnnedoffby robin holt  andrew morton  linus torvalds  greg kroahhartman
11586,arm  fixup the missing second parameter to addruart macro to allow them to buildnnit  be merged into  tree because this file has already beennchanged in incompatible waysnnfixup the missing second parameter to addruart macro to allow them to buildnaccording to to commit  debug in heads would causenrcharmbootcompressedheads assembler  error too many positional  error too many positional argumentsnnnedoffby mac lin  russell king  greg kroahhartman
11587,layoutlib api update build properties and multi viewinfo resultsnnthe build properties are needed to populate androidosbuildnnthe multi viewinfo results are needed to access all the topnlevel children of a merge layoutnid
11588,implement ui control service and clientnid
11589,update widget iconsnnwhen i generated the icons yesterday i forgot to update the backgroundnlayer it had a flat gray background and in many cases extended anpixel or two outside the widget foreground boundsnnthis changeset updates this to have a nicer whitetogray verticalngradient it also adds icons for the  and  tags notnused in the palette but can show up in the outline and tweaks thenscrollview and linearlayout iconsnid
11590,usb host tegra request  emc clocknnwhile usb is active to eliminate all usb buffer underrunsnid  nathan connel
11591,usb gadget tegraudc request  emc clocknnwhile usb is active to eliminate all usb buffer underrunsnid  nathan connel
11592,adt support class folders during buildnid
11593,use setenv when availablenneven  is bad because the string becomes part of thenenvironment changing it later will change th
11594,added chdirchroot commands to for mount switchingpivotingn
11595,block check for proper length of iov entries in blkrqmapuseriovnncommit  upstreamnnensure that we pass down properly validated iov segments beforencalling into the mapping or copy functionsnnreportedby dan rosenberg  jens axboe  greg kroahhartman
11596,block take care not to overflow when calculating total iov lengthnncommit  upstreamnnreportedby dan rosenberg  jens axboe  greg kroahhartman
11597,jme fix phy poweroff errornncommit  upstreamnnadding phyon in opposition to phyoffnnnedoffby guofu tseng  david s miller  greg kroahhartman
11598,drmradeonkms  disable shared encoders on  display blocksnncommit  upstreamnnthe ab links  independantly useable on these blocks so whennwe disable the encoders make sure to only disable the encoder whennthere is no connector using itnnshould  alex deucher  dave airlie  greg kroahhartman
11599,block ensure physical block size is unsigned intnncommit  upstreamnnphysical block size was declared unsigned int to accomodate the maximumnsize reported by read  make sure we use the right type innthe related functionsnnnedoffby martin k petersen  mike snitzer  jens axboe  greg kroahhartman
11600,linux
11601,block limit vec count in biokmalloc and bioallocmapdatanncommit  upstreamnnreportedby dan rosenberg  jens axboe  greg kroahhartman
11602,block fix race during disk ializationnncommit  upstreamnnwhen a new disk is being discovered adddisk first ties the bdev to gendisknvia  and only after that callsnbdiregisterbdev because registerdisk also creates  kobject itncan happen that userspace manages to open and modify the  data orninode before its bdi is properly ialized leading to a warning innmarkinodedirtynnfix the problem by registering bdi early enoughnnthis patch addresses  larry finger  jan kara  jens axboe  greg kroahhartman
11603,fix for the linker warnings in omx encoder and decoder testapp on androidn
11604,modifying current command queue and cancel command queue to a single command in basenoden
11605,internal build system modification for prebuilt librariesn
11606,incorrect mime string comparision in  datapathn
11607,change omx enc node reset to return success even omx comp getstate fails or returns bad statesn
11608,treat omxeventerror with omxerrorinvalidstate as if omx client get an omxeventcmdcomplete indicating state transition failuren
11609,fix for testcase  with local contentn
11610,fix in amr parser node for return of incorrect status for doqueryinterfacen
11611,incorporated  comment on the unit testsnnincorporated comments from reviewer pascalmassiminogmailcom mostlynnitsnid
11612,telephony stk cc feature implementationnnadded support for stk call control as per  ts  sect
11613,phone stk cc feature implementationnnadded support for stk call control as per  ts  sect
11614,gpu ion fix bug in ionbufferaddnnnedoffby rebecca schultz zavin
11615,fix sdk manager unit testsnnthese got broken after  fixed the sort ordernof extra packages in sdk manag
11616,gpu ion fix bug in ionbufferaddnnnedoffby rebecca schultz zavin
11617,gpu ion remove incorrect error messagennthe function name is wrong here and this function maynsometimes be called to see if a value passed from userspacenis an ion handle since  not really an error when itnfails remove the log messagenid  rebecca schultz zavin
11618,rpmsg omx integration with ionnnif configionomap first look up buffers passed from userspacenin ionnnnedoffby rebecca schultz zavin
11619,use griddatalayoutbuilder in packagespagenid
11620,links to select newupdates or deselect allnid
11621,logging in pvme test not working properly for threaded moden
11622,refactor rtsp client engine node for cleaner interfacing with streaming manager noden
11623,smc  releasennpush version  from trusted  release to support  workspace phy addr is changed on  to  fix crash during execution of jca multiple operation stressntest on  synchronous aes cbc and aes ctr fixed issue of silent  fix linux driver incorrect usage of mutexntissue mutex object used to protect access des or sha hwantwas able to releaseby different task that aquired itntuse semaphores instead of   has new fw configured to protect external ramnid  trusted logic  praneeth bajjuri
11624,smc allocate required  mem for pannthis patch is to enable workspace allocation for smc panto be operational smc requires  memory sdram on hsemu devicesnfor sdp  demand   boundary alignmentnnout of this   is for smc workspacennthis is the reason the start physical addr is set   trusted logic  praneeth bajjuri
11625,stk stk cc feature implementationnnadded support for stk call control as per  ts  sect
11626,add test on notifications of wifimanagernid
11627,motorola mobility inc cts patch for cts  ji xiao   two more exceptions to pass cts testnolisteningports test motorola mobility incnid
11628,switch to android sdk and android avd command linennthe default with no argument is android sdknid
11629,sdkmanager prettyprint the  command line helpnnthis reflows the command line help so that it wraps nicelynat  chars also properly finish sentences with dotsnmere detailsnnalso added a proper unit test to test various edge casesnid
11630,issue exiting out of mobile hotspot will clean out iptables rulesnnsteps to reproducen initially set up some iptable nat rulen start mobile hotspot and stop itn run iptables l t nat the rule just set is not  when excute command failed only rollback current commandn do not do a  for the last delete delete the rules one by onen instead of a flushnid
11631,revert  crypto add support for  hardware dmcryptnnintroduce new smc driver hence revert ial portnnthis reverts commit  vikram pandita
